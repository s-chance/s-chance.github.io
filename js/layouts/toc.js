function initTOC(){Global.utils.navItems=document.querySelectorAll(".post-toc-wrap .post-toc li"),0<Global.utils.navItems.length?(Global.utils={...Global.utils,updateActiveTOCLink(){if(Array.isArray(Global.utils.sections)){let e=Global.utils.sections.findIndex(e=>e&&0<e.getBoundingClientRect().top-100);-1===e?e=Global.utils.sections.length-1:0<e&&e--,this.activateTOCLink(e)}},registerTOCScroll(){Global.utils.sections=[...document.querySelectorAll(".post-toc li a.nav-link")].map(e=>{return document.getElementById(decodeURI(e.getAttribute("href")).replace("#",""))})},activateTOCLink(e){e=document.querySelectorAll(".post-toc li a.nav-link")[e];e&&!e.classList.contains("active-current")&&(document.querySelectorAll(".post-toc .active").forEach(e=>{e.classList.remove("active","active-current")}),e.classList.add("active","active-current"))},showTOCAside(){var e=()=>{var e=Global.getStyleStatus(),t="isOpenPageAside";e&&e.hasOwnProperty(t)?Global.utils.TocToggle.pageAsideHandleOfTOC(e[t]):Global.utils.TocToggle.pageAsideHandleOfTOC(!0)},t="init_open";!Global.theme_config.articles.toc.hasOwnProperty(t)||Global.theme_config.articles.toc[t]?e():Global.utils.TocToggle.pageAsideHandleOfTOC(!1)}},Global.utils.showTOCAside(),Global.utils.registerTOCScroll()):document.querySelectorAll(".toc-content-container, .toc-marker").forEach(e=>{e.remove()})}swup.on("pageView",()=>{initTOC()}),window.addEventListener("DOMContentLoaded",initTOC);