<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Gitåˆ†æ”¯é‡å‘½å</title>
    <url>/2022/09/08/Git-Branch-Rename/</url>
    <content><![CDATA[<h3 id="gité‡å‘½ååˆ†æ”¯"><a class="markdownIt-Anchor" href="#gité‡å‘½ååˆ†æ”¯"></a> Gité‡å‘½ååˆ†æ”¯</h3>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶éœ€è¦å¯¹åˆ†æ”¯è¿›è¡Œé‡å‘½åã€‚é‡å‘½ååˆ†æ”¯éœ€è¦è€ƒè™‘åˆ°åˆ†æ”¯æ˜¯å¦å·²ç»æ¨é€åˆ°è¿œç«¯çš„æƒ…å†µ<span id="more"></span></p>
<h4 id="gité‡å‘½åæœ¬åœ°åˆ†æ”¯è¿˜æœªæ¨é€åˆ°è¿œç«¯"><a class="markdownIt-Anchor" href="#gité‡å‘½åæœ¬åœ°åˆ†æ”¯è¿˜æœªæ¨é€åˆ°è¿œç«¯"></a> Gité‡å‘½åæœ¬åœ°åˆ†æ”¯ï¼ˆè¿˜æœªæ¨é€åˆ°è¿œç«¯ï¼‰</h4>
<ul>
<li>
<p>åœ¨éœ€è¦é‡å‘½åçš„åˆ†æ”¯å¤„</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">git branch -m <span class="string">&#x27;æ–°çš„åˆ†æ”¯å&#x27;</span></span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>ä¸åœ¨éœ€è¦é‡å‘½åçš„åˆ†æ”¯å¤„</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">git branch -m <span class="string">&#x27;éœ€è¦é‡å‘½åçš„åˆ†æ”¯å&#x27;</span> <span class="string">&#x27;æ–°çš„åˆ†æ”¯å&#x27;</span></span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<h4 id="gité‡å‘½åè¿œç«¯åˆ†æ”¯å·²ç»æ¨é€åˆ°è¿œç«¯"><a class="markdownIt-Anchor" href="#gité‡å‘½åè¿œç«¯åˆ†æ”¯å·²ç»æ¨é€åˆ°è¿œç«¯"></a> Gité‡å‘½åè¿œç«¯åˆ†æ”¯ï¼ˆå·²ç»æ¨é€åˆ°è¿œç«¯ï¼‰</h4>
<p><strong>å‡è®¾å·²ç»å¤„äºéœ€è¦é‡å‘½åçš„åˆ†æ”¯ä¸Šï¼Œå‚è€ƒä¸Šé¢çš„æ“ä½œï¼Œå¹¶ä¸”åœ¨é€šè¿‡å‘½ä»¤ä¿®æ”¹åˆ†æ”¯åä¹‹å‰æ²¡æœ‰æ‰‹åŠ¨å»è¿œç«¯è¿›è¡Œè¿‡ä¿®æ”¹ï¼Œå³ä¿®æ”¹ä¹‹å‰æœ¬åœ°åˆ†æ”¯åä¸è¿œç«¯åˆ†æ”¯åä»ä¿æŒä¸€è‡´</strong></p>
<ul>
<li>
<p>é‡å‘½åæœ¬åœ°åˆ†æ”¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">git branch -m æ–°çš„åˆ†æ”¯å</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>åˆ é™¤è¿œç¨‹åˆ†æ”¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">git push --delete origin è¦åˆ é™¤çš„åˆ†æ”¯å</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>ä¸Šä¼ æ–°å‘½åçš„åˆ†æ”¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">git push origin æ–°çš„åˆ†æ”¯å</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>å…³è”ä¿®æ”¹åçš„æœ¬åœ°åˆ†æ”¯ä¸è¿œç«¯åˆ†æ”¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">git branch --set-upstream-to origin/æ–°çš„åˆ†æ”¯å</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>IDEAæ’ä»¶é…ç½®</title>
    <url>/2023/01/14/IDEA-plugins/</url>
    <content><![CDATA[<p>ä½œä¸ºIntelliJ IDEAçš„ç”¨æˆ·ä¹‹ä¸€ï¼ŒåŸå§‹çš„IDEå·²ç»èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œä½†IDEæ’ä»¶æä¾›äº†æ›´å¤šæ‹“å±•æ€§çš„åŠŸèƒ½ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿå·¥ä½œåœ¨é€‚å®œçš„â€œå¼€å‘ç¯å¢ƒâ€ä¸­ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œæå‡å¼€å‘è€…ä½“éªŒã€‚é‚£ä¹ˆä»¥ä¸‹æ˜¯ç¬”è€…åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ‰€æœå¯»åˆ°çš„ä¸€äº›æ’ä»¶ï¼Œè¯·æ³¨æ„å…¶ä¸­éƒ¨åˆ†æ’ä»¶å¹¶ä¸èƒ½ç›´æ¥æå‡å¼€å‘æ•ˆç‡ï¼Œå¦å¤–è¿‡å¤šçš„æ’ä»¶åè€Œä¼šé€ æˆå¼€å‘æ•ˆç‡çš„ä½ä¸‹ï¼Œè¯·æ‚‰çŸ¥ã€‚è¯»è€…å¯è‡ªè¡Œé€‰æ‹©æ„Ÿå…´è¶£çš„æ’ä»¶è¿›è¡Œé…ç½®<span id="more"></span></p>
<h3 id="è§†è§‰ä½“éªŒ"><a class="markdownIt-Anchor" href="#è§†è§‰ä½“éªŒ"></a> è§†è§‰ä½“éªŒ</h3>
<h4 id="background-image-plus"><a class="markdownIt-Anchor" href="#background-image-plus"></a> Background Image Plus +</h4>
<p>Background Image Plus +æ˜¯ä¸€æ¬¾<strong>ç¼–è¾‘å™¨èƒŒæ™¯</strong>å›¾æ’ä»¶ï¼Œæ˜¯Background Image Plusçš„åŠŸèƒ½å¢å¼ºç‰ˆã€‚æ”¯æŒ<strong>æ¯éš”æŒ‡å®šæ—¶é—´éšæœºåˆ‡æ¢èƒŒæ™¯å›¾ç‰‡</strong>ï¼ˆéœ€è¦æœ‰åŒ…å«å¤šä¸ªå›¾ç‰‡æ–‡ä»¶çš„èƒŒæ™¯å›¾ç‰‡æ–‡ä»¶å¤¹ï¼Œéƒ¨åˆ†å›¾ç‰‡æ–‡ä»¶æ ¼å¼æ— æ³•æ˜¾ç¤ºï¼‰</p>
<h4 id="material-theme-ui"><a class="markdownIt-Anchor" href="#material-theme-ui"></a> Material Theme UI</h4>
<p>Material Theme UIæ˜¯ä¸€æ¬¾ä¸»é¢˜ç¾åŒ–æ’ä»¶</p>
<h4 id="rainbow-brackets"><a class="markdownIt-Anchor" href="#rainbow-brackets"></a> Rainbow Brackets</h4>
<p>Rainbow Bracketså½©è™¹æ‹¬å·æ’ä»¶ï¼Œå¯¹ä»£ç æ’é”™æœ‰ä¸€å®šå¸®åŠ©</p>
<h4 id="nyan-progress-bar"><a class="markdownIt-Anchor" href="#nyan-progress-bar"></a> Nyan Progress Bar</h4>
<p>Nyan Progress Barå½©è™¹çŒ«è¿›åº¦æ¡æ ·å¼æ’ä»¶</p>
<hr />
<h3 id="ä»£ç è·³è½¬ä¸å¿«é€Ÿæµè§ˆ"><a class="markdownIt-Anchor" href="#ä»£ç è·³è½¬ä¸å¿«é€Ÿæµè§ˆ"></a> ä»£ç è·³è½¬ä¸å¿«é€Ÿæµè§ˆ</h3>
<h4 id="codeglance-pro"><a class="markdownIt-Anchor" href="#codeglance-pro"></a> CodeGlance Pro</h4>
<p>CodeGlance Proæ˜¯ä¸€æ¬¾<strong>å¿«é€Ÿæµè§ˆä»£ç </strong>çš„æ’ä»¶ï¼Œæ˜¯CodeGlanceçš„æœ€æ–°ç‰ˆã€‚æä¾›äº†<strong>ä»£ç ç¼©ç•¥å›¾</strong>ï¼Œå¹¶èƒ½å¯¹ç¼©ç•¥å›¾ä¸­çš„éƒ¨åˆ†ä»£ç è¿›è¡Œ<strong>æ”¾å¤§æµè§ˆ</strong>ä»¥åŠ<strong>å¿«é€Ÿè·³è½¬</strong>åˆ°æŒ‡å®šçš„ä»£ç </p>
<hr />
<h3 id="ä»£ç ç¼–è¾‘"><a class="markdownIt-Anchor" href="#ä»£ç ç¼–è¾‘"></a> ä»£ç ç¼–è¾‘</h3>
<h4 id="string-manipulation"><a class="markdownIt-Anchor" href="#string-manipulation"></a> String Manipulation</h4>
<p>String Manipulationç”¨äºä»£ç å¤§å°å†™è½¬æ¢ã€é©¼å³°å‘½åè½¬æ¢ã€å»é™¤ç©ºæ ¼ç­‰</p>
<h4 id="ideavim"><a class="markdownIt-Anchor" href="#ideavim"></a> IdeaVim</h4>
<p>Ideavimæ˜¯ä¸€ä¸ªVimä»¿çœŸæ’ä»¶ï¼Œç”¨äºåœ¨IDAEä¸Šå®ç°Vimæ“ä½œã€‚ï¼ˆé€‚ç”¨äºä¹ æƒ¯Vimæ“ä½œçš„å¼€å‘è€…ï¼Œéƒ¨åˆ†å¿«æ·é”®ä¸IDEAè‡ªå¸¦å¿«æ·é”®å­˜åœ¨å†²çªï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®ï¼‰</p>
<h3 id="ä»£ç ç”Ÿæˆ"><a class="markdownIt-Anchor" href="#ä»£ç ç”Ÿæˆ"></a> ä»£ç ç”Ÿæˆ</h3>
<h4 id="easy-code"><a class="markdownIt-Anchor" href="#easy-code"></a> Easy Code</h4>
<p>Easy Codeæ˜¯ä¸€æ¬¾èƒ½å¤Ÿæ ¹æ®æ•°æ®è¡¨ç›´æ¥ç”Ÿæˆentityã€controllerã€serviceã€daoã€mapperçš„ä»£ç ï¼Œéå¸¸æ–¹ä¾¿</p>
<h4 id="easy-code-mybatiscodehelperpro"><a class="markdownIt-Anchor" href="#easy-code-mybatiscodehelperpro"></a> Easy Code-MybatisCodeHelperPro</h4>
<p>ä¸ºäº†ä¸MybatisCodeHelperProå…¼å®¹è€Œçš„æ¨å‡ºçš„Easy Codeç‰ˆæœ¬</p>
<hr />
<h3 id="ä»£ç ç®€åŒ–"><a class="markdownIt-Anchor" href="#ä»£ç ç®€åŒ–"></a> ä»£ç ç®€åŒ–</h3>
<h4 id="lombok"><a class="markdownIt-Anchor" href="#lombok"></a> Lombok</h4>
<p>Lombokèƒ½å¤Ÿé€šè¿‡æ³¨è§£å®ç°å®ä½“ç±»çš„æ–¹æ³•ï¼Œç®€åŒ–ã€å‡å°‘ä»£ç çš„ç¼–å†™</p>
<hr />
<h3 id="ä»£ç è§„èŒƒ"><a class="markdownIt-Anchor" href="#ä»£ç è§„èŒƒ"></a> ä»£ç è§„èŒƒ</h3>
<h4 id="checkstyle"><a class="markdownIt-Anchor" href="#checkstyle"></a> CheckStyle</h4>
<p>Javaä»£ç æ ¼å¼è§„èŒƒæ’ä»¶ï¼Œèƒ½å¤Ÿè‡ªå®šä¹‰ä¸åŒçš„è§„èŒƒ</p>
<h4 id="alibaba-java-coding-guidelines"><a class="markdownIt-Anchor" href="#alibaba-java-coding-guidelines"></a> Alibaba Java Coding Guidelines</h4>
<p>Alibaba Java Coding Guidelinesé˜¿é‡Œå·´å·´çš„ä»£ç è§„èŒƒæ’ä»¶ï¼Œç”¨äºå¼€å‘è€…è§„èŒƒè‡ªå·±çš„ä»£ç ç¼–å†™ï¼Œæ”¹å–„ä»£ç è´¨é‡</p>
<h4 id="sonarlint"><a class="markdownIt-Anchor" href="#sonarlint"></a> SonarLint</h4>
<p>SonarLintæ˜¯ä¸€ä¸ªä»£ç è´¨é‡æ£€æµ‹å™¨æ’ä»¶ï¼Œç”¨äºåŸ¹å…»å¼€å‘è€…è‰¯å¥½çš„å¼€å‘ä¹ æƒ¯ä»¥åŠæé«˜ä»£ç è´¨é‡</p>
<hr />
<h3 id="gitæäº¤è§„èŒƒ"><a class="markdownIt-Anchor" href="#gitæäº¤è§„èŒƒ"></a> Gitæäº¤è§„èŒƒ</h3>
<h4 id="git-commit-template"><a class="markdownIt-Anchor" href="#git-commit-template"></a> Git Commit Template</h4>
<p>Git Commit Templateç”¨äºè§„èŒƒgitæäº¤ä¿¡æ¯</p>
<hr />
<h3 id="ä»£ç æµ‹è¯•"><a class="markdownIt-Anchor" href="#ä»£ç æµ‹è¯•"></a> ä»£ç æµ‹è¯•</h3>
<h4 id="junitgenerator-v20"><a class="markdownIt-Anchor" href="#junitgenerator-v20"></a> JUnitGenerator V2.0</h4>
<p>JUnitGenerator V2.0ç”¨äºå¿«é€Ÿç”Ÿæˆä»£ç æµ‹è¯•æ¨¡å—</p>
<hr />
<h3 id="é¡¹ç›®æ¶æ„åˆ†æ"><a class="markdownIt-Anchor" href="#é¡¹ç›®æ¶æ„åˆ†æ"></a> é¡¹ç›®æ¶æ„åˆ†æ</h3>
<h4 id="plantuml-integration"><a class="markdownIt-Anchor" href="#plantuml-integration"></a> PlantUML Integration</h4>
<p>PlantUML Integrationæ˜¯ä¸€æ¬¾ç”¨äºå¿«é€Ÿåˆ›å»ºUMLï¼ˆç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼‰å›¾å½¢çš„æ’ä»¶ï¼Œèƒ½å¤Ÿé€šè¿‡ç»˜åˆ¶å›¾å½¢æ¥ç³»ç»Ÿæ€§åœ°åˆ†æå’Œè®¾è®¡é¡¹ç›®</p>
<h4 id="sequencediagram"><a class="markdownIt-Anchor" href="#sequencediagram"></a> SequenceDiagram</h4>
<p>SequenceDiagramç”¨äºç”Ÿæˆé¡¹ç›®ç±»è°ƒç”¨å…³ç³»ä¸æ‰§è¡Œæµç¨‹çš„æ—¶åºå›¾</p>
<hr />
<h3 id="äº‘éƒ¨ç½²"><a class="markdownIt-Anchor" href="#äº‘éƒ¨ç½²"></a> äº‘éƒ¨ç½²</h3>
<h4 id="alibaba-cloud-toolkit"><a class="markdownIt-Anchor" href="#alibaba-cloud-toolkit"></a> Alibaba Cloud Toolkit</h4>
<p>Alibaba Cloud Toolkitç”¨äºé«˜æ•ˆå¼€å‘å¹¶éƒ¨ç½²é€‚åˆåœ¨äº‘ç«¯è¿è¡Œçš„åº”ç”¨</p>
<hr />
<h3 id="jsonè¾…åŠ©å·¥å…·"><a class="markdownIt-Anchor" href="#jsonè¾…åŠ©å·¥å…·"></a> Jsonè¾…åŠ©å·¥å…·</h3>
<h4 id="json-parser"><a class="markdownIt-Anchor" href="#json-parser"></a> Json Parser</h4>
<p>Json Parseræ˜¯ä¸€æ¬¾jsonè§£æå™¨æ’ä»¶ï¼Œæ˜¯ä¸€ä¸ªç”¨äº<strong>éªŒè¯å’Œæ ¼å¼åŒ–JSONå­—ç¬¦ä¸²</strong>çš„è½»é‡çº§æ’ä»¶</p>
<h4 id="gsonformatplus"><a class="markdownIt-Anchor" href="#gsonformatplus"></a> GsonFormatPlus</h4>
<p>GsonFormatèƒ½å¤Ÿå°†jsonæ•°æ®ç›´æ¥è½¬æ¢ä¸ºJavaçš„ç±»ï¼Œæé«˜æ•ˆç‡</p>
<hr />
<h3 id="ç¿»è¯‘å·¥å…·"><a class="markdownIt-Anchor" href="#ç¿»è¯‘å·¥å…·"></a> ç¿»è¯‘å·¥å…·</h3>
<h4 id="translation"><a class="markdownIt-Anchor" href="#translation"></a> Translation</h4>
<p>Translationæ˜¯ä¸€æ¬¾ä¸­è‹±æ–‡ç¿»è¯‘æ’ä»¶ï¼Œç”¨äºåœ¨IDEAå†…éƒ¨å¿«é€Ÿå®ç°ä¸­è‹±æ–‡ç¿»è¯‘</p>
<hr />
<h3 id="mavenè¾…åŠ©å·¥å…·"><a class="markdownIt-Anchor" href="#mavenè¾…åŠ©å·¥å…·"></a> Mavenè¾…åŠ©å·¥å…·</h3>
<h4 id="maven-helper"><a class="markdownIt-Anchor" href="#maven-helper"></a> Maven Helper</h4>
<p>Maven Helperæ˜¯ä¸€æ¬¾mavenä¾èµ–å†²çªåˆ†æçš„æ’ä»¶ï¼Œä¸»è¦æä¾›å›¾å½¢åŒ–æ“ä½œæ¥æ›¿ä»£å‘½ä»¤è¡Œæ“ä½œ</p>
<hr />
<h3 id="mybatisè¾…åŠ©å·¥å…·"><a class="markdownIt-Anchor" href="#mybatisè¾…åŠ©å·¥å…·"></a> Mybatisè¾…åŠ©å·¥å…·</h3>
<p>æ³¨æ„éƒ¨åˆ†MyBatisæ’ä»¶å’ŒMybatisPlusæ’ä»¶å¯èƒ½ä¼šäº§ç”Ÿå†²çª</p>
<h4 id="mybatis-log"><a class="markdownIt-Anchor" href="#mybatis-log"></a> Mybatis Log</h4>
<p>Mybatis Logæ˜¯ä¸€æ¬¾Mybatisçš„<strong>æ—¥å¿—å¤„ç†</strong>å·¥å…·ï¼Œå°†Mybatisæ¡†æ¶æ—¥å¿—ä¸­çš„SQLä¿¡æ¯è½¬æ¢å¯ç›´æ¥æ‰§è¡Œçš„SQLè¯­å¥ï¼ŒèŠ‚çœæ—¶é—´ã€‚å…¶å†å²ç‰ˆæœ¬ä¸éœ€è¦ä»˜è´¹ï¼Œæœ€æ–°ç‰ˆæœ¬éœ€è¦ä»˜è´¹ä½¿ç”¨</p>
<h4 id="mybatiscodehelperpro"><a class="markdownIt-Anchor" href="#mybatiscodehelperpro"></a> MybatisCodeHelperPro</h4>
<p>MybatisCodeHelperProæ˜¯ä¸€æ¬¾MyBatisçš„å¼ºå¤§è¾…åŠ©æ’ä»¶ï¼ˆä¸å°‘å¼€å‘è€…å¯¹æ­¤ç»™å‡ºå¾ˆé«˜çš„è¯„ä»·ï¼‰ï¼Œæä¾›å…è´¹ç‰ˆå’Œä»˜è´¹ç‰ˆï¼Œå…è´¹ç‰ˆæä¾›çš„åŠŸèƒ½åŸºæœ¬èƒ½å¤Ÿæ»¡è¶³æ—¥å¸¸éœ€æ±‚ã€‚ï¼ˆå¯èƒ½ä¼šä¸å…¶å®ƒæ’ä»¶äº§ç”Ÿå†²çªï¼‰</p>
<hr />
<h3 id="mybatisplusè¾…åŠ©å·¥å…·"><a class="markdownIt-Anchor" href="#mybatisplusè¾…åŠ©å·¥å…·"></a> MybatisPlusè¾…åŠ©å·¥å…·</h3>
<h4 id="mybatisx"><a class="markdownIt-Anchor" href="#mybatisx"></a> MybatisX</h4>
<p>MybatisXæ˜¯MybatisPlusçš„å¼ºå¤§è¾…åŠ©æ’ä»¶ã€‚ï¼ˆå¯èƒ½ä¼šä¸Mybatisçš„éƒ¨åˆ†æ’ä»¶äº§ç”Ÿå†²çªï¼‰</p>
<hr />
<h3 id="restfulè¾…åŠ©å·¥å…·"><a class="markdownIt-Anchor" href="#restfulè¾…åŠ©å·¥å…·"></a> Restfulè¾…åŠ©å·¥å…·</h3>
<h4 id="restfultoolkit"><a class="markdownIt-Anchor" href="#restfultoolkit"></a> Restfultoolkit</h4>
<p>Restfultoolkitæ˜¯ä¸€æ¬¾é’ˆå¯¹RestfulæœåŠ¡å¼€å‘çš„è¾…åŠ©å·¥å…·ï¼Œèƒ½å¤Ÿæ ¹æ®URLå¿«é€Ÿè·³è½¬åˆ°å¯¹åº”çš„æ–¹æ³•æ¥å£ï¼Œæä¾›äº†ä¸€ä¸ªæ¥å£åˆ—è¡¨çª—å£ï¼Œå†…ç½®ä¸€ä¸ªç®€å•çš„Httpè¯·æ±‚å·¥å…·ï¼ˆç›¸å½“äºä¸€ä¸ªç®€åŒ–çš„æµ‹è¯•å·¥å…·ï¼Œç±»ä¼¼äºpostmanå’Œapifoxç­‰ï¼‰</p>
<hr />
<h3 id="k8sè¾…åŠ©å·¥å…·"><a class="markdownIt-Anchor" href="#k8sè¾…åŠ©å·¥å…·"></a> K8sè¾…åŠ©å·¥å…·</h3>
<h4 id="kubernetes"><a class="markdownIt-Anchor" href="#kubernetes"></a> Kubernetes</h4>
<p>Kubernetesæ’ä»¶ç”¨äºæ£€æµ‹ç®¡ç†Kubernetesç³»ç»Ÿ</p>
<hr />
]]></content>
      <tags>
        <tag>é…ç½®ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>MarkDownè¿›é˜¶:è¡¨æƒ…ã€å›¾æ ‡</title>
    <url>/2022/09/04/MarkDownPro-face%E3%80%81icon/</url>
    <content><![CDATA[<h1 id="markdown-emoji"><a class="markdownIt-Anchor" href="#markdown-emoji"></a> markdown-emoji</h1>
<p>Markdownè¯­æ³•æ”¯æŒæ·»åŠ  <code>emoji</code> è¡¨æƒ…ï¼Œè¾“å…¥ä¸åŒçš„ç¬¦å·ç ï¼ˆä¸¤ä¸ªå†’å·åŒ…å›´çš„å­—ç¬¦ï¼‰å¯ä»¥æ˜¾ç¤ºå‡ºä¸åŒçš„è¡¨æƒ…<span id="more"></span></p>
<hr />
<ul>
<li><a href="#%E4%BA%BA%E7%89%A9">äººç‰©</a></li>
<li><a href="#%E8%87%AA%E7%84%B6">è‡ªç„¶</a></li>
<li><a href="#%E4%BA%8B%E7%89%A9">äº‹ç‰©</a></li>
<li><a href="#%E5%9C%B0%E7%82%B9">åœ°ç‚¹</a></li>
<li><a href="#%E7%AC%A6%E5%8F%B7">ç¬¦å·</a></li>
</ul>
<h2 id="äººç‰©"><a class="markdownIt-Anchor" href="#äººç‰©"></a> äººç‰©</h2>
<table>
<thead>
<tr>
<th style="text-align:left">:bowtie: <code>:bowtie:</code></th>
<th style="text-align:left">ğŸ˜„ <code>:smile:</code></th>
<th style="text-align:left">ğŸ˜† <code>:laughing:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ğŸ˜Š <code>:blush:</code></td>
<td style="text-align:left">ğŸ˜ƒ <code>:smiley:</code></td>
<td style="text-align:left">â˜ºï¸ <code>:relaxed:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜ <code>:smirk:</code></td>
<td style="text-align:left">ğŸ˜ <code>:heart_eyes:</code></td>
<td style="text-align:left">ğŸ˜˜ <code>:kissing_heart:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜š <code>:kissing_closed_eyes:</code></td>
<td style="text-align:left">ğŸ˜³ <code>:flushed:</code></td>
<td style="text-align:left">ğŸ˜Œ <code>:relieved:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜† <code>:satisfied:</code></td>
<td style="text-align:left">ğŸ˜ <code>:grin:</code></td>
<td style="text-align:left">ğŸ˜‰ <code>:wink:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜œ <code>:stuck_out_tongue_winking_eye:</code></td>
<td style="text-align:left">ğŸ˜ <code>:stuck_out_tongue_closed_eyes:</code></td>
<td style="text-align:left">ğŸ˜€ <code>:grinning:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜— <code>:kissing:</code></td>
<td style="text-align:left">ğŸ˜™ <code>:kissing_smiling_eyes:</code></td>
<td style="text-align:left">ğŸ˜› <code>:stuck_out_tongue:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜´ <code>:sleeping:</code></td>
<td style="text-align:left">ğŸ˜Ÿ <code>:worried:</code></td>
<td style="text-align:left">ğŸ˜¦ <code>:frowning:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜§ <code>:anguished:</code></td>
<td style="text-align:left">ğŸ˜® <code>:open_mouth:</code></td>
<td style="text-align:left">ğŸ˜¬ <code>:grimacing:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜• <code>:confused:</code></td>
<td style="text-align:left">ğŸ˜¯ <code>:hushed:</code></td>
<td style="text-align:left">ğŸ˜‘ <code>:expressionless:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜’ <code>:unamused:</code></td>
<td style="text-align:left">ğŸ˜… <code>:sweat_smile:</code></td>
<td style="text-align:left">ğŸ˜“ <code>:sweat:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜¥ <code>:disappointed_relieved:</code></td>
<td style="text-align:left">ğŸ˜© <code>:weary:</code></td>
<td style="text-align:left">ğŸ˜” <code>:pensive:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜ <code>:disappointed:</code></td>
<td style="text-align:left">ğŸ˜– <code>:confounded:</code></td>
<td style="text-align:left">ğŸ˜¨ <code>:fearful:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜° <code>:cold_sweat:</code></td>
<td style="text-align:left">ğŸ˜£ <code>:persevere:</code></td>
<td style="text-align:left">ğŸ˜¢ <code>:cry:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜­ <code>:sob:</code></td>
<td style="text-align:left">ğŸ˜‚ <code>:joy:</code></td>
<td style="text-align:left">ğŸ˜² <code>:astonished:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜± <code>:scream:</code></td>
<td style="text-align:left">:neckbeard: <code>:neckbeard:</code></td>
<td style="text-align:left">ğŸ˜« <code>:tired_face:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜  <code>:angry:</code></td>
<td style="text-align:left">ğŸ˜¡ <code>:rage:</code></td>
<td style="text-align:left">ğŸ˜¤ <code>:triumph:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜ª <code>:sleepy:</code></td>
<td style="text-align:left">ğŸ˜‹ <code>:yum:</code></td>
<td style="text-align:left">ğŸ˜· <code>:mask:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜ <code>:sunglasses:</code></td>
<td style="text-align:left">ğŸ˜µ <code>:dizzy_face:</code></td>
<td style="text-align:left">ğŸ‘¿ <code>:imp:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜ˆ <code>:smiling_imp:</code></td>
<td style="text-align:left">ğŸ˜ <code>:neutral_face:</code></td>
<td style="text-align:left">ğŸ˜¶ <code>:no_mouth:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜‡ <code>:innocent:</code></td>
<td style="text-align:left">ğŸ‘½ <code>:alien:</code></td>
<td style="text-align:left">ğŸ’› <code>:yellow_heart:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’™ <code>:blue_heart:</code></td>
<td style="text-align:left">ğŸ’œ <code>:purple_heart:</code></td>
<td style="text-align:left">â¤ï¸ <code>:heart:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’š <code>:green_heart:</code></td>
<td style="text-align:left">ğŸ’” <code>:broken_heart:</code></td>
<td style="text-align:left">ğŸ’“ <code>:heartbeat:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’— <code>:heartpulse:</code></td>
<td style="text-align:left">ğŸ’• <code>:two_hearts:</code></td>
<td style="text-align:left">ğŸ’ <code>:revolving_hearts:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’˜ <code>:cupid:</code></td>
<td style="text-align:left">ğŸ’– <code>:sparkling_heart:</code></td>
<td style="text-align:left">âœ¨ <code>:sparkles:</code></td>
</tr>
<tr>
<td style="text-align:left">â­ <code>:star:</code></td>
<td style="text-align:left">ğŸŒŸ <code>:star2:</code></td>
<td style="text-align:left">ğŸ’« <code>:dizzy:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’¥ <code>:boom:</code></td>
<td style="text-align:left">ğŸ’¥ <code>:collision:</code></td>
<td style="text-align:left">ğŸ’¢ <code>:anger:</code></td>
</tr>
<tr>
<td style="text-align:left">â— <code>:exclamation:</code></td>
<td style="text-align:left">â“ <code>:question:</code></td>
<td style="text-align:left">â• <code>:grey_exclamation:</code></td>
</tr>
<tr>
<td style="text-align:left">â” <code>:grey_question:</code></td>
<td style="text-align:left">ğŸ’¤ <code>:zzz:</code></td>
<td style="text-align:left">ğŸ’¨ <code>:dash:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’¦ <code>:sweat_drops:</code></td>
<td style="text-align:left">ğŸ¶ <code>:notes:</code></td>
<td style="text-align:left">ğŸµ <code>:musical_note:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”¥ <code>:fire:</code></td>
<td style="text-align:left">ğŸ’© <code>:hankey:</code></td>
<td style="text-align:left">ğŸ’© <code>:poop:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’© <code>:shit:</code></td>
<td style="text-align:left">ğŸ‘ <code>:+1:</code></td>
<td style="text-align:left">ğŸ‘ <code>:thumbsup:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘ <code>:-1:</code></td>
<td style="text-align:left">ğŸ‘ <code>:thumbsdown:</code></td>
<td style="text-align:left">ğŸ‘Œ <code>:ok_hand:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘Š <code>:punch:</code></td>
<td style="text-align:left">ğŸ‘Š <code>:facepunch:</code></td>
<td style="text-align:left">âœŠ <code>:fist:</code></td>
</tr>
<tr>
<td style="text-align:left">âœŒï¸ <code>:v:</code></td>
<td style="text-align:left">ğŸ‘‹ <code>:wave:</code></td>
<td style="text-align:left">âœ‹ <code>:hand:</code></td>
</tr>
<tr>
<td style="text-align:left">âœ‹ <code>:raised_hand:</code></td>
<td style="text-align:left">ğŸ‘ <code>:open_hands:</code></td>
<td style="text-align:left">â˜ï¸ <code>:point_up:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘‡ <code>:point_down:</code></td>
<td style="text-align:left">ğŸ‘ˆ <code>:point_left:</code></td>
<td style="text-align:left">ğŸ‘‰ <code>:point_right:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ™Œ <code>:raised_hands:</code></td>
<td style="text-align:left">ğŸ™ <code>:pray:</code></td>
<td style="text-align:left">ğŸ‘† <code>:point_up_2:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘ <code>:clap:</code></td>
<td style="text-align:left">ğŸ’ª <code>:muscle:</code></td>
<td style="text-align:left">ğŸ¤˜ <code>:metal:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ–• <code>:fu:</code></td>
<td style="text-align:left">ğŸš¶ <code>:walking:</code></td>
<td style="text-align:left">ğŸƒ <code>:runner:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸƒ <code>:running:</code></td>
<td style="text-align:left">ğŸ‘« <code>:couple:</code></td>
<td style="text-align:left">ğŸ‘ª <code>:family:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘¬ <code>:two_men_holding_hands:</code></td>
<td style="text-align:left">ğŸ‘­ <code>:two_women_holding_hands:</code></td>
<td style="text-align:left">ğŸ’ƒ <code>:dancer:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘¯ <code>:dancers:</code></td>
<td style="text-align:left">ğŸ™†â€â™€ï¸ <code>:ok_woman:</code></td>
<td style="text-align:left">ğŸ™… <code>:no_good:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’ <code>:information_desk_person:</code></td>
<td style="text-align:left">ğŸ™‹ <code>:raising_hand:</code></td>
<td style="text-align:left">ğŸ‘°â€â™€ï¸ <code>:bride_with_veil:</code></td>
</tr>
<tr>
<td style="text-align:left">:person_with_pouting_face: <code>:person_with_pouting_face:</code></td>
<td style="text-align:left">:person_frowning: <code>:person_frowning:</code></td>
<td style="text-align:left">ğŸ™‡ <code>:bow:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’ <code>:couplekiss:</code></td>
<td style="text-align:left">ğŸ’‘ <code>:couple_with_heart:</code></td>
<td style="text-align:left">ğŸ’† <code>:massage:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’‡ <code>:haircut:</code></td>
<td style="text-align:left">ğŸ’… <code>:nail_care:</code></td>
<td style="text-align:left">ğŸ‘¦ <code>:boy:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘§ <code>:girl:</code></td>
<td style="text-align:left">ğŸ‘© <code>:woman:</code></td>
<td style="text-align:left">ğŸ‘¨ <code>:man:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘¶ <code>:baby:</code></td>
<td style="text-align:left">ğŸ‘µ <code>:older_woman:</code></td>
<td style="text-align:left">ğŸ‘´ <code>:older_man:</code></td>
</tr>
<tr>
<td style="text-align:left">:person_with_blond_hair: <code>:person_with_blond_hair:</code></td>
<td style="text-align:left">ğŸ‘² <code>:man_with_gua_pi_mao:</code></td>
<td style="text-align:left">ğŸ‘³â€â™‚ï¸ <code>:man_with_turban:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘· <code>:construction_worker:</code></td>
<td style="text-align:left">ğŸ‘® <code>:cop:</code></td>
<td style="text-align:left">ğŸ‘¼ <code>:angel:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘¸ <code>:princess:</code></td>
<td style="text-align:left">ğŸ˜º <code>:smiley_cat:</code></td>
<td style="text-align:left">ğŸ˜¸ <code>:smile_cat:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜» <code>:heart_eyes_cat:</code></td>
<td style="text-align:left">ğŸ˜½ <code>:kissing_cat:</code></td>
<td style="text-align:left">ğŸ˜¼ <code>:smirk_cat:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ™€ <code>:scream_cat:</code></td>
<td style="text-align:left">ğŸ˜¿ <code>:crying_cat_face:</code></td>
<td style="text-align:left">ğŸ˜¹ <code>:joy_cat:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜¾ <code>:pouting_cat:</code></td>
<td style="text-align:left">ğŸ‘¹ <code>:japanese_ogre:</code></td>
<td style="text-align:left">ğŸ‘º <code>:japanese_goblin:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ™ˆ <code>:see_no_evil:</code></td>
<td style="text-align:left">ğŸ™‰ <code>:hear_no_evil:</code></td>
<td style="text-align:left">ğŸ™Š <code>:speak_no_evil:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’‚â€â™‚ï¸ <code>:guardsman:</code></td>
<td style="text-align:left">ğŸ’€ <code>:skull:</code></td>
<td style="text-align:left">ğŸ¾ <code>:feet:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘„ <code>:lips:</code></td>
<td style="text-align:left">ğŸ’‹ <code>:kiss:</code></td>
<td style="text-align:left">ğŸ’§ <code>:droplet:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘‚ <code>:ear:</code></td>
<td style="text-align:left">ğŸ‘€ <code>:eyes:</code></td>
<td style="text-align:left">ğŸ‘ƒ <code>:nose:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘… <code>:tongue:</code></td>
<td style="text-align:left">ğŸ’Œ <code>:love_letter:</code></td>
<td style="text-align:left">ğŸ‘¤ <code>:bust_in_silhouette:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘¥ <code>:busts_in_silhouette:</code></td>
<td style="text-align:left">ğŸ’¬ <code>:speech_balloon:</code></td>
<td style="text-align:left">ğŸ’­ <code>:thought_balloon:</code></td>
</tr>
<tr>
<td style="text-align:left">:feelsgood: <code>:feelsgood:</code></td>
<td style="text-align:left">:finnadie: <code>:finnadie:</code></td>
<td style="text-align:left">:goberserk: <code>:goberserk:</code></td>
</tr>
<tr>
<td style="text-align:left">:godmode: <code>:godmode:</code></td>
<td style="text-align:left">:hurtrealbad: <code>:hurtrealbad:</code></td>
<td style="text-align:left">:rage1: <code>:rage1:</code></td>
</tr>
<tr>
<td style="text-align:left">:rage2: <code>:rage2:</code></td>
<td style="text-align:left">:rage3: <code>:rage3:</code></td>
<td style="text-align:left">:rage4: <code>:rage4:</code></td>
</tr>
<tr>
<td style="text-align:left">:suspect: <code>:suspect:</code></td>
<td style="text-align:left">:trollface: <code>:trollface:</code></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="è‡ªç„¶"><a class="markdownIt-Anchor" href="#è‡ªç„¶"></a> è‡ªç„¶</h2>
<table>
<thead>
<tr>
<th style="text-align:left">â˜€ï¸ <code>:sunny:</code></th>
<th style="text-align:left">â˜” <code>:umbrella:</code></th>
<th style="text-align:left">â˜ï¸ <code>:cloud:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">â„ï¸ <code>:snowflake:</code></td>
<td style="text-align:left">â›„ <code>:snowman:</code></td>
<td style="text-align:left">âš¡ <code>:zap:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ€ <code>:cyclone:</code></td>
<td style="text-align:left">ğŸŒ <code>:foggy:</code></td>
<td style="text-align:left">ğŸŒŠ <code>:ocean:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ± <code>:cat:</code></td>
<td style="text-align:left">ğŸ¶ <code>:dog:</code></td>
<td style="text-align:left">ğŸ­ <code>:mouse:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¹ <code>:hamster:</code></td>
<td style="text-align:left">ğŸ° <code>:rabbit:</code></td>
<td style="text-align:left">ğŸº <code>:wolf:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¸ <code>:frog:</code></td>
<td style="text-align:left">ğŸ¯ <code>:tiger:</code></td>
<td style="text-align:left">ğŸ¨ <code>:koala:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ» <code>:bear:</code></td>
<td style="text-align:left">ğŸ· <code>:pig:</code></td>
<td style="text-align:left">ğŸ½ <code>:pig_nose:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ® <code>:cow:</code></td>
<td style="text-align:left">ğŸ— <code>:boar:</code></td>
<td style="text-align:left">ğŸµ <code>:monkey_face:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’ <code>:monkey:</code></td>
<td style="text-align:left">ğŸ´ <code>:horse:</code></td>
<td style="text-align:left">ğŸ <code>:racehorse:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ« <code>:camel:</code></td>
<td style="text-align:left">ğŸ‘ <code>:sheep:</code></td>
<td style="text-align:left">ğŸ˜ <code>:elephant:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¼ <code>:panda_face:</code></td>
<td style="text-align:left">ğŸ <code>:snake:</code></td>
<td style="text-align:left">ğŸ¦ <code>:bird:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¤ <code>:baby_chick:</code></td>
<td style="text-align:left">ğŸ¥ <code>:hatched_chick:</code></td>
<td style="text-align:left">ğŸ£ <code>:hatching_chick:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ” <code>:chicken:</code></td>
<td style="text-align:left">ğŸ§ <code>:penguin:</code></td>
<td style="text-align:left">ğŸ¢ <code>:turtle:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ› <code>:bug:</code></td>
<td style="text-align:left">ğŸ <code>:honeybee:</code></td>
<td style="text-align:left">ğŸœ <code>:ant:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸª² <code>:beetle:</code></td>
<td style="text-align:left">ğŸŒ <code>:snail:</code></td>
<td style="text-align:left">ğŸ™ <code>:octopus:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ  <code>:tropical_fish:</code></td>
<td style="text-align:left">ğŸŸ <code>:fish:</code></td>
<td style="text-align:left">ğŸ³ <code>:whale:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‹ <code>:whale2:</code></td>
<td style="text-align:left">ğŸ¬ <code>:dolphin:</code></td>
<td style="text-align:left">ğŸ„ <code>:cow2:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ <code>:ram:</code></td>
<td style="text-align:left">ğŸ€ <code>:rat:</code></td>
<td style="text-align:left">ğŸƒ <code>:water_buffalo:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ… <code>:tiger2:</code></td>
<td style="text-align:left">ğŸ‡ <code>:rabbit2:</code></td>
<td style="text-align:left">ğŸ‰ <code>:dragon:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ <code>:goat:</code></td>
<td style="text-align:left">ğŸ“ <code>:rooster:</code></td>
<td style="text-align:left">ğŸ• <code>:dog2:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ– <code>:pig2:</code></td>
<td style="text-align:left">ğŸ <code>:mouse2:</code></td>
<td style="text-align:left">ğŸ‚ <code>:ox:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ² <code>:dragon_face:</code></td>
<td style="text-align:left">ğŸ¡ <code>:blowfish:</code></td>
<td style="text-align:left">ğŸŠ <code>:crocodile:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸª <code>:dromedary_camel:</code></td>
<td style="text-align:left">ğŸ† <code>:leopard:</code></td>
<td style="text-align:left">ğŸˆ <code>:cat2:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ© <code>:poodle:</code></td>
<td style="text-align:left">ğŸ¾ <code>:paw_prints:</code></td>
<td style="text-align:left">ğŸ’ <code>:bouquet:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ¸ <code>:cherry_blossom:</code></td>
<td style="text-align:left">ğŸŒ· <code>:tulip:</code></td>
<td style="text-align:left">ğŸ€ <code>:four_leaf_clover:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ¹ <code>:rose:</code></td>
<td style="text-align:left">ğŸŒ» <code>:sunflower:</code></td>
<td style="text-align:left">ğŸŒº <code>:hibiscus:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ <code>:maple_leaf:</code></td>
<td style="text-align:left">ğŸƒ <code>:leaves:</code></td>
<td style="text-align:left">ğŸ‚ <code>:fallen_leaf:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ¿ <code>:herb:</code></td>
<td style="text-align:left">ğŸ„ <code>:mushroom:</code></td>
<td style="text-align:left">ğŸŒµ <code>:cactus:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ´ <code>:palm_tree:</code></td>
<td style="text-align:left">ğŸŒ² <code>:evergreen_tree:</code></td>
<td style="text-align:left">ğŸŒ³ <code>:deciduous_tree:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ° <code>:chestnut:</code></td>
<td style="text-align:left">ğŸŒ± <code>:seedling:</code></td>
<td style="text-align:left">ğŸŒ¼ <code>:blossom:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ¾ <code>:ear_of_rice:</code></td>
<td style="text-align:left">ğŸš <code>:shell:</code></td>
<td style="text-align:left">ğŸŒ <code>:globe_with_meridians:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ <code>:sun_with_face:</code></td>
<td style="text-align:left">ğŸŒ <code>:full_moon_with_face:</code></td>
<td style="text-align:left">ğŸŒš <code>:new_moon_with_face:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ‘ <code>:new_moon:</code></td>
<td style="text-align:left">ğŸŒ’ <code>:waxing_crescent_moon:</code></td>
<td style="text-align:left">ğŸŒ“ <code>:first_quarter_moon:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ” <code>:waxing_gibbous_moon:</code></td>
<td style="text-align:left">ğŸŒ• <code>:full_moon:</code></td>
<td style="text-align:left">ğŸŒ– <code>:waning_gibbous_moon:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ— <code>:last_quarter_moon:</code></td>
<td style="text-align:left">ğŸŒ˜ <code>:waning_crescent_moon:</code></td>
<td style="text-align:left">ğŸŒœ <code>:last_quarter_moon_with_face:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ› <code>:first_quarter_moon_with_face:</code></td>
<td style="text-align:left">ğŸŒ” <code>:moon:</code></td>
<td style="text-align:left">ğŸŒ <code>:earth_africa:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ <code>:earth_americas:</code></td>
<td style="text-align:left">ğŸŒ <code>:earth_asia:</code></td>
<td style="text-align:left">ğŸŒ‹ <code>:volcano:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒŒ <code>:milky_way:</code></td>
<td style="text-align:left">â›… <code>:partly_sunny:</code></td>
<td style="text-align:left">:octocat: <code>:octocat:</code></td>
</tr>
<tr>
<td style="text-align:left">:squirrel: <code>:squirrel:</code></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="äº‹ç‰©"><a class="markdownIt-Anchor" href="#äº‹ç‰©"></a> äº‹ç‰©</h2>
<table>
<thead>
<tr>
<th style="text-align:left">ğŸ <code>:bamboo:</code></th>
<th style="text-align:left">ğŸ’ <code>:gift_heart:</code></th>
<th style="text-align:left">ğŸ <code>:dolls:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ğŸ’ <code>:school_satchel:</code></td>
<td style="text-align:left">ğŸ“ <code>:mortar_board:</code></td>
<td style="text-align:left">ğŸ <code>:flags:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ† <code>:fireworks:</code></td>
<td style="text-align:left">ğŸ‡ <code>:sparkler:</code></td>
<td style="text-align:left">ğŸ <code>:wind_chime:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘ <code>:rice_scene:</code></td>
<td style="text-align:left">ğŸƒ <code>:jack_o_lantern:</code></td>
<td style="text-align:left">ğŸ‘» <code>:ghost:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ… <code>:santa:</code></td>
<td style="text-align:left">ğŸ„ <code>:christmas_tree:</code></td>
<td style="text-align:left">ğŸ <code>:gift:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”” <code>:bell:</code></td>
<td style="text-align:left">ğŸ”• <code>:no_bell:</code></td>
<td style="text-align:left">ğŸ‹ <code>:tanabata_tree:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‰ <code>:tada:</code></td>
<td style="text-align:left">ğŸŠ <code>:confetti_ball:</code></td>
<td style="text-align:left">ğŸˆ <code>:balloon:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”® <code>:crystal_ball:</code></td>
<td style="text-align:left">ğŸ’¿ <code>:cd:</code></td>
<td style="text-align:left">ğŸ“€ <code>:dvd:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’¾ <code>:floppy_disk:</code></td>
<td style="text-align:left">ğŸ“· <code>:camera:</code></td>
<td style="text-align:left">ğŸ“¹ <code>:video_camera:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¥ <code>:movie_camera:</code></td>
<td style="text-align:left">ğŸ’» <code>:computer:</code></td>
<td style="text-align:left">ğŸ“º <code>:tv:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“± <code>:iphone:</code></td>
<td style="text-align:left">â˜ï¸ <code>:phone:</code></td>
<td style="text-align:left">â˜ï¸ <code>:telephone:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“ <code>:telephone_receiver:</code></td>
<td style="text-align:left">ğŸ“Ÿ <code>:pager:</code></td>
<td style="text-align:left">ğŸ“  <code>:fax:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’½ <code>:minidisc:</code></td>
<td style="text-align:left">ğŸ“¼ <code>:vhs:</code></td>
<td style="text-align:left">ğŸ”‰ <code>:sound:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”ˆ <code>:speaker:</code></td>
<td style="text-align:left">ğŸ”‡ <code>:mute:</code></td>
<td style="text-align:left">ğŸ“¢ <code>:loudspeaker:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“£ <code>:mega:</code></td>
<td style="text-align:left">âŒ› <code>:hourglass:</code></td>
<td style="text-align:left">â³ <code>:hourglass_flowing_sand:</code></td>
</tr>
<tr>
<td style="text-align:left">â° <code>:alarm_clock:</code></td>
<td style="text-align:left">âŒš <code>:watch:</code></td>
<td style="text-align:left">ğŸ“» <code>:radio:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“¡ <code>:satellite:</code></td>
<td style="text-align:left">â¿ <code>:loop:</code></td>
<td style="text-align:left">ğŸ” <code>:mag:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ” <code>:mag_right:</code></td>
<td style="text-align:left">ğŸ”“ <code>:unlock:</code></td>
<td style="text-align:left">ğŸ”’ <code>:lock:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ” <code>:lock_with_ink_pen:</code></td>
<td style="text-align:left">ğŸ” <code>:closed_lock_with_key:</code></td>
<td style="text-align:left">ğŸ”‘ <code>:key:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’¡ <code>:bulb:</code></td>
<td style="text-align:left">ğŸ”¦ <code>:flashlight:</code></td>
<td style="text-align:left">ğŸ”† <code>:high_brightness:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”… <code>:low_brightness:</code></td>
<td style="text-align:left">ğŸ”Œ <code>:electric_plug:</code></td>
<td style="text-align:left">ğŸ”‹ <code>:battery:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“² <code>:calling:</code></td>
<td style="text-align:left">ğŸ“§ <code>:email:</code></td>
<td style="text-align:left">ğŸ“« <code>:mailbox:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“® <code>:postbox:</code></td>
<td style="text-align:left">ğŸ›€ <code>:bath:</code></td>
<td style="text-align:left">ğŸ› <code>:bathtub:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš¿ <code>:shower:</code></td>
<td style="text-align:left">ğŸš½ <code>:toilet:</code></td>
<td style="text-align:left">ğŸ”§ <code>:wrench:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”© <code>:nut_and_bolt:</code></td>
<td style="text-align:left">ğŸ”¨ <code>:hammer:</code></td>
<td style="text-align:left">ğŸ’º <code>:seat:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’° <code>:moneybag:</code></td>
<td style="text-align:left">ğŸ’´ <code>:yen:</code></td>
<td style="text-align:left">ğŸ’µ <code>:dollar:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’· <code>:pound:</code></td>
<td style="text-align:left">ğŸ’¶ <code>:euro:</code></td>
<td style="text-align:left">ğŸ’³ <code>:credit_card:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’¸ <code>:money_with_wings:</code></td>
<td style="text-align:left">ğŸ“§ <code>:e-mail:</code></td>
<td style="text-align:left">ğŸ“¥ <code>:inbox_tray:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“¤ <code>:outbox_tray:</code></td>
<td style="text-align:left">âœ‰ï¸ <code>:envelope:</code></td>
<td style="text-align:left">ğŸ“¨ <code>:incoming_envelope:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“¯ <code>:postal_horn:</code></td>
<td style="text-align:left">ğŸ“ª <code>:mailbox_closed:</code></td>
<td style="text-align:left">ğŸ“¬ <code>:mailbox_with_mail:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“­ <code>:mailbox_with_no_mail:</code></td>
<td style="text-align:left">ğŸšª <code>:door:</code></td>
<td style="text-align:left">ğŸš¬ <code>:smoking:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’£ <code>:bomb:</code></td>
<td style="text-align:left">ğŸ”« <code>:gun:</code></td>
<td style="text-align:left">ğŸ”ª <code>:hocho:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’Š <code>:pill:</code></td>
<td style="text-align:left">ğŸ’‰ <code>:syringe:</code></td>
<td style="text-align:left">ğŸ“„ <code>:page_facing_up:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“ƒ <code>:page_with_curl:</code></td>
<td style="text-align:left">ğŸ“‘ <code>:bookmark_tabs:</code></td>
<td style="text-align:left">ğŸ“Š <code>:bar_chart:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“ˆ <code>:chart_with_upwards_trend:</code></td>
<td style="text-align:left">ğŸ“‰ <code>:chart_with_downwards_trend:</code></td>
<td style="text-align:left">ğŸ“œ <code>:scroll:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“‹ <code>:clipboard:</code></td>
<td style="text-align:left">ğŸ“† <code>:calendar:</code></td>
<td style="text-align:left">ğŸ“… <code>:date:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“‡ <code>:card_index:</code></td>
<td style="text-align:left">ğŸ“ <code>:file_folder:</code></td>
<td style="text-align:left">ğŸ“‚ <code>:open_file_folder:</code></td>
</tr>
<tr>
<td style="text-align:left">âœ‚ï¸ <code>:scissors:</code></td>
<td style="text-align:left">ğŸ“Œ <code>:pushpin:</code></td>
<td style="text-align:left">ğŸ“ <code>:paperclip:</code></td>
</tr>
<tr>
<td style="text-align:left">âœ’ï¸ <code>:black_nib:</code></td>
<td style="text-align:left">âœï¸ <code>:pencil2:</code></td>
<td style="text-align:left">ğŸ“ <code>:straight_ruler:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“ <code>:triangular_ruler:</code></td>
<td style="text-align:left">ğŸ“• <code>:closed_book:</code></td>
<td style="text-align:left">ğŸ“— <code>:green_book:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“˜ <code>:blue_book:</code></td>
<td style="text-align:left">ğŸ“™ <code>:orange_book:</code></td>
<td style="text-align:left">ğŸ““ <code>:notebook:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“” <code>:notebook_with_decorative_cover:</code></td>
<td style="text-align:left">ğŸ“’ <code>:ledger:</code></td>
<td style="text-align:left">ğŸ“š <code>:books:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”– <code>:bookmark:</code></td>
<td style="text-align:left">ğŸ“› <code>:name_badge:</code></td>
<td style="text-align:left">ğŸ”¬ <code>:microscope:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”­ <code>:telescope:</code></td>
<td style="text-align:left">ğŸ“° <code>:newspaper:</code></td>
<td style="text-align:left">ğŸˆ <code>:football:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ€ <code>:basketball:</code></td>
<td style="text-align:left">âš½ <code>:soccer:</code></td>
<td style="text-align:left">âš¾ <code>:baseball:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¾ <code>:tennis:</code></td>
<td style="text-align:left">ğŸ± <code>:8ball:</code></td>
<td style="text-align:left">ğŸ‰ <code>:rugby_football:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ³ <code>:bowling:</code></td>
<td style="text-align:left">â›³ <code>:golf:</code></td>
<td style="text-align:left">ğŸšµ <code>:mountain_bicyclist:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš´ <code>:bicyclist:</code></td>
<td style="text-align:left">ğŸ‡ <code>:horse_racing:</code></td>
<td style="text-align:left">ğŸ‚ <code>:snowboarder:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŠ <code>:swimmer:</code></td>
<td style="text-align:left">ğŸ„ <code>:surfer:</code></td>
<td style="text-align:left">ğŸ¿ <code>:ski:</code></td>
</tr>
<tr>
<td style="text-align:left">â™ ï¸ <code>:spades:</code></td>
<td style="text-align:left">â™¥ï¸ <code>:hearts:</code></td>
<td style="text-align:left">â™£ï¸ <code>:clubs:</code></td>
</tr>
<tr>
<td style="text-align:left">â™¦ï¸ <code>:diamonds:</code></td>
<td style="text-align:left">ğŸ’ <code>:gem:</code></td>
<td style="text-align:left">ğŸ’ <code>:ring:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ† <code>:trophy:</code></td>
<td style="text-align:left">ğŸ¼ <code>:musical_score:</code></td>
<td style="text-align:left">ğŸ¹ <code>:musical_keyboard:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ» <code>:violin:</code></td>
<td style="text-align:left">ğŸ‘¾ <code>:space_invader:</code></td>
<td style="text-align:left">ğŸ® <code>:video_game:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸƒ <code>:black_joker:</code></td>
<td style="text-align:left">ğŸ´ <code>:flower_playing_cards:</code></td>
<td style="text-align:left">ğŸ² <code>:game_die:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¯ <code>:dart:</code></td>
<td style="text-align:left">ğŸ€„ <code>:mahjong:</code></td>
<td style="text-align:left">ğŸ¬ <code>:clapper:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“ <code>:memo:</code></td>
<td style="text-align:left">ğŸ“ <code>:pencil:</code></td>
<td style="text-align:left">ğŸ“– <code>:book:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¨ <code>:art:</code></td>
<td style="text-align:left">ğŸ¤ <code>:microphone:</code></td>
<td style="text-align:left">ğŸ§ <code>:headphones:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸº <code>:trumpet:</code></td>
<td style="text-align:left">ğŸ· <code>:saxophone:</code></td>
<td style="text-align:left">ğŸ¸ <code>:guitar:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘ <code>:shoe:</code></td>
<td style="text-align:left">ğŸ‘¡ <code>:sandal:</code></td>
<td style="text-align:left">ğŸ‘  <code>:high_heel:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’„ <code>:lipstick:</code></td>
<td style="text-align:left">ğŸ‘¢ <code>:boot:</code></td>
<td style="text-align:left">ğŸ‘• <code>:shirt:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘• <code>:tshirt:</code></td>
<td style="text-align:left">ğŸ‘” <code>:necktie:</code></td>
<td style="text-align:left">ğŸ‘š <code>:womans_clothes:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘— <code>:dress:</code></td>
<td style="text-align:left">ğŸ½ <code>:running_shirt_with_sash:</code></td>
<td style="text-align:left">ğŸ‘– <code>:jeans:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘˜ <code>:kimono:</code></td>
<td style="text-align:left">ğŸ‘™ <code>:bikini:</code></td>
<td style="text-align:left">ğŸ€ <code>:ribbon:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ© <code>:tophat:</code></td>
<td style="text-align:left">ğŸ‘‘ <code>:crown:</code></td>
<td style="text-align:left">ğŸ‘’ <code>:womans_hat:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘ <code>:mans_shoe:</code></td>
<td style="text-align:left">ğŸŒ‚ <code>:closed_umbrella:</code></td>
<td style="text-align:left">ğŸ’¼ <code>:briefcase:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘œ <code>:handbag:</code></td>
<td style="text-align:left">ğŸ‘ <code>:pouch:</code></td>
<td style="text-align:left">ğŸ‘› <code>:purse:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‘“ <code>:eyeglasses:</code></td>
<td style="text-align:left">ğŸ£ <code>:fishing_pole_and_fish:</code></td>
<td style="text-align:left">â˜• <code>:coffee:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸµ <code>:tea:</code></td>
<td style="text-align:left">ğŸ¶ <code>:sake:</code></td>
<td style="text-align:left">ğŸ¼ <code>:baby_bottle:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸº <code>:beer:</code></td>
<td style="text-align:left">ğŸ» <code>:beers:</code></td>
<td style="text-align:left">ğŸ¸ <code>:cocktail:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¹ <code>:tropical_drink:</code></td>
<td style="text-align:left">ğŸ· <code>:wine_glass:</code></td>
<td style="text-align:left">ğŸ´ <code>:fork_and_knife:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ• <code>:pizza:</code></td>
<td style="text-align:left">ğŸ” <code>:hamburger:</code></td>
<td style="text-align:left">ğŸŸ <code>:fries:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ— <code>:poultry_leg:</code></td>
<td style="text-align:left">ğŸ– <code>:meat_on_bone:</code></td>
<td style="text-align:left">ğŸ <code>:spaghetti:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ› <code>:curry:</code></td>
<td style="text-align:left">ğŸ¤ <code>:fried_shrimp:</code></td>
<td style="text-align:left">ğŸ± <code>:bento:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ£ <code>:sushi:</code></td>
<td style="text-align:left">ğŸ¥ <code>:fish_cake:</code></td>
<td style="text-align:left">ğŸ™ <code>:rice_ball:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ˜ <code>:rice_cracker:</code></td>
<td style="text-align:left">ğŸš <code>:rice:</code></td>
<td style="text-align:left">ğŸœ <code>:ramen:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ² <code>:stew:</code></td>
<td style="text-align:left">ğŸ¢ <code>:oden:</code></td>
<td style="text-align:left">ğŸ¡ <code>:dango:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¥š <code>:egg:</code></td>
<td style="text-align:left">ğŸ <code>:bread:</code></td>
<td style="text-align:left">ğŸ© <code>:doughnut:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ® <code>:custard:</code></td>
<td style="text-align:left">ğŸ¦ <code>:icecream:</code></td>
<td style="text-align:left">ğŸ¨ <code>:ice_cream:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ§ <code>:shaved_ice:</code></td>
<td style="text-align:left">ğŸ‚ <code>:birthday:</code></td>
<td style="text-align:left">ğŸ° <code>:cake:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸª <code>:cookie:</code></td>
<td style="text-align:left">ğŸ« <code>:chocolate_bar:</code></td>
<td style="text-align:left">ğŸ¬ <code>:candy:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ­ <code>:lollipop:</code></td>
<td style="text-align:left">ğŸ¯ <code>:honey_pot:</code></td>
<td style="text-align:left">ğŸ <code>:apple:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ <code>:green_apple:</code></td>
<td style="text-align:left">ğŸŠ <code>:tangerine:</code></td>
<td style="text-align:left">ğŸ‹ <code>:lemon:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’ <code>:cherries:</code></td>
<td style="text-align:left">ğŸ‡ <code>:grapes:</code></td>
<td style="text-align:left">ğŸ‰ <code>:watermelon:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“ <code>:strawberry:</code></td>
<td style="text-align:left">ğŸ‘ <code>:peach:</code></td>
<td style="text-align:left">ğŸˆ <code>:melon:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ <code>:banana:</code></td>
<td style="text-align:left">ğŸ <code>:pear:</code></td>
<td style="text-align:left">ğŸ <code>:pineapple:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ  <code>:sweet_potato:</code></td>
<td style="text-align:left">ğŸ† <code>:eggplant:</code></td>
<td style="text-align:left">ğŸ… <code>:tomato:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ½ <code>:corn:</code></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="åœ°ç‚¹"><a class="markdownIt-Anchor" href="#åœ°ç‚¹"></a> åœ°ç‚¹</h2>
<table>
<thead>
<tr>
<th style="text-align:left">ğŸ  <code>:house:</code></th>
<th style="text-align:left">ğŸ¡ <code>:house_with_garden:</code></th>
<th style="text-align:left">ğŸ« <code>:school:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ğŸ¢ <code>:office:</code></td>
<td style="text-align:left">ğŸ£ <code>:post_office:</code></td>
<td style="text-align:left">ğŸ¥ <code>:hospital:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¦ <code>:bank:</code></td>
<td style="text-align:left">ğŸª <code>:convenience_store:</code></td>
<td style="text-align:left">ğŸ© <code>:love_hotel:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¨ <code>:hotel:</code></td>
<td style="text-align:left">ğŸ’’ <code>:wedding:</code></td>
<td style="text-align:left">â›ª <code>:church:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¬ <code>:department_store:</code></td>
<td style="text-align:left">ğŸ¤ <code>:european_post_office:</code></td>
<td style="text-align:left">ğŸŒ‡ <code>:city_sunrise:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ† <code>:city_sunset:</code></td>
<td style="text-align:left">ğŸ¯ <code>:japanese_castle:</code></td>
<td style="text-align:left">ğŸ° <code>:european_castle:</code></td>
</tr>
<tr>
<td style="text-align:left">â›º <code>:tent:</code></td>
<td style="text-align:left">ğŸ­ <code>:factory:</code></td>
<td style="text-align:left">ğŸ—¼ <code>:tokyo_tower:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ—¾ <code>:japan:</code></td>
<td style="text-align:left">ğŸ—» <code>:mount_fuji:</code></td>
<td style="text-align:left">ğŸŒ„ <code>:sunrise_over_mountains:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ… <code>:sunrise:</code></td>
<td style="text-align:left">ğŸŒ  <code>:stars:</code></td>
<td style="text-align:left">ğŸ—½ <code>:statue_of_liberty:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸŒ‰ <code>:bridge_at_night:</code></td>
<td style="text-align:left">ğŸ  <code>:carousel_horse:</code></td>
<td style="text-align:left">ğŸŒˆ <code>:rainbow:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ¡ <code>:ferris_wheel:</code></td>
<td style="text-align:left">â›² <code>:fountain:</code></td>
<td style="text-align:left">ğŸ¢ <code>:roller_coaster:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš¢ <code>:ship:</code></td>
<td style="text-align:left">ğŸš¤ <code>:speedboat:</code></td>
<td style="text-align:left">â›µ <code>:boat:</code></td>
</tr>
<tr>
<td style="text-align:left">â›µ <code>:sailboat:</code></td>
<td style="text-align:left">ğŸš£ <code>:rowboat:</code></td>
<td style="text-align:left">âš“ <code>:anchor:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš€ <code>:rocket:</code></td>
<td style="text-align:left">âœˆï¸ <code>:airplane:</code></td>
<td style="text-align:left">ğŸš <code>:helicopter:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš‚ <code>:steam_locomotive:</code></td>
<td style="text-align:left">ğŸšŠ <code>:tram:</code></td>
<td style="text-align:left">ğŸš <code>:mountain_railway:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš² <code>:bike:</code></td>
<td style="text-align:left">ğŸš¡ <code>:aerial_tramway:</code></td>
<td style="text-align:left">ğŸšŸ <code>:suspension_railway:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš  <code>:mountain_cableway:</code></td>
<td style="text-align:left">ğŸšœ <code>:tractor:</code></td>
<td style="text-align:left">ğŸš™ <code>:blue_car:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš˜ <code>:oncoming_automobile:</code></td>
<td style="text-align:left">ğŸš— <code>:car:</code></td>
<td style="text-align:left">ğŸš— <code>:red_car:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš• <code>:taxi:</code></td>
<td style="text-align:left">ğŸš– <code>:oncoming_taxi:</code></td>
<td style="text-align:left">ğŸš› <code>:articulated_lorry:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸšŒ <code>:bus:</code></td>
<td style="text-align:left">ğŸš <code>:oncoming_bus:</code></td>
<td style="text-align:left">ğŸš¨ <code>:rotating_light:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš“ <code>:police_car:</code></td>
<td style="text-align:left">ğŸš” <code>:oncoming_police_car:</code></td>
<td style="text-align:left">ğŸš’ <code>:fire_engine:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš‘ <code>:ambulance:</code></td>
<td style="text-align:left">ğŸš <code>:minibus:</code></td>
<td style="text-align:left">ğŸšš <code>:truck:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš‹ <code>:train:</code></td>
<td style="text-align:left">ğŸš‰ <code>:station:</code></td>
<td style="text-align:left">ğŸš† <code>:train2:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš… <code>:bullettrain_front:</code></td>
<td style="text-align:left">ğŸš„ <code>:bullettrain_side:</code></td>
<td style="text-align:left">ğŸšˆ <code>:light_rail:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš <code>:monorail:</code></td>
<td style="text-align:left">ğŸšƒ <code>:railway_car:</code></td>
<td style="text-align:left">ğŸš <code>:trolleybus:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ« <code>:ticket:</code></td>
<td style="text-align:left">â›½ <code>:fuelpump:</code></td>
<td style="text-align:left">ğŸš¦ <code>:vertical_traffic_light:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš¥ <code>:traffic_light:</code></td>
<td style="text-align:left">âš ï¸ <code>:warning:</code></td>
<td style="text-align:left">ğŸš§ <code>:construction:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”° <code>:beginner:</code></td>
<td style="text-align:left">ğŸ§ <code>:atm:</code></td>
<td style="text-align:left">ğŸ° <code>:slot_machine:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš <code>:busstop:</code></td>
<td style="text-align:left">ğŸ’ˆ <code>:barber:</code></td>
<td style="text-align:left">â™¨ï¸ <code>:hotsprings:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ <code>:checkered_flag:</code></td>
<td style="text-align:left">ğŸŒ <code>:crossed_flags:</code></td>
<td style="text-align:left">ğŸ® <code>:izakaya_lantern:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ—¿ <code>:moyai:</code></td>
<td style="text-align:left">ğŸª <code>:circus_tent:</code></td>
<td style="text-align:left">ğŸ­ <code>:performing_arts:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“ <code>:round_pushpin:</code></td>
<td style="text-align:left">ğŸš© <code>:triangular_flag_on_post:</code></td>
<td style="text-align:left">ğŸ‡¯ğŸ‡µ <code>:jp:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‡°ğŸ‡· <code>:kr:</code></td>
<td style="text-align:left">ğŸ‡¨ğŸ‡³ <code>:cn:</code></td>
<td style="text-align:left">ğŸ‡ºğŸ‡¸ <code>:us:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‡«ğŸ‡· <code>:fr:</code></td>
<td style="text-align:left">ğŸ‡ªğŸ‡¸ <code>:es:</code></td>
<td style="text-align:left">ğŸ‡®ğŸ‡¹ <code>:it:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‡·ğŸ‡º <code>:ru:</code></td>
<td style="text-align:left">ğŸ‡¬ğŸ‡§ <code>:gb:</code></td>
<td style="text-align:left">ğŸ‡¬ğŸ‡§ <code>:uk:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ‡©ğŸ‡ª <code>:de:</code></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h2 id="ç¬¦å·"><a class="markdownIt-Anchor" href="#ç¬¦å·"></a> ç¬¦å·</h2>
<table>
<thead>
<tr>
<th style="text-align:left">1ï¸âƒ£ <code>:one:</code></th>
<th style="text-align:left">2ï¸âƒ£ <code>:two:</code></th>
<th style="text-align:left">3ï¸âƒ£ <code>:three:</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">4ï¸âƒ£ <code>:four:</code></td>
<td style="text-align:left">5ï¸âƒ£ <code>:five:</code></td>
<td style="text-align:left">6ï¸âƒ£ <code>:six:</code></td>
</tr>
<tr>
<td style="text-align:left">7ï¸âƒ£ <code>:seven:</code></td>
<td style="text-align:left">8ï¸âƒ£ <code>:eight:</code></td>
<td style="text-align:left">9ï¸âƒ£ <code>:nine:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”Ÿ <code>:keycap_ten:</code></td>
<td style="text-align:left">ğŸ”¢ <code>:1234:</code></td>
<td style="text-align:left">0ï¸âƒ£ <code>:zero:</code></td>
</tr>
<tr>
<td style="text-align:left">#ï¸âƒ£ <code>:hash:</code></td>
<td style="text-align:left">ğŸ”£ <code>:symbols:</code></td>
<td style="text-align:left">â—€ï¸ <code>:arrow_backward:</code></td>
</tr>
<tr>
<td style="text-align:left">â¬‡ï¸ <code>:arrow_down:</code></td>
<td style="text-align:left">â–¶ï¸ <code>:arrow_forward:</code></td>
<td style="text-align:left">â¬…ï¸ <code>:arrow_left:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”  <code>:capital_abcd:</code></td>
<td style="text-align:left">ğŸ”¡ <code>:abcd:</code></td>
<td style="text-align:left">ğŸ”¤ <code>:abc:</code></td>
</tr>
<tr>
<td style="text-align:left">â†™ï¸ <code>:arrow_lower_left:</code></td>
<td style="text-align:left">â†˜ï¸ <code>:arrow_lower_right:</code></td>
<td style="text-align:left">â¡ï¸ <code>:arrow_right:</code></td>
</tr>
<tr>
<td style="text-align:left">â¬†ï¸ <code>:arrow_up:</code></td>
<td style="text-align:left">â†–ï¸ <code>:arrow_upper_left:</code></td>
<td style="text-align:left">â†—ï¸ <code>:arrow_upper_right:</code></td>
</tr>
<tr>
<td style="text-align:left">â¬ <code>:arrow_double_down:</code></td>
<td style="text-align:left">â« <code>:arrow_double_up:</code></td>
<td style="text-align:left">ğŸ”½ <code>:arrow_down_small:</code></td>
</tr>
<tr>
<td style="text-align:left">â¤µï¸ <code>:arrow_heading_down:</code></td>
<td style="text-align:left">â¤´ï¸ <code>:arrow_heading_up:</code></td>
<td style="text-align:left">â†©ï¸ <code>:leftwards_arrow_with_hook:</code></td>
</tr>
<tr>
<td style="text-align:left">â†ªï¸ <code>:arrow_right_hook:</code></td>
<td style="text-align:left">â†”ï¸ <code>:left_right_arrow:</code></td>
<td style="text-align:left">â†•ï¸ <code>:arrow_up_down:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”¼ <code>:arrow_up_small:</code></td>
<td style="text-align:left">ğŸ”ƒ <code>:arrows_clockwise:</code></td>
<td style="text-align:left">ğŸ”„ <code>:arrows_counterclockwise:</code></td>
</tr>
<tr>
<td style="text-align:left">âª <code>:rewind:</code></td>
<td style="text-align:left">â© <code>:fast_forward:</code></td>
<td style="text-align:left">â„¹ï¸ <code>:information_source:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ†— <code>:ok:</code></td>
<td style="text-align:left">ğŸ”€ <code>:twisted_rightwards_arrows:</code></td>
<td style="text-align:left">ğŸ” <code>:repeat:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”‚ <code>:repeat_one:</code></td>
<td style="text-align:left">ğŸ†• <code>:new:</code></td>
<td style="text-align:left">ğŸ” <code>:top:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ†™ <code>:up:</code></td>
<td style="text-align:left">ğŸ†’ <code>:cool:</code></td>
<td style="text-align:left">ğŸ†“ <code>:free:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ†– <code>:ng:</code></td>
<td style="text-align:left">ğŸ¦ <code>:cinema:</code></td>
<td style="text-align:left">ğŸˆ <code>:koko:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ“¶ <code>:signal_strength:</code></td>
<td style="text-align:left">:u5272: <code>:u5272:</code></td>
<td style="text-align:left">:u5408: <code>:u5408:</code></td>
</tr>
<tr>
<td style="text-align:left">:u55b6: <code>:u55b6:</code></td>
<td style="text-align:left">:u6307: <code>:u6307:</code></td>
<td style="text-align:left">:u6708: <code>:u6708:</code></td>
</tr>
<tr>
<td style="text-align:left">:u6709: <code>:u6709:</code></td>
<td style="text-align:left">ğŸˆµ <code>:u6e80:</code></td>
<td style="text-align:left">:u7121: <code>:u7121:</code></td>
</tr>
<tr>
<td style="text-align:left">:u7533: <code>:u7533:</code></td>
<td style="text-align:left">:u7a7a: <code>:u7a7a:</code></td>
<td style="text-align:left">:u7981: <code>:u7981:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸˆ‚ï¸ <code>:sa:</code></td>
<td style="text-align:left">ğŸš» <code>:restroom:</code></td>
<td style="text-align:left">ğŸš¹ <code>:mens:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸšº <code>:womens:</code></td>
<td style="text-align:left">ğŸš¼ <code>:baby_symbol:</code></td>
<td style="text-align:left">ğŸš­ <code>:no_smoking:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ…¿ï¸ <code>:parking:</code></td>
<td style="text-align:left">â™¿ <code>:wheelchair:</code></td>
<td style="text-align:left">ğŸš‡ <code>:metro:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ›„ <code>:baggage_claim:</code></td>
<td style="text-align:left">ğŸ‰‘ <code>:accept:</code></td>
<td style="text-align:left">ğŸš¾ <code>:wc:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš° <code>:potable_water:</code></td>
<td style="text-align:left">ğŸš® <code>:put_litter_in_its_place:</code></td>
<td style="text-align:left">ãŠ™ï¸ <code>:secret:</code></td>
</tr>
<tr>
<td style="text-align:left">ãŠ—ï¸ <code>:congratulations:</code></td>
<td style="text-align:left">â“‚ï¸ <code>:m:</code></td>
<td style="text-align:left">ğŸ›‚ <code>:passport_control:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ›… <code>:left_luggage:</code></td>
<td style="text-align:left">ğŸ›ƒ <code>:customs:</code></td>
<td style="text-align:left">ğŸ‰ <code>:ideograph_advantage:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ†‘ <code>:cl:</code></td>
<td style="text-align:left">ğŸ†˜ <code>:sos:</code></td>
<td style="text-align:left">ğŸ†” <code>:id:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš« <code>:no_entry_sign:</code></td>
<td style="text-align:left">ğŸ” <code>:underage:</code></td>
<td style="text-align:left">ğŸ“µ <code>:no_mobile_phones:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš¯ <code>:do_not_litter:</code></td>
<td style="text-align:left">ğŸš± <code>:non-potable_water:</code></td>
<td style="text-align:left">ğŸš³ <code>:no_bicycles:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸš· <code>:no_pedestrians:</code></td>
<td style="text-align:left">ğŸš¸ <code>:children_crossing:</code></td>
<td style="text-align:left">â›” <code>:no_entry:</code></td>
</tr>
<tr>
<td style="text-align:left">âœ³ï¸ <code>:eight_spoked_asterisk:</code></td>
<td style="text-align:left">âœ´ï¸ <code>:eight_pointed_black_star:</code></td>
<td style="text-align:left">ğŸ’Ÿ <code>:heart_decoration:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ†š <code>:vs:</code></td>
<td style="text-align:left">ğŸ“³ <code>:vibration_mode:</code></td>
<td style="text-align:left">ğŸ“´ <code>:mobile_phone_off:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’¹ <code>:chart:</code></td>
<td style="text-align:left">ğŸ’± <code>:currency_exchange:</code></td>
<td style="text-align:left">â™ˆ <code>:aries:</code></td>
</tr>
<tr>
<td style="text-align:left">â™‰ <code>:taurus:</code></td>
<td style="text-align:left">â™Š <code>:gemini:</code></td>
<td style="text-align:left">â™‹ <code>:cancer:</code></td>
</tr>
<tr>
<td style="text-align:left">â™Œ <code>:leo:</code></td>
<td style="text-align:left">â™ <code>:virgo:</code></td>
<td style="text-align:left">â™ <code>:libra:</code></td>
</tr>
<tr>
<td style="text-align:left">â™ <code>:scorpius:</code></td>
<td style="text-align:left">â™ <code>:sagittarius:</code></td>
<td style="text-align:left">â™‘ <code>:capricorn:</code></td>
</tr>
<tr>
<td style="text-align:left">â™’ <code>:aquarius:</code></td>
<td style="text-align:left">â™“ <code>:pisces:</code></td>
<td style="text-align:left">â› <code>:ophiuchus:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”¯ <code>:six_pointed_star:</code></td>
<td style="text-align:left">â <code>:negative_squared_cross_mark:</code></td>
<td style="text-align:left">ğŸ…°ï¸ <code>:a:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ…±ï¸ <code>:b:</code></td>
<td style="text-align:left">ğŸ† <code>:ab:</code></td>
<td style="text-align:left">ğŸ…¾ï¸ <code>:o2:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’  <code>:diamond_shape_with_a_dot_inside:</code></td>
<td style="text-align:left">â™»ï¸ <code>:recycle:</code></td>
<td style="text-align:left">ğŸ”š <code>:end:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”› <code>:on:</code></td>
<td style="text-align:left">ğŸ”œ <code>:soon:</code></td>
<td style="text-align:left">ğŸ• <code>:clock1:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ•œ <code>:clock130:</code></td>
<td style="text-align:left">ğŸ•™ <code>:clock10:</code></td>
<td style="text-align:left">ğŸ•¥ <code>:clock1030:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ•š <code>:clock11:</code></td>
<td style="text-align:left">ğŸ•¦ <code>:clock1130:</code></td>
<td style="text-align:left">ğŸ•› <code>:clock12:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ•§ <code>:clock1230:</code></td>
<td style="text-align:left">ğŸ•‘ <code>:clock2:</code></td>
<td style="text-align:left">ğŸ• <code>:clock230:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ•’ <code>:clock3:</code></td>
<td style="text-align:left">ğŸ• <code>:clock330:</code></td>
<td style="text-align:left">ğŸ•“ <code>:clock4:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ•Ÿ <code>:clock430:</code></td>
<td style="text-align:left">ğŸ•” <code>:clock5:</code></td>
<td style="text-align:left">ğŸ•  <code>:clock530:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ•• <code>:clock6:</code></td>
<td style="text-align:left">ğŸ•¡ <code>:clock630:</code></td>
<td style="text-align:left">ğŸ•– <code>:clock7:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ•¢ <code>:clock730:</code></td>
<td style="text-align:left">ğŸ•— <code>:clock8:</code></td>
<td style="text-align:left">ğŸ•£ <code>:clock830:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ•˜ <code>:clock9:</code></td>
<td style="text-align:left">ğŸ•¤ <code>:clock930:</code></td>
<td style="text-align:left">ğŸ’² <code>:heavy_dollar_sign:</code></td>
</tr>
<tr>
<td style="text-align:left">Â©ï¸ <code>:copyright:</code></td>
<td style="text-align:left">Â®ï¸ <code>:registered:</code></td>
<td style="text-align:left">â„¢ï¸ <code>:tm:</code></td>
</tr>
<tr>
<td style="text-align:left">âŒ <code>:x:</code></td>
<td style="text-align:left">â— <code>:heavy_exclamation_mark:</code></td>
<td style="text-align:left">â€¼ï¸ <code>:bangbang:</code></td>
</tr>
<tr>
<td style="text-align:left">â‰ï¸ <code>:interrobang:</code></td>
<td style="text-align:left">â­• <code>:o:</code></td>
<td style="text-align:left">âœ–ï¸ <code>:heavy_multiplication_x:</code></td>
</tr>
<tr>
<td style="text-align:left">â• <code>:heavy_plus_sign:</code></td>
<td style="text-align:left">â– <code>:heavy_minus_sign:</code></td>
<td style="text-align:left">â— <code>:heavy_division_sign:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ’® <code>:white_flower:</code></td>
<td style="text-align:left">ğŸ’¯ <code>:100:</code></td>
<td style="text-align:left">âœ”ï¸ <code>:heavy_check_mark:</code></td>
</tr>
<tr>
<td style="text-align:left">â˜‘ï¸ <code>:ballot_box_with_check:</code></td>
<td style="text-align:left">ğŸ”˜ <code>:radio_button:</code></td>
<td style="text-align:left">ğŸ”— <code>:link:</code></td>
</tr>
<tr>
<td style="text-align:left">â° <code>:curly_loop:</code></td>
<td style="text-align:left">ã€°ï¸ <code>:wavy_dash:</code></td>
<td style="text-align:left">ã€½ï¸ <code>:part_alternation_mark:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”± <code>:trident:</code></td>
<td style="text-align:left">:black_square: <code>:black_square:</code></td>
<td style="text-align:left">:white_square: <code>:white_square:</code></td>
</tr>
<tr>
<td style="text-align:left">âœ… <code>:white_check_mark:</code></td>
<td style="text-align:left">ğŸ”² <code>:black_square_button:</code></td>
<td style="text-align:left">ğŸ”³ <code>:white_square_button:</code></td>
</tr>
<tr>
<td style="text-align:left">âš« <code>:black_circle:</code></td>
<td style="text-align:left">âšª <code>:white_circle:</code></td>
<td style="text-align:left">ğŸ”´ <code>:red_circle:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”µ <code>:large_blue_circle:</code></td>
<td style="text-align:left">ğŸ”· <code>:large_blue_diamond:</code></td>
<td style="text-align:left">ğŸ”¶ <code>:large_orange_diamond:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”¹ <code>:small_blue_diamond:</code></td>
<td style="text-align:left">ğŸ”¸ <code>:small_orange_diamond:</code></td>
<td style="text-align:left">ğŸ”º <code>:small_red_triangle:</code></td>
</tr>
<tr>
<td style="text-align:left">ğŸ”» <code>:small_red_triangle_down:</code></td>
<td style="text-align:left">:shipit: <code>:shipit:</code></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
]]></content>
      <tags>
        <tag>MarkDown</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLåŸºç¡€</title>
    <url>/2022/08/21/MySQL-Base/</url>
    <content><![CDATA[<h3 id="mysqlåŸºç¡€"><a class="markdownIt-Anchor" href="#mysqlåŸºç¡€"></a> MySQLåŸºç¡€</h3>
<hr />
<h4 id="span-idheadå¿«é€Ÿå¯¼èˆªspan"><a class="markdownIt-Anchor" href="#span-idheadå¿«é€Ÿå¯¼èˆªspan"></a> <span id="head">å¿«é€Ÿå¯¼èˆª</span></h4>
<p>æç¤ºï¼šæœ¬æ–‡ä¸­å„ä¸ªç¤ºä¾‹ä¹‹é—´æœ‰ä¸€å®šæ•°æ®å…³è”æ€§ï¼Œå»ºè®®å…ˆæŠŠé¢„å…ˆå‡†å¤‡çš„æµ‹è¯•æ•°æ®ä»£ç æ‰§è¡Œå¥½ã€‚ <span id="more"></span></p>
<p><a href="#ddl">DDL</a></p>
<p><a href="#dml">DML</a></p>
<p><a href="#dql">DQL</a></p>
<p><a href="#ysf">æ¡ä»¶æŸ¥è¯¢</a></p>
<p><a href="#px">æ’åº</a></p>
<p><a href="#juhe">èšåˆå‡½æ•°</a></p>
<p><a href="#fz"> åˆ†ç»„æŸ¥è¯¢</a></p>
<h4 id="ä¸€-æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#ä¸€-æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"></a> ä¸€ã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</h4>
<ol>
<li>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼šDataBaseManagementï¼Œç®€ç§°DBMSã€‚</li>
<li>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ˜¯ä¸“é—¨ç”¨æ¥ç®¡ç†æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿå¯ä»¥å¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„æ“ä½œã€‚</li>
<li>å¸¸è§çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼šMySQLï¼ŒOracleï¼ŒSqlServerï¼ŒMSï¼ŒDB2ç­‰ã€‚</li>
</ol>
<h4 id="äºŒ-sql"><a class="markdownIt-Anchor" href="#äºŒ-sql"></a> äºŒã€SQL</h4>
<ol>
<li>SQLæ˜¯ä¸€ç§ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ã€‚</li>
<li>é€šè¿‡SQLå¯ä»¥å®ç°å¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ“ä½œã€‚</li>
<li>SQLæ˜¯ä¸€å¥—æ ‡å‡†ï¼ŒåŸºæœ¬èƒ½åœ¨å¤§éƒ¨åˆ†æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­ä½¿ç”¨ã€‚</li>
</ol>
<h4 id="ä¸‰-å·¥ä½œæµç¨‹"><a class="markdownIt-Anchor" href="#ä¸‰-å·¥ä½œæµç¨‹"></a> ä¸‰ã€å·¥ä½œæµç¨‹</h4>
<p>â€‹	æ•°æ®åº“ç®¡ç†ç³»ç»ŸSQLâ†’æ‰§è¡ŒSQLâ†’æ“ä½œæ•°æ®åº“</p>
<p>â€‹	å…ˆå®‰è£…æ•°æ®åº“ç®¡ç†ç³»ç»ŸMySQLï¼Œç„¶åç¼–å†™SQLè¯­å¥ï¼Œä¹‹åDBMSå¯¹SQLè¯­å¥	è¿›è¡Œæ‰§è¡Œæ¥å®Œæˆå¯¹æ•°æ®åº“çš„æ•°æ®ç®¡ç†ã€‚</p>
<h4 id="å››-å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#å››-å‡†å¤‡å·¥ä½œ"></a> å››ã€å‡†å¤‡å·¥ä½œ</h4>
<ol>
<li>
<p>MySQLå®˜ç½‘[ä¸‹è½½]( <a class="link"   href="https://downloads.mysql.com/archives/installer/" >MySQL :: Download MySQL Installer (Archived Versions) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> )ï¼ŒWindowsæ¨èä¸‹è½½<a class="link"   href="https://downloads.mysql.com/archives/get/p/25/file/mysql-installer-community-5.7.30.0.msi" >Mysql5.7ç¤¾åŒºç‰ˆæœ¬ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä½¿ç”¨è¾ƒå¤šçš„ç‰ˆæœ¬ã€‚ç®€æ˜“é…ç½®æ¨èServer onlyï¼Œä¹Ÿå¯ä»¥é€‰æ‹©Customè‡ªå®šä¹‰å®‰è£…è·¯å¾„ï¼Œåé¢å¡«å†™å¥½rootç”¨æˆ·çš„å¯†ç å³å¯ã€‚å…¶ä½™é»˜è®¤ä¸‹ä¸€æ­¥ã€‚MySQLç¯å¢ƒå˜é‡é…ç½®å¯é…å¯ä¸é…ï¼Œéœ€è¦å‘½ä»¤è¡Œè¿è¡ŒMySQLçš„ç›¸å…³å‘½ä»¤å¯å‚è€ƒjdkçš„ç¯å¢ƒå˜é‡é…ç½®è¿‡ç¨‹é…ç½®å¥½ã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŸºæœ¬å‘½ä»¤</span></span><br><span class="line">mysql -uroot -p  //ç™»å½•MySQL,-påé¢éœ€è¦è¾“å…¥ä¹‹å‰è®¾ç½®çš„å¯†ç </span><br><span class="line"><span class="comment"># ç™»å½•MySQLä¹‹åæ‰€æœ‰å‘½ä»¤ç»“å°¾å¿…é¡»è¦åŠ è‹±æ–‡åˆ†å·;</span></span><br><span class="line">mysql&gt; <span class="built_in">exit</span>;   //é€€å‡ºMySQL</span><br><span class="line">mysql&gt; mysqladmin -uroot newpassword;  //rootå¯†ç ä¸ºç©ºæ—¶,è®¾ç½®æ–°å¯†ç </span><br><span class="line">mysql&gt; mysqladmin -uroot -pxxx password yyy; //xxxä¸ºæ—§å¯†ç ,yyyä¸ºæ–°å¯†ç </span><br><span class="line">mysql&gt; <span class="built_in">set</span> password <span class="keyword">for</span> ç”¨æˆ·å@localhost = password(<span class="string">&#x27;æ–°å¯†ç &#x27;</span>);  //ä¿®æ”¹å¯†ç çš„å¦ä¸€ç§æ–¹å¼,ç”¨æˆ·åä¸€èˆ¬æ˜¯root</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases; //æŸ¥çœ‹å…¨éƒ¨çš„æ•°æ®åº“</span><br><span class="line">mysql&gt; create database æ•°æ®åº“å; //åˆ›å»ºæ•°æ®åº“</span><br><span class="line">mysql&gt; use æ•°æ®åº“å; //æŒ‡å®šéœ€è¦æ“ä½œçš„æ•°æ®åº“</span><br><span class="line">mysql&gt; show tables; //å±•ç¤ºæŒ‡å®šæ•°æ®åº“é‡Œé¢æ‰€æœ‰çš„æ•°æ®è¡¨</span><br><span class="line"></span><br><span class="line"><span class="comment"># åé¢çš„æ•°æ®æ“ä½œç›¸å…³å‘½ä»¤å¯ä»¥ç›´æ¥å¥—ç”¨navicatä¸­ç¼–å†™çš„SQLè¯­å¥,è®°å¾—ç»“å°¾åŠ åˆ†å·;</span></span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>æ•°æ®åº“ç®¡ç†å·¥å…·Navicat[ä¸‹è½½]( <a class="link"   href="https://www.navicat.com/en/download/navicat-for-mysql" >Navicat | Download Navicat for MySQL 14-day trial versions for Windows, macOS and Linux <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> )ï¼ŒåŸç”Ÿçš„MySQLæ•°æ®åº“ç®¡ç†ç³»ç»Ÿç¼ºä¹ç®¡ç†å·¥å…·æ¯”è¾ƒéš¾ä»¥ä½¿ç”¨ï¼Œé€šè¿‡ç¬¬ä¸‰æ–¹æ•°æ®åº“ç®¡ç†å·¥å…·å¯ä»¥æ›´æ–¹ä¾¿åœ°ç®¡ç†æ•°æ®åº“ã€‚</p>
</li>
<li>
<p>Navicatè¿æ¥MySQLæ—¶éœ€è¦ç¡®ä¿MySQLæœåŠ¡å¼€å¯ï¼Œä¸€èˆ¬å®‰è£…æ—¶é»˜è®¤å¼€æœºè‡ªå¯åŠ¨ã€‚<strong>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</strong>å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥å‘½ä»¤ã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">net start mysql57  //è¿è¡ŒMySQLæœåŠ¡</span><br></pre></td></tr></table></figure></div>
<p>MySQLæœåŠ¡çš„ç«¯å£å·ä¸º3306ï¼Œè¾“å…¥ç”¨æˆ·åå’Œå¯†ç åï¼Œå®Œæˆè¿æ¥ã€‚</p>
</li>
</ol>
<h4 id="äº”-æ­£å¼å¼€å§‹"><a class="markdownIt-Anchor" href="#äº”-æ­£å¼å¼€å§‹"></a> äº”ã€æ­£å¼å¼€å§‹</h4>
<h5 id="1sqlè¯­å¥åˆ†ç±»"><a class="markdownIt-Anchor" href="#1sqlè¯­å¥åˆ†ç±»"></a> 1.SQLè¯­å¥åˆ†ç±»</h5>
<ul>
<li>DQL:æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œä¸€èˆ¬ä»¥<strong>select</strong>å…³é”®å­—å¼€å¤´ï¼ŒæŸ¥è¯¢æ•°æ®</li>
<li>DML:æ•°æ®æ“ä½œè¯­è¨€ï¼Œ<strong>insert</strong>ã€<strong>delete</strong>ã€<strong>update</strong>å…³é”®å­—ï¼Œ<strong>å¢åˆ æ”¹æ•°æ®è¡¨ä¸­çš„æ•°æ®</strong></li>
<li>DDL:æ•°æ®å®šä¹‰è¯­è¨€ï¼Œ<strong>create</strong>ã€<strong>drop</strong>ã€<strong>alter</strong>å…³é”®å­—ï¼Œ<strong>å¢åˆ æ”¹æ•°æ®è¡¨çš„ç»“æ„</strong></li>
<li>TCL:äº‹åŠ¡æ§åˆ¶è¯­è¨€ï¼Œ<strong>commit</strong>ã€<strong>rollback</strong>å…³é”®å­—ï¼Œäº‹åŠ¡å›æ»šå’Œäº‹åŠ¡æäº¤</li>
<li>DCL:æ•°æ®æ§åˆ¶è¯­è¨€ï¼Œ<strong>grant</strong>ã€<strong>revoke</strong>å…³é”®å­—ï¼Œå®šä¹‰è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«åŠåˆ›å»ºç”¨æˆ·</li>
</ul>
<h5 id="2ddlæ•°æ®å®šä¹‰è¯­è¨€çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#2ddlæ•°æ®å®šä¹‰è¯­è¨€çš„ä½¿ç”¨"></a> 2.DDLæ•°æ®å®šä¹‰è¯­è¨€çš„ä½¿ç”¨</h5>
<ul>
<li>
<p>é¦–å…ˆæ˜ç¡®MySQLä¸­çš„æ•°æ®ç±»å‹å¤§è‡´åˆ†ä¸ºï¼š**æ•°å€¼ã€æ—¥æœŸ/æ—¶é—´ã€å­—ç¬¦ä¸²(å­—ç¬¦)**ä¸‰ç±»ã€‚</p>
</li>
<li>
<p>æ•°å€¼ç±»å‹</p>
<table>
<thead>
<tr>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:center">å¤§å°</th>
<th style="text-align:center">èŒƒå›´ï¼ˆæœ‰ç¬¦å·ï¼‰</th>
<th style="text-align:center">èŒƒå›´ï¼ˆæ— ç¬¦å·ï¼‰</th>
<th style="text-align:center">ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TINYINT</td>
<td style="text-align:center">1 Bytes</td>
<td style="text-align:center">(-128,127)</td>
<td style="text-align:center">(0,255)</td>
<td style="text-align:center">å°æ•´æ•°å€¼</td>
</tr>
<tr>
<td style="text-align:center">SMALLINT</td>
<td style="text-align:center">2 Bytes</td>
<td style="text-align:center">(-32768,32767)</td>
<td style="text-align:center">(0,65535)</td>
<td style="text-align:center">å¤§æ•´æ•°å€¼</td>
</tr>
<tr>
<td style="text-align:center">MEDIUMINT</td>
<td style="text-align:center">3 Bytes</td>
<td style="text-align:center">(-8388608,8388607)</td>
<td style="text-align:center">(0,16777215)</td>
<td style="text-align:center">å¤§æ•´æ•°å€¼</td>
</tr>
<tr>
<td style="text-align:center">INTæˆ–INTEGER</td>
<td style="text-align:center">4 Bytes</td>
<td style="text-align:center">(-2147483648,2147483647)</td>
<td style="text-align:center">(0,4294967295)</td>
<td style="text-align:center">å¤§æ•´æ•°å€¼</td>
</tr>
<tr>
<td style="text-align:center">BIGINT</td>
<td style="text-align:center">8 Bytes</td>
<td style="text-align:center">(-2<sup>63,2</sup>63-1)</td>
<td style="text-align:center">(0,2^64-1)</td>
<td style="text-align:center">æå¤§æ•´æ•°å€¼</td>
</tr>
<tr>
<td style="text-align:center">FLOAT</td>
<td style="text-align:center">4 Bytes</td>
<td style="text-align:center">(-3.402 823 466 E+38ï¼Œ-1.175 494 351 E-38)ï¼Œ0ï¼Œ (1.175 494 351 E-38ï¼Œ3.402 823 466 351 E+38)</td>
<td style="text-align:center">0ï¼Œ(1.175 494 351 E-38ï¼Œ3.402 823 466 E+38)</td>
<td style="text-align:center">å•ç²¾åº¦ æµ®ç‚¹æ•°å€¼</td>
</tr>
<tr>
<td style="text-align:center">DOUBLE</td>
<td style="text-align:center">8 Bytes</td>
<td style="text-align:center">(-1.797 693 134 862 315 7 E+308ï¼Œ-2.225 073 858 507 201 4 E-308)ï¼Œ0ï¼Œ(2.225 073 858 507 201 4 E-308ï¼Œ1.797 693 134 862 315 7 E+308)</td>
<td style="text-align:center">0ï¼Œ(2.225 073 858 507 201 4 E-308ï¼Œ1.797 693 134 862 315 7 E+308)</td>
<td style="text-align:center">åŒç²¾åº¦ æµ®ç‚¹æ•°å€¼</td>
</tr>
<tr>
<td style="text-align:center">DECIMAL</td>
<td style="text-align:center">å¯¹DECIMAL(M,D) ï¼Œå¦‚æœM&gt;Dï¼Œä¸ºM+2å¦åˆ™ä¸ºD+2</td>
<td style="text-align:center">ä¾èµ–äºMå’ŒDçš„å€¼</td>
<td style="text-align:center">ä¾èµ–äºMå’ŒDçš„å€¼</td>
<td style="text-align:center">å°æ•°å€¼</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>æ—¥æœŸå’Œæ—¶é—´ç±»å‹</p>
<p>TIMESTAMPç±»å‹æœ‰ä¸“æœ‰çš„è‡ªåŠ¨æ›´æ–°ç‰¹æ€§ï¼Œå°†åœ¨åé¢æè¿°ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:center">å¤§å° (Bytes)</th>
<th style="text-align:center">èŒƒå›´</th>
<th style="text-align:center">æ ¼å¼</th>
<th style="text-align:center">ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">DATE</td>
<td style="text-align:center">3</td>
<td style="text-align:center">1000-01-01/9999-12-31</td>
<td style="text-align:center">YYYY-MM-DD</td>
<td style="text-align:center">æ—¥æœŸå€¼</td>
</tr>
<tr>
<td style="text-align:center">TIME</td>
<td style="text-align:center">3</td>
<td style="text-align:center">â€˜-838:59:59â€™/â€˜838:59:59â€™</td>
<td style="text-align:center">HH:MM:SS</td>
<td style="text-align:center">æ—¶é—´å€¼æˆ–æŒç»­æ—¶é—´</td>
</tr>
<tr>
<td style="text-align:center">YEAR</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1901/2155</td>
<td style="text-align:center">YYYY</td>
<td style="text-align:center">å¹´ä»½å€¼</td>
</tr>
<tr>
<td style="text-align:center">DATETIME</td>
<td style="text-align:center">8</td>
<td style="text-align:center">1000-01-01 00:00:00/9999-12-31 23:59:59</td>
<td style="text-align:center">YYYY-MM-DD HH:MM:SS</td>
<td style="text-align:center">æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼</td>
</tr>
<tr>
<td style="text-align:center">TIMESTAMP</td>
<td style="text-align:center">4</td>
<td style="text-align:center">1970-01-01 00:00:00/2038ç»“æŸæ—¶é—´æ˜¯ç¬¬ <strong>2147483647</strong> ç§’ï¼ŒåŒ—äº¬æ—¶é—´ <strong>2038-1-19 11:14:07</strong>ï¼Œæ ¼æ—å°¼æ²»æ—¶é—´ 2038å¹´1æœˆ19æ—¥ å‡Œæ™¨ 03:14:07</td>
<td style="text-align:center">YYYYMMDD HHMMSS</td>
<td style="text-align:center">æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ï¼Œæ—¶é—´æˆ³</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>å­—ç¬¦ä¸²ç±»å‹</p>
<table>
<thead>
<tr>
<th style="text-align:left">ç±»å‹</th>
<th style="text-align:left">å¤§å°</th>
<th style="text-align:left">ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CHAR</td>
<td style="text-align:left">0-255 bytes</td>
<td style="text-align:left">å®šé•¿å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:left">VARCHAR</td>
<td style="text-align:left">0-65535 bytes</td>
<td style="text-align:left">å˜é•¿å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:left">TINYBLOB</td>
<td style="text-align:left">0-255 bytes</td>
<td style="text-align:left">ä¸è¶…è¿‡ 255 ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:left">TINYTEXT</td>
<td style="text-align:left">0-255 bytes</td>
<td style="text-align:left">çŸ­æ–‡æœ¬å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:left">BLOB</td>
<td style="text-align:left">0-65 535 bytes</td>
<td style="text-align:left">äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ®</td>
</tr>
<tr>
<td style="text-align:left">TEXT</td>
<td style="text-align:left">0-65 535 bytes</td>
<td style="text-align:left">é•¿æ–‡æœ¬æ•°æ®</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMBLOB</td>
<td style="text-align:left">0-16 777 215 bytes</td>
<td style="text-align:left">äºŒè¿›åˆ¶å½¢å¼çš„ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ®</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMTEXT</td>
<td style="text-align:left">0-16 777 215 bytes</td>
<td style="text-align:left">ä¸­ç­‰é•¿åº¦æ–‡æœ¬æ•°æ®</td>
</tr>
<tr>
<td style="text-align:left">LONGBLOB</td>
<td style="text-align:left">0-4 294 967 295 bytes</td>
<td style="text-align:left">äºŒè¿›åˆ¶å½¢å¼çš„æå¤§æ–‡æœ¬æ•°æ®</td>
</tr>
<tr>
<td style="text-align:left">LONGTEXT</td>
<td style="text-align:left">0-4 294 967 295 bytes</td>
<td style="text-align:left">æå¤§æ–‡æœ¬æ•°æ®</td>
</tr>
</tbody>
</table>
<p><span id="ddl"><a href="#head">è¿”å›å¿«é€Ÿå¯¼èˆª</a></span></p>
</li>
<li>
<p>DDLè¯­å¥ç¤ºä¾‹ä¸€ï¼šå¯¹æ•°æ®è¡¨çš„ç®¡ç†æ“ä½œä»¥åŠå¯¹å­—æ®µçš„å¢åˆ æ”¹æ“ä½œï¼ˆåœ¨Navicatä¸­æ–°å»ºæŸ¥è¯¢è¾“å…¥SQLè¯­å¥æˆ–åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥SQLè¯­å¥ï¼‰</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">create database test;</span><br><span class="line">use test;</span><br><span class="line"># åˆ›å»ºä¸€å¼ æ‹¥æœ‰ä¸€ä¸ªintç±»å‹çš„t1å­—æ®µçš„test_intæ•°æ®è¡¨</span><br><span class="line"># é»˜è®¤ä¸ºæœ‰ç¬¦å·</span><br><span class="line"># å¤šä¸ªå­—æ®µç”¨è‹±æ–‡é€—å·,éš”å¼€</span><br><span class="line">create table test_int(</span><br><span class="line">	t1 int</span><br><span class="line">);</span><br><span class="line"># è¿™é‡Œçš„descä½œç”¨æ˜¯æŸ¥çœ‹æ•°æ®è¡¨çš„ç»“æ„ä¿¡æ¯</span><br><span class="line">desc test_int;</span><br><span class="line"># å¢åŠ ä¸€æ¡t1å­—æ®µå€¼ä¸º-11111çš„è®°å½•</span><br><span class="line">insert into test_int values (-11111); # é»˜è®¤æœ‰ç¬¦å·</span><br><span class="line"></span><br><span class="line"># å¢åŠ ä¸€ä¸ªt2æ— ç¬¦å·å­—æ®µ</span><br><span class="line">alter table test_int add column t2 int unsigned;</span><br><span class="line"># è¿™æ—¶å€™å¢åŠ ä¸€æ¡t2å­—æ®µå€¼ä¸ºè´Ÿæ•°çš„è®°å½•,å°±ä¼šå‡ºç°out of rangeçš„é”™è¯¯</span><br><span class="line">insert into test_int (t2) value (-1111); # æŠ¥é”™</span><br><span class="line"># ä¿®æ”¹t2å­—æ®µç±»å‹</span><br><span class="line">alter table test_int modify column t2 int;</span><br><span class="line"># åˆ é™¤t2å­—æ®µ</span><br><span class="line">alter table test_int drop column t2;</span><br><span class="line"></span><br><span class="line"># åˆ é™¤test_intæ•°æ®è¡¨</span><br><span class="line">drop table if exists test_int;</span><br><span class="line"></span><br><span class="line">create table test_int(</span><br><span class="line">	t1 int,</span><br><span class="line">    t2 int unsigned</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">select * from test_int;</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>ç¤ºä¾‹äºŒï¼šå¯¹æ•°æ®åº“çš„ç®¡ç†æ“ä½œ</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯­æ³• create database [if not exists] æ•°æ®åº“å; #[]ä¸­çš„å†…å®¹é€‰å¡«</span><br><span class="line">    drop database [if exists] æ•°æ®åº“å;</span><br><span class="line"># åˆ›å»ºæ•°æ®åº“book</span><br><span class="line">create database book;</span><br><span class="line"># æ›´æ”¹æ•°æ®åº“çš„å­—ç¬¦é›†</span><br><span class="line">alter database book character set utf8;</span><br><span class="line"># æŸ¥çœ‹å­—ç¬¦é›†</span><br><span class="line">show create database book;</span><br><span class="line"># åˆ é™¤æ•°æ®åº“(åˆ¤æ–­è¯¥æ•°æ®åº“æ˜¯å¦å­˜åœ¨,å­˜åœ¨åˆ™è¿›è¡Œåˆ é™¤)</span><br><span class="line">drop database if exists book;</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>ç¤ºä¾‹ä¸‰ï¼šå¯¹æ•°æ®è¡¨ç»“æ„çš„æ“ä½œ</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table books(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20),</span><br><span class="line">    price double,</span><br><span class="line">    author varchar(20),</span><br><span class="line">    publish_date datetime</span><br><span class="line">);</span><br><span class="line">desc books;</span><br><span class="line"># è¡¨çš„ä¿®æ”¹</span><br><span class="line"># alter table æ•°æ®è¡¨å add/drop/modify/change column ...</span><br><span class="line"># ä¿®æ”¹å­—æ®µåpublish_dateä¸ºdate</span><br><span class="line">alter table books change column publish_date date datetime;</span><br><span class="line"># ä¿®æ”¹å­—æ®µçš„ç±»å‹æˆ–çº¦æŸ</span><br><span class="line">alter table books modify column date timestamp;</span><br><span class="line"></span><br><span class="line"># å…³äºalterä¸­changeå’Œmodifyçš„ä½¿ç”¨åŒºåˆ«</span><br><span class="line"># changeçš„ä¿®æ”¹èŒƒå›´å¤§äºmodify,changeä¸€èˆ¬ç”¨äºä¿®æ”¹å­—æ®µå</span><br><span class="line"># modifyä¸€èˆ¬ç”¨äºä¿®æ”¹æ•°æ®ç±»å‹æˆ–çº¦æŸ,ä½†modifyä¸èƒ½ä¿®æ”¹å­—æ®µå</span><br><span class="line"></span><br><span class="line"># æ·»åŠ æ–°çš„å­—æ®µinventory,æ·»åŠ å­—æ®µéœ€è¦æŒ‡æ˜æ•°æ®ç±»å‹</span><br><span class="line">alter table books add column inventory int;</span><br><span class="line"># åˆ é™¤å­—æ®µinventory,åˆ é™¤å­—æ®µåªéœ€è¦æä¾›å­—æ®µå</span><br><span class="line">alter table books drop column inventory;</span><br><span class="line"># ä¿®æ”¹æ•°æ®è¡¨å</span><br><span class="line">alter table books rename to works;</span><br><span class="line">desc works;</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>ç¤ºä¾‹å››ï¼šå¤åˆ¶æ•°æ®è¡¨</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å¢åŠ è®°å½•</span><br><span class="line">insert into works values</span><br><span class="line">(1,&#x27;ã€Šjavaã€‹&#x27;,132.9,&#x27;è©¹å§†æ–¯Â·é«˜æ–¯æ—&#x27;,&#x27;2001-12-01&#x27;),</span><br><span class="line">(2,&#x27;ã€Šlinuxã€‹&#x27;,156.9,&#x27;linus&#x27;,&#x27;1999-01-01&#x27;);</span><br><span class="line"></span><br><span class="line"># ä»…å¤åˆ¶æ•°æ®è¡¨çš„ç»“æ„</span><br><span class="line">create table copy like works;</span><br><span class="line"># å¤åˆ¶ç»“æ„å’Œæ•°æ®</span><br><span class="line">create table clone select * from works;</span><br><span class="line"># å¤åˆ¶éƒ¨åˆ†ç»“æ„</span><br><span class="line">create table remake select id,name from works;</span><br><span class="line"># ä»…å¤åˆ¶éƒ¨åˆ†å­—æ®µ,åˆ©ç”¨whereè¿›è¡Œæ¡ä»¶åˆ¤æ–­,æ’ä¸º0åˆ™åªä¿ç•™å­—æ®µ</span><br><span class="line">create table redo select id,name from works where 0;</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<h5 id="3dmlæ•°æ®æ“ä½œè¯­è¨€çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#3dmlæ•°æ®æ“ä½œè¯­è¨€çš„ä½¿ç”¨"></a> 3.DMLæ•°æ®æ“ä½œè¯­è¨€çš„ä½¿ç”¨</h5>
<p><span id="dml"><a href="#head">è¿”å›å¿«é€Ÿå¯¼èˆª</a></span></p>
<ul>
<li>
<p><strong>insertè¯­å¥</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># è¯­æ³•</span><br><span class="line"># insert into æ•°æ®è¡¨å(å­—æ®µå1,å­—æ®µå2,...) values (å­—æ®µå€¼1,å­—æ®µå€¼2,...);</span><br><span class="line">create table product(</span><br><span class="line">	id int,</span><br><span class="line">	name varchar(20),</span><br><span class="line">	price double</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># åœ¨productè¡¨ä¸­å¢åŠ ä¸€æ¡è®°å½•</span><br><span class="line">insert into product(id,name,price) values (1,&#x27;phone&#x27;,500.0);</span><br><span class="line"># åœ¨productè¡¨ä¸­æŒ‡å®šçš„å­—æ®µå¢åŠ è®°å½•</span><br><span class="line">insert into product(id,price) values (2,399.9);</span><br><span class="line"></span><br><span class="line">select * from product;</span><br><span class="line"></span><br><span class="line"># é»˜è®¤ç»™å…¨éƒ¨å­—æ®µå¢åŠ è®°å½•</span><br><span class="line"># insert into æ•°æ®è¡¨å values (å­—æ®µå€¼1,å­—æ®µå€¼2,...);</span><br><span class="line"></span><br><span class="line">insert into product values (3,&#x27;mac&#x27;,21499.9);</span><br><span class="line">select * from product;</span><br><span class="line"></span><br><span class="line"># æ‰¹é‡å¢åŠ è®°å½•</span><br><span class="line"># insert into æ•°æ®è¡¨å values (å­—æ®µå€¼1,å­—æ®µå€¼2,...),(å­—æ®µå€¼1,å­—æ®µå€¼2,...);</span><br><span class="line"></span><br><span class="line">insert into product values (4,&#x27;a&#x27;,1.1),(5,&#x27;b&#x27;,2.2),(6,&#x27;c&#x27;,3.3);</span><br><span class="line">select * from product;</span><br></pre></td></tr></table></figure></div>
<p>æ³¨æ„å­—æ®µåå’Œå­—æ®µå€¼çš„ç±»å‹å¯¹åº”ï¼Œä»¥åŠæ—¥æœŸæ—¶é—´ã€å­—ç¬¦å­—ç¬¦ä¸²ç±»å‹æ•°æ®éœ€è¦åŠ ä¸Šå¼•å·ï¼ˆå•åŒå¼•å·å‡å¯ï¼‰</p>
</li>
<li>
<p><strong>updateè¯­å¥</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># è¯­æ³•</span><br><span class="line">#update æ•°æ®è¡¨å set å­—æ®µ1 = å€¼1,å­—æ®µ2 = å€¼2,...[where æ¡ä»¶];</span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹phoneçš„priceä¸º9999</span><br><span class="line">update product set price = 9999 where name=&#x27;phone&#x27;;</span><br><span class="line">select * from product;</span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹macçš„priceä¸º39999.9,idä¸º0</span><br><span class="line">update product set price = 39999.9,id=0 where name=&#x27;mac&#x27;;</span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹idä¸º2è®°å½•çš„nameä¸ºswitch</span><br><span class="line">update product set name = &#x27;switch&#x27; where id=2;</span><br></pre></td></tr></table></figure></div>
<p>æ³¨æ„ä¸€èˆ¬æƒ…å†µä¸‹updateè¯­å¥ä¸­ä¸èƒ½ç¼ºå°‘æ¡ä»¶ï¼Œå¦åˆ™ä¼šä¿®æ”¹æ‰€æœ‰æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>deleteè¯­å¥</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># è¯­æ³•</span><br><span class="line"># delete from æ•°æ®è¡¨å [where æ¡ä»¶];</span><br><span class="line"></span><br><span class="line"># åˆ é™¤productè¡¨ä¸­çš„switchæ•°æ®</span><br><span class="line">delete from product where name=&#x27;switch&#x27;;</span><br><span class="line"></span><br><span class="line"># åˆ é™¤productè¡¨ä¸­priceä¸º39999.9çš„æ•°æ®</span><br><span class="line">delete from product where price=39999.9;</span><br><span class="line"></span><br><span class="line">select * from product;</span><br></pre></td></tr></table></figure></div>
<p>æ³¨æ„deleteè¯­å¥ä¸­å¿…é¡»åŠ ä¸Šæ¡ä»¶é™åˆ¶ï¼Œå¦åˆ™æ‰€æœ‰çš„æ•°æ®å°†ä¼šè¢«åˆ é™¤ã€‚</p>
<p>åŸºæœ¬updateå’Œdeleteéƒ½è¦é…åˆwhereæ¥ä½¿ç”¨ï¼Œå¦åˆ™å’ŒLinuxç³»ç»Ÿä¸­<code>rm -rf /</code>å‘½ä»¤æ˜¯å·®ä¸å¤šçš„åæœã€‚</p>
</li>
</ul>
<h5 id="4dqlæ•°æ®æŸ¥è¯¢è¯­è¨€çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#4dqlæ•°æ®æŸ¥è¯¢è¯­è¨€çš„ä½¿ç”¨"></a> 4.DQLæ•°æ®æŸ¥è¯¢è¯­è¨€çš„ä½¿ç”¨</h5>
<p>â€‹	<span id="dql"><a href="#head">è¿”å›å¿«é€Ÿå¯¼èˆª</a></span></p>
<ul>
<li>
<p>ç¤ºä¾‹</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># è¯­æ³•</span><br><span class="line"># select å­—æ®µå from æ•°æ®è¡¨å;</span><br><span class="line"></span><br><span class="line"># å•ç‹¬æŸ¥è¯¢nameå­—æ®µ</span><br><span class="line">select name from product;</span><br><span class="line"># æŸ¥è¯¢å¤šä¸ªå­—æ®µ</span><br><span class="line">select id,name from product;</span><br><span class="line"># æŸ¥è¯¢æ‰€æœ‰å­—æ®µ</span><br><span class="line">select * from product;</span><br><span class="line"># æˆ–è€…æŠŠ*æ›¿æ¢æˆæ•°æ®è¡¨ä¸­æ‰€æœ‰çš„å­—æ®µå</span><br><span class="line"></span><br><span class="line"># aså…³é”®å­—å–åˆ«å,ä¸æ”¹å˜åŸæœ‰æ•°æ®,æ”¹å˜çš„æ˜¯æ˜¾ç¤ºçš„å†…å®¹,aså…³é”®å­—å¯çœç•¥</span><br><span class="line">select name as product_name from product;</span><br><span class="line"></span><br><span class="line"># åˆ«åä¸­æœ‰ç©ºæ ¼,ä½¿ç”¨å•å¼•å·æ‹¬ä½åˆ«å</span><br><span class="line">select name &#x27;product name&#x27; from product;</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<h5 id="5sqlè¿ç®—ç¬¦åŠæ¡ä»¶æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#5sqlè¿ç®—ç¬¦åŠæ¡ä»¶æŸ¥è¯¢"></a> 5.SQLè¿ç®—ç¬¦åŠæ¡ä»¶æŸ¥è¯¢</h5>
<ol>
<li>
<p>ç®—æœ¯è¿ç®—ç¬¦</p>
<table>
<thead>
<tr>
<th style="text-align:center">è¿ç®—ç¬¦</th>
<th style="text-align:center"><strong>è¯´  æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>+</strong></td>
<td style="text-align:center"><strong>åŠ è¿ç®—ï¼Œæ±‚ä¸¤ä¸ªæ•°æˆ–è¡¨è¾¾å¼ç›¸åŠ çš„å’Œï¼Œå¦‚6+8</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>-</strong></td>
<td style="text-align:center"><strong>å‡è¿ç®—ï¼Œæ±‚ä¸¤ä¸ªæ•°æˆ–è¡¨è¾¾å¼ç›¸å‡çš„å·®</strong></td>
</tr>
<tr>
<td style="text-align:center">*****</td>
<td style="text-align:center"><strong>ä¹˜è¿ç®—ï¼Œæ±‚ä¸¤ä¸ªæ•°æˆ–è¡¨è¾¾å¼ç›¸ä¹˜çš„ç§¯</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>/</strong></td>
<td style="text-align:center"><strong>é™¤è¿ç®—ï¼Œæ±‚ä¸¤ä¸ªæ•°æˆ–è¡¨è¾¾å¼ç›¸é™¤çš„å•†ï¼Œå¦‚5/3çš„å€¼ä¸º1</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>%</strong></td>
<td style="text-align:center"><strong>å–æ¨¡è¿ç®—ï¼Œæ±‚ä¸¤ä¸ªæ•°æˆ–è¡¨è¾¾å¼ç›¸é™¤çš„ä½™æ•°ï¼Œå¦‚ï¼š5%3çš„å€¼ä¸º2</strong></td>
</tr>
</tbody>
</table>
<p>SQLè¯­å¥ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­¦è¡¨è¾¾å¼ï¼Œæ³¨æ„SQLæ²¡æœ‰javaçš„è‡ªå¢è‡ªå‡ç­‰è¿ç®—ç¬¦ã€‚</p>
</li>
<li>
<p>whereæ¡ä»¶æŸ¥è¯¢è¿ç®—ç¬¦</p>
<table>
<thead>
<tr>
<th style="text-align:center">è¿ç®—ç¬¦</th>
<th style="text-align:center">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">=</td>
<td style="text-align:center">ç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">&lt;&gt;æˆ–!=</td>
<td style="text-align:center">ä¸ç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">å°äº</td>
</tr>
<tr>
<td style="text-align:center">&lt;=</td>
<td style="text-align:center">å°äºç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">å¤§äº</td>
</tr>
<tr>
<td style="text-align:center">&gt;=</td>
<td style="text-align:center">å¤§äºç­‰äº</td>
</tr>
<tr>
<td style="text-align:center">betweenâ€¦  andâ€¦</td>
<td style="text-align:center">ä¸¤ä¸ªå€¼ä¹‹é—´ï¼Œç­‰åŒäº  &gt;=   and   &lt;=</td>
</tr>
<tr>
<td style="text-align:center">is  null</td>
<td style="text-align:center">ä¸ºnull  ï¼ˆis  not  nullä¸ä¸ºç©ºï¼‰</td>
</tr>
<tr>
<td style="text-align:center">and</td>
<td style="text-align:center">å¹¶ä¸”</td>
</tr>
<tr>
<td style="text-align:center">or</td>
<td style="text-align:center">æˆ–è€…</td>
</tr>
<tr>
<td style="text-align:center">in</td>
<td style="text-align:center">åŒ…å«ï¼Œç›¸å½“äºå¤šä¸ªorï¼ˆnot inä¸åœ¨è¿™ä¸ªèŒƒå›´ä¸­ï¼‰</td>
</tr>
<tr>
<td style="text-align:center">not</td>
<td style="text-align:center">notå¯ä»¥å–éï¼Œä¸»è¦ç”¨åœ¨is  æˆ–  inä¸­</td>
</tr>
<tr>
<td style="text-align:center">like</td>
<td style="text-align:center">likeç§°ä¸ºæ¨¡ç³ŠæŸ¥è¯¢ï¼Œæ”¯æŒ%æˆ–ä¸‹åˆ’çº¿åŒ¹é…ï¼Œ%åŒ¹é…ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œä¸€ä¸ªä¸‹åˆ’çº¿å€¼åŒ¹é…ä¸€ä¸ªå­—ç¬¦</td>
</tr>
</tbody>
</table>
<p><span id="ysf"><a href="#head">è¿”å›å¿«é€Ÿå¯¼èˆª</a></span></p>
</li>
<li>
<p>ç¤ºä¾‹</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">create database if not exists task;</span><br><span class="line">use task;</span><br><span class="line">create table if not exists coder(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20),</span><br><span class="line">    score int,</span><br><span class="line">    grade varchar(10),</span><br><span class="line">    project int</span><br><span class="line">);</span><br><span class="line">insert into coder values</span><br><span class="line">(1,&#x27;Mike&#x27;,100,&#x27;A&#x27;,1),</span><br><span class="line">(2,&#x27;Jhon&#x27;,96,&#x27;A&#x27;,2),</span><br><span class="line">(3,&#x27;Dram&#x27;,60,&#x27;D&#x27;,null),</span><br><span class="line">(4,&#x27;Lambda&#x27;,100,&#x27;A&#x27;,null),</span><br><span class="line">(5,&#x27;LuBen&#x27;,89,&#x27;B&#x27;,3),</span><br><span class="line">(6,&#x27;K&#x27;,75,&#x27;C&#x27;,null),</span><br><span class="line">(7,&#x27;Z&#x27;,88,&#x27;C&#x27;,null),</span><br><span class="line">(8,&#x27;L&#x27;,75,&#x27;B&#x27;,null);</span><br><span class="line">select * from coder;</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­scoreç­‰äº100çš„nameå’Œidè®°å½•</span><br><span class="line">select name,id from coder where score=100;</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­gradeä¸ç­‰äºAçš„nameå’Œidè®°å½•</span><br><span class="line">select name,id from coder where grade != &#x27;A&#x27;;</span><br><span class="line">select name,id from coder where grade &lt;&gt; &#x27;A&#x27;;</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­scoreå°äº89çš„nameå’Œidè®°å½•</span><br><span class="line">select name,id from coder where score &lt; 89;</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­scoreå°äºç­‰äº89çš„nameå’Œidè®°å½•</span><br><span class="line">select name,id from coder where score &lt;= 89;</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­scoreå¤§äº75çš„nameå’Œidè®°å½•</span><br><span class="line">select name,id from coder where score &gt; 75;</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­scoreå¤§äºç­‰äº75çš„nameå’Œidè®°å½•</span><br><span class="line">select name,id from coder where score &gt;= 75;</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­scoreåœ¨75å’Œ90ä¹‹é—´çš„nameå’Œidè®°å½•</span><br><span class="line">select name,id from coder where score&gt;=75 and score&lt;=90;</span><br><span class="line">select name,id from coder where score between 75 and 90;</span><br><span class="line"># between è¾ƒå°å€¼ and è¾ƒå¤§å€¼  é—­åŒºé—´</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­projectä¸ºnullçš„è®°å½•</span><br><span class="line">select * from coder where project is null;</span><br><span class="line"> </span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­projectä¸ä¸ºnullçš„è®°å½•</span><br><span class="line">select * from coder where project is not null;</span><br><span class="line"> </span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­gradeä¸ºAä¸”scoreä¸º100çš„è®°å½•</span><br><span class="line">select * from coder where grade=&#x27;A&#x27; and score=100;</span><br><span class="line"> </span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­scoreä¸º100æˆ–projectä¸º3çš„è®°å½•</span><br><span class="line">select * from coder where score=100 or project=3;</span><br><span class="line"> </span><br><span class="line"># andå’ŒoråŒæ—¶ä½¿ç”¨æ—¶,andä¼˜å…ˆçº§é«˜äºor,è¦ä½¿orå…ˆæ‰§è¡Œ,åˆ™éœ€ç”¨()æ‹¬ä½orå…³è”çš„æ¡ä»¶</span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­gradeä¸ºAä¸”projectä¸º1 å’Œ scoreå¤§äº74çš„è®°å½•</span><br><span class="line">select * from coder where grade=&#x27;A&#x27; and project=1 or score &gt; 74;</span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­projectä¸º1æˆ–scoreå¤§äº74 ä¸”gradeä¸ºAçš„è®°å½•</span><br><span class="line">select * from coder where grade=&#x27;A&#x27; and (project=1 or score &gt; 74);</span><br><span class="line"></span><br><span class="line"># inå…³é”®å­—ç›¸å½“äºå¤šä¸ªor,ä½†inæ— æ³•å…³è”æ•°å€¼èŒƒå›´çš„æ¡ä»¶,åªèƒ½å…³è”ä¸€ä¸ªå…·ä½“çš„æ•°å€¼æ¡ä»¶</span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­scoreä¸º100æˆ–96çš„è®°å½•</span><br><span class="line">select * from coder where score=100 or score=96;</span><br><span class="line">select * from coder where score in(100,96); # è¿™é‡Œè¡¨ç¤ºä¸¤ä¸ªæ•°å€¼</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­projectä¸ä¸º1ä¸”ä¸ä¸º3çš„è®°å½•</span><br><span class="line">select * from coder where project&lt;&gt;1 and project&lt;&gt;3;</span><br><span class="line">select * from coder where project not in(3,1);</span><br><span class="line"></span><br><span class="line"># æ¨¡ç³ŠæŸ¥è¯¢</span><br><span class="line"># likeå…³é”®å­—,åŒ¹é…ç¬¦%å’Œ_</span><br><span class="line"># %åŒ¹é…ä»»æ„å¤šä¸ªå­—ç¬¦,_åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦</span><br><span class="line"># è½¬ä¹‰å­—ç¬¦\,ç”¨äºå¤„ç†åŒ…å«%å’Œ_è¿™ä¸¤ä¸ªç‰¹æ®Šç¬¦å·çš„è®°å½•</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­ä»¥eç»“å°¾çš„nameè®°å½•</span><br><span class="line">select name from coder where name like &#x27;%e&#x27;;</span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­ä»¥Lå¼€å¤´çš„nameè®°å½•</span><br><span class="line">select name from coder where name like &#x27;L%&#x27;;</span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­åŒ…å«uçš„nameè®°å½•</span><br><span class="line">select name from coder where name like &#x27;%u%&#x27;;</span><br><span class="line"># æŸ¥è¯¢coderæ•°æ®è¡¨ä¸­ç¬¬äºŒä¸ªå­—æ¯ä¸ºhçš„nameè®°å½•</span><br><span class="line">select name from coder where name like &#x27;_h%&#x27;;</span><br></pre></td></tr></table></figure></div>
</li>
</ol>
<h5 id="6æ’åº"><a class="markdownIt-Anchor" href="#6æ’åº"></a> 6.æ’åº</h5>
<table>
<thead>
<tr>
<th style="text-align:center">å…³é”®å­—</th>
<th style="text-align:center">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">order by</td>
<td style="text-align:center">æ’åº</td>
</tr>
<tr>
<td style="text-align:center">desc</td>
<td style="text-align:center">é™åº</td>
</tr>
<tr>
<td style="text-align:center">asc</td>
<td style="text-align:center">å‡åº</td>
</tr>
</tbody>
</table>
<p><span id="px"><a href="#head">è¿”å›å¿«é€Ÿå¯¼èˆª</a></span></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å¯¹coderæ•°æ®è¡¨ä¸­çš„scoreè¿›è¡Œæ’åº,é»˜è®¤å‡åº</span><br><span class="line">select name,score from coder order by score;</span><br><span class="line"># æŒ‡å®šé™åº,è¿™é‡Œçš„descä½œç”¨æ˜¯æŒ‡å®šé™åºæ’åº</span><br><span class="line">select name,score from coder order by score desc;</span><br><span class="line"># æŒ‡å®šå‡åº</span><br><span class="line">select name,score from coder order by score asc;</span><br><span class="line"></span><br><span class="line"># å¤šå­—æ®µæ’åº,ç¬¬ä¸€å­—æ®µç›¸åŒæ—¶,æ ¹æ®ç¬¬äºŒå­—æ®µæ’åº</span><br><span class="line"># æ ¹æ®scoreå‡åºæ’åº,scoreç›¸åŒåˆ™æ ¹æ®nameå‡åºæ’åº</span><br><span class="line">select name,score from coder order by score asc,name asc;</span><br><span class="line"></span><br><span class="line"># ä¸æ¨èå†™æ³•</span><br><span class="line">select * from coder order by 1; # è¿™é‡Œçš„1è¡¨ç¤ºç¬¬ä¸€ä¸ªå­—æ®µid</span><br><span class="line"># è¿™ç§å†™æ³•å¾ˆå®¹æ˜“å› ä¸ºå­—æ®µé¡ºåºçš„æ”¹å˜è€Œå‡ºé”™</span><br></pre></td></tr></table></figure></div>
<h5 id="7èšåˆå‡½æ•°"><a class="markdownIt-Anchor" href="#7èšåˆå‡½æ•°"></a> 7.èšåˆå‡½æ•°</h5>
<p><span id="juhe"><a href="#head">è¿”å›å¿«é€Ÿå¯¼èˆª</a></span></p>
<p><strong>å¤šè¡Œæ•°æ®ç»èšåˆå‡½æ•°å¤„ç†ä¹‹åçš„ç»“æœåªæœ‰ä¸€è¡Œ</strong></p>
<p><strong>èšåˆå‡½æ•°åˆ†ç±»</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">å‡½æ•°å</th>
<th style="text-align:center">åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">count(å­—æ®µå)</td>
<td style="text-align:center">ç»Ÿè®¡æ•°é‡(ä¸€èˆ¬é€‰ç”¨ä¸ä¸ºnullçš„åˆ—)</td>
</tr>
<tr>
<td style="text-align:center">max(å­—æ®µå)</td>
<td style="text-align:center">æœ€å¤§å€¼</td>
</tr>
<tr>
<td style="text-align:center">min(å­—æ®µå)</td>
<td style="text-align:center">æœ€å°å€¼</td>
</tr>
<tr>
<td style="text-align:center">sum(å­—æ®µå)</td>
<td style="text-align:center">æ±‚å’Œ</td>
</tr>
<tr>
<td style="text-align:center">avg(å­—æ®µå)</td>
<td style="text-align:center">å¹³å‡å€¼</td>
</tr>
</tbody>
</table>
<p>æ³¨æ„ï¼šèšåˆå‡½æ•°éœ€è¦é…åˆåˆ†ç»„æ¥ä½¿ç”¨ï¼Œå…ˆåˆ†ç»„å†ç”¨èšåˆå‡½æ•°å¤„ç†ã€‚</p>
<p>å¦‚æœä¸è¿›è¡Œåˆ†ç»„ï¼Œåˆ™é»˜è®¤æ•´å¼ æ•°æ®è¡¨ä¸ºä¸€ç»„ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># æ‰¾å‡ºcoderæ•°æ®è¡¨ä¸­scoreå­—æ®µçš„æœ€å¤§å€¼è®°å½•</span><br><span class="line">select max(score) from coder;</span><br><span class="line"># æ‰¾å‡ºcoderæ•°æ®è¡¨ä¸­scoreå­—æ®µçš„æœ€å°å€¼è®°å½•</span><br><span class="line">select min(score) from coder;</span><br><span class="line"># è®¡ç®—scoreå­—æ®µæ‰€æœ‰è®°å½•çš„æ€»å’Œ</span><br><span class="line">select sum(score) from coder;</span><br><span class="line"># è®¡ç®—scoreå­—æ®µæ‰€æœ‰è®°å½•çš„å¹³å‡å€¼</span><br><span class="line">select avg(score) from coder;</span><br><span class="line"># è®¡ç®—è®°å½•æ€»æ¡æ•°,å¯ä»¥ç”¨ä»»æ„éç©ºå­—æ®µåšå‚æ•°</span><br><span class="line">select count(name) from coder;</span><br></pre></td></tr></table></figure></div>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>èšåˆå‡½æ•°ä¼šè‡ªåŠ¨å¿½ç•¥æŒ‡å®šå­—æ®µå€¼ä¸ºnullçš„è®°å½•</li>
<li>åœ¨count(*)æƒ…å†µä¸‹ï¼Œæ¯ä¸€è¡Œæ•°æ®ä¸­åªè¦æœ‰ä¸€ä¸ªå­—æ®µå€¼ä¸ä¸ºnullï¼Œåˆ™è¯¥æ•°æ®å°±ä¼šè¢«countå‡½æ•°ç»Ÿè®¡è¿›å»</li>
<li>èšåˆå‡½æ•°ä¹Ÿç§°åˆ†ç»„å‡½æ•°ï¼Œä¸èƒ½ç›´æ¥åœ¨<strong>whereå­å¥</strong>ä¸­ä½¿ç”¨</li>
<li>èšåˆå‡½æ•°ä¹‹é—´å¯ä»¥ç›¸äº’ç»„åˆä½¿ç”¨</li>
</ol>
<h5 id="8åˆ†ç»„æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#8åˆ†ç»„æŸ¥è¯¢"></a> 8.åˆ†ç»„æŸ¥è¯¢</h5>
<p><span id="fz"><a href="#head">è¿”å›å¿«é€Ÿå¯¼èˆª</a></span></p>
<p><strong>group byå…³é”®å­—</strong></p>
<p>æ ¼å¼ï¼šselect å­—æ®µ from æ•°æ®è¡¨ where æ¡ä»¶ group by åˆ†ç»„ä¾æ®å­—æ®µ order by æ’åºä¾æ®å­—æ®µ æ’åºæ–¹å¼</p>
<p>æ‰§è¡Œä¼˜å…ˆçº§ï¼šfromâ†’whereâ†’group byâ†’selectâ†’order by</p>
<p>ç”±äºwhereçš„ä¼˜å…ˆçº§é«˜äºgroup byï¼Œå› æ­¤èšåˆå‡½æ•°æ— æ³•åœ¨whereå­å¥ä¸­ä½¿ç”¨ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># è®¡ç®—coderæ•°æ®è¡¨ä¸­gradeå„ç»„çš„scoreæ€»å’Œ</span><br><span class="line">select grade,sum(score) from coder group by grade;</span><br><span class="line"></span><br><span class="line"># è§„èŒƒ:ä½¿ç”¨äº†group byçš„è¯­å¥,selectåé¢çš„å­—æ®µåªèƒ½ç”¨ä½œä¸ºåˆ†ç»„ä¾æ®çš„å­—æ®µåŠèšåˆå‡½æ•°,ä¸å…è®¸ä½¿ç”¨å…¶ä»–å­—æ®µ,å¦åˆ™å³ä½¿ä¸æŠ¥é”™,æ•°æ®ç»“æœä¹Ÿä¼šå­˜åœ¨é—®é¢˜</span><br><span class="line"></span><br><span class="line"># havingå…³é”®å­—å¯¹group byä¹‹åçš„æ•°æ®è¿›è¡Œå¤„ç†</span><br><span class="line"># ä¸åŒäºwhere,havingä¸“é—¨ä¸group byä¸€èµ·ä½¿ç”¨,è€Œä¸èƒ½å•ç‹¬ä½¿ç”¨</span><br><span class="line"></span><br><span class="line"># æ‰¾å‡ºcoderæ•°æ®è¡¨å„gradeç»„ä¸­scoreå¹³å‡å€¼å¤§äº80çš„è®°å½•</span><br><span class="line">select grade,avg(score) from coder group by grade having avg(score)&gt;80;</span><br></pre></td></tr></table></figure></div>
]]></content>
      <categories>
        <category>MySQL5</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQLé«˜çº§</title>
    <url>/2022/08/21/MySQL-Pro/</url>
    <content><![CDATA[<h3 id="mysqlé«˜çº§"><a class="markdownIt-Anchor" href="#mysqlé«˜çº§"></a> MySQLé«˜çº§</h3>
<hr />
<h4 id="ä¸€-distinctå…³é”®å­—"><a class="markdownIt-Anchor" href="#ä¸€-distinctå…³é”®å­—"></a> ä¸€ã€distinctå…³é”®å­—</h4>
<p>distinctèƒ½å¤Ÿå»é™¤æŸ¥è¯¢ç»“æœä¸­é‡å¤çš„è®°å½•</p>
<p>æ³¨æ„ï¼šæ•°æ®è¡¨ä¸­çš„æ•°æ®å¹¶æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå®é™…ä¸Šæ‰€æœ‰çš„DQLæŸ¥è¯¢è¯­å¥éƒ½ä¸ä¼šä¿®æ”¹åŸå§‹æ•°æ®ï¼Œåªæ˜¯å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œå¤„ç† <span id="more"></span></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å‡†å¤‡å·¥ä½œ</span><br><span class="line">create database if not exists task;</span><br><span class="line">use task;</span><br><span class="line">create table emp (</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20),</span><br><span class="line">    age int,</span><br><span class="line">    sex char(20),</span><br><span class="line">    salary double</span><br><span class="line">);</span><br><span class="line">alter table emp modify sex char(20) character set gbk;</span><br><span class="line">insert into emp values</span><br><span class="line">(1,&#x27;a&#x27;,19,&#x27;ç”·&#x27;,3500),</span><br><span class="line">(2,&#x27;b&#x27;,22,&#x27;ç”·&#x27;,5600),</span><br><span class="line">(3,&#x27;c&#x27;,34,&#x27;å¥³&#x27;,7700),</span><br><span class="line">(4,&#x27;d&#x27;,16,&#x27;ç”·&#x27;,4300),</span><br><span class="line">(5,&#x27;e&#x27;,51,&#x27;å¥³&#x27;,4300),</span><br><span class="line">(6,&#x27;f&#x27;,23,&#x27;å¥³&#x27;,4300);</span><br><span class="line"></span><br><span class="line"># æ ¼å¼: select distinct å­—æ®µå from æ•°æ®è¡¨å;</span><br><span class="line"># distinctå…³é”®å­—å†™åœ¨æ‰€æœ‰å­—æ®µå‰é¢</span><br><span class="line"># æŸ¥è¯¢salaryçš„å€¼æœ‰å“ªå‡ ç§æƒ…å†µ,ä¸é‡å¤åˆ—å‡ºç›¸åŒçš„æƒ…å†µ</span><br><span class="line">select distinct salary from emp;</span><br><span class="line"># å¯¹äºå¤šä¸ªå­—æ®µ,åˆ™éœ€è¦åœ¨å¤šä¸ªå­—æ®µçš„å€¼å‡é‡å¤çš„æ¡ä»¶ä¸‹æ‰ä¼šå»é‡</span><br><span class="line"># æŸ¥è¯¢æ•°æ®è¡¨ä¸­å­˜åœ¨çš„ä¸é‡å¤çš„sexå’Œsalaryçš„ç»„åˆæœ‰å“ªå‡ ç§æƒ…å†µ</span><br><span class="line">select distinct salary,sex from emp;</span><br></pre></td></tr></table></figure></div>
<h4 id="äºŒ-è¿æ¥æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#äºŒ-è¿æ¥æŸ¥è¯¢"></a> äºŒã€è¿æ¥æŸ¥è¯¢</h4>
<h5 id="è¿æ¥æŸ¥è¯¢çš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#è¿æ¥æŸ¥è¯¢çš„æ¦‚å¿µ"></a> è¿æ¥æŸ¥è¯¢çš„æ¦‚å¿µ</h5>
<p>é’ˆå¯¹ä¸€å¼ æ•°æ®è¡¨è¿›è¡ŒæŸ¥è¯¢ï¼Œç§°ä¸ºå•è¡¨æŸ¥è¯¢ã€‚<strong>joinå…³é”®å­—</strong></p>
<p>å°†ä¸¤å¼ åŠä»¥ä¸Šçš„æ•°æ®è¡¨è”åˆèµ·æ¥è¿›è¡ŒæŸ¥è¯¢ï¼Œè·å–åˆ°å¤šå¼ æ•°æ®è¡¨ç»„åˆå‡ºæ¥çš„æ•°æ®ï¼Œç§°ä¸ºè¿æ¥æŸ¥è¯¢ã€‚</p>
<h5 id="è¿æ¥æŸ¥è¯¢çš„åˆ†ç±»"><a class="markdownIt-Anchor" href="#è¿æ¥æŸ¥è¯¢çš„åˆ†ç±»"></a> è¿æ¥æŸ¥è¯¢çš„åˆ†ç±»</h5>
<figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line">æ ¹æ®è¡¨è¿æ¥çš„æ–¹å¼åˆ†ç±»</span><br><span class="line">â”œâ”€â”€ å†…è¿æ¥</span><br><span class="line">â”‚   â”œâ”€â”€ ç­‰å€¼è¿æ¥</span><br><span class="line">â”‚   â”œâ”€â”€ éç­‰å€¼è¿æ¥</span><br><span class="line">â”‚   â””â”€â”€ è‡ªè¿æ¥</span><br><span class="line"><span class="string">|</span></span><br><span class="line">â”œâ”€â”€ å¤–è¿æ¥</span><br><span class="line">â”‚   â”œâ”€â”€ å·¦å¤–è¿æ¥</span><br><span class="line">â”‚   â””â”€â”€ å³å¤–è¿æ¥</span><br></pre></td></tr></table></figure>
<h5 id="ç¬›å¡å°”ç§¯ç°è±¡"><a class="markdownIt-Anchor" href="#ç¬›å¡å°”ç§¯ç°è±¡"></a> ç¬›å¡å°”ç§¯ç°è±¡</h5>
<p>ä¸€èˆ¬æ˜¯ç”±äºæ²¡æœ‰åŠ ä»»ä½•é™åˆ¶æ¡ä»¶ç›´æ¥è”åˆå¤šå¼ è¡¨è¿›è¡ŒæŸ¥è¯¢ã€‚æŸ¥è¯¢ç»“æœçš„æ•°é‡æ˜¯å¤šå¼ è¡¨çš„ä¹˜ç§¯ï¼Œä½†ä¸€èˆ¬è¿™æ ·çš„æŸ¥è¯¢æ²¡æœ‰å¤ªå¤§æ„ä¹‰ï¼Œè¦é¿å…è¿™ç§æƒ…å†µéœ€è¦è®¾è®¡å¥½é™åˆ¶æ¡ä»¶ã€‚</p>
<h5 id="å†…è¿æ¥"><a class="markdownIt-Anchor" href="#å†…è¿æ¥"></a> å†…è¿æ¥</h5>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å‡†å¤‡æ•°æ®</span><br><span class="line">create database if not exists data;</span><br><span class="line">use data;</span><br><span class="line">create table employee(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20),</span><br><span class="line">    salary double,</span><br><span class="line">    department_id int</span><br><span class="line">);</span><br><span class="line">insert into employee values</span><br><span class="line">(1,&#x27;apple&#x27;,5469,101),</span><br><span class="line">(2,&#x27;grape&#x27;,4465,101),</span><br><span class="line">(3,&#x27;orange&#x27;,6544,102),</span><br><span class="line">(4,&#x27;mango&#x27;,4987,102),</span><br><span class="line">(5,&#x27;banana&#x27;,5323,102),</span><br><span class="line">(6,&#x27;peach&#x27;,6743,103);</span><br><span class="line">create table department(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20)</span><br><span class="line">);</span><br><span class="line">insert into department values</span><br><span class="line">(101,&#x27;develop&#x27;),</span><br><span class="line">(102,&#x27;operate&#x27;),</span><br><span class="line">(103,&#x27;loaf&#x27;);</span><br><span class="line">create table salary_level(</span><br><span class="line">	grade varchar(20),</span><br><span class="line">    min int,</span><br><span class="line">    max int</span><br><span class="line">);</span><br><span class="line">insert into salary_level values</span><br><span class="line">(&#x27;A&#x27;,5501,7000),</span><br><span class="line">(&#x27;B&#x27;,4001,5500),</span><br><span class="line">(&#x27;C&#x27;,2500,4000);</span><br><span class="line"># ç­‰å€¼è¿æ¥,whereåçš„æ¡ä»¶æ˜¯ç­‰å€¼åˆ¤æ–­</span><br><span class="line"># æŸ¥è¯¢enployeeè¡¨ä¸­æ¯æ¡è®°å½•æ‰€å¯¹åº”çš„departmentçš„name</span><br><span class="line"># joinå‰åŠ innerå…³é”®å­—èƒ½ç›´æ¥è¡¨æ˜è¿™æ˜¯å†…è¿æ¥,å½“ç„¶inneræœ¬èº«å¯ä»¥çœç•¥ä¸å†™</span><br><span class="line"># onå…³é”®å­—ç±»ä¼¼äºwhere,ä½†onæ˜¯è¡¨ç¤ºå¤šè¡¨çš„è¿æ¥æ¡ä»¶,è€Œwhereæ˜¯è¡¨ç¤ºå¯¹è¿æ¥ç»“æœè¿›ä¸€æ­¥ç­›é€‰çš„æ¡ä»¶,whereå†™åœ¨onçš„åé¢</span><br><span class="line">select e.name,d.name from employee e join department d on e.department_id=d.id;</span><br><span class="line"></span><br><span class="line"># éç­‰å€¼è¿æ¥,whereåçš„æ¡ä»¶ä¸€èˆ¬æ˜¯åœ¨æŸä¸ªèŒƒå›´å†…åˆ¤æ–­</span><br><span class="line"># æŸ¥è¯¢employeeè¡¨ä¸­æ¯æ¡è®°å½•æ‰€å¯¹åº”çš„salary_levelçš„grade</span><br><span class="line">select e.name,e.salary,s.grade from employee e inner join salary_level s on e.salary between s.min and s.max;</span><br><span class="line"></span><br><span class="line"># è‡ªè¿æ¥,æœ¬è´¨ä¸Šæ˜¯ä¸€å¼ è¡¨,ä½†è¿›è¡Œäº†é‡å¤ä½¿ç”¨</span><br><span class="line"># æ–°å¢æ•°æ®</span><br><span class="line">insert into employee (id,name) values</span><br><span class="line">(101,&#x27;leader_jackson&#x27;),</span><br><span class="line">(102,&#x27;leader_vim&#x27;),</span><br><span class="line">(103,&#x27;leader_fish&#x27;);</span><br><span class="line"># æŸ¥è¯¢employeeè¡¨ä¸­department_idå¯¹åº”leader_nameå’Œnameè®°å½•</span><br><span class="line">select e1.name &#x27;emp&#x27;,e2.name &#x27;leader&#x27; from employee e1 join employee e2 on e1.department_id=e2.id;</span><br><span class="line"># ä¸€èˆ¬éœ€è¦ä½¿ç”¨è‡ªè¿æ¥æŸ¥è¯¢çš„è¯,è¯´æ˜è¡¨çš„è®¾è®¡è¿˜èƒ½è¿›ä¸€æ­¥ä¼˜åŒ–</span><br></pre></td></tr></table></figure></div>
<h5 id="å¤–è¿æ¥"><a class="markdownIt-Anchor" href="#å¤–è¿æ¥"></a> å¤–è¿æ¥</h5>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å†…è¿æ¥çš„å¤šå¼ è¡¨å¹¶æ²¡æœ‰ä¸»æ¬¡å…³ç³»,ä¹Ÿå°±æ˜¯è¯´ä¸éœ€è¦è€ƒè™‘æŸ¥è¯¢è¯­å¥ä¹¦å†™çš„å…ˆåé¡ºåº</span><br><span class="line"># å¤–è¿æ¥åˆ†å·¦å¤–è¿æ¥left joinå’Œå³å¤–è¿æ¥right join,leftæˆ–rightå…³é”®å­—ä¸å¯çœç•¥,è¡¨ç¤ºå°†joinå…³é”®å­—å·¦å³çš„æ•°æ®è¡¨è§†ä¸ºä¸»è¡¨,å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡è°ƒæ•´è¯­å¥ä¹¦å†™çš„å…ˆåé¡ºåºæ”¹å˜ä¸»æ¬¡å…³ç³»</span><br><span class="line"># ä¸»è¡¨æŒ‡å®šçš„æ•°æ®ä¼šå…¨éƒ¨è¢«æŸ¥è¯¢,åœ¨æ­¤åŸºç¡€ä¸Šå†æŸ¥è¯¢éƒ¨åˆ†ç›¸å…³çš„æ¬¡è¡¨çš„æ•°æ®,ä¹Ÿå°±æ˜¯è¯´æŒ‡å®šæŸ¥è¯¢çš„ä¸»è¡¨æ•°æ®ä¸ä¼šå› ä¸ºonçš„è¿æ¥æ¡ä»¶è€Œæœ‰æ‰€ç¼ºå¤±,ä½†ä¼šå—åˆ°whereç­›é€‰æ¡ä»¶çš„å½±å“</span><br><span class="line"></span><br><span class="line"># ä»¥employeeä¸ºä¸»è¡¨æŸ¥è¯¢æ‰€æœ‰è®°å½•æ•°</span><br><span class="line">select * from employee e left join department d on e.department_id=d.id;</span><br><span class="line"># ä»¥departmentä¸ºä¸»è¡¨æŸ¥è¯¢æ‰€æœ‰è®°å½•æ•°</span><br><span class="line">select * from employee e right join department d on e.department_id=d.id;</span><br><span class="line"></span><br><span class="line"># é€šè¿‡å¯¹æ¯”ç›¸åŒçš„æ•°æ®è¡¨åœ¨å†…å¤–è¿æ¥ä¸¤ç§æƒ…å†µä¸‹çš„ä¸åŒæŸ¥è¯¢ç»“æœ,å¯ä»¥æ‰¾åˆ°ä¸»è¡¨ä¸­è¿˜æœªä¸æ¬¡è¡¨å»ºç«‹é€»è¾‘å…³ç³»çš„å•ç‹¬çš„æ•°æ®</span><br></pre></td></tr></table></figure></div>
<h5 id="æ›´å¤šè¡¨è¿æ¥ä¸‰å¼ è¡¨"><a class="markdownIt-Anchor" href="#æ›´å¤šè¡¨è¿æ¥ä¸‰å¼ è¡¨"></a> æ›´å¤šè¡¨è¿æ¥ï¼ˆä¸‰å¼ è¡¨ï¼‰</h5>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ä¸‰å¼ åŠä»¥ä¸Šæ•°æ®è¡¨è¿æ¥æŸ¥è¯¢,å¤šä¸ªè¿æ¥æ¡ä»¶ä¸€èˆ¬éƒ½ä¸ç¬¬ä¸€å¼ è¡¨ç›¸å…³è”,å†…å¤–è¿æ¥å¯ä»¥æ··åˆä½¿ç”¨</span><br><span class="line"># æŸ¥è¯¢employeeã€departmentã€salary_levelçš„è”åˆæ•°æ®</span><br><span class="line"># æŸ¥è¯¢employeeä¸­department_idå¯¹åº”çš„departmentè¡¨æ•°æ®,salaryå¯¹åº”çš„salary_levelè¡¨æ•°æ®</span><br><span class="line">select e.name,e.salary,d.name,s.grade from employee e join department d on e.department_id=d.id join salary_level s on e.salary between s.min and s.max;</span><br></pre></td></tr></table></figure></div>
<h4 id="ä¸‰-å­æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#ä¸‰-å­æŸ¥è¯¢"></a> ä¸‰ã€å­æŸ¥è¯¢</h4>
<h5 id="å­æŸ¥è¯¢çš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#å­æŸ¥è¯¢çš„æ¦‚å¿µ"></a> å­æŸ¥è¯¢çš„æ¦‚å¿µ</h5>
<p>DQLè¯­å¥ä¸­åµŒå¥—DQLè¯­å¥ï¼Œè¢«åµŒå¥—çš„DQLè¯­å¥ç§°ä¸ºå­æŸ¥è¯¢ã€‚</p>
<h5 id="å­æŸ¥è¯¢çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#å­æŸ¥è¯¢çš„ä½¿ç”¨"></a> å­æŸ¥è¯¢çš„ä½¿ç”¨</h5>
<p>å­æŸ¥è¯¢å¯å†™åœ¨<strong>select</strong>ã€<strong>from</strong>ã€<strong>where</strong>å…³é”®å­—åé¢ã€‚</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># whereå­å¥ä¸­çš„å­æŸ¥è¯¢,ä¸€èˆ¬å­æŸ¥è¯¢ç»“æœæ˜¯æŸä¸ªå€¼</span><br><span class="line"># æŸ¥è¯¢employeeè¡¨ä¸­å¤§äºå¹³å‡å€¼çš„salaryè®°å½•,å…ˆæŸ¥è¯¢å‡ºavg(salary)çš„å€¼</span><br><span class="line">select salary from employee where salary&gt;(select avg(salary) from employee);</span><br><span class="line"></span><br><span class="line"># fromå­å¥ä¸­çš„å­æŸ¥è¯¢,æŠŠå­æŸ¥è¯¢ç»“æœè§†ä¸ºä¸€å¼ æ–°çš„æ•°æ®è¡¨</span><br><span class="line"># æŸ¥è¯¢employeeè¡¨ä¸­æ¯ä¸ªdepartment_idå¯¹åº”çš„avg(salary)çš„grade,å…ˆæŸ¥è¯¢å‡ºæ¯ä¸ªdepartment_idçš„avg(salary)</span><br><span class="line">select e.*,s.grade from (select department_id,avg(salary) avg from employee group by department_id) e join salary_level s on avg between s.min and s.max;</span><br><span class="line"></span><br><span class="line"># selectåçš„å­æŸ¥è¯¢,ä¸€èˆ¬ä¸ç»å¸¸ä½¿ç”¨,äº†è§£å³å¯</span><br><span class="line"># è¯¥å­æŸ¥è¯¢åªèƒ½è¿”å›ä¸€æ¡è®°å½•</span><br><span class="line">select e.name,e.salary,(select avg(salary) from employee) avg from employee e;</span><br></pre></td></tr></table></figure></div>
<h4 id="å››-unionå…³é”®å­—"><a class="markdownIt-Anchor" href="#å››-unionå…³é”®å­—"></a> å››ã€unionå…³é”®å­—</h4>
<p><strong>unionå…³é”®å­—</strong>èƒ½åˆå¹¶ç»“æœé›†ï¼Œå°†å¤šè¡¨æŸ¥è¯¢çš„ç»“æœç›´æ¥æ‹¼æ¥èµ·æ¥ï¼Œä½†å¤šå¼ è¡¨å¿…é¡»ä¿æŒå­—æ®µæ•°ä¸€è‡´ã€‚å­—æ®µå€¼åœ¨æ²¡æœ‰ç‰¹æ®Šé€»è¾‘å…³ç³»ä¸‹ä¹Ÿè¦å¯¹åº”èµ·æ¥ã€‚</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># unionå’Œjoin</span><br><span class="line"># å°†employeeä¸­salaryå¤§äº5000çš„ç»“æœé›†å’Œdepartment_idä¸º101çš„ç»“æœé›†åˆå¹¶èµ·æ¥,ä¼šè‡ªåŠ¨å»é‡</span><br><span class="line">select name from employee where salary &gt; 5000 union select name from employee where department_id=101;</span><br><span class="line"></span><br><span class="line"># å…³äºunionå’Œorå…³é”®å­—çš„åŒºåˆ«</span><br><span class="line"># unionèƒ½å¤Ÿå®ç°å¤šè¡¨æŸ¥è¯¢(å‰æå¤šå¼ è¡¨çš„å­—æ®µèƒ½å¤Ÿå¯¹åº”),è€Œoråªèƒ½åœ¨ä¸€å¼ è¡¨é‡Œä½¿ç”¨</span><br><span class="line"># unionä¼šè‡ªåŠ¨å»é‡,orä¸ä¼šå»é‡è€Œæ˜¯ç›´æ¥å–æŸ¥è¯¢ç»“æœçš„å¹¶é›†(å®é™…å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸¤è€…ç»“æœåŒºåˆ«ä¸å¤§)</span><br><span class="line"># unionèƒ½å¤Ÿä½¿ç”¨ä¸åŒçš„ç´¢å¼•æŸ¥è¯¢,ç´¢å¼•å³whereåé¢æ‰€ç”¨åˆ°çš„å­—æ®µ,è€Œorå› ä¸ºæ˜¯é’ˆå¯¹ä¸€å¼ è¡¨æ‰€ä»¥åªèƒ½ä½¿ç”¨ä¸€ä¸ªç´¢å¼•,ä¸€ä¸ªwhereåä»…èƒ½æœ‰ä¸€ä¸ªç´¢å¼•,æœ‰å¤šä¸ªå­—æ®µæ—¶å–å…¶ä¸€ä½œä¸ºç´¢å¼•</span><br><span class="line"></span><br><span class="line"># ä¸€èˆ¬æƒ…å†µä¸‹,æ•°æ®é‡è¾ƒå¤§æ—¶(åŒ…æ‹¬å•è¡¨çš„æ•°æ®é‡å’Œæ•°æ®è¡¨çš„æ•°é‡)æ¨èä½¿ç”¨union,å¤šä¸ªæŸ¥è¯¢æ¡ä»¶æ¶‰åŠåˆ°çš„æ˜¯åŒä¸€ä¸ªå­—æ®µæ—¶æ¨èä½¿ç”¨or</span><br></pre></td></tr></table></figure></div>
<h4 id="äº”-limitå…³é”®å­—"><a class="markdownIt-Anchor" href="#äº”-limitå…³é”®å­—"></a> äº”ã€limitå…³é”®å­—</h4>
<h5 id="limitçš„ä½œç”¨"><a class="markdownIt-Anchor" href="#limitçš„ä½œç”¨"></a> limitçš„ä½œç”¨</h5>
<p>å°†ç»“æœé›†çš„éƒ¨åˆ†æ•°æ®å±•ç¤ºå‡ºæ¥ï¼Œå¸¸ç”¨äºç½‘é¡µå¼€å‘åˆ†é¡µæŸ¥è¯¢ä¸­</p>
<h5 id="å…³é”®å­—æ‰§è¡Œä¼˜å…ˆçº§"><a class="markdownIt-Anchor" href="#å…³é”®å­—æ‰§è¡Œä¼˜å…ˆçº§"></a> å…³é”®å­—æ‰§è¡Œä¼˜å…ˆçº§</h5>
<p>æ‰§è¡Œä¼˜å…ˆçº§ï¼šfromâ†’whereâ†’group byâ†’havingâ†’selectâ†’order byâ†’<strong>limit</strong></p>
<h5 id="limitçš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#limitçš„ä½¿ç”¨"></a> limitçš„ä½¿ç”¨</h5>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># æ ¼å¼:limit å¼€å§‹ä¸‹æ ‡(ç¼ºçœçš„è¯,é»˜è®¤ä»0å¼€å§‹),é•¿åº¦(å³æ•°æ®æ¡æ•°)</span><br><span class="line"># æŸ¥è¯¢employeeè¡¨å‰2æ¡æ•°æ®</span><br><span class="line">select * from employee limit 2; # ç®€å†™,å®é™…ä¸Šæ˜¯limit 0,2;</span><br><span class="line">select * from employee limit 0,2;</span><br><span class="line"># æŸ¥è¯¢employeeè¡¨ç¬¬2-4æ¡æ•°æ®,ä¸‹æ ‡ä»1å¼€å§‹èµ·çš„3æ¡æ•°æ®</span><br><span class="line">select * from employee limit 1,3;</span><br><span class="line"></span><br><span class="line"># limitåœ¨order byä¹‹åæ‰§è¡Œ,æ‰€ä»¥order byçš„ä¾æ®å’Œæ’åºæ–¹å¼ä¼šä¸€å®šç¨‹åº¦ä¸Šå½±å“limitçš„ç»“æœé›†</span><br><span class="line"># æŸ¥è¯¢ä»¥nameå‡åºæ’åºä¹‹åçš„ç»“æœé›†çš„å‰2æ¡æ•°æ®</span><br><span class="line">select * from employee order by name asc limit 2;</span><br><span class="line"># æŸ¥è¯¢ä»¥salaryé™åºæ’åºä¹‹åçš„ç»“æœé›†çš„å‰2æ¡æ•°æ®</span><br><span class="line">select * from employee order by salary desc limit 2;</span><br><span class="line"></span><br><span class="line"># åˆ†é¡µæŸ¥è¯¢çš„å…¬å¼:limit (pageNum-1)*pageSize,pageSize</span><br></pre></td></tr></table></figure></div>
<h4 id="å…­-çº¦æŸ"><a class="markdownIt-Anchor" href="#å…­-çº¦æŸ"></a> å…­ã€çº¦æŸ</h4>
<h5 id="çº¦æŸçš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#çº¦æŸçš„æ¦‚å¿µ"></a> çº¦æŸçš„æ¦‚å¿µ</h5>
<p>çº¦æŸï¼ˆconstraintï¼‰æ˜¯ç”¨äºä¿è¯æ•°æ®å®Œæ•´æ€§ã€æœ‰æ•ˆæ€§çš„ä¸€ç§è§„åˆ™ã€‚</p>
<h5 id="å¤šç§çº¦æŸè§„åˆ™"><a class="markdownIt-Anchor" href="#å¤šç§çº¦æŸè§„åˆ™"></a> å¤šç§çº¦æŸè§„åˆ™</h5>
<p>éç©ºï¼šnot null</p>
<p>å”¯ä¸€ï¼šunique</p>
<p>ä¸»é”®ï¼šprimary keyï¼ˆPKï¼‰</p>
<p>å¤–é”®ï¼šforeign keyï¼ˆFKï¼‰</p>
<p>æ£€æŸ¥ï¼šcheckï¼ˆMySQLä¸æ”¯æŒï¼ŒOracleæ”¯æŒï¼‰</p>
<h5 id="çº¦æŸçš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#çº¦æŸçš„ä½¿ç”¨"></a> çº¦æŸçš„ä½¿ç”¨</h5>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># éç©º not null</span><br><span class="line"># éç©ºçº¦æŸçš„å­—æ®µä¸èƒ½ä¸ºnull</span><br><span class="line">drop table if exists con;</span><br><span class="line">create table con(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20) not null</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into con(id,name) values (1,&#x27;a&#x27;);</span><br><span class="line">insert into con(id,name) values (2,null); # å‡ºé”™,nameä¸èƒ½ä¸ºnull</span><br><span class="line">insert into con(id) values (3); # å‡ºé”™,nameæ²¡æœ‰é»˜è®¤å€¼</span><br><span class="line"></span><br><span class="line"># å”¯ä¸€æ€§ unique</span><br><span class="line"># å”¯ä¸€æ€§çº¦æŸçš„å­—æ®µä¸èƒ½é‡å¤</span><br><span class="line">drop table if exists con;</span><br><span class="line">create table con(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20) unique</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into con(id,name) values (1,&#x27;a&#x27;);</span><br><span class="line">insert into con(id,name) values (2,&#x27;a&#x27;); # nameä¸èƒ½å‡ºç°é‡å¤çš„å€¼</span><br><span class="line">insert into con(id) values (3,null); # nameå¯ä»¥ä¸ºnull,ä¸”nullä¸å±äºå€¼é‡å¤</span><br><span class="line"></span><br><span class="line"># å¤šå­—æ®µå„è‡ªå”¯ä¸€(åˆ—çº§çº¦æŸ,æ¯ä¸ªçº¦æŸä»…å¯¹å•ä¸ªå­—æ®µæœ‰æ•ˆ)</span><br><span class="line"># nameä¸èƒ½é‡å¤ä¸”emailä¹Ÿä¸èƒ½é‡å¤</span><br><span class="line">drop table if exists con;</span><br><span class="line">create table con(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20) unique,</span><br><span class="line">    email varchar(20) unique</span><br><span class="line">);</span><br><span class="line"># æµ‹è¯•æ•°æ®å¯ä»¥ç›´æ¥ç”¨ä¸‹é¢çš„</span><br><span class="line"></span><br><span class="line"># å¤šå­—æ®µç»„åˆå”¯ä¸€(è¡¨çº§çº¦æŸ,æ¯ä¸ªçº¦æŸå¯¹æ•´å¼ è¡¨æœ‰æ•ˆ,å¤šç”¨äºç»™å¤šä¸ªå­—æ®µæ·»åŠ è”åˆçº¦æŸ)</span><br><span class="line"># nameå’Œemailçš„ç»„åˆä¸èƒ½é‡å¤</span><br><span class="line">drop table if exists con;</span><br><span class="line">create table con(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20),</span><br><span class="line">    email varchar(20),</span><br><span class="line">    unique(name,email)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into con(id,name,email) values (1,&#x27;a&#x27;,&#x27;a@123.com&#x27;);</span><br><span class="line">insert into con(id,name,email) values (2,&#x27;a&#x27;,&#x27;a@456.com&#x27;);</span><br><span class="line">insert into con(id,name,email) values (3,&#x27;b&#x27;,&#x27;b@123.com&#x27;);</span><br><span class="line">insert into con(id,name,email) values (4,&#x27;a&#x27;,&#x27;a@456.com&#x27;);</span><br><span class="line"></span><br><span class="line"># not nullå’Œuniqueè”åˆ</span><br><span class="line">drop table if exists con;</span><br><span class="line">create table con(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20) not null unique</span><br><span class="line">);</span><br><span class="line">desc con;</span><br><span class="line">insert into con(id,name) values (1,&#x27;abc&#x27;);</span><br><span class="line">insert into con(id,name) values (2,&#x27;abc&#x27;); # å‡ºé”™,nameä¸èƒ½é‡å¤</span><br><span class="line">insert into con(id,name) values (3,null); # å‡ºé”™,nameä¸èƒ½ä¸ºnull</span><br><span class="line"></span><br><span class="line"># ä¸»é”® primary key</span><br><span class="line"># ä¸»é”®å­—æ®µä¸èƒ½é‡å¤ä¸”ä¸èƒ½ä¸ºnull,ç±»ä¼¼äºuniqueè”åˆnot nullä½†ä¸å®Œå…¨ç›¸åŒ</span><br><span class="line"># æ ¹æ®è®¾è®¡è§„èŒƒ,ä¸€å¼ è¡¨åº”è¯¥å­˜åœ¨ä¸”åªèƒ½å­˜åœ¨ä¸€ä¸ªä¸»é”®,ä¸»é”®é€šå¸¸æ˜¯intã€bigintã€charç­‰ç±»å‹çš„å­—æ®µ,ä¸å»ºè®®ä½¿ç”¨varcharç±»å‹å­—æ®µä½œä¸ºä¸»é”®</span><br><span class="line"># å•ä¸€ä¸»é”®,åˆ—çº§çº¦æŸ,ä¸€èˆ¬å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨</span><br><span class="line">drop table if exists con;</span><br><span class="line">create table con(</span><br><span class="line">	id int primary key,</span><br><span class="line">    name varchar(20)</span><br><span class="line">);</span><br><span class="line">desc con;</span><br><span class="line"># æµ‹è¯•æ•°æ®å¯ä»¥ç›´æ¥ç”¨ä¸‹é¢çš„</span><br><span class="line"></span><br><span class="line"># å¤åˆä¸»é”®,è¡¨çº§çº¦æŸ,ç”±äºå¤åˆä¸»é”®æ¶‰åŠå¤šå­—æ®µ,é€»è¾‘æ¯”è¾ƒå¤æ‚,ä¸€èˆ¬å¼€å‘ä¸­ä¸ä¼šä½¿ç”¨</span><br><span class="line">drop table if exists con;</span><br><span class="line">create table con(</span><br><span class="line">	id int,</span><br><span class="line">    name varchar(20),</span><br><span class="line">    primary key(id,name)</span><br><span class="line">);</span><br><span class="line">desc con;</span><br><span class="line"></span><br><span class="line">insert into con(id,name) values (1,&#x27;a&#x27;);</span><br><span class="line">insert into con(id,name) values (1,&#x27;a&#x27;); </span><br><span class="line">insert into con(id,name) values (1,&#x27;b&#x27;); </span><br><span class="line">insert into con(id,name) values (2,&#x27;a&#x27;); </span><br><span class="line">insert into con(id,name) values (3,null);</span><br><span class="line">insert into con(name) values (null,&#x27;a&#x27;);</span><br><span class="line"></span><br><span class="line"># ä¸»é”®è‡ªåŠ¨é€’å¢,è¿™é‡Œä¸»é”®å€¼é»˜è®¤ä»1å¼€å§‹,æŒ‰1é€’å¢</span><br><span class="line"># å¦‚æœinsertä¸­é€”æŒ‡å®šäº†ä¸»é”®å€¼,åˆ™ä»è¯¥ä¸»é”®å€¼å¼€å§‹æŒ‰1é€’å¢,å¦‚æœæŒ‡å®šäº†è¾ƒå°çš„ä¸»é”®å€¼,ä¼šè‡ªåŠ¨å‡åºæ’åº</span><br><span class="line">drop table if exists con;</span><br><span class="line">create table con( </span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">    name varchar(20)</span><br><span class="line">);</span><br><span class="line">desc con;</span><br><span class="line">insert into con(name) values (&#x27;a&#x27;);</span><br><span class="line">insert into con(name) values (&#x27;b&#x27;);</span><br><span class="line">insert into con(name) values (&#x27;c&#x27;);</span><br><span class="line"># æ­¤å¤–,ä¸»é”®è¿˜èƒ½åˆ†ä¸ºè‡ªç„¶ä¸»é”®å’Œä¸šåŠ¡ä¸»é”®,è‡ªç„¶ä¸»é”®ä½¿ç”¨è¾ƒå¤š,ä¸šåŠ¡ä¸»é”®è¾ƒå°‘</span><br><span class="line"></span><br><span class="line"># å¤–é”® foreign key</span><br><span class="line"># å¤–é”®æ¶‰åŠåˆ°ä¸¤å¼ ç›¸äº’æœ‰é€»è¾‘å…³ç³»çš„æ•°æ®è¡¨,ä¸»è¦æ˜¯ä¸ºäº†ä¿è¯ä¸¤å¼ è¡¨çš„é€»è¾‘å…³ç³»æœ‰æ•ˆ</span><br><span class="line"># å¤–é”®å…³è”çš„ä¸¤å¼ è¡¨æœ‰çˆ¶è¡¨å’Œå­è¡¨ä¹‹åˆ†</span><br><span class="line"># åˆ é™¤æ•°æ®æ—¶å…ˆå­è¡¨åçˆ¶è¡¨,æ–°å¢æ•°æ®æ—¶å…ˆçˆ¶è¡¨åå­è¡¨,åˆ é™¤è¡¨æ—¶å…ˆå­è¡¨åçˆ¶è¡¨,åˆ›å»ºè¡¨æ—¶å…ˆçˆ¶è¡¨åå­è¡¨</span><br><span class="line">drop table if exists son;</span><br><span class="line">drop table if exists dad;</span><br><span class="line">create table dad(</span><br><span class="line">	no int primary key,</span><br><span class="line">    name varchar(20)</span><br><span class="line">);</span><br><span class="line">create table son(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">    name varchar(20),</span><br><span class="line">    dad_no int,</span><br><span class="line">    foreign key(dad_no) references dad(no)</span><br><span class="line">);</span><br><span class="line">insert into dad(no,name) values (001,&#x27;fruit&#x27;);</span><br><span class="line">insert into dad(no,name) values (002,&#x27;animal&#x27;);</span><br><span class="line"></span><br><span class="line">insert into son(name,dad_no) values (&#x27;apple&#x27;,001);</span><br><span class="line">insert into son(name,dad_no) values (&#x27;pear&#x27;,001);</span><br><span class="line">insert into son(name,dad_no) values (&#x27;cat&#x27;,002);</span><br><span class="line">insert into son(name,dad_no) values (&#x27;rabbit&#x27;,002);</span><br><span class="line"># å¦å¤–è¢«å­è¡¨referencesçš„çˆ¶è¡¨å­—æ®µä¸ä¸€å®šæ˜¯ä¸»é”®,ä½†è‡³å°‘å…·æœ‰uniqueçš„çº¦æŸ</span><br></pre></td></tr></table></figure></div>
<h4 id="ä¸ƒ-å­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#ä¸ƒ-å­˜å‚¨å¼•æ“"></a> ä¸ƒã€å­˜å‚¨å¼•æ“</h4>
<h5 id="å­˜å‚¨å¼•æ“çš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#å­˜å‚¨å¼•æ“çš„æ¦‚å¿µ"></a> å­˜å‚¨å¼•æ“çš„æ¦‚å¿µ</h5>
<p>å­˜å‚¨å¼•æ“æ˜¯MySQLä¸­ç‰¹æœ‰çš„æœ¯è¯­ï¼Œè¡¨ç¤ºä¸€ä¸ªæ•°æ®è¡¨å­˜å‚¨ã€ç»„ç»‡æ•°æ®çš„æ–¹å¼ã€‚ä¸åŒçš„å­˜å‚¨å¼•æ“ï¼Œæ•°æ®è¡¨å­˜å‚¨æ•°æ®çš„æ–¹å¼ä¸åŒã€‚</p>
<h5 id="å­˜å‚¨å¼•æ“çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#å­˜å‚¨å¼•æ“çš„ä½¿ç”¨"></a> å­˜å‚¨å¼•æ“çš„ä½¿ç”¨</h5>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å‡†å¤‡å·¥ä½œ</span><br><span class="line">drop table if exists engine;</span><br><span class="line">create table if not exists engine(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">    name varchar(20)</span><br><span class="line">);</span><br><span class="line"># æŸ¥çœ‹å­˜å‚¨å¼•æ“,MySQLé»˜è®¤å­˜å‚¨å¼•æ“ä¸ºInnoDB</span><br><span class="line">show create table engine;</span><br><span class="line"></span><br><span class="line"># åœ¨åˆ›å»ºè¡¨æ—¶æŒ‡å®šå­˜å‚¨å¼•æ“</span><br><span class="line">drop table if exists engine;</span><br><span class="line">create table engine(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">    name varchar(20)</span><br><span class="line">)engine=innodb default charset=gbk;</span><br><span class="line">show create table engine;</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹MySQLç‰ˆæœ¬</span><br><span class="line">select version();</span><br><span class="line"># æŸ¥çœ‹æ”¯æŒçš„å­˜å‚¨å¼•æ“,ä¸åŒçš„MySQLç‰ˆæœ¬æ”¯æŒçš„å­˜å‚¨å¼•æ“å¯èƒ½ä¸ä¸€æ ·</span><br><span class="line">show engines;</span><br></pre></td></tr></table></figure></div>
<h5 id="å¸¸ç”¨å­˜å‚¨å¼•æ“ä»‹ç»"><a class="markdownIt-Anchor" href="#å¸¸ç”¨å­˜å‚¨å¼•æ“ä»‹ç»"></a> å¸¸ç”¨å­˜å‚¨å¼•æ“ä»‹ç»</h5>
<h6 id="myisamå­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#myisamå­˜å‚¨å¼•æ“"></a> MyISAMå­˜å‚¨å¼•æ“</h6>
<p>ä½¿ç”¨ä¸‰ç§æ–‡ä»¶æ¥è¡¨ç¤ºæ¯ä¸ªæ•°æ®è¡¨ï¼š</p>
<ul>
<li>æ ¼å¼æ–‡ä»¶(.frm)ï¼šå­˜å‚¨è¡¨ç»“æ„çš„å®šä¹‰</li>
<li>æ•°æ®æ–‡ä»¶(.myd)ï¼šå­˜å‚¨è¡¨è¡Œçš„å†…å®¹</li>
<li>ç´¢å¼•æ–‡ä»¶(.myi)ï¼šå­˜å‚¨è¡¨ä¸Šç´¢å¼•ï¼ˆä¸»é”®æˆ–uniqueçº¦æŸå­—æ®µä¼šè‡ªåŠ¨åˆ›å»ºç´¢å¼•ï¼‰</li>
</ul>
<p>ç‰¹ç‚¹ï¼šå¯ä»¥è¢«è½¬æ¢ä¸ºå‹ç¼©ï¼Œåªè¯»è¡¨é‡ŒèŠ‚çœç©ºé—´ï¼Œä½†ä¸æ”¯æŒäº‹åŠ¡ï¼Œå®‰å…¨æ€§ä½</p>
<h6 id="innodbå­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#innodbå­˜å‚¨å¼•æ“"></a> InnoDBå­˜å‚¨å¼•æ“</h6>
<p><strong>ä¸€èˆ¬å¼€å‘ä¸­æœ€ä¼˜å…ˆè€ƒè™‘çš„å­˜å‚¨å¼•æ“</strong>ï¼Œé‡é‡çº§çš„å­˜å‚¨å¼•æ“ï¼Œç®¡ç†çš„æ•°æ®è¡¨æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>æ¯ä¸ªæ•°æ®è¡¨åœ¨æ•°æ®åº“ç›®å½•ä¸­ä»¥.frmæ ¼å¼çš„æ–‡ä»¶è¡¨ç¤º</li>
<li>æä¾›ä¸€ç»„ç”¨äºè®°å½•äº‹åŠ¡æ€§è·å¾—çš„æ—¥å¿—æ–‡ä»¶</li>
<li>é€šè¿‡commitã€savepointå’Œrollbackæ”¯æŒäº‹åŠ¡å¤„ç†</li>
<li>æä¾›å…¨ACIDå…¼å®¹</li>
<li>åœ¨MySQLæœåŠ¡å™¨å´©æºƒåèƒ½å¤Ÿè‡ªåŠ¨æ¢å¤</li>
<li>å¤šç‰ˆæœ¬MVCCå’Œè¡Œçº§é”å®š</li>
<li>æ”¯æŒå¤–é”®çº§å¼•ç”¨çš„å®Œæ•´æ€§ï¼ŒåŒ…æ‹¬çº§è”åˆ é™¤å’Œæ›´æ–°</li>
</ul>
<p>ç‰¹ç‚¹ï¼šæ”¯æŒäº‹åŠ¡ï¼Œä»¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œä½†æ•ˆç‡ä¸é«˜ï¼Œä¸èƒ½å‹ç¼©ä¸èƒ½è½¬æ¢ä¸ºåªè¯»ï¼Œæ¯”è¾ƒå å­˜å‚¨ç©ºé—´</p>
<h6 id="memoryå­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#memoryå­˜å‚¨å¼•æ“"></a> MEMORYå­˜å‚¨å¼•æ“</h6>
<p>MEMORYå­˜å‚¨å¼•æ“ä»¥å‰ç§°ä¸ºheapå­˜å‚¨å¼•æ“ï¼Œç®¡ç†æ•°æ®åº“æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>åœ¨æ•°æ®åº“ç›®å½•å†…ï¼Œæ¯ä¸ªæ•°æ®è¡¨å‡ä»¥.frmæ ¼å¼çš„æ–‡ä»¶è¡¨ç¤º</li>
<li>è¡¨çš„æ•°æ®ä»¥åŠç´¢å¼•è¢«å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ˆè¿™æ˜¾è‘—æå‡äº†æŸ¥è¯¢é€Ÿåº¦ï¼‰</li>
<li>è¡¨çº§é”æœºåˆ¶</li>
<li>ä¸æ”¯æŒtextå’Œblobå­—æ®µ</li>
</ul>
<p>ç‰¹ç‚¹ï¼šå­—æ®µé•¿åº¦å›ºå®šï¼Œæ•°æ®å­˜å‚¨åœ¨å†…å­˜ï¼Œè¿™ä½¿å¾—å®ƒçš„æ•°æ®å¤„ç†æ•ˆç‡éå¸¸é«˜ï¼Œä½†åŒæ—¶ä¸€æ—¦MySQLæœåŠ¡é‡å¯ï¼Œå­˜å‚¨æ•°æ®å°±ä¼šä¸¢å¤±ï¼Œ<strong>ä¸€èˆ¬å¼€å‘ä¸­åªç”¨äºä¸´æ—¶å­˜å‚¨æ•°æ®</strong>ã€‚</p>
<h4 id="å…«-äº‹åŠ¡-è§†å›¾-æ•°æ®åº“è®¾è®¡"><a class="markdownIt-Anchor" href="#å…«-äº‹åŠ¡-è§†å›¾-æ•°æ®åº“è®¾è®¡"></a> å…«ã€äº‹åŠ¡ã€è§†å›¾ã€æ•°æ®åº“è®¾è®¡</h4>
<h5 id="äº‹åŠ¡transaction"><a class="markdownIt-Anchor" href="#äº‹åŠ¡transaction"></a> äº‹åŠ¡(transaction)</h5>
<ol>
<li>
<p>äº‹åŠ¡çš„æ¦‚å¿µï¼šä¸€ä¸ªäº‹åŠ¡å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ˜¯ä¸€ä¸ªä¸å¯å†åˆ†çš„æœ€å°çš„å·¥ä½œå•å…ƒã€‚ä¾‹å¦‚ï¼Œé“¶è¡Œè½¬è´¦ï¼ŒAå‘Bè½¬è´¦1000ï¼ŒAæ‰£é™¤1000ï¼ŒBå¢åŠ 1000ã€‚å¯ä»¥ç”¨ä¸¤ä¸ªupdateè¯­å¥å®ç°ï¼Œä½†å®ƒä»¬å¿…é¡»åŒæ—¶æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œè€Œä¸èƒ½å•ç‹¬æ‹†åˆ†ï¼Œå¦åˆ™å°±ä¸æ„æˆä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡é€»è¾‘ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæœ€å°çš„å·¥ä½œå•å…ƒã€‚</p>
</li>
<li>
<p>åªæœ‰åœ¨ä½¿ç”¨DMLè¯­å¥æ—¶æ‰ä¼šæ¶‰åŠåˆ°äº‹åŠ¡ï¼Œå› ä¸ºåªæœ‰DMLè¯­å¥ä¼šå¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹æ•°æ®è¡¨çš„æ•°æ®ï¼Œè¿™å°±ç¦»ä¸å¼€äº‹åŠ¡å®‰å…¨æ€§çš„è€ƒè™‘ã€‚</p>
</li>
<li>
<p>ç®€å•ç†è§£äº‹åŠ¡ï¼šå°±æ˜¯è¦ä½¿å¤šæ¡DMLè¯­å¥åŒæ—¶æˆåŠŸæˆ–å¤±è´¥çš„ä¸€ç§è§„åˆ™ã€‚</p>
</li>
<li>
<p>å¦‚ä½•å®ç°äº‹åŠ¡</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># InnoDBå­˜å‚¨å¼•æ“æä¾›äº†ä¸€ç»„ç”¨æ¥è®°å½•äº‹åŠ¡æ€§æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶</span><br><span class="line"># åœ¨äº‹åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ä¸­,æ¯ä¸€æ¡DMLçš„æ“ä½œéƒ½ä¼šè®°å½•åˆ°â€œäº‹åŠ¡æ€§æ´»åŠ¨çš„æ—¥å¿—æ–‡ä»¶â€ä¸­</span><br><span class="line"># åœ¨äº‹åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹é€šè¿‡æäº¤äº‹åŠ¡æˆ–è€…å›æ»šäº‹åŠ¡å°±èƒ½å®ç°äº‹åŠ¡è¦æ±‚çš„è§„åˆ™</span><br><span class="line"></span><br><span class="line"># MySQLé»˜è®¤æ˜¯è‡ªåŠ¨æäº¤äº‹åŠ¡,å³æ¯æ‰§è¡Œä¸€æ¡DMLè¯­å¥å°±æäº¤ä¸€æ¬¡,ä½†è¿™ä¸ç¬¦åˆå¼€å‘ä¹ æƒ¯</span><br><span class="line"># å…³é—­è‡ªåŠ¨æäº¤æœºåˆ¶ start transaction(ä»…å¯¹ä¸€æ¬¡äº‹åŠ¡æœ‰æ•ˆ)</span><br><span class="line"># æˆ–è€…ç›´æ¥è®¾ç½®å¼€å¯æˆ–å…³é—­è‡ªåŠ¨æäº¤(å¯¹æ‰€æœ‰äº‹åŠ¡æœ‰æ•ˆ)</span><br><span class="line">set autocommit=0; # å…³é—­è‡ªåŠ¨æäº¤</span><br><span class="line">set autocommit=1; # å¼€å¯è‡ªåŠ¨æäº¤</span><br><span class="line"># æäº¤äº‹åŠ¡commit,å›æ»šäº‹åŠ¡rollback</span><br><span class="line"># å‡†å¤‡å·¥ä½œ</span><br><span class="line">drop table if exists test;</span><br><span class="line">create table test(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">    name varchar(20)</span><br><span class="line">);</span><br><span class="line">select * from test;</span><br><span class="line"></span><br><span class="line">start transaction; # å…³é—­è‡ªåŠ¨æäº¤æœºåˆ¶,commitä¹‹åéœ€è¦é‡æ–°æ‰§è¡Œ</span><br><span class="line">insert into test(name) values (&#x27;a&#x27;);</span><br><span class="line">insert into test(name) values (&#x27;b&#x27;);</span><br><span class="line">insert into test(name) values (&#x27;c&#x27;);</span><br><span class="line">select * from test;</span><br><span class="line"></span><br><span class="line">rollback; # å›æ»šäº‹åŠ¡</span><br><span class="line">select * from test; # æœªæäº¤çš„äº‹åŠ¡æ¶ˆå¤±</span><br><span class="line"></span><br><span class="line">insert into test(name) values (&#x27;d&#x27;);</span><br><span class="line">commit; # æäº¤äº‹åŠ¡</span><br><span class="line">select * from test;</span><br><span class="line"></span><br><span class="line">rollback;</span><br><span class="line">select * from test; # å·²ç»æäº¤çš„äº‹åŠ¡,æ— æ³•å›æ»š</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>äº‹åŠ¡çš„4ä¸ªç‰¹æ€§ï¼ˆACIDï¼‰</p>
<p>Aï¼šåŸå­æ€§ï¼Œäº‹åŠ¡æ˜¯æœ€å°çš„å·¥ä½œå•å…ƒï¼Œä¸å¯å†åˆ†ã€‚</p>
<p>Cï¼šä¸€è‡´æ€§ï¼Œåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œæ‰€æœ‰æ“ä½œå¿…é¡»åŒæ—¶æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p>
<p>Iï¼šéš”ç¦»æ€§ï¼ŒAäº‹åŠ¡ä¸Bäº‹åŠ¡ä¹‹é—´å­˜åœ¨ä¸€å®šçš„éš”ç¦»ï¼Œæ ¹æ®éš”ç¦»æ€§å¯åˆ†æˆ4ä¸ªéš”ç¦»çº§åˆ«ã€‚</p>
<ul>
<li>
<p>è¯»æœªæäº¤ï¼šread uncommittedï¼ˆéš”ç¦»çº§åˆ«æœ€ä½ï¼‰</p>
<p>äº‹åŠ¡Aèƒ½å¤Ÿè¯»å–äº‹åŠ¡B<strong>æœªæäº¤çš„æ•°æ®</strong>ï¼Œè¿™ç§éš”ç¦»çº§åˆ«å­˜åœ¨è¯»å–åˆ°è„æ•°æ®çš„é—®é¢˜ï¼Œå³è¯»å–åˆ°å¹¶ä¸éœ€è¦çš„æ•°æ®ã€‚ä¸€èˆ¬å¼€å‘ä¸­ä¸ä¼šä½¿ç”¨è¿™ä¸ªéš”ç¦»çº§åˆ«ã€‚</p>
</li>
<li>
<p>è¯»å·²æäº¤ï¼šread committed</p>
<p>äº‹åŠ¡Aåªèƒ½è¯»å–äº‹åŠ¡B<strong>å·²æäº¤çš„æ•°æ®</strong>ï¼Œè¿™ç§éš”ç¦»çº§åˆ«é¿å…äº†è„è¯»é—®é¢˜ï¼Œä½†å­˜åœ¨ä¸å¯é‡å¤è¯»å–æ•°æ®çš„é—®é¢˜ï¼Œäº‹åŠ¡Bå†åšä»»ä½•æäº¤æ“ä½œä¹‹åï¼Œäº‹åŠ¡Aè¯»å–çš„æ•°æ®å°±ä¼šç›¸åº”åœ°å‘ç”Ÿæ”¹å˜ã€‚è¯»å–çš„æ•°æ®æ˜¯æ¯”è¾ƒçœŸå®çš„æ•°æ®ï¼Œè¿™æ˜¯<strong>Oracleæ•°æ®åº“é»˜è®¤çš„éš”ç¦»çº§åˆ«</strong>ã€‚</p>
</li>
<li>
<p>å¯é‡å¤è¯»ï¼šrepeatable read</p>
<p>äº‹åŠ¡Bå¼€å¯åï¼Œæ¯æ¬¡ä»äº‹åŠ¡Bè¯»å–çš„æ•°æ®éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå³ä½¿äº‹åŠ¡Bçš„æ•°æ®ä¿®æ”¹å¹¶æäº¤ï¼Œäº‹åŠ¡Aæ‰€<strong>è¯»å–åˆ°çš„æ•°æ®éƒ½æ˜¯äº‹åŠ¡Båˆšå¼€å§‹äº‹åŠ¡æ—¶çš„æ•°æ®</strong>ã€‚è¿™ç§éš”ç¦»çº§åˆ«é¿å…äº†ä¸å¯é‡å¤è¯»çš„é—®é¢˜ï¼Œä½†å‡ºç°äº†å¹»å½±è¯»çš„é—®é¢˜ï¼Œå³æ¯æ¬¡è¯»å–åˆ°çš„æ•°æ®éƒ½ä¸æ˜¯å½“å‰çš„çœŸå®æ•°æ®ï¼Œè¿™æ˜¯<strong>MySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«</strong>ã€‚</p>
</li>
<li>
<p>åºåˆ—åŒ–/ä¸²è¡ŒåŒ–ï¼šserializableï¼ˆæœ€é«˜éš”ç¦»çº§åˆ«ï¼‰</p>
<p>æ•ˆç‡æœ€ä½ï¼Œä½†è§£å†³äº†ä¸Šé¢å­˜åœ¨çš„æ‰€æœ‰é—®é¢˜ã€‚è¿™ç§éš”ç¦»çº§åˆ«çš„äº‹åŠ¡éœ€è¦æ’é˜Ÿï¼Œä¸èƒ½å¹¶å‘ã€‚synchronizedçº¿ç¨‹åŒæ­¥ï¼ˆäº‹åŠ¡åŒæ­¥ï¼‰ï¼Œæ¯æ¬¡è¯»å–åˆ°çš„æ•°æ®éƒ½æ˜¯æœ€çœŸå®çš„ï¼Œæ•ˆç‡ä¹Ÿæ˜¯æœ€ä½çš„ã€‚</p>
</li>
</ul>
<p>Dï¼šæŒä¹…æ€§ï¼Œäº‹åŠ¡å®Œæˆçš„ä¿éšœï¼Œäº‹åŠ¡æäº¤ä¹‹åï¼Œæ•°æ®å°±è¢«æŒä¹…åœ°ä¿å­˜ä¸‹æ¥ã€‚</p>
</li>
<li>
<p>éš”ç¦»çº§åˆ«éªŒè¯</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># åœ¨åŒä¸€ä¸ªå‘½ä»¤è¡Œæˆ–åŒä¸€ä¸ªæŸ¥è¯¢ä¸‹å¯èƒ½æ— æ³•å±•ç¤ºå‡ºéš”ç¦»çº§åˆ«çš„æ•ˆæœ,å»ºè®®äº‹åŠ¡Aå’Œäº‹åŠ¡Bå„æ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œæˆ–è€…åœ¨navicatä¸‹å„æ–°å»ºä¸€ä¸ªæŸ¥è¯¢</span><br><span class="line"># å»ºè®®æ¯æ¬¡é‡æ–°è®¾ç½®éš”ç¦»çº§åˆ«ä¹‹åé‡å¯å‘½ä»¤è¡Œæˆ–navicatåˆ·æ–°</span><br><span class="line"># æŸ¥çœ‹éš”ç¦»çº§åˆ«</span><br><span class="line">select @@tx_isolation;</span><br><span class="line"></span><br><span class="line"># å‡†å¤‡å·¥ä½œ</span><br><span class="line">create table isolation_level(</span><br><span class="line">	name varchar(20)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># read uncommitted è¯»æœªæäº¤</span><br><span class="line"># è®¾ç½®å…¨å±€éš”ç¦»çº§åˆ«ä¸ºread uncommitted</span><br><span class="line">set global transaction isolation level read uncommitted;</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">start transaction;</span><br><span class="line">select * from isolation_level;</span><br><span class="line"># äº‹åŠ¡B</span><br><span class="line">start transaction;</span><br><span class="line">insert into isolation_level values (&#x27;hello&#x27;);</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">select * from isolation_level; # è¯»å–åˆ°äº†æœªæäº¤çš„æ•°æ®</span><br><span class="line"></span><br><span class="line"># read committed è¯»å·²æäº¤</span><br><span class="line"># è®¾ç½®å…¨å±€éš”ç¦»çº§åˆ«ä¸ºread committed</span><br><span class="line">set global transaction isolation level read committed;</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">start transaction;</span><br><span class="line">select * from isolation_level;</span><br><span class="line"># äº‹åŠ¡B</span><br><span class="line">start transaction;</span><br><span class="line">insert into isolation_level values (&#x27;world&#x27;);</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">select * from isolation_level; # æœªè¯»å–åˆ°äº‹åŠ¡Bçš„æ•°æ®</span><br><span class="line"># äº‹åŠ¡B</span><br><span class="line">commit;</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">select * from isolation_level; # è¯»å–åˆ°äº†äº‹åŠ¡Bæäº¤çš„æ•°æ®</span><br><span class="line"></span><br><span class="line"># repeatable read å¯é‡å¤è¯»</span><br><span class="line"># è®¾ç½®å…¨å±€éš”ç¦»çº§åˆ«ä¸ºrepeatable read</span><br><span class="line">set global transaction isolation level repeatable read;</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">start transaction;</span><br><span class="line">select * from isolation_level;</span><br><span class="line"># äº‹åŠ¡B</span><br><span class="line">start transaction; # ç¬¬ä¸€æ¬¡å¼€å¯äº‹åŠ¡</span><br><span class="line">insert into isolation_level values (&#x27;read&#x27;);</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">select * from isolation_level;</span><br><span class="line"># äº‹åŠ¡B</span><br><span class="line">insert into isolation_level values (&#x27;repeat&#x27;);</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">select * from isolation_level;</span><br><span class="line"># äº‹åŠ¡B</span><br><span class="line">commit;</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">select * from isolation_level; # äº‹åŠ¡Aè¯»å–åˆ°çš„å§‹ç»ˆæ˜¯äº‹åŠ¡Bç¬¬ä¸€æ¬¡å¼€å¯äº‹åŠ¡æ—¶çš„æ•°æ®</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">commit;</span><br><span class="line">select * from isolation_level; # äº‹åŠ¡Aä¹Ÿæäº¤åå†æŸ¥è¯¢,å°±èƒ½è·å–äº‹åŠ¡Bçš„æœ€è¿‘ä¸€æ¬¡äº‹åŠ¡æäº¤çš„æ•°æ®</span><br><span class="line"># è¡¥å……è¯´æ˜:äº‹åŠ¡Bç¬¬ä¸€æ¬¡å¼€å¯äº‹åŠ¡è¿™ä¸ªæ¦‚å¿µæ˜¯ä»¥äº‹åŠ¡Aå¼€å¯äº‹åŠ¡åäº‹åŠ¡Bç¬¬ä¸€æ¬¡æ‰§è¡Œstart transactionä¸ºå‡†,ä¹Ÿå°±æ˜¯å½“äº‹åŠ¡Aæäº¤ä¹‹åå†æ¬¡å¼€å¯äº‹åŠ¡,é‡æ–°è®¡ç®—äº‹åŠ¡Bç¬¬ä¸€æ¬¡å¼€å¯äº‹åŠ¡</span><br><span class="line"></span><br><span class="line"># serializable åºåˆ—åŒ–</span><br><span class="line"># è®¾ç½®å…¨å±€éš”ç¦»çº§åˆ«ä¸ºserializable</span><br><span class="line">set global transaction isolation level serializable;</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">start transaction;</span><br><span class="line">select * from isolation_level;</span><br><span class="line"># äº‹åŠ¡B</span><br><span class="line">start transaction;</span><br><span class="line">insert into isolation_level values (&#x27;serializable&#x27;); # å¡ä½,å› ä¸ºäº‹åŠ¡Aæ²¡æœ‰æäº¤</span><br><span class="line"># äº‹åŠ¡A</span><br><span class="line">commit; # æäº¤äº‹åŠ¡Aåäº‹åŠ¡Bæ–°å¢æ•°æ®å®Œæˆ</span><br><span class="line">start transaction; # äº‹åŠ¡Aé‡æ–°å¼€å¯äº‹åŠ¡</span><br><span class="line">select * from isolation_level; # å¡ä½æˆ–è¶…æ—¶æŠ¥é”™,å› ä¸ºäº‹åŠ¡Bæ²¡æœ‰æäº¤</span><br><span class="line"># äº‹åŠ¡B</span><br><span class="line">commit; # æäº¤äº‹åŠ¡Båäº‹åŠ¡AæŸ¥è¯¢å®Œæˆè§†å›¾</span><br></pre></td></tr></table></figure></div>
</li>
</ol>
<h5 id="è§†å›¾view"><a class="markdownIt-Anchor" href="#è§†å›¾view"></a> è§†å›¾(view)</h5>
<ol>
<li>
<p>è§†å›¾çš„æ¦‚å¿µ</p>
<p>ä»å¤šä¸ªè§’åº¦è§‚å¯Ÿå¤„ç†åŒä¸€ä»½æ•°æ®ï¼Œæ¯ä¸€ä¸ªè§’åº¦å°±æ˜¯ä¸€ç§è§†å›¾ã€‚  ä¾‹å¦‚ï¼Œå¯¹åŒä¸€ä»½æ•°æ®è¿›è¡Œä¸åŒçš„å¤„ç†ï¼Œæ ¹æ®ä¸åŒçš„éœ€æ±‚å±•ç¤ºå‡ºç›¸åº”éƒ¨åˆ†çš„æ•°æ®æˆ–è€…æ ¹æ®ä¸åŒçš„æƒé™å±•ç¤ºå‡ºæ¯ä¸ªæƒé™è¢«å…è®¸æ¥è§¦åˆ°çš„æ•°æ®ã€‚</p>
</li>
<li>
<p>è§†å›¾çš„ä½¿ç”¨</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å‡†å¤‡å·¥ä½œ</span><br><span class="line">drop table if exists origin;</span><br><span class="line">create table origin(</span><br><span class="line">	id int primary key auto_increment,</span><br><span class="line">    name varchar(20),</span><br><span class="line">    age int,</span><br><span class="line">    department varchar(20)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into origin(name,age,department) values</span><br><span class="line">(&#x27;apple&#x27;,13,&#x27;developer&#x27;),</span><br><span class="line">(&#x27;orange&#x27;,14,&#x27;operator&#x27;);</span><br><span class="line"># å…ˆå¤‡ä»½åŸè¡¨,å¤åˆ¶åŸè¡¨</span><br><span class="line">create table origin_backup select * from origin;</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºè§†å›¾å¯¹è±¡,éœ€è¦aså…³é”®å­—,ä¸”åªèƒ½é€šè¿‡DQLè¯­å¥åˆ›å»º</span><br><span class="line">create view origin_view as select * from origin;</span><br><span class="line"># åˆ é™¤è§†å›¾å¯¹è±¡</span><br><span class="line">drop view origin_view;</span><br><span class="line"></span><br><span class="line"># å¯¹è§†å›¾å¯¹è±¡çš„å¢åˆ æ”¹æŸ¥ä¼šæ˜ å°„åˆ°åŸè¡¨çš„æ•°æ®ä¸Š</span><br><span class="line"># æŸ¥è¯¢è§†å›¾</span><br><span class="line">select * from origin_view;</span><br><span class="line"># æ–°å¢è§†å›¾æ•°æ®</span><br><span class="line">insert into origin_view(name,age,department) values</span><br><span class="line">(&#x27;mango&#x27;,12,&#x27;manager&#x27;),</span><br><span class="line">(&#x27;banana&#x27;,16,&#x27;admin&#x27;);</span><br><span class="line"># æŸ¥è¯¢åŸè¡¨</span><br><span class="line">select * from origin;</span><br><span class="line"># æ›´æ–°è§†å›¾æ•°æ®</span><br><span class="line">update origin_view set age=20 where name=&#x27;mango&#x27;;</span><br><span class="line">select * from origin;</span><br><span class="line"># åˆ é™¤è§†å›¾æ•°æ®</span><br><span class="line">delete from origin_view;</span><br><span class="line">select * from origin;</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>è§†å›¾å¯¹è±¡çš„å®é™…å¼€å‘ç”¨é€”</p>
<ul>
<li>è§†å›¾çš„ä½¿ç”¨èƒ½å¤Ÿæœ‰æ•ˆç®€åŒ–å¼€å‘ï¼Œæ–¹ä¾¿ç»´æŠ¤ï¼Œæé«˜å¼€å‘æ•ˆç‡</li>
<li>å•ç‹¬çš„SQLè¯­å¥åªèƒ½é’ˆå¯¹ä¸€å¼ æ•°æ®è¡¨çš„æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œè€Œè§†å›¾çš„ä½¿ç”¨å°†å¤šå¼ è¡¨çš„æ•°æ®é›†ä¸­åˆ°ä¸€ä¸ªè§†å›¾ï¼Œé€šè¿‡å¯¹è¿™ä¸ªè§†å›¾æ•°æ®çš„ä¿®æ”¹ï¼Œå°±èƒ½ä¸€æ¬¡æ€§å®ç°å¯¹å¤šå¼ è¡¨æ•°æ®çš„ä¿®æ”¹ï¼Œè€Œä¸éœ€è¦æ¯ä¸€å¼ æ•°æ®è¡¨é‡å¤å†™ä¸€æ¡SQLè¯­å¥å»ä¿®æ”¹</li>
<li>å¦å¤–å¯¹äºåæœŸå¤§é‡æ•°æ®è¡¨çš„ç»´æŠ¤ï¼Œåªéœ€è¦é‡æ–°ä¿®æ”¹è§†å›¾å¯¹è±¡æ‰€æ˜ å°„çš„DQLè¯­å¥å°±èƒ½çµæ´»åœ°æŒ‡å®šéœ€è¦ç»´æŠ¤çš„æ•°æ®è¡¨çš„æ•°æ®</li>
</ul>
</li>
</ol>
<h5 id="æ•°æ®åº“è®¾è®¡ä¸‰å¤§èŒƒå¼"><a class="markdownIt-Anchor" href="#æ•°æ®åº“è®¾è®¡ä¸‰å¤§èŒƒå¼"></a> æ•°æ®åº“è®¾è®¡ï¼šä¸‰å¤§èŒƒå¼</h5>
<h6 id="ä¸‰å¤§èŒƒå¼çš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#ä¸‰å¤§èŒƒå¼çš„æ¦‚å¿µ"></a> ä¸‰å¤§èŒƒå¼çš„æ¦‚å¿µ</h6>
<p>èŒƒå¼æ˜¯æ•°æ®åº“æ•°æ®è¡¨çš„è®¾è®¡ä¾æ®ï¼Œæ˜¯ä¸€ç§è§„èŒƒå’Œç»Ÿä¸€æ ‡å‡†ã€‚è®¾è®¡æ•°æ®åº“è¡¨æ—¶ï¼ŒæŒ‰ç…§ä»¥ä¸‹3ç§èŒƒå¼è¿›è¡Œï¼Œå¯ä»¥é¿å…è¡¨ä¸­æ•°æ®çš„å†—ä½™ï¼Œç©ºé—´çš„æµªè´¹ã€‚</p>
<h6 id="ç¬¬ä¸€èŒƒå¼"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€èŒƒå¼"></a> ç¬¬ä¸€èŒƒå¼</h6>
<p>ç¬¬ä¸€èŒƒå¼ï¼šè¦æ±‚ä»»ä½•ä¸€å¼ è¡¨å¿…é¡»æœ‰ä¸»é”®ï¼Œæ¯ä¸€ä¸ªå­—æ®µåŸå­æ€§ä¸å¯å†åˆ†ã€‚</p>
<p>å­—æ®µåŸå­æ€§æ˜¯æŒ‡å­—æ®µæ•°æ®ä¸èƒ½å†æ‹†åˆ†ï¼Œä¾‹å¦‚ï¼Œè”ç³»æ–¹å¼å­—æ®µä¸‹çš„æ•°æ®åŒæ—¶å‡ºç°æ‰‹æœºå·å’Œé‚®ç®±ä¸¤ä¸ªè”ç³»æ–¹å¼ï¼Œè¯´æ˜è”ç³»æ–¹å¼å­—æ®µè¿˜èƒ½æ‹†åˆ†æœªæ‰‹æœºå·å’Œé‚®ç®±ä¸¤ä¸ªå­—æ®µã€‚</p>
<h6 id="ç¬¬äºŒèŒƒå¼"><a class="markdownIt-Anchor" href="#ç¬¬äºŒèŒƒå¼"></a> ç¬¬äºŒèŒƒå¼</h6>
<p>ç¬¬äºŒèŒƒå¼ï¼šå»ºç«‹åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œè¦æ±‚æ‰€æœ‰éä¸»é”®å­—æ®µå®Œå…¨ä¾èµ–ä¸»é”®ï¼Œ<br />
ä¸è¦äº§ç”Ÿéƒ¨åˆ†ä¾èµ–ã€‚</p>
<p>éƒ¨åˆ†ä¾èµ–é€šå¸¸å‡ºç°åœ¨å¤šå¯¹å¤šé€»è¾‘å…³ç³»(ä¾‹å¦‚å¤šä¸ªå­¦ç”Ÿå¯¹åº”å¤šä¸ªæ•™å¸ˆ)çš„æ•°æ®è¡¨ä¸­ï¼Œå‡è®¾æŠŠå­¦ç”Ÿç¼–å·å’Œæ•™å¸ˆç¼–å·è®¾ç½®ä¸ºå¤åˆä¸»é”®ï¼Œå­¦ç”Ÿä¾èµ–å­¦ç”Ÿç¼–å·ï¼Œæ•™å¸ˆä¾èµ–æ•™å¸ˆç¼–å·ï¼Œè¿™å°±äº§ç”Ÿäº†éƒ¨åˆ†ä¾èµ–(<strong>éƒ¨åˆ†ä¾èµ–äº§ç”Ÿçš„æ ¹æºå°±æ˜¯å¤åˆä¸»é”®çš„å­˜åœ¨ï¼Œå› æ­¤è®¾è®¡ä¸­ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨å¤åˆä¸»é”®</strong>)ã€‚ä»æ ¹æœ¬ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦å°†è¿™ä¸€å¼ æ•°æ®è¡¨åˆ†æˆå­¦ç”Ÿè¡¨ï¼Œæ•™å¸ˆè¡¨ä»¥åŠå…³ç³»è¡¨ä¸‰å¼ æ•°æ®è¡¨ï¼Œå¹¶åœ¨å…³ç³»è¡¨ä¸­è®¾ç½®å­¦ç”Ÿè¡¨å’Œæ•™å¸ˆè¡¨ä¸¤ä¸ªå¤–é”®ã€‚</p>
<h6 id="ç¬¬ä¸‰èŒƒå¼"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰èŒƒå¼"></a> ç¬¬ä¸‰èŒƒå¼</h6>
<p>ç¬¬ä¸‰èŒƒå¼ï¼šå»ºç«‹åœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œè¦æ±‚æ‰€æœ‰éä¸»é”®å­—æ®µç›´æ¥ä¾èµ–ä¸»é”®ï¼Œ<br />
ä¸è¦äº§ç”Ÿä¼ é€’ä¾èµ–ã€‚</p>
<p>ä¼ é€’ä¾èµ–é€šå¸¸å‡ºç°åœ¨ä¸€å¯¹å¤šé€»è¾‘å…³ç³»(ä¾‹å¦‚ä¸€ä¸ªç­çº§å¯¹åº”å¤šä¸ªå­¦ç”Ÿ)çš„æ•°æ®è¡¨ä¸­ï¼Œå‡è®¾å­¦ç”Ÿç¼–å·ä¸ºä¸»é”®ï¼Œç­çº§åç§°ä¾èµ–ç­çº§ç¼–å·ï¼Œè€Œä¸€ä¸ªç­çº§ç¼–å·ä¾èµ–å¤šä¸ªå­¦ç”Ÿç¼–å·ï¼Œè¿™å°±äº§ç”Ÿäº†ä¼ é€’ä¾èµ–ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦å°†è¿™ä¸€å¼ æ•°æ®è¡¨åˆ†æˆå­¦ç”Ÿè¡¨å’Œç­çº§è¡¨ï¼Œå¤–é”®åˆ™è®¾ç½®åœ¨æ•°æ®ç›¸å¯¹è¾ƒå¤šçš„æ•°æ®è¡¨ä¸­ã€‚</p>
<h6 id="æ•°æ®è¡¨è®¾è®¡æ€»ç»“"><a class="markdownIt-Anchor" href="#æ•°æ®è¡¨è®¾è®¡æ€»ç»“"></a> æ•°æ®è¡¨è®¾è®¡æ€»ç»“</h6>
<ul>
<li>
<p>ä¸€å¯¹å¤šï¼Œä¸¤å¼ è¡¨ï¼Œæ•°æ®å¤šçš„åŠ å¤–é”®</p>
</li>
<li>
<p>å¤šå¯¹å¤šï¼Œä¸‰å¼ è¡¨ï¼Œå…³ç³»è¡¨ä¸¤ä¸ªå¤–é”®</p>
</li>
<li>
<p>å¦å¤–å¯¹äºä¸€å¯¹ä¸€é€»è¾‘å…³ç³»çš„æ•°æ®è¡¨ï¼Œå¦‚æœå­—æ®µæ•°è¿‡å¤šä¹Ÿå»ºè®®è¿›è¡Œè¡¨çš„æ‹†åˆ†ã€‚ä¸€èˆ¬æ‹†åˆ†æˆä¸¤å¼ è¡¨ï¼Œè¿™æ—¶åªéœ€è¦åœ¨å…¶ä¸­ä¸€å¼ è¡¨ä¸­æ·»åŠ ä¸€ä¸ªå”¯ä¸€æ€§çº¦æŸ(ä¸€å¯¹ä¸€é€»è¾‘å…³ç³»çš„æ•°æ®è¡¨ç†è®ºä¸Šä¸å¯èƒ½å‡ºç°é‡å¤çš„å¤–é”®å­—æ®µå€¼)çš„å¤–é”®å­—æ®µå³å¯ï¼Œå¤–é”®å­—æ®µé€šå¸¸é“¾æ¥çš„æ˜¯å¦ä¸€å¼ è¡¨çš„ä¸»é”®å­—æ®µã€‚</p>
</li>
</ul>
<p>æœ€åï¼Œæ•°æ®åº“è®¾è®¡ä¸‰å¤§èŒƒå¼ä¹Ÿåªæ˜¯ç†æƒ³ä¸Šçš„æ ‡å‡†ã€‚å®é™…å¼€å‘ä¸­ï¼Œç»“åˆå®é™…éœ€æ±‚ï¼Œæœ‰å¿…è¦ç‰ºç‰²ä¸€éƒ¨åˆ†å­˜å‚¨ç©ºé—´ã€è§„èŒƒç­‰æ¥æ¢å–æ›´é«˜çš„å¼€å‘æ•ˆç‡å’Œæ›´å¥½çš„ä½¿ç”¨ä½“éªŒï¼Œè¿™æ‰æ˜¯æ•°æ®åº“æ•°æ®è¡¨è®¾è®¡çš„æœ€é«˜ç›®çš„ã€‚</p>
]]></content>
      <categories>
        <category>MySQL5</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>RSSè®¢é˜…çš„ä½¿ç”¨ä»¥åŠä¼˜åŠ¿</title>
    <url>/2022/09/04/RSS/</url>
    <content><![CDATA[<h3 id="rssreally-simple-syndicationç®€æ˜“ä¿¡æ¯èšåˆ"><a class="markdownIt-Anchor" href="#rssreally-simple-syndicationç®€æ˜“ä¿¡æ¯èšåˆ"></a> RSS(Really Simple Syndication)ç®€æ˜“ä¿¡æ¯èšåˆ</h3>
<h4 id="å®šä¹‰"><a class="markdownIt-Anchor" href="#å®šä¹‰"></a> å®šä¹‰</h4>
<p>RSSæœ¬èº«æ˜¯ä¸€ç§æ¶ˆæ¯æ¥æºæ ¼å¼è§„èŒƒï¼Œä¸»è¦ç”¨äºèšåˆæ•°æ®æ—¶æ•ˆæ€§å¾ˆå¼ºçš„ç½‘ç«™ï¼Œä¾‹å¦‚ä¸ªäººåšå®¢æ–‡ç« ã€æ–°é—»ï¼Œä»¥åŠå¾ˆå¤šç¤¾äº¤ç½‘ç«™ã€‚RSSæ–‡ä»¶åŒ…å«å…¨æ–‡æˆ–è€…éƒ¨åˆ†å†…å®¹ã€‚<span id="more"></span></p>
<h4 id="ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#ç‰¹ç‚¹"></a> ç‰¹ç‚¹</h4>
<ul>
<li>èƒ½å¤Ÿè‡ªä¸»é€‰æ‹©æ‚¨æ„Ÿå…´è¶£çš„å†…å®¹å’Œä¿¡æ¯è¿›è¡Œæµè§ˆ</li>
<li>é€šè¿‡RSSï¼Œæ‚¨å¯ä»¥æŠŠéœ€è¦çš„ä¿¡æ¯ä»ç½‘ç«™ä¸­ç­›é€‰å‡ºæ¥ï¼Œæ’é™¤æ‰é‚£äº›ä¸éœ€è¦çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å¹¿å‘Š</li>
<li>é€šè¿‡RSSï¼Œæ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„æ–°é—»é¢‘é“ï¼Œå¹¶å‘å¸ƒåˆ°äº’è”ç½‘ä¸Šä¾›å…¶ä»–äººä»¥RSSè®¢é˜…æ‚¨çš„æ–°é—»é¢‘é“</li>
<li>ä½¿ç”¨RSSçš„å®¢æˆ·ç«¯ï¼Œèƒ½å¤Ÿåœ¨ä¸æ‰“å¼€ç½‘ç«™å†…å®¹é¡µé¢çš„æƒ…å†µä¸‹é˜…è¯»æ”¯æŒRSSè¾“å‡ºçš„ç½‘ç«™å†…å®¹</li>
</ul>
<h4 id="å®¢æˆ·ç«¯"><a class="markdownIt-Anchor" href="#å®¢æˆ·ç«¯"></a> å®¢æˆ·ç«¯</h4>
<p>windowså¹³å°è¿™é‡Œæ¨èå¾®è½¯å•†åº—çš„Fluent Reader<a class="link"   href="https://apps.microsoft.com/store/detail/9P71FC94LRH8" >å®˜ç½‘é“¾æ¥ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <tags>
        <tag>RSS</tag>
      </tags>
  </entry>
  <entry>
    <title>RedisåŸºç¡€</title>
    <url>/2022/09/14/Redis-Base/</url>
    <content><![CDATA[<h3 id="redisåŸºç¡€"><a class="markdownIt-Anchor" href="#redisåŸºç¡€"></a> RedisåŸºç¡€</h3>
<h4 id="æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#æ¦‚å¿µ"></a> æ¦‚å¿µ</h4>
<p>redisæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„NoSQLç³»åˆ—çš„éå…³ç³»å‹æ•°æ®åº“ï¼Œå…¨ç§°Remote Dictionary Serverè¿œç¨‹å­—å…¸æœåŠ¡å™¨ï¼Œæ˜¯åŸºäºCè¯­è¨€å¼€å‘çš„ä¸€ä¸ªå¼€æºçš„é«˜æ€§èƒ½é”®å€¼å¯¹æ•°æ®åº“<span id="more"></span></p>
<p>NoSQLï¼Œå…¨ç§°Not-Only SQLï¼Œæ³›æŒ‡éå…³ç³»å‹çš„æ•°æ®åº“ï¼Œä¸“é—¨ç”¨äºåº”å¯¹åŸºäºæµ·é‡ç”¨æˆ·å’Œæµ·é‡æ•°æ®ä¸‹çš„æ•°æ®å¤„ç†é—®ï¼Œä¸åŒäºMySQLè¿™ç±»å…³ç³»å‹æ•°æ®åº“ï¼ŒNoSQLç³»åˆ—çš„éå…³ç³»å‹æ•°æ®åº“å‡å°‘äº†ç£ç›˜è¯»å†™æ¬¡æ•°ã€å»é™¤äº†æ•°æ®é—´çš„å…³è”æ€§å¼¥è¡¥å…³ç³»å‹æ•°æ®åº“åœ¨ç£ç›˜è¯»å†™æ€§èƒ½ã€å¤æ‚çš„æ•°æ®å…³è”æ€§éš¾äºæ‰©å±•çš„ä¸è¶³ï¼Œä¸“é—¨ç”¨äºåº”å¯¹å¤§é‡ç”¨æˆ·<strong>é«˜å¹¶å‘</strong>çš„é—®é¢˜</p>
<p>ä½†éå…³ç³»å‹æ•°æ®åº“ä¸å…³ç³»å‹æ•°æ®åº“åœ¨å¼€å‘ä¸­ä¸€èˆ¬ä¼šé…åˆä½¿ç”¨ï¼Œéå…³ç³»å‹æ•°æ®åº“èƒ½å®ç°å¤§é‡æ•°æ®çš„é«˜æ•ˆç‡è®¿é—®ï¼Œå…³ç³»å‹æ•°æ®åº“èƒ½å®ç°å¤æ‚çš„æ•°æ®æŸ¥è¯¢ä»¥åŠä¿éšœå®‰å…¨æ€§èƒ½çš„äº‹åŠ¡æœºåˆ¶ã€‚å•ä¸€çš„éå…³ç³»æ•°æ®åº“åˆ™æ— æ³•å®ç°å¤æ‚æŸ¥è¯¢ã€å®‰å…¨ä¿éšœï¼Œå•ä¸€çš„å…³ç³»å‹æ•°æ®åº“ä¹Ÿæ— æ³•å®ç°é«˜æ•ˆè®¿é—®ã€‚å› æ­¤è”åˆä½¿ç”¨éå…³ç³»æ•°æ®åº“å’Œå…³ç³»å‹æ•°æ®åº“ï¼Œç›¸äº’å¼¥è¡¥ç¼ºç‚¹ï¼Œæ‰èƒ½æä¾›æœ€å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h4 id="å¼€å§‹ä½¿ç”¨"><a class="markdownIt-Anchor" href="#å¼€å§‹ä½¿ç”¨"></a> å¼€å§‹ä½¿ç”¨</h4>
<h5 id="ä¸‹è½½å®‰è£…"><a class="markdownIt-Anchor" href="#ä¸‹è½½å®‰è£…"></a> ä¸‹è½½å®‰è£…</h5>
<p>redis<a class="link"   href="https://redis.io" >å®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ä»¥åŠ<a class="link"   href="http://www.redis.net.cn/" >ä¸­æ–‡å®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ä¸»è¦æä¾›çš„æ˜¯Linuxå‘è¡Œç‰ˆä¸‹çš„redisç‰ˆæœ¬ï¼Œç”¨äºæŠ•å…¥å¼€å‘ä½¿ç”¨ã€‚æœ¬æ–‡ç« ä»¥windowsç³»ç»Ÿä¸‹çš„redisç‰ˆæœ¬åšä¸ºå­¦ä¹ ä½¿ç”¨ï¼Œåœ¨GitHubä¸Šçš„<a class="link"   href="https://github.com/microsoftarchive/redis/releases" >Releases Â· microsoftarchive/redis <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ä¸‹è½½zipå‹ç¼©åŒ…æ‰¾åˆ°å†…éƒ¨çš„releaseç›®å½•ä¸‹å«æœ‰redisä¸»è¦çš„exeæ–‡ä»¶çš„å‹ç¼©åŒ…åè§£å‹å³å¯ï¼ˆè¿™é‡Œæ˜¯ä»¥2.8.9ç‰ˆæœ¬ä¸ºä¾‹ï¼‰</p>
<p>å…³äºredisçš„å›¾å½¢åŒ–ç®¡ç†å·¥å…·<a class="link"   href="https://github.com/uglide/RedisDesktopManager" >ä¸‹è½½ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>(æœ€æ–°ç‰ˆæœ¬éœ€è¦æ”¶è´¹ä½¿ç”¨)</p>
<h5 id="é‡è¦æ–‡ä»¶"><a class="markdownIt-Anchor" href="#é‡è¦æ–‡ä»¶"></a> é‡è¦æ–‡ä»¶</h5>
<p>rediså‹ç¼©åŒ…è§£å‹åç›®å½•ä¸‹çš„é‡è¦æ–‡ä»¶ä¸»è¦æ˜¯ä»¥ä¸‹æ–‡ä»¶ï¼š</p>
<ul>
<li>redis.windows.confï¼šé…ç½®æ–‡ä»¶</li>
<li>redis-cli.exeï¼šrediså®¢æˆ·ç«¯</li>
<li>redis-server.exeï¼šredisæœåŠ¡å™¨ç«¯</li>
</ul>
<h5 id="åŸºæœ¬æ“ä½œ"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ“ä½œ"></a> åŸºæœ¬æ“ä½œ</h5>
<p><strong>è¯·ç¡®ä¿redisæœåŠ¡å™¨ç«¯å…ˆå¯åŠ¨ï¼Œå¦åˆ™rediså®¢æˆ·ç«¯åœ¨å¯åŠ¨åå°†ä¼šæ— æ³•è¿æ¥è‡³redisæœåŠ¡å™¨ç«¯</strong></p>
<p>redisæ•°æ®ç±»å‹ï¼šstringã€hashã€listã€setã€sorted_set/zset</p>
<p>æ³¨æ„ï¼šåœ¨æœªæŒä¹…åŒ–redisä¸­çš„æ•°æ®æ—¶ï¼Œå…³é—­redisæœåŠ¡å™¨ç«¯ä¼šå¯¼è‡´åœ¨rediså®¢æˆ·ç«¯å­˜å‚¨çš„æ•°æ®å…¨éƒ¨ä¸¢å¤±ï¼Œå› æ­¤è¯·åœ¨ç¡®ä¿redisæœåŠ¡å™¨ç«¯ä¸€ç›´è¿è¡Œçš„å‰æä¸‹ï¼Œæµ‹è¯•ä¸‹é¢çš„å‘½ä»¤æ“ä½œ</p>
<ol>
<li>
<p>å­—ç¬¦ä¸²ç±»å‹ï¼šstring</p>
<p>ä¸»è¦ç”¨äºå­˜å‚¨å•ä¸ªæ•°æ®ï¼Œæ˜¯æœ€ç®€å•ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ•°æ®å­˜å‚¨ç±»å‹</p>
<p>ä¸€ä¸ªå­˜å‚¨ç©ºé—´å­˜å‚¨ä¸€ä¸ªæ•°æ®</p>
<p>å­˜å‚¨çš„æ•°æ®å¦‚æœæ˜¯æ•´æ•°ç±»å‹ï¼Œåˆ™å¯è¿›è¡Œæ•°å­—æ“ä½œ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­˜å‚¨å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: set key value</span></span><br><span class="line"><span class="comment"># å­˜å‚¨ä¸€ä¸ªé”®ä¸ºname, å€¼ä¸ºtomçš„å­—ç¬¦ä¸²æ•°æ®</span></span><br><span class="line"><span class="built_in">set</span> name tom</span><br><span class="line"><span class="comment"># å­˜å‚¨ä¸€ä¸ªé”®ä¸ºage, å€¼ä¸º26çš„å­—ç¬¦ä¸²æ•°æ®</span></span><br><span class="line"><span class="built_in">set</span> age 26</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: get key</span></span><br><span class="line"><span class="comment"># è·å–nameé”®å¯¹åº”çš„å€¼</span></span><br><span class="line">get name</span><br><span class="line"><span class="comment"># è·å–ageé”®å¯¹åº”çš„å€¼</span></span><br><span class="line">get age</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: del key</span></span><br><span class="line"><span class="comment"># åˆ é™¤nameé”®å¯¹åº”çš„å€¼</span></span><br><span class="line">del name</span><br><span class="line"><span class="comment">#åˆ é™¤ageé”®å¯¹åº”çš„å€¼</span></span><br><span class="line">del age</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°è·å–å€¼, ç¡®è®¤æ˜¯å¦å·²ç»åˆ é™¤</span></span><br><span class="line">get name</span><br><span class="line">get age</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°å­—æ“ä½œå‘½ä»¤</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå¢å¤„ç†incr key, å½“keyä¸å­˜åœ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»º, é»˜è®¤è‡ªå¢å€¼1</span></span><br><span class="line">incr num <span class="comment">#numé”®è‹¥ä¸å­˜åœ¨, åˆ™è‡ªåŠ¨åˆ›å»º</span></span><br><span class="line"><span class="comment"># è‡ªå¢æŒ‡å®šæ•°æ®incrby key increment</span></span><br><span class="line">incrby num 20 <span class="comment">#æŒ‡å®šnumé”®çš„å€¼è‡ªå¢20</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå‡å¤„ç†decr key, åŒæ ·çš„è‹¥keyä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º, é»˜è®¤è‡ªå‡å€¼1</span></span><br><span class="line">decr num</span><br><span class="line"><span class="comment"># è‡ªå‡æŒ‡å®šæ•°æ®decrby key decrement</span></span><br><span class="line">decrby num 30</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>å“ˆå¸Œç±»å‹ï¼šhash</p>
<p>ä¸»è¦ç”¨äºåˆ†ç»„å­˜å‚¨æœ‰ä¸€å®šå…³è”æ€§çš„æ•°æ®ï¼Œæ¯”å¦‚javaå¯¹è±¡ä¸­çš„ä¸€ç³»åˆ—æˆå‘˜å˜é‡æ•°æ®</p>
<p>ä¸€ä¸ªå­˜å‚¨ç©ºé—´å­˜å‚¨å¤šä¸ªé”®å€¼å¯¹æ•°æ®</p>
<p>åº•å±‚ä½¿ç”¨å“ˆå¸Œè¡¨ç»“æ„å®ç°æ•°æ®å­˜å‚¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­˜å‚¨å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: hset key field value</span></span><br><span class="line"><span class="comment"># åœ¨myhashé”®ä¸­å­˜å‚¨ä¸€ä¸ªnameå­—æ®µ, å€¼ä¸ºjerryçš„æ•°æ®</span></span><br><span class="line">hset myhash name jerry</span><br><span class="line"><span class="comment"># åœ¨myhashé”®ä¸­å­˜å‚¨ä¸€ä¸ªpasswordå­—æ®µ, å€¼ä¸ºpassçš„æ•°æ®</span></span><br><span class="line">hset myhash password pass</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼ä¸€: hget key field è·å–æŒ‡å®šçš„fieldæ‰€å¯¹åº”çš„å€¼</span></span><br><span class="line"><span class="comment"># è·å–myhashé”®ä¸­nameå­—æ®µçš„å€¼</span></span><br><span class="line">hget myhash name</span><br><span class="line"><span class="comment"># æ ¼å¼äºŒ: hgetall key è·å–æŒ‡å®škeyä¸‹çš„æ‰€æœ‰fieldå’Œvalue</span></span><br><span class="line"><span class="comment"># è·å–myhashé”®ä¸‹çš„æ‰€æœ‰é”®å€¼å¯¹æ•°æ®</span></span><br><span class="line">hgetall myhash</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: hdel key field</span></span><br><span class="line"><span class="comment"># åˆ é™¤myhashé”®ä¸‹çš„nameå­—æ®µåŠå…¶å¯¹åº”çš„å€¼</span></span><br><span class="line">hdel myhash name</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>åˆ—è¡¨ç±»å‹ï¼šlist</p>
<p>ä¸»è¦ç”¨äºå­˜å‚¨å¤šä¸ªæ•°æ®ï¼Œå¹¶å¯¹æ•°æ®å…ˆåè¿›å…¥å­˜å‚¨ç©ºé—´çš„é¡ºåºè¿›è¡ŒåŒºåˆ†</p>
<p>ä¸€ä¸ªå­˜å‚¨ç©ºé—´å­˜å‚¨å¤šä¸ªæ•°æ®ï¼Œä¸”åŒºåˆ†æ•°æ®å­˜å‚¨çš„å…ˆåé¡ºåº</p>
<p>åº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨ç»“æ„å®ç°æ•°æ®å­˜å‚¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­˜å‚¨å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼ä¸€: lpush key value åœ¨åˆ—è¡¨å·¦è¾¹(å¤´éƒ¨)æ·»åŠ æ•°æ®</span></span><br><span class="line"><span class="comment"># æ ¼å¼äºŒ: rpush key value åœ¨åˆ—è¡¨å³è¾¹(å°¾éƒ¨)æ·»åŠ æ•°æ®</span></span><br><span class="line"><span class="comment"># å…ˆä»»æ„æ·»åŠ ä¸€ä¸ªæµ‹è¯•çš„åˆå§‹æ•°æ®</span></span><br><span class="line">lpush mylist origin</span><br><span class="line"><span class="comment"># åœ¨mylisté”®åˆ—è¡¨å¤´éƒ¨æ·»åŠ ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">lpush mylist <span class="built_in">head</span></span><br><span class="line"><span class="comment"># åœ¨mylisté”®åˆ—è¡¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">rpush mylist <span class="built_in">tail</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å‘½ä»¤</span></span><br><span class="line"><span class="comment"># lrange key start end æ ¹æ®startå’Œendçš„èŒƒå›´è·å–</span></span><br><span class="line"><span class="comment"># listæ•°æ®ä¸‹æ ‡ä»0å¼€å§‹, è‹¥ä½¿ç”¨è´Ÿæ•°, åˆ™è¡¨ç¤ºä»åˆ—è¡¨å°¾éƒ¨å€’æ•°ç¬¬å‡ ä¸ªæ•°æ®</span></span><br><span class="line"><span class="comment"># è·å–mylistä¸‹æ ‡0-2çš„æ•°æ®</span></span><br><span class="line">lrange mylist 0 2</span><br><span class="line">lrange mylist 0 -1 <span class="comment">#-1è¡¨ç¤ºåˆ—è¡¨å€’æ•°ç¬¬ä¸€ä¸ªæ•°æ®, å³æ­£æ•°æœ€åä¸€ä¸ªæ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼ä¸€: lpop key åˆ é™¤åˆ—è¡¨æœ€å·¦è¾¹çš„æ•°æ®</span></span><br><span class="line"><span class="comment"># æ ¼å¼äºŒ: rpop key åˆ é™¤åˆ—è¡¨æœ€å³è¾¹çš„æ•°æ®</span></span><br><span class="line"><span class="comment"># åˆ é™¤mylisté”®åˆ—è¡¨å¤´éƒ¨çš„ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">lpop mylist</span><br><span class="line"><span class="comment"># åˆ é™¤mylisté”®åˆ—è¡¨å°¾éƒ¨çš„ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">rpop mylist</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>é›†åˆç±»å‹ï¼šset</p>
<p>ä¸»è¦ç”¨äºå­˜å‚¨å¤§é‡çš„æ•°æ®ï¼Œæä¾›æ›´é«˜çš„æ•°æ®æŸ¥è¯¢æ•ˆç‡</p>
<p>ä¸€ä¸ªå­˜å‚¨ç©ºé—´èƒ½å¤Ÿå­˜å‚¨å¤§é‡æ•°æ®ï¼Œä¸”å…·æœ‰é«˜æ•ˆçš„å†…éƒ¨å­˜å‚¨æœºåˆ¶</p>
<p>åº•å±‚ä¸hashå­˜å‚¨ç»“æ„ç›¸åŒï¼Œå¹¶ä¸”ä¸å…è®¸å­˜å‚¨é‡å¤çš„å€¼</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­˜å‚¨å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: sadd key value</span></span><br><span class="line"><span class="comment"># åœ¨myseté”®å­˜å‚¨ä¸€ä¸ªå€¼ä¸ºaçš„æ•°æ®</span></span><br><span class="line">sadd myset a <span class="comment">#ç¬¬äºŒæ¬¡é‡å¤æ‰§è¡Œ, ä¸ä¼šå†æ–°å¢æ•°æ®</span></span><br><span class="line">sadd myset b</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: smembers key</span></span><br><span class="line"><span class="comment"># è·å–myseté”®ä¸­çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="line">smembers myset</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: srem key value</span></span><br><span class="line"><span class="comment"># åˆ é™¤myseté”®ä¸­å€¼ä¸ºaçš„æ•°æ®</span></span><br><span class="line">srem myset a</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>æœ‰åºé›†åˆç±»å‹ï¼šsorted_set</p>
<p>ä¸å…è®¸å­˜å‚¨é‡å¤æ•°æ®ï¼Œå¹¶ä¸”å­˜å‚¨çš„æ•°æ®æ˜¯æœ‰é¡ºåºçš„ï¼Œæ¯ä¸ªæ•°æ®ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ä½œä¸ºæ’åºçš„ä¾æ®</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­˜å‚¨å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: zadd key score value</span></span><br><span class="line"><span class="comment"># åœ¨mysorté”®å­˜å‚¨ä¸€ä¸ªåˆ†æ•°ä¸º3, å€¼ä¸ºpascalçš„æ•°æ®</span></span><br><span class="line">zadd mysort 3 pascal</span><br><span class="line"><span class="comment"># åœ¨mysorté”®å­˜å‚¨ä¸€ä¸ªåˆ†æ•°ä¸º1, å€¼ä¸ºvisualçš„æ•°æ®</span></span><br><span class="line">zadd mysort 1 visual</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: zrange key start end èŒƒå›´è·å–, å¯å‚è€ƒliståˆ—è¡¨ç±»å‹çš„è·å–å‘½ä»¤æ¥ç†è§£</span></span><br><span class="line"><span class="comment"># è·å–mysorté”®ä¸‹çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="line">zrange mysort 0 -1</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å‘½ä»¤</span></span><br><span class="line"><span class="comment"># æ ¼å¼: zrem key value</span></span><br><span class="line"><span class="comment"># åˆ é™¤mysorté”®ä¸‹å€¼ä¸ºvisualçš„æ•°æ®</span></span><br><span class="line">zrem mysort visual</span><br></pre></td></tr></table></figure></div>
<p><strong>é€šç”¨å‘½ä»¤æ“ä½œ</strong></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥è¯¢æ‰€æœ‰çš„é”®</span></span><br><span class="line">keys *</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æŒ‡å®šé”®å¯¹åº”çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment"># è·å–mysorté”®å¯¹åº”çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="built_in">type</span> mysort</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æŒ‡å®šçš„é”®åŠå…¶æ•°æ®</span></span><br><span class="line"><span class="comment"># åˆ é™¤myhashé”®ä¸‹çš„æ‰€æœ‰é”®å€¼å¯¹æ•°æ®</span></span><br><span class="line">del myhash</span><br></pre></td></tr></table></figure></div>
</li>
</ol>
<h4 id="æŒä¹…åŒ–"><a class="markdownIt-Anchor" href="#æŒä¹…åŒ–"></a> æŒä¹…åŒ–</h4>
<h5 id="rdbæ–¹å¼"><a class="markdownIt-Anchor" href="#rdbæ–¹å¼"></a> RDBæ–¹å¼</h5>
<p>redisä½œä¸ºä¸€ä¸ªå†…å­˜æ•°æ®åº“ï¼Œå½“redisæœåŠ¡å™¨é‡å¯åï¼Œæ•°æ®å°±ä¼šä¸¢å¤±ã€‚ä¸ºäº†èƒ½å¤Ÿåœ¨redisæœåŠ¡å™¨é‡å¯åèƒ½å¤Ÿå¿«é€Ÿæ¢å¤ç¼“å­˜çš„æ•°æ®ï¼Œå°±éœ€è¦ä½¿ç”¨æŒä¹…åŒ–æŠ€æœ¯</p>
<ul>
<li>
<p>redisæŒä¹…åŒ–æœºåˆ¶ï¼šæ¯éš”ä¸€å®šæ—¶é—´æ£€æµ‹keyçš„å˜åŒ–æƒ…å†µï¼Œæ ¹æ®é…ç½®å†³å®šæ˜¯å¦è¿›è¡ŒæŒä¹…åŒ–ã€‚æŒä¹…åŒ–çš„æ•°æ®å°±å­˜å‚¨åœ¨dump.rdbæ–‡ä»¶ä¸­ã€‚</p>
</li>
<li>
<p>æŒä¹…åŒ–é…ç½®è¿‡ç¨‹ï¼šæ‰“å¼€redis.windows.confæ–‡ä»¶ï¼Œæ‰¾åˆ°<code># Save the DB on disk</code>æ‰€åœ¨çš„ä½ç½®ï¼Œåœ¨#æ³¨é‡Šçš„ä¸‹æ–¹å¯ä»¥çœ‹åˆ°<code>save 900 1</code>çš„å­—æ ·ï¼Œè¿™äº›åŸå§‹çš„å­—æ ·å°±æ˜¯é»˜è®¤çš„æŒä¹…åŒ–æœºåˆ¶ã€‚é€šè¿‡ä¿®æ”¹è¿™äº›å­—æ ·å°±èƒ½è®¾ç½®æŒä¹…åŒ–æœºåˆ¶ã€‚</p>
</li>
<li>
<p>å…³äºæŒä¹…åŒ–é…ç½®çš„ç®€å•è¯´æ˜ï¼š</p>
<p><code>save 900 1</code></p>
<h6 id="after-900-sec-15-min-if-at-least-1-key-changed"><a class="markdownIt-Anchor" href="#after-900-sec-15-min-if-at-least-1-key-changed"></a> after 900 sec (15 min) if at least 1 key changed</h6>
<h6 id="ç»è¿‡15åˆ†é’Ÿå¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªkeyå‘ç”Ÿå˜åŒ–é‚£ä¹ˆå°±è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–"><a class="markdownIt-Anchor" href="#ç»è¿‡15åˆ†é’Ÿå¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªkeyå‘ç”Ÿå˜åŒ–é‚£ä¹ˆå°±è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–"></a> ç»è¿‡15åˆ†é’Ÿï¼Œå¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå°±è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–</h6>
<p><code>save 300 10</code></p>
<h6 id="after-300-sec-5-min-if-at-least-10-keys-changed"><a class="markdownIt-Anchor" href="#after-300-sec-5-min-if-at-least-10-keys-changed"></a> after 300 sec (5 min) if at least 10 keys changed</h6>
<h6 id="ç»è¿‡5åˆ†é’Ÿå¦‚æœè‡³å°‘æœ‰10ä¸ªkeyå‘ç”Ÿå˜åŒ–é‚£ä¹ˆå°±è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–"><a class="markdownIt-Anchor" href="#ç»è¿‡5åˆ†é’Ÿå¦‚æœè‡³å°‘æœ‰10ä¸ªkeyå‘ç”Ÿå˜åŒ–é‚£ä¹ˆå°±è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–"></a> ç»è¿‡5åˆ†é’Ÿï¼Œå¦‚æœè‡³å°‘æœ‰10ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå°±è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–</h6>
<p><code>save 60 10000</code></p>
<h6 id="after-60-sec-1-min-if-at-least-10000-keys-changed"><a class="markdownIt-Anchor" href="#after-60-sec-1-min-if-at-least-10000-keys-changed"></a> after 60 sec (1 min) if at least 10000 keys changed</h6>
<h6 id="ç»è¿‡1åˆ†é’Ÿå¦‚æœè‡³å°‘æœ‰10000ä¸ªkeyå‘ç”Ÿå˜åŒ–é‚£ä¹ˆå°±è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–"><a class="markdownIt-Anchor" href="#ç»è¿‡1åˆ†é’Ÿå¦‚æœè‡³å°‘æœ‰10000ä¸ªkeyå‘ç”Ÿå˜åŒ–é‚£ä¹ˆå°±è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–"></a> ç»è¿‡1åˆ†é’Ÿï¼Œå¦‚æœè‡³å°‘æœ‰10000ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå°±è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–</h6>
</li>
<li>
<p>æŒä¹…åŒ–æœºåˆ¶æµ‹è¯•ï¼š</p>
<blockquote>
<p>é…ç½®ä¹‹å‰è¯·å…ˆç¡®ä¿å…³é—­redisæœåŠ¡å™¨ï¼Œä»¥é˜²é…ç½®æ— æ³•ç”Ÿæ•ˆ</p>
<ol>
<li>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶åœ¨æŒ‡å®šä½ç½®æ·»åŠ å­—æ ·<code>save 10 5</code>ï¼Œ10ç§’åæœ‰5ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œåˆ™æŒä¹…åŒ–</p>
</li>
<li>
<p>åœ¨redisæ ¹ç›®å½•ä¸‹æ‰“å¼€cmdï¼Œé€šè¿‡<code>redis-server.exe  redis.windows.conf</code>å‘½ä»¤å¯åŠ¨redisæœåŠ¡å™¨ï¼Œå¦åˆ™æŒä¹…åŒ–æœºåˆ¶è¿˜æ˜¯ä½¿ç”¨é»˜è®¤æ–¹å¼ï¼Œå¦‚æœè§‰å¾—éº»çƒ¦å¯ä»¥çœ‹<a href="#bc">è¡¥å……</a></p>
</li>
<li>
<p>æ‰“å¼€rediså®¢æˆ·ç«¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•æ•°æ®, ä¿®æ”¹5ä¸ªkey</span></span><br><span class="line"><span class="built_in">set</span> name 1</span><br><span class="line"><span class="built_in">set</span> name 2</span><br><span class="line"><span class="built_in">set</span> name 3</span><br><span class="line"><span class="built_in">set</span> name 4</span><br><span class="line"><span class="built_in">set</span> name 5</span><br><span class="line"><span class="comment"># ä¹‹åæ ¹æ®save 10 5çš„é…ç½®, ä¼šåœ¨redisçš„æ ¹ç›®å½•ä¸‹ç”Ÿæˆdump.rdbæ–‡ä»¶</span></span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>å…³é—­redisæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼Œå†é‡å¯æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é‡æ–°æŸ¥è¯¢æ•°æ®ï¼Œæµ‹è¯•æ•°æ®æ˜¯å¦å®ç°æŒä¹…åŒ–</p>
</li>
</ol>
</blockquote>
</li>
</ul>
<h5 id="aofæ–¹å¼"><a class="markdownIt-Anchor" href="#aofæ–¹å¼"></a> AOFæ–¹å¼</h5>
<p>AOFæ˜¯ä¸€ç§æ—¥å¿—è®°å½•ï¼Œç”¨äºè®°å½•redisæ¯ä¸€æ¡å‘½ä»¤æ‰§è¡Œçš„å†å²æ“ä½œï¼Œå¯åœ¨æ¯ä¸€æ¬¡å‘½ä»¤æ“ä½œåæŒä¹…åŒ–æ•°æ®</p>
<p>AOFé…ç½®è¿‡ç¨‹ï¼šæ‰“å¼€redis.windows.confæ–‡ä»¶ï¼Œæ‰¾åˆ°<code>appendonly no</code>å­—æ ·ä¿®æ”¹<code>no</code>ä¸º<code>yes</code>å¼€å¯AOFæ”¯æŒã€‚å†æ‰¾åˆ°<code>#appendfsync</code>å¼€å¤´çš„å­—æ ·ï¼Œå»æ‰å‰é¢çš„<code>#</code>å¯åŠ¨æŒä¹…åŒ–æœºåˆ¶</p>
<p>AOFæŒä¹…åŒ–æœºåˆ¶ç®€å•è¯´æ˜ï¼š<code>appendfsync always</code>æ¯ä¸€æ¬¡æ“ä½œè¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–ï¼Œ<code>appendfsync everysec</code>æ¯éš”ä¸€ç§’è¿›è¡Œä¸€æ¬¡æŒä¹…åŒ–ï¼Œ<code>appendfsync no</code>ä¸è¿›è¡ŒæŒä¹…åŒ–</p>
<p>æ³¨æ„ï¼šåœ¨redisæ ¹ç›®å½•ä¸‹ç”¨cmdæ‰§è¡Œ<code>redis-server.exe  redis.windows.conf</code>å‘½ä»¤å¯åŠ¨æœåŠ¡å™¨ï¼Œå¦åˆ™é…ç½®å¯èƒ½ä¸ç”Ÿæ•ˆ</p>
<h4 id="span-idbcè¡¥å……span"><a class="markdownIt-Anchor" href="#span-idbcè¡¥å……span"></a> <span id='bc'>è¡¥å……</span></h4>
<h5 id="å…³äºredis-serverexeå¯åŠ¨æ—¶é»˜è®¤åŠ è½½é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#å…³äºredis-serverexeå¯åŠ¨æ—¶é»˜è®¤åŠ è½½é…ç½®æ–‡ä»¶"></a> å…³äºredis-server.exeå¯åŠ¨æ—¶é»˜è®¤åŠ è½½é…ç½®æ–‡ä»¶</h5>
<p>å³å‡»æ–‡ä»¶<strong>åˆ›å»ºå¿«æ·æ–¹å¼</strong>ï¼Œå³å‡»å¿«æ·æ–¹å¼<strong>è®¾ç½®å±æ€§</strong>ï¼Œåœ¨<strong>ç›®æ ‡</strong>çš„åé¢<strong>æ·»åŠ ç©ºæ ¼å’Œé…ç½®æ–‡ä»¶å</strong>ï¼Œé…ç½®å®Œåçš„ç¤ºä¾‹<code>D:\redis-2.8.9\redis-server.exe redis.windows.conf</code>ï¼Œå‰é¢çš„exeæ–‡ä»¶è·¯å¾„æ ¹æ®æœ¬åœ°å®é™…æƒ…å†µé…ç½®ï¼Œé»˜è®¤æ˜¯å·²æœ‰çš„ï¼Œç„¶å<strong>ç‚¹å‡»åº”ç”¨</strong>ã€‚ä¹‹åä½¿ç”¨è¯¥å¿«æ·æ–¹å¼å¯åŠ¨æœåŠ¡å™¨å°±èƒ½è‡ªåŠ¨åŠ è½½é…ç½®æ–‡ä»¶</p>
<h5 id="å…³äºredisqfork_8412datæ–‡ä»¶"><a class="markdownIt-Anchor" href="#å…³äºredisqfork_8412datæ–‡ä»¶"></a> å…³äºRedisQFork_8412.datæ–‡ä»¶</h5>
<p>è¿™æ˜¯redisçš„å†…å­˜æ˜ å°„æ–‡ä»¶ã€‚å½“rediså¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œrediså…³é—­åä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚ä¸è¿‡è¿™ä¸ªæ–‡ä»¶ä¼šéšæ•°æ®é‡çš„å¢é•¿è€Œå¢é•¿ï¼Œæ²¡æœ‰é™åˆ¶èƒ½å¤Ÿå¢é•¿åˆ°å‡ åGçš„å¤§å°ï¼Œå¦‚æœç¡¬ç›˜ç©ºé—´æ— æ³•å®¹çº³è¿™å‡ åGçš„å¤§å°ï¼Œå°±æ— æ³•å¯åŠ¨redisæœåŠ¡ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„<code>maxheap</code>å­—æ ·åçš„å‚æ•°å®ç°ï¼ˆå•ä½Bï¼‰ï¼Œå¦‚è®¾ç½®æœ€å¤§ä¸º4Gï¼Œåˆ™å¡«å†™4294967296ï¼ˆ4GBæ¢ç®—æˆBï¼‰</p>
]]></content>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•æ¦‚å¿µæ€§çŸ¥è¯†</title>
    <url>/2023/05/04/algorithm-concept/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸€äº›ç»å…¸ç®—æ³•çš„æ¦‚å¿µæ€§çŸ¥è¯†ï¼Œä»¥åŠå¯¹ç®—æ³•æ€æƒ³çš„ä¸€äº›ç†è§£ï¼Œä¸æ¶‰åŠä»»ä½•å…·ä½“çš„ä»£ç å®ç°ã€‚<span id="more"></span></p>
<h3 id="ç®—æ³•çš„ç›¸å…³æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#ç®—æ³•çš„ç›¸å…³æ¦‚å¿µ"></a> ç®—æ³•çš„ç›¸å…³æ¦‚å¿µ</h3>
<p>ç®—æ³•çš„å®šä¹‰ï¼šå®ƒæ˜¯è‹¥å¹²æŒ‡ä»¤çš„æœ‰ç©·åºåˆ—ã€‚æœ‰ä»¥ä¸‹æ€§è´¨</p>
<ul>
<li>è¾“å…¥ï¼šæœ‰å¤–éƒ¨æä¾›çš„é‡ä½œä¸ºç®—æ³•çš„è¾“å…¥ã€‚</li>
<li>è¾“å‡ºï¼šç®—æ³•è‡³å°‘äº§ç”Ÿä¸€ä¸ªé‡ä½œä¸ºè¾“å‡ºã€‚</li>
<li>ç¡®å®šæ€§ï¼šç»„æˆç®—æ³•çš„æ¯æ¡æŒ‡ä»¤æ˜¯æ¸…æ™°çš„ã€æ— æ­§ä¹‰çš„ã€‚</li>
<li>æœ‰é™æ€§ï¼šç®—æ³•ä¸­çš„æ¯æ¡æŒ‡ä»¤çš„æ‰§è¡Œæ¬¡æ•°æ˜¯æœ‰é™çš„ï¼Œæ‰§è¡Œæ¯æ¡æŒ‡ä»¤çš„æ—¶é—´ä¹Ÿæ˜¯æœ‰é™çš„ã€‚</li>
</ul>
<p>ç¨‹åºçš„å®šä¹‰ï¼šå®ƒæ˜¯ç®—æ³•ç”¨æŸç§ç¨‹åºè®¾è®¡è¯­è¨€çš„å…·ä½“å®ç°ï¼Œå¯ä»¥ä¸ç”¨æ»¡è¶³<strong>æœ‰é™æ€§</strong>çš„æ€§è´¨ã€‚</p>
<h3 id="ç®—æ³•å¤æ‚æ€§"><a class="markdownIt-Anchor" href="#ç®—æ³•å¤æ‚æ€§"></a> ç®—æ³•å¤æ‚æ€§</h3>
<p>5ä¸ªæ¸è¿›æ€§åˆ†æè®°å·<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi></mrow><annotation encoding="application/x-tex">O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î©</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î©</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi></mrow><annotation encoding="application/x-tex">o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">o</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ï‰</mi></mrow><annotation encoding="application/x-tex">\omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span>ï¼Œå‡è®¾å¯¹æ‰€æœ‰çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>&gt;</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n(n&gt;0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>ï¼Œéƒ½æœ‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>â‰¥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(n)\geq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>â‰¥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">g(n)\geq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ã€‚</p>
<p>æ¸è¿›ä¸Šç•Œè®°å·<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi></mrow><annotation encoding="application/x-tex">O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span></span></span></span></p>
<p>å®šä¹‰ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">O(g(n))=\{f(n)|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord">âˆ£</span></span></span></span>å­˜åœ¨æ­£å¸¸æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">n_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä½¿å¾—å¯¹æ‰€æœ‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¥</mo><msub><mi>n</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">n\geq n_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æœ‰ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>â‰¤</mo><mi>c</mi><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">0 \leq f(n) \leq cg(n)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span>ï¼Œåˆ™ç§°å‡½æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>å½“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>å……åˆ†å¤§æ—¶æœ‰ä¸Šç•Œï¼Œä¸”<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>æ˜¯å®ƒçš„ä¸€ä¸ªä¸Šç•Œï¼Œè®°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)=O(g(n))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>ï¼Œåˆç§°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>çš„é˜¶ä¸é«˜äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>çš„é˜¶ã€‚</p>
<p>æ¸è¿›ä¸‹ç•Œè®°å·<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î©</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î©</span></span></span></span></p>
<p>å®šä¹‰ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î©</mi><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">\Omega (g(n))=\{f(n)|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Î©</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord">âˆ£</span></span></span></span>å­˜åœ¨æ­£å¸¸æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">n_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä½¿å¾—å¯¹æ‰€æœ‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>â‰¥</mo><msub><mi>n</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">n\geq n_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æœ‰ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mi>c</mi><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>â‰¤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">0 \leq cg(n) \leq f(n)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span>ï¼Œåˆ™ç§°å‡½æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>å½“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>å……åˆ†å¤§æ—¶æœ‰ä¸‹ç•Œï¼Œä¸”<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>æ˜¯å®ƒçš„ä¸€ä¸ªä¸‹ç•Œï¼Œè®°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">Î©</mi><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)=\Omega (g(n))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Î©</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>ï¼Œåˆç§°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>çš„é˜¶ä¸ä½äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>çš„é˜¶ã€‚</p>
<h3 id="é€’å½’"><a class="markdownIt-Anchor" href="#é€’å½’"></a> é€’å½’</h3>
<p>é€’å½’ç®—æ³•æ˜¯ç›´æ¥æˆ–é—´æ¥è°ƒç”¨è‡ªèº«çš„ç®—æ³•ã€‚</p>
<p>é€’å½’å‡½æ•°ä¸ä¸€å®šèƒ½ç”¨éé€’å½’çš„æ–¹å¼å®ç°ã€‚</p>
<p>æ–æ³¢é‚£å¥‘æ•°åˆ—æ—¢å¯ä»¥ç”¨é€’å½’å®ç°ï¼Œä¹Ÿå¯ä»¥ç”¨éé€’å½’å®ç°ã€‚</p>
<p>é€’å½’ç®—æ³•å®¹æ˜“å®šä¹‰ï¼Œç»“æ„æ¸…æ™°ï¼Œä½†è¿è¡Œæ•ˆç‡è¾ƒä½ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè€—è´¹çš„è®¡ç®—æ—¶é—´å’Œå­˜å‚¨ç©ºé—´éƒ½è¦æ¯”éé€’å½’ç®—æ³•å¤šã€‚</p>
<h3 id="åˆ†æ²»"><a class="markdownIt-Anchor" href="#åˆ†æ²»"></a> åˆ†æ²»</h3>
<p>åˆ†æ²»æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯å°†è§„æ¨¡è¾ƒå¤§çš„é—®é¢˜åˆ’åˆ†ä¸ºè§„æ¨¡è¾ƒå°çš„å­é—®é¢˜æ¥æ±‚è§£ã€‚</p>
<p>äºŒåˆ†æœç´¢ç®—æ³•çš„å‰ææ˜¯<strong>æ•°æ®æœ‰åº</strong>ã€‚</p>
<p>ç”¨åˆ†æ²»æ³•æ±‚è§£å¤§æ•´æ•°ä¹˜æ³•å’ŒStrassençŸ©é˜µä¹˜æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡åˆç†çš„å˜æ¢è¿ç®—æ¥å‡å°‘ä¹˜æ³•çš„æ¬¡æ•°ã€‚</p>
<p>åˆå¹¶æ’åºå’Œå¿«é€Ÿæ’åºçš„å¹³å‡æ—¶é—´å¤æ‚æ€§å‡ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚</p>
<h3 id="åŠ¨æ€è§„åˆ’"><a class="markdownIt-Anchor" href="#åŠ¨æ€è§„åˆ’"></a> åŠ¨æ€è§„åˆ’</h3>
<p>åŠ¨æ€è§„åˆ’ä¹Ÿæ˜¯å°†è§„æ¨¡è¾ƒå¤§çš„é—®é¢˜åˆ’åˆ†ä¸ºè§„æ¨¡è¾ƒå°çš„å­é—®é¢˜æ¥æ±‚è§£ï¼Œä½†ä¸åˆ†æ²»æ³•ä¸åŒçš„æ˜¯ï¼ŒåŠ¨æ€è§„åˆ’æ‰€åˆ’åˆ†å‡ºæ¥çš„å­é—®é¢˜ç›¸äº’ä¸ç‹¬ç«‹ã€‚</p>
<p>åŠ¨æ€è§„åˆ’ç®—æ³•é€‚ç”¨äºæ±‚è§£æœ€ä¼˜åŒ–é—®é¢˜ï¼Œä¸€èˆ¬é‡‡ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹å¼æ¥è®¡ç®—ã€‚</p>
<blockquote>
<p>è‡ªåº•å‘ä¸Šå’Œè‡ªé¡¶å‘ä¸‹çš„æ ¹æœ¬åŒºåˆ«æ˜¯ï¼šè‡ªåº•å‘ä¸Šçš„åˆ†æï¼Œæ˜¯ä»å…·ä½“åˆ°æŠ½è±¡ï¼›è‡ªé¡¶å‘ä¸‹çš„åˆ†æï¼Œæ˜¯ä»æŠ½è±¡åˆ°å…·ä½“ã€‚</p>
<p>å‚è€ƒ<a class="link"   href="https://www.cnblogs.com/Qsir/p/5838802.html" >https://www.cnblogs.com/Qsir/p/5838802.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</blockquote>
<p>åŠ¨æ€è§„åˆ’æ±‚è§£çš„é—®é¢˜ä¹Ÿå¯ä»¥ç”¨é€’å½’ç®—æ³•æ±‚è§£ï¼Œä½†æ˜¯å¯èƒ½ä¼šé€ æˆé‡å¤è®¡ç®—å’Œä¸å¿…è¦çš„èµ„æºè€—è´¹ã€‚</p>
<p>åŠ¨æ€è§„åˆ’æ±‚è§£çš„é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„å’Œé‡å å­é—®é¢˜æ€§è´¨ã€‚</p>
<p>åˆ©ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£çŸ©é˜µè¿ä¹˜é—®é¢˜æ—¶ï¼Œå…¶æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>è¡¨ç¤ºçŸ©é˜µä¸ªæ•°)ã€‚</p>
<p>ä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£æœ€ä¼˜äºŒå‰æœç´¢æ ‘çš„æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>æ˜¯åºåˆ—å…ƒç´ æ•°é‡ã€‚</p>
<p>åŠ¨æ€è§„åˆ’æ±‚è§£0-1èƒŒåŒ…é—®é¢˜æ—¶ï¼Œå…¶æ—¶é—´å¤æ‚åº¦æ˜¯ä¼ªå¤šé¡¹å¼ã€‚</p>
<blockquote>
<p>å…³äºä¼ªå¤šé¡¹å¼æ—¶é—´ç®—æ³•å¯å‚è€ƒ<a class="link"   href="https://stackoverflow.com/questions/19647658/what-is-pseudopolynomial-time-how-does-it-differ-from-polynomial-time" >algorithm - What is pseudopolynomial time? How does it differ from polynomial time? <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</blockquote>
<p>ä½¿ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•æ±‚è§£2ä¸ªé•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>çš„åºåˆ—çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ã€‚</p>
<h3 id="è´ªå¿ƒ"><a class="markdownIt-Anchor" href="#è´ªå¿ƒ"></a> è´ªå¿ƒ</h3>
<p>è´ªå¿ƒç®—æ³•å¯èƒ½å­˜åœ¨å¤šä¸ªè´ªå¿ƒç­–ç•¥ï¼Œå…·æœ‰æœ€ä¼˜å­ç»“æ„çš„æ€§è´¨ï¼Œå¸¸å¸¸ä½¿ç”¨å †ç»“æ„å­˜å‚¨æ•°æ®ã€‚</p>
<p>æ±‚è§£<a class="link"   href="https://blog.csdn.net/qq_40452317/article/details/88875384" >æ´»åŠ¨å®‰æ’é—®é¢˜ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>çš„è´ªå¿ƒç®—æ³•GreedySelectorçš„æ—¶é—´å¤æ‚æ€§ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ï¼Œå¯¹æ´»åŠ¨è¿›è¡Œç»“æŸæ—¶é—´çš„éå‡æ’åºåï¼Œå†ä½¿ç”¨GreedySelectoræ±‚è§£çš„æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚</p>
<p>å“ˆå¤«æ›¼ç¼–ç æ˜¯ä¸€ç§æœ€ä¼˜å‰ç¼€ç ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ï¼Œå…¶å„å­—ç¬¦çš„ç¼–ç ä¸ä¸€å®šå”¯ä¸€ã€‚</p>
<blockquote>
<p>å½“æœ‰å¤šä¸ªæƒé‡ç›¸ç­‰çš„å­—ç¬¦æ—¶ï¼Œå…¶åœ¨å“ˆå¤«æ›¼æ ‘ä¸­çš„ä½ç½®ä¸å”¯ä¸€ï¼Œå®ƒå¯ä»¥æ˜¯å·¦å­æ ‘ä¹Ÿå¯ä»¥æ˜¯å³å­æ ‘ï¼Œå³å­—ç¬¦å¯èƒ½å­˜åœ¨å¤šç§ç¼–ç æƒ…å†µã€‚</p>
<p>å“ˆå¤«æ›¼ç¼–ç åªæ˜¯ä¿è¯å¹³å‡æŸ¥æ‰¾ç é•¿æœ€å°ï¼Œä½†å¹³å‡æŸ¥æ‰¾ç é•¿æœ€å°çš„ç¼–ç ç»„åˆä¸ä¸€å®šå”¯ä¸€ã€‚</p>
</blockquote>
<p>å¯¹äºç»™å®šçš„ä¸€ä¸ªå¸¦æƒæœ‰å‘å›¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G=(V,E)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span>ï¼Œæ— æ³•ä½¿ç”¨<code>Dijkstra</code>ç®—æ³•æ±‚è§£å‡ºå…¶æœ€çŸ­è·¯å¾„ï¼Œå› ä¸º<code>Dijkstra</code>æ— æ³•å¤„ç†å¸¦è´Ÿæƒå›¾ã€‚å¯ä»¥ä½¿ç”¨<code>Bellman-Ford</code>ç®—æ³•æ±‚è§£ï¼Œä¸è¿‡<code>Bellman-Ford</code>æ˜¯åŸºäºåŠ¨æ€è§„åˆ’è®¾è®¡çš„ã€‚</p>
<blockquote>
<p><code>Dijkstra</code>ç®—æ³•æ— æ³•å¤„ç†æœ‰<strong>è´Ÿè¾¹</strong>çš„é—®é¢˜ï¼Œåªé€‚ç”¨äºæ— è´Ÿæƒå›¾ï¼Œå‚è€ƒ<a class="link"   href="https://www.cnblogs.com/FengZeng666/p/11245243.html" >dijkstraç®—æ³•ä¸ºä»€ä¹ˆä¸èƒ½æœ‰è´Ÿè¾¹ï¼Ÿ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>è¿™ç§â€œè´Ÿè¾¹é—®é¢˜â€ä¹Ÿæ˜¯è´ªå¿ƒç®—æ³•æœ¬èº«çš„ç¼ºé™·ã€‚</p>
<p><code>Dijkstra</code>æ˜¯ä»¥ç‚¹ä¸ºå•ä½è¿›è¡Œæ“ä½œï¼Œ<code>Bellman-Ford</code>æ˜¯ä»¥è¾¹ä¸ºå•ä½è¿›è¡Œæ“ä½œã€‚</p>
<p>å…³äº<code>Bellman-Ford</code>ç®—æ³•å¯ä»¥å‚è€ƒ<a class="link"   href="https://www.cnblogs.com/lfri/p/9521271.htmls" >Bellman-Fordä¸SPFA <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</blockquote>
<p>0-1èƒŒåŒ…é—®é¢˜ä¸ä¸€å®šèƒ½ç”¨è´ªå¿ƒç®—æ³•å¾—åˆ°æœ€ä¼˜è§£ ï¼ŒèƒŒåŒ…é—®é¢˜(å¯æ•£è£…)çš„è´ªå¿ƒç®—æ³•ä¹Ÿå°±ä¸é€‚ç”¨äº0-1èƒŒåŒ…é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´èƒŒåŒ…æ— æ³•è£…æ»¡ã€‚</p>
<h3 id="æ—¶é—´å¤æ‚æ€§è¡¨è¾¾å¼åˆ†æ"><a class="markdownIt-Anchor" href="#æ—¶é—´å¤æ‚æ€§è¡¨è¾¾å¼åˆ†æ"></a> æ—¶é—´å¤æ‚æ€§è¡¨è¾¾å¼åˆ†æ</h3>
<p>å¯¹äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">T(n)=2T(n/2)+n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord">/</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">T(0)=T(1)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œ(è¿™ç§è¡¨è¾¾å¼æ­£å¥½å°±æ˜¯å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚æ€§è¡¨è¾¾å¼)</p>
<p>ä»¥ä¸‹è¯´æ³•æ˜¯æ­£ç¡®çš„ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n)=O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>Î¸</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n)=\theta (nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n)=O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
<p>ä»¥ä¸‹è¯´æ³•æ˜¯é”™è¯¯çš„ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">Î©</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n)=\Omega (n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">Î©</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œåº”ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">Î©</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(n)=\Omega(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Î©</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
<blockquote>
<p>å…³äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi></mrow><annotation encoding="application/x-tex">O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î©</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î©</span></span></span></span>å¯ä»¥ç±»æ¯”ä¸ºé«˜é˜¶ã€åŒé˜¶ã€ä½é˜¶ã€‚</p>
</blockquote>
<h3 id="npå®Œå…¨ç†è®º"><a class="markdownIt-Anchor" href="#npå®Œå…¨ç†è®º"></a> NPå®Œå…¨ç†è®º</h3>
<p>Pç±»é—®é¢˜ï¼šæ‰€æœ‰å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£çš„åˆ¤å®šé—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå†’æ³¡æ’åºã€å¿«é€Ÿæ’åºã€æœ€çŸ­è·¯å¾„ç­‰ã€‚</p>
<p>NPé—®é¢˜ï¼šæ— æ³•ç¡®å®šå…·ä½“çš„å¤šé¡¹å¼æ—¶é—´ï¼Œä½†æ˜¯å¯¹äºå®ƒçš„è§£å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…éªŒè¯ã€‚ä¾‹å¦‚ï¼Œè¶…å¤§è§„æ¨¡çš„æ•°å­—è®¡ç®—ï¼Œå¯èƒ½æ— æ³•åœ¨çŸ­æ—¶é—´å†…æ±‚è§£ï¼Œä½†æ˜¯å¯ä»¥å‡è®¾ä¸€ä¸ªè§£å¹¶åœ¨çŸ­æ—¶é—´å¾—åˆ°éªŒè¯ã€‚</p>
<p>NPCé—®é¢˜ï¼šä¹Ÿç§°NPå®Œå¤‡é—®é¢˜ï¼Œè¿™ç±»NPå®Œå¤‡é—®é¢˜å¦‚æœèƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³ï¼Œé‚£ä¹ˆNPä¸­çš„æ¯ä¸€ä¸ªé—®é¢˜éƒ½å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³ï¼Œå³æ‰€æœ‰NPç±»é—®é¢˜éƒ½å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§„çº¦åˆ°æŸä¸ªNPCé—®é¢˜ã€‚</p>
<p>ä½†æ˜¯ç›®å‰å°šæœªå¾—åˆ°ä¸€ä¸ªNPå®Œå¤‡é—®é¢˜çš„å¤šé¡¹å¼æ—¶é—´ç®—æ³•ã€‚</p>
<blockquote>
<p>Pç±»é—®é¢˜å’ŒNPé—®é¢˜ï¼Œéƒ½å¯åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£ï¼Œä¸åŒçš„æ˜¯NPé—®é¢˜æ˜¯éç¡®å®šæ€§çš„ã€‚</p>
<p>ç¬¬ä¸€ä¸ªNPCé—®é¢˜æ˜¯SATå¸ƒå°”å¯æ»¡è¶³æ€§é—®é¢˜ï¼Œåˆç”±Cookæå‡ºã€‚</p>
</blockquote>
<h3 id="æ’åºç›¸å…³"><a class="markdownIt-Anchor" href="#æ’åºç›¸å…³"></a> æ’åºç›¸å…³</h3>
<p>å¯¹äºæœ‰åºæ•°ç»„å†æ’åºï¼Œæ¯”è¾ƒæ¬¡æ•°æœ€å°‘çš„æ˜¯æ’å…¥æ’åºã€‚</p>
<h3 id="å›¾ç›¸å…³"><a class="markdownIt-Anchor" href="#å›¾ç›¸å…³"></a> å›¾ç›¸å…³</h3>
<p>å¯¹äºä»»æ„æ— å‘è¿é€šå›¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G=(V,E)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span>ï¼Œå½“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span>é‡‡ç”¨é‚»æ¥çŸ©é˜µå­˜å‚¨æ—¶ï¼Œå…³äºå…¶æœ€å°ç”Ÿæˆæ ‘</p>
<ul>
<li>å›¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span>çš„æœ€å°ç”Ÿæˆæ ‘æ˜¯<strong>ä¸å”¯ä¸€</strong>çš„</li>
<li>å¯¹äºå›¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span>å¯ä»¥é‡‡ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">Prim</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">m</span></span></span></span>ç®—æ³•æˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mi>r</mi><mi>u</mi><mi>s</mi><mi>k</mi><mi>a</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">Kruskal</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span>ç®—æ³•æ¥æ±‚è§£å…¶æœ€å°ç”Ÿæˆæ ‘</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>r</mi><mi>i</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">Prim</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">m</span></span></span></span>ç®—æ³•çš„å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>ä¸ºå›¾ä¸­é¡¶ç‚¹çš„æ•°é‡</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mi>r</mi><mi>u</mi><mi>s</mi><mi>k</mi><mi>a</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">Kruskal</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span>ç®—æ³•çš„å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>e</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(eloge)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">e</span></span></span></span>ä¸ºå›¾ä¸­è¾¹çš„æ•°é‡</li>
</ul>
<h3 id="çº¿æ€§æ—¶é—´é€‰æ‹©"><a class="markdownIt-Anchor" href="#çº¿æ€§æ—¶é—´é€‰æ‹©"></a> çº¿æ€§æ—¶é—´é€‰æ‹©</h3>
<p>çº¿æ€§æ—¶é—´æŸ¥æ‰¾æœ€å°çš„å…ƒç´ æˆ–è€…ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>å°çš„å…ƒç´ æœ€å°‘ä¹Ÿè¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>çš„æ—¶é—´å¤æ‚åº¦ï¼Œå³éå†æ•´ä¸ªå…ƒç´ é›†åˆçš„æ—¶é—´å¤æ‚åº¦ã€‚</p>
<p>ä½¿ç”¨çº¿æ€§æ—¶é—´é€‰æ‹©Selectç®—æ³•æ±‚è§£ï¼Œåªæœ‰åœ¨å…ƒç´ å·²ç»æœ‰åºçš„å‰æä¸‹ï¼Œå…¶æ—¶é—´å¤æ‚åº¦æ‰ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚</p>
<p>å½“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>â‰¤</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">k\leq nlogn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span></span></span></span>æˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>â‰¥</mo><mi>n</mi><mo>âˆ’</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">k\geq n-nlogn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span></span></span></span>æ—¶ï¼Œä½¿ç”¨å †æ’åºå¯èƒ½åœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>çš„æ—¶é—´å¤æ‚åº¦å†…æ±‚è§£ã€‚</p>
<h3 id="æœ€ä¼˜è£…è½½é—®é¢˜"><a class="markdownIt-Anchor" href="#æœ€ä¼˜è£…è½½é—®é¢˜"></a> æœ€ä¼˜è£…è½½é—®é¢˜</h3>
<p>æœ€ä¼˜è£…è½½é—®é¢˜å°±æ˜¯0-1èƒŒåŒ…é—®é¢˜çš„ä¸€ä¸ªå˜å½¢ã€‚</p>
<p>å¯¹äºæœ€ä¼˜è£…è½½é—®é¢˜ï¼Œä¸€å®šå­˜åœ¨ä¸€ç»„å¯è¡Œè§£ã€‚</p>
<p>æœ€ä¼˜è£…è½½é—®é¢˜ï¼Œä½¿ç”¨è´ªå¿ƒç®—æ³•æ¥æ±‚è§£ï¼Œè‡ªç„¶æœ‰æœ€ä¼˜å­ç»“æ„çš„æ€§è´¨ã€‚</p>
<p>æœ€ä¼˜è£…è½½é—®é¢˜çš„è´ªå¿ƒç­–ç•¥æ˜¯é€‰æ‹©é‡é‡æœ€è½»çš„é›†è£…ç®±å…ˆè£…ã€‚</p>
<h3 id="æ•£è£…èƒŒåŒ…é—®é¢˜"><a class="markdownIt-Anchor" href="#æ•£è£…èƒŒåŒ…é—®é¢˜"></a> æ•£è£…èƒŒåŒ…é—®é¢˜</h3>
<p>æ•£è£…èƒŒåŒ…é—®é¢˜ä½¿ç”¨è´ªå¿ƒç®—æ³•æ±‚è§£ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ã€‚</p>
<h3 id="ç¡¬å¸ç§°é‡é—®é¢˜"><a class="markdownIt-Anchor" href="#ç¡¬å¸ç§°é‡é—®é¢˜"></a> ç¡¬å¸ç§°é‡é—®é¢˜</h3>
<p>8ä¸ªç¡¬å¸ä¸­ï¼Œå·²çŸ¥å…¶ä¸­ä¸€ä¸ªç¡¬å¸å¾ˆé‡ï¼Œä½¿ç”¨æœ€å°‘çš„æ¬¡æ•°æ‰¾å‡ºè¿™æšç¡¬å¸ã€‚</p>
<p>å¸¸è§çš„é”™è¯¯æ€è·¯ï¼š4,4 â€”&gt; 2,2â€”&gt;1,1</p>
<p>æ¯æ¬¡å¯¹åŠç§°ï¼Œæ‰¾é‡çš„ä¸€è¾¹ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå…±éœ€è¦3æ¬¡ã€‚</p>
<p>ä¸€ç§æ›´å¥½çš„æ€è·¯ï¼š3,3â€¦2 â€”&gt; 1,1â€¦1 æˆ– 1,1</p>
<p>å…ˆå–6æšç¡¬å¸å¯¹åŠç§°ï¼Œä½™ä¸‹2æšç¡¬å¸ã€‚åˆ†æƒ…å†µè®¨è®º</p>
<ul>
<li>
<p>3,3å¯¹ç§°ä¸å¹³è¡¡ï¼Œç¡¬å¸åœ¨é‡çš„ä¸€è¾¹çš„3æšç¡¬å¸ä¸­ã€‚</p>
<p>åœ¨3æšç¡¬å¸ä¸­ï¼Œå†å–2æšç¡¬å¸å¯¹ç§°å°±å¯ä»¥ç›´æ¥æ±‚è§£ã€‚</p>
<ul>
<li>è‹¥ä¸å¹³è¡¡ï¼Œåˆ™ç¡¬å¸å°±æ˜¯é‡çš„ä¸€è¾¹çš„ç¡¬å¸</li>
<li>è‹¥å¹³è¡¡ï¼Œåˆ™ç¡¬å¸å°±æ˜¯æœªç§°é‡çš„é‚£ä¸€æšç¡¬å¸</li>
</ul>
</li>
<li>
<p>3,3å¯¹ç§°å¹³è¡¡ï¼Œç¡¬å¸åœ¨ä½™ä¸‹çš„2æšç¡¬å¸ä¸­ã€‚</p>
<p>ç›´æ¥ç§°é‡ä½™ä¸‹çš„2æšç¡¬å¸ï¼Œå³å¯æ±‚è§£ã€‚</p>
</li>
</ul>
<p>ä»¥ä¸Šä¸¤ç§æƒ…å†µæ‰€éœ€çš„æ¬¡æ•°å‡ä¸º2æ¬¡ã€‚</p>
<h3 id="å‚è€ƒ"><a class="markdownIt-Anchor" href="#å‚è€ƒ"></a> å‚è€ƒ</h3>
<p><a class="link"   href="https://www.bilibili.com/video/BV1Ga4y1G7Q8" >https://www.bilibili.com/video/BV1Ga4y1G7Q8 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>æ‚ä¹±çš„è®°å½•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•æ¦‚å¿µ</tag>
        <tag>è‰ç¨¿ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºä¸ªäººHexoåšå®¢çš„æ­å»ºå†å²</title>
    <url>/2023/01/17/blog-by-https/</url>
    <content><![CDATA[<p>ä»…ä»¥æ­¤æ–‡å›é¡¾è¿‡å»æ­å»ºHexoåšå®¢çš„å†ç¨‹<span id="more"></span></p>
<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2>
<p>åœ¨æ—©æœŸç¬”è€…ä¸€ç›´æ˜¯é€šè¿‡github pagesæœåŠ¡æ¥è¿è¡Œåšå®¢ç½‘ç«™ï¼Œä»è€Œçœç•¥äº†å¯¹<strong>åŸŸåè§£æ</strong>ã€<strong>nginxåå‘ä»£ç†</strong>ä»¥åŠ<strong>SSLè¯ä¹¦çš„ç”³è¯·ä¸HTTPSæœåŠ¡çš„å¼€å¯</strong>è¿™äº›é…ç½®</p>
<p>äºæ˜¯åæœŸï¼Œç¬”è€…ç§Ÿèµäº†ä¸€å°çº¯å‡€Ubutun20.04LTSç³»ç»Ÿçš„è½»é‡åº”ç”¨æœåŠ¡å™¨ï¼Œä»é›¶å¼€å§‹åŸºäºå‘½ä»¤è¡Œé…ç½®hexoåšå®¢ä»¥åŠHTTPSæœåŠ¡çš„å¼€å¯</p>
<h2 id="hexoåšå®¢çš„æ­å»º"><a class="markdownIt-Anchor" href="#hexoåšå®¢çš„æ­å»º"></a> Hexoåšå®¢çš„æ­å»º</h2>
<h3 id="æœ¬åœ°ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#æœ¬åœ°ç¯å¢ƒæ­å»º"></a> æœ¬åœ°ç¯å¢ƒæ­å»º</h3>
<h4 id="gitç¯å¢ƒ"><a class="markdownIt-Anchor" href="#gitç¯å¢ƒ"></a> Gitç¯å¢ƒ</h4>
<ol>
<li>
<p>è®¿é—®gitå®˜ç½‘<a class="link"   href="https://git-scm.com/download" >Git - Downloads (git-scm.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>æˆ–å¯»æ‰¾é•œåƒç«™<a class="link"   href="https://mirrors.tuna.tsinghua.edu.cn/github-release/git-for-windows/git/" >æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ | git for windows <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„ç‰ˆæœ¬</p>
</li>
<li>
<p>å®‰è£…Gitï¼Œé™¤äº†å®‰è£…è·¯å¾„å¯é€‰æ‹©Cç›˜æˆ–Dç›˜ï¼Œå…¶å®ƒå‡å¯ç›´æ¥ä¸‹ä¸€æ­¥</p>
</li>
<li>
<p>é…ç½®ç¯å¢ƒå˜é‡ï¼Œåœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡çš„<strong>Pathå˜é‡ä¸‹</strong>å¢åŠ å˜é‡å€¼</p>
<p>å‚è€ƒå˜é‡å€¼ï¼šD:\Program Files\Git\cmd</p>
</li>
<li>
<p>win+rè¾“å…¥powershellæ‰“å¼€æŸ¥çœ‹gitç‰ˆæœ¬ä¿¡æ¯</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="code"><pre><span class="line">git <span class="literal">-v</span></span><br></pre></td></tr></table></figure></div>
<p>æ˜¾ç¤ºå‡ºäº†ç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜gité…ç½®å®Œæˆ</p>
</li>
</ol>
<h4 id="nodejsç¯å¢ƒ"><a class="markdownIt-Anchor" href="#nodejsç¯å¢ƒ"></a> Nodejsç¯å¢ƒ</h4>
<ol>
<li>
<p>è®¿é—®nodejså®˜ç½‘<a class="link"   href="https://nodejs.org/en/download/" >Download | Node.js (nodejs.org) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„nodejsç‰ˆæœ¬ã€‚ï¼ˆlinuxç³»ç»Ÿå¯ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œä¸‹è½½è€Œä¸éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œä½¿ç”¨å…¶å®ƒæ–¹å¼åˆ™éœ€è¦æ‰‹åŠ¨æ·»åŠ ç¯å¢ƒå˜é‡æˆ–è€…è½¯é“¾æ¥ï¼‰</p>
</li>
<li>
<p>windowsä¸‹è½½å®Œnodejsåéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼ˆæ³¨æ„ä¸è¦ä½¿ç”¨ä¸­æ–‡è·¯å¾„å’Œå¸¦æœ‰ç©ºæ ¼çš„è·¯å¾„ï¼Œé»˜è®¤è·¯å¾„ä¸­çš„<code>Program Files</code>ä¸­çš„ç©ºæ ¼ä¼šå¯¼è‡´å‘½ä»¤æ— æ³•è¯†åˆ«ï¼‰</p>
<p>windowså‚è€ƒé…ç½®</p>
<ol>
<li>
<p>æ‰§è¡Œä¸‹è½½çš„nodejsçš„msiæ–‡ä»¶ï¼Œé€‰æ‹©å®‰è£…è·¯å¾„<code>D:\nodejs</code></p>
</li>
<li>
<p>é…ç½®<strong>ç³»ç»Ÿç¯å¢ƒå˜é‡</strong>ï¼Œåœ¨<strong>Pathå˜é‡</strong>ä¸‹æ·»åŠ  D:\nodejs\ ï¼ˆè¿™ä¸€æ­¥nodejså¯èƒ½ä¼šè‡ªåŠ¨é…ç½®å¥½ï¼‰</p>
</li>
<li>
<p>åº”ç”¨é…ç½®ï¼Œä¿å­˜å…³é—­ã€‚win+rè¾“å…¥powershellæ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹nodejsç‰ˆæœ¬</span></span><br><span class="line">node <span class="literal">-v</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åŒ…ç®¡ç†å™¨npmçš„ç‰ˆæœ¬(npmæ˜¯nodejsé»˜è®¤å®‰è£…çš„åŒ…ç®¡ç†å™¨)</span></span><br><span class="line">npm <span class="literal">-v</span></span><br></pre></td></tr></table></figure></div>
<p>ä»¥ä¸Šå‘½ä»¤æ£€æµ‹åˆ°ä¸¤ä¸ªç‰ˆæœ¬å·åè¯´æ˜é…ç½®å®Œæˆ</p>
</li>
<li>
<p>å®Œæˆä»¥ä¸Šæ­¥éª¤ååŸºæœ¬å°±èƒ½å¤Ÿä½¿ç”¨nodejsæ¥æ­å»ºhexoã€‚åç»­ä¸º<strong>éå¿…é¡»æ­¥éª¤</strong>ï¼Œå¦‚æœä½¿ç”¨è¿‡ç¨‹ä¸­å­˜åœ¨ä¸€äº›é—®é¢˜å¯å‚è€ƒä»¥ä¸‹æ­¥éª¤è§£å†³</p>
</li>
<li>
<p>å¦‚æœnpmä¸‹è½½å¤±è´¥æˆ–ä¸‹è½½é€Ÿåº¦ç¼“æ…¢ï¼Œå¯èƒ½æ˜¯ç”±äºé»˜è®¤æœåŠ¡å™¨åœ¨æµ·å¤–çš„ç¼˜æ•…ï¼Œå¯æŒ‡å®šå›½å†…é•œåƒæºä¸‹è½½æˆ–é…ç½®npmçš„å›½å†…é•œåƒæº</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šé•œåƒæºä¸‹è½½,ä¸‹è½½æ—¶åŠ ä¸Š--registryçš„å‚æ•°,æ¯æ¬¡ä¸‹è½½éœ€è¦æŒ‡å®š</span></span><br><span class="line">npm install <span class="literal">-g</span> åŒ…å <span class="literal">--registry</span>=https://registry.npm.taobao.org</span><br><span class="line"><span class="comment"># è®¾ç½®é•œåƒæº,å°†npmçš„é»˜è®¤æºæ›´æ¢ä¸ºé•œåƒæº</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"><span class="comment"># æ£€æµ‹é•œåƒç«™æ˜¯å¦å¯ç”¨</span></span><br><span class="line">npm config get registry</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>æŒ‰ä»¥ä¸Šæ­¥éª¤nodejså®‰è£…åœ¨äº†Dç›˜ï¼Œä½†ä¸‹è½½çš„åŒ…ä»åœ¨Cç›˜ï¼Œè¿™é‡Œçš„é…ç½®æ˜¯å°†åŒ…ä»Cç›˜è¿ç§»åˆ°Dç›˜ä»¥å‡å°‘Cç›˜çš„å ç”¨</p>
<p>åœ¨nodejsçš„æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹å‘½åä¸ºnode_globalå’Œnode_cacheï¼Œåœ¨æ–‡ä»¶å¤¹çš„å±æ€§â€”â€”å®‰å…¨é‡Œæ›´æ”¹æ‰€æœ‰ç»„æˆ–ç”¨æˆ·çš„æƒé™ä¸ºå®Œå…¨æ§åˆ¶ï¼ˆé˜²æ­¢æƒé™ä¸è¶³è€Œæ— æ³•ä¸‹è½½çš„é—®é¢˜ï¼‰</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®å…¨å±€å®‰è£…è·¯å¾„(è·¯å¾„æ ¹æ®å®é™…æƒ…å†µå¡«å†™)</span></span><br><span class="line">npm config <span class="built_in">set</span> prefix <span class="string">&quot;D:\nodejs\node_global&quot;</span></span><br><span class="line"><span class="comment"># è®¾ç½®å…¨å±€ç¼“å­˜è·¯å¾„(è·¯å¾„æ ¹æ®å®é™…æƒ…å†µå¡«å†™)</span></span><br><span class="line">npm config <span class="built_in">set</span> cache <span class="string">&quot;D:\nodejs\node_cache&quot;</span></span><br><span class="line"><span class="comment"># ä»¥ä¸Šå‘½ä»¤ä¼šåœ¨Cç›˜ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹äº§ç”Ÿä¸€ä¸ª.npmrcé…ç½®æ–‡ä»¶ç”±äºä¿å­˜ä¸Šé¢çš„é…ç½®ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ç³»ç»Ÿç¯å¢ƒå˜é‡,åœ¨Pathå˜é‡ä¸‹æ–°å¢å˜é‡å€¼,å˜é‡å€¼å°±æ˜¯å…¨å±€å®‰è£…è·¯å¾„,å¦åˆ™æ–°å®‰è£…çš„å‘½ä»¤å·¥å…·æ— æ³•æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æµ‹å…¨å±€å®‰è£…è·¯å¾„</span></span><br><span class="line">npm root <span class="literal">-g</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹é…ç½®ä¿¡æ¯</span></span><br><span class="line">npm config list</span><br></pre></td></tr></table></figure></div>
<p>ä»¥ä¸Šé…ç½®å®Œæˆåï¼Œä¹‹åä¸‹è½½çš„åŒ…éƒ½ä¼šæ”¾åˆ°<strong>node_global/node_modules</strong>ä¸‹</p>
</li>
</ol>
</li>
<li>
<p>nodejsç¯å¢ƒæ­å»ºå®Œæˆ</p>
</li>
</ol>
<h4 id="hexoç¯å¢ƒ"><a class="markdownIt-Anchor" href="#hexoç¯å¢ƒ"></a> Hexoç¯å¢ƒ</h4>
<ol>
<li>
<p>åœ¨å®Œæˆäº†æ­å»ºgitå’Œnodejsçš„ç¯å¢ƒçš„åŸºç¡€ä¸Šï¼Œå°±èƒ½å¤Ÿå¿«é€Ÿä½¿ç”¨Hexo</p>
</li>
<li>
<p>åœ¨powershellä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…¨å±€å®‰è£…Hexoå‘½ä»¤è¡Œå·¥å…·</span></span><br><span class="line">npm install <span class="literal">-g</span> hexo<span class="literal">-cli</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹Hexoç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line">hexo version</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ–‡ä»¶å¤¹ä½œä¸ºHexoæ¡†æ¶çš„å­˜æ”¾ç›®å½•(è¿™é‡Œå‡è®¾ä½¿ç”¨ä¸€ä¸ªdemoçš„ç©ºæ–‡ä»¶å¤¹)</span></span><br><span class="line"><span class="comment"># æ‰§è¡Œä»¥ä¸‹3æ¡å‘½ä»¤å°±æ­å»ºå¥½äº†åŸºæœ¬çš„æ¡†æ¶</span></span><br><span class="line">hexo init demo</span><br><span class="line"><span class="built_in">cd</span> demo</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨æœ¬åœ°è¿è¡ŒHexo</span></span><br><span class="line">hexo server <span class="comment"># æˆ–ç®€å†™ä¸ºhexo s</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€äº›å¸¸ç”¨çš„Hexoå‘½ä»¤</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ç¯‡æ–‡ç« (æ–‡ç« å†…åŒ…å«äº†Hexoçš„ä¸€äº›æ ¼å¼ä¿¡æ¯)</span></span><br><span class="line">hexo new <span class="string">&quot;first blog&quot;</span> <span class="comment"># ä¼šåœ¨_postsç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªmarkdownåˆå§‹æ–‡ä»¶,æ ‡é¢˜ä¸ºfirst blog</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ç¯‡è‰ç¨¿(è‰ç¨¿ä¸ä¼šåœ¨ç½‘ç«™ä¸Šå±•ç¤º)</span></span><br><span class="line">hexo new draft <span class="string">&quot;my draft&quot;</span> <span class="comment"># ä¼šåœ¨_draftsç›®å½•ä¸‹ç”Ÿæˆç›¸åº”çš„åˆå§‹æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºå¯¼èˆªé¡µ(å¯¼èˆªé¡µä¸»è¦æ˜¯å±•ç¤ºæ–‡ç« åˆ†ç±»ã€æ ‡ç­¾ã€ä½œè€…ç®€ä»‹ã€å‹æƒ…é“¾æ¥ç­‰ä¿¡æ¯)</span></span><br><span class="line">hexo new page <span class="literal">--path</span> about/me <span class="string">&quot;About me&quot;</span> <span class="comment"># ä¸ªäººç®€ä»‹,è¿™é‡Œæ˜¯å›ºå®šå†™æ³•ã€‚é»˜è®¤æƒ…å†µä¸‹è¿˜éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶æ‰èƒ½ç”Ÿæ•ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆé™æ€æ–‡ä»¶(ä¸€èˆ¬æ˜¯åœ¨æ–°å»ºæ–‡ç« å¹¶å®Œæˆå†™ä½œåä½¿ç”¨æˆ–è€…åœ¨ä¿®æ”¹äº†æ–‡ç« çš„å†…å®¹åä½¿ç”¨)</span></span><br><span class="line">hexo generate <span class="comment"># å¯ç®€å†™ä¸ºhexo g</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡å™¨(ç”¨äºé¢„è§ˆç½‘é¡µæ•ˆæœ)</span></span><br><span class="line">hexo server <span class="comment"># å¯ç®€å†™ä¸ºhexo s</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éƒ¨ç½²ç½‘ç«™(éœ€è¦é…ç½®è¿œç¨‹æœåŠ¡å™¨åœ°å€,éƒ¨ç½²ä¹‹å‰éœ€è¦å…ˆç”Ÿæˆé™æ€æ–‡ä»¶)</span></span><br><span class="line">hexo deploy <span class="comment"># å¯ç®€å†™ä¸ºhexo d</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…é™¤ç¼“å­˜æ–‡ä»¶(ä¸€èˆ¬æ˜¯æ›´æ¢Hexoä¸»é¢˜æœªç”Ÿæ•ˆæ—¶ä½¿ç”¨)</span></span><br><span class="line">hexo clean</span><br></pre></td></tr></table></figure></div>
<p>æ›´è¯¦ç»†çš„ä»‹ç»è¯·ç§»æ­¥å®˜ç½‘<a class="link"   href="https://hexo.io/zh-cn/" >Hexo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ol>
<h3 id="è¿œç¨‹ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#è¿œç¨‹ç¯å¢ƒæ­å»º"></a> è¿œç¨‹ç¯å¢ƒæ­å»º</h3>
<h4 id="åˆ›å»ºgitä»“åº“"><a class="markdownIt-Anchor" href="#åˆ›å»ºgitä»“åº“"></a> åˆ›å»ºGitä»“åº“</h4>
<p>å…ˆå®‰è£…opensshï¼Œä¹‹åå°±å¯ä»¥é€šè¿‡sshå®¢æˆ·ç«¯è¿œç¨‹è¿æ¥æœåŠ¡å™¨è€Œä¸éœ€è¦åœ¨æµè§ˆå™¨ä¸Šæ“ä½œ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…SSHæœåŠ¡ç«¯</span></span><br><span class="line">sudo apt install openssh-server</span><br><span class="line"><span class="comment"># æŸ¥çœ‹SSHæœåŠ¡æ˜¯å¦å¯åŠ¨</span></span><br><span class="line">ps -e | grep ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªblogç”¨æˆ·ç®¡ç†Hexo(é»˜è®¤çš„rootç”¨æˆ·æƒé™è¿‡é«˜,å®¹æ˜“å½±å“åˆ°ç³»ç»Ÿ)</span></span><br><span class="line">adduser blog</span><br><span class="line"><span class="comment"># ç»™äºˆblogç”¨æˆ·æƒé™</span></span><br><span class="line">vim /etc/sudoers</span><br><span class="line"><span class="comment"># æ‰¾åˆ°User privilege specificationè¿™ä¸€æ®µ,åœ¨ä¸‹é¢æ·»åŠ ä»¥ä¸‹å†…å®¹</span></span><br><span class="line">blog    ALL=(ALL:ALL) ALL</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°blogç”¨æˆ·(å¯†ç å¯åœ¨ç½‘é¡µæœåŠ¡å™¨æ§åˆ¶å°é‚£è¾¹é‡ç½®å¯†ç è·å¾—)</span></span><br><span class="line">su blog</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…git</span></span><br><span class="line">sudo apt install git</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥æ ¹ç›®å½•,åœ¨/var/repoç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºhexo_staticçš„è£¸ä»“åº“</span></span><br><span class="line"><span class="built_in">cd</span> /</span><br><span class="line">sudo <span class="built_in">mkdir</span> /var/repo/</span><br><span class="line">sudo <span class="built_in">chown</span> -R <span class="variable">$USER</span>:<span class="variable">$USER</span> /var/repo/</span><br><span class="line">sudo <span class="built_in">chmod</span> -R 755 /var/repo/</span><br><span class="line"><span class="built_in">cd</span> /var/repo/</span><br><span class="line"><span class="comment"># åˆ›å»ºè£¸ä»“åº“</span></span><br><span class="line">git init --bare hexo_static.git</span><br><span class="line"><span class="comment"># è£¸ä»“åº“ä¸åŒäºæ™®é€šä»“åº“,è£¸ä»“åº“æ˜¯ä¸“é—¨çš„å…±äº«ä»“åº“,ä¸ä¼šå­˜å‚¨æ–‡ä»¶,åªä¿å­˜å†å²æäº¤çš„ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># å®é™…ä¸Šè£¸ä»“åº“å°±ç›¸å½“äºæ™®é€šä»“åº“ä¸­éšè—çš„.gitæ–‡ä»¶å¤¹</span></span><br></pre></td></tr></table></figure></div>
<h4 id="é…ç½®nginxåå‘ä»£ç†"><a class="markdownIt-Anchor" href="#é…ç½®nginxåå‘ä»£ç†"></a> é…ç½®Nginxåå‘ä»£ç†</h4>
<h5 id="å®‰è£…nginxåŠå¯èƒ½é‡åˆ°çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å®‰è£…nginxåŠå¯èƒ½é‡åˆ°çš„é—®é¢˜"></a> å®‰è£…NginxåŠå¯èƒ½é‡åˆ°çš„é—®é¢˜</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…nginx</span></span><br><span class="line">sudo apt install nginx</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯,æ³¨æ„å¤§å°å†™</span></span><br><span class="line">nginx -V</span><br><span class="line"><span class="comment"># æ³¨æ„è¿™ä¸€æ­¥å¦‚æœæ²¡æœ‰çœ‹åˆ°with-http_ssl_moduleå­—æ ·çš„å‚æ•°ä¿¡æ¯(å¦‚æœæœ‰å°±è·³è¿‡åç»­æ­¥éª¤),åˆ™éœ€è¦ä»æºç ç¼–è¯‘å®‰è£…(å·²ç»å®‰è£…äº†ä¹Ÿæ²¡æœ‰å…³ç³»,åœæ­¢æœåŠ¡åæ›¿æ¢é…ç½®æ–‡ä»¶å³å¯)</span></span><br><span class="line"><span class="comment"># å¦‚æœæƒ³å¸è½½ä¹Ÿå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</span></span><br><span class="line">sudo apt --purge autoremove nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx å®˜ç½‘ https://nginx.org/en/download.html</span></span><br><span class="line"><span class="comment"># /usr/local/srcç›®å½•é€šå¸¸ç”¨äºå­˜æ”¾ç”¨æˆ·æ‰‹åŠ¨ç¼–è¯‘ç¨‹åºçš„æºç åŒ…</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/src/</span><br><span class="line"><span class="comment"># è¿™é‡Œä½¿ç”¨wgetä¸‹è½½nginxçš„æºç åŒ…</span></span><br><span class="line"><span class="comment"># å¦‚æœå·²ç»å®‰è£…å¹¶é…ç½®äº†nginx,åˆä¸æƒ³é‡æ–°é…ç½®,ä½¿ç”¨nginx -vå‘½ä»¤æŸ¥çœ‹å·²å®‰è£…çš„nginxç‰ˆæœ¬å¹¶æ›¿æ¢æ‰ä»¥ä¸‹å‘½ä»¤ä¸­çš„ç‰ˆæœ¬å·</span></span><br><span class="line">wget https://nginx.org/download/nginx-1.22.1.tar.gz</span><br><span class="line"><span class="comment"># è§£å‹æå–åŒ…å¹¶è¿›å…¥è§£å‹ç›®å½•</span></span><br><span class="line">tar -zxvf nginx-1.22.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> nginx-1.22.1</span><br><span class="line"><span class="comment"># æŸ¥çœ‹åŸæœ‰çš„nginxå®‰è£…ç›®å½•</span></span><br><span class="line"><span class="built_in">which</span> nginx</span><br><span class="line"><span class="comment"># åœæ­¢nginxçš„è¿è¡Œ</span></span><br><span class="line">nginx -s stop</span><br><span class="line"><span class="comment"># æŸ¥çœ‹åŸæœ‰nginxçš„é…ç½®å‚æ•°,æ³¨æ„å¤§å°å†™</span></span><br><span class="line">nginx -V</span><br><span class="line"><span class="comment"># åœ¨åŸæœ‰å‚æ•°çš„åŸºç¡€ä¸Šé™„åŠ --with-http_ssl_moduleçš„å‚æ•°é…ç½®SSLæ¨¡å—(ä¸‹é¢åªç»™å‡ºäº†ä¸€éƒ¨åˆ†å‚æ•°,å®Œæ•´å‚æ•°ç”±nginx -Væ˜¾ç¤ºçš„å‚æ•°æ‹¼æ¥SSLæ¨¡å—çš„å‚æ•°è€Œæˆ)</span></span><br><span class="line">sudo ./configure --prefix=/usr/local/nginx --with-http_ssl_module</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™ä¸€æ­¥å¯èƒ½ä¼šç¼ºå°‘ä¸€äº›åº“,ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½åˆ°ç›¸å…³åº“åé‡æ–°ç¼–è¯‘</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼ºå°‘PCREçš„ç›¸å…³åº“,å¦‚æœä¸ç¼ºè¿™ä¸ªåº“å°±è·³è¿‡</span></span><br><span class="line">sudo apt install libpcre3 libpcre3-dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼ºå°‘zlibçš„åº“,å¦‚æœä¸ç¼ºè¿™ä¸ªåº“å°±è·³è¿‡</span></span><br><span class="line"><span class="comment"># è®¿é—®zlibå®˜ç½‘http://zlib.net/ä¸‹è½½zlib,è¿™é‡Œç›´æ¥ç”¨wgetä¸‹è½½åˆ°å½“å‰çš„srcç›®å½•</span></span><br><span class="line">wget http://zlib.net/zlib-1.2.13.tar.gz</span><br><span class="line">./configure --prefix=/usr/local/zlib</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼ºå°‘opensslçš„ç›¸å…³åº“,å¦‚æœä¸ç¼ºè¿™ä¸ªåº“å°±è·³è¿‡</span></span><br><span class="line">sudo apt install openssl libssl-dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°ç¼–è¯‘nginx</span></span><br><span class="line">sudo make</span><br><span class="line"><span class="comment"># å¦‚æœæ²¡æœ‰å®‰è£…è¿‡nginxæˆ–è€…å·²ç»å¸è½½äº†nginxåˆ™æ‰§è¡Œä»¥ä¸‹2æ¡å‘½ä»¤è¦†ç›–å®‰è£…åå³å¯è·³è¿‡åç»­æ­¥éª¤</span></span><br><span class="line">sudo make install</span><br><span class="line"><span class="comment"># é…ç½®è½¯é“¾æ¥ä½¿å¾—åœ¨ä»»æ„ç›®å½•ä¸‹èƒ½é€šè¿‡nginxçš„åç§°ç›´æ¥è¿è¡Œnginxçš„å‘½ä»¤</span></span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/local/nginx/sbin/nginx /usr/sbin/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›¿æ¢åŸæœ‰nginxçš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¤‡ä»½åŸæœ‰nginxå®‰è£…ç›®å½•ä¸‹çš„æ–‡ä»¶(è¿™é‡Œä»¥å®‰è£…æ–‡ä»¶ä½äº/usr/sbin/ç›®å½•ä¸‹ä¸ºä¾‹)</span></span><br><span class="line"><span class="built_in">cp</span> /usr/sbin/nginx /usr/sbin/nginx.bak</span><br><span class="line"><span class="comment"># å°†ç¼–è¯‘å¥½çš„nginxæ–‡ä»¶è¦†ç›–æ‰åŸæœ‰çš„nginx</span></span><br><span class="line"><span class="built_in">cp</span> ./objs/nginx /usr/sbin/</span><br><span class="line"><span class="comment"># é‡æ–°æŸ¥çœ‹nginxå‚æ•°ä¿¡æ¯</span></span><br><span class="line">nginx -V</span><br><span class="line"><span class="comment"># çœ‹åˆ°äº†--with-http_ssl_moduleçš„å‚æ•°,SSLæ¨¡å—é…ç½®å®Œæˆ</span></span><br></pre></td></tr></table></figure></div>
<h5 id="é…ç½®nginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•"><a class="markdownIt-Anchor" href="#é…ç½®nginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•"></a> é…ç½®Nginxæ‰˜ç®¡æ–‡ä»¶ç›®å½•</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º/var/www/hexoç›®å½•ç”¨äºå­˜æ”¾Hexoç”Ÿæˆçš„é™æ€æ–‡ä»¶,ä¿®æ”¹ç›®å½•æ‰€æœ‰æƒ</span></span><br><span class="line">sudo <span class="built_in">mkdir</span> -p /var/www/hexo</span><br><span class="line">sudo <span class="built_in">chown</span> -R <span class="variable">$USER</span>:<span class="variable">$USER</span> /var/www/hexo</span><br><span class="line">sudo <span class="built_in">chmod</span> -R 755 /var/www/hexo</span><br><span class="line"><span class="comment"># ä¿®æ”¹/etc/nginx/sites-enabled/default,ä½¿nginxçš„rootç›®å½•æŒ‡å‘hexoç›®å½•</span></span><br><span class="line"><span class="comment"># åœ¨serveré‡Œé¢æ·»åŠ ä»¥ä¸‹é…ç½®</span></span><br><span class="line">root /var/www/hexo;</span><br><span class="line"><span class="comment"># é‡å¯nginxæœåŠ¡</span></span><br><span class="line">sudo systemctl restart nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®gité’©å­,ç”¨äºå®ç°æœ¬åœ°Hexoç”Ÿæˆçš„é™æ€æ–‡ä»¶æ¨é€åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">vim /var/repo/hexo_static.git/hooks/post-receive</span><br><span class="line"><span class="comment"># æ·»åŠ ä»¥ä¸‹é…ç½®å†…å®¹å¹¶ä¿å­˜é€€å‡º</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">git --work-tree=/var/www/hexo --git-dir=/var/repo/hexo_static.git checkout -f</span><br><span class="line"><span class="comment"># ç»™äºˆå¯æ‰§è¡Œæƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> +x /var/repo/hexo_static.git/hooks/post-receive</span><br></pre></td></tr></table></figure></div>
<h3 id="sshè¿œç¨‹è¿æ¥é…ç½®"><a class="markdownIt-Anchor" href="#sshè¿œç¨‹è¿æ¥é…ç½®"></a> SSHè¿œç¨‹è¿æ¥é…ç½®</h3>
<p>åœ¨windowsä¸Šæ­å»ºSSHå®¢æˆ·ç«¯</p>
<ol>
<li>
<p>ä½¿ç”¨powershellè¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹çš„.sshæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆå¯†é’¥</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="code"><pre><span class="line">ssh<span class="literal">-keygen</span> <span class="literal">-t</span> rsa</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>å°†ç”Ÿæˆçš„å…¬é’¥id_rsa.pubä¸­çš„å†…å®¹æ‹·è´åˆ°æœåŠ¡å™¨çš„/home/blog/.ssh/authorized_keysæ–‡ä»¶ä¸Š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> .ssh</span><br><span class="line"><span class="built_in">cd</span> .ssh</span><br><span class="line">sudo <span class="built_in">touch</span> authorized_keys</span><br><span class="line">sudo vim .ssh/authorized_keys</span><br></pre></td></tr></table></figure></div>
</li>
</ol>
<h3 id="hexoéƒ¨ç½²åˆ°æœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#hexoéƒ¨ç½²åˆ°æœåŠ¡å™¨"></a> Hexoéƒ¨ç½²åˆ°æœåŠ¡å™¨</h3>
<ol>
<li>
<p>ç¼–è¾‘hexoæ ¹ç›®å½•ä¸­çš„config.ymlæ–‡ä»¶ï¼Œåœ¨deployå¤„é…ç½®å‚æ•°</p>
<div class="highlight-container" data-rel="Yaml"><figure class="iseeu highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="comment"># server_ipä¸ºæœåŠ¡å™¨çš„å…¬ç½‘ip</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">blog@server_ip:/var/repo/hexo_static.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤éƒ¨ç½²Hexo</p>
<div class="highlight-container" data-rel="Powershell"><figure class="iseeu highlight powershell"><table><tr><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>æŸ¥çœ‹æœåŠ¡å™¨çš„/var/www/hexoç›®å½•ï¼Œèƒ½å¤Ÿçœ‹åˆ°ä¸Šä¼ çš„é™æ€æ–‡ä»¶</p>
</li>
<li>
<p>è®¿é—®æœåŠ¡å™¨IPåœ°å€æŸ¥çœ‹é¡µé¢ï¼Œå¦‚æœè®¿é—®å¤±è´¥åˆ™æ£€æŸ¥æœåŠ¡å™¨å†…éƒ¨æ˜¯å¦å¼€æ”¾äº†80ç«¯å£å¹¶å»æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹æœåŠ¡å™¨å‚å•†æä¾›çš„å®‰å…¨ç»„è§„åˆ™æˆ–å¤–éƒ¨é˜²ç«å¢™æ˜¯å¦å¼€æ”¾äº†80ç«¯å£ã€‚ç¡®è®¤éƒ½å¼€æ”¾ä¹‹åé‡æ–°è®¿é—®</p>
</li>
</ol>
<h3 id="åŸŸåè§£æé…ç½®"><a class="markdownIt-Anchor" href="#åŸŸåè§£æé…ç½®"></a> åŸŸåè§£æé…ç½®</h3>
<p>åŸŸåçš„è´­ä¹°å¾ˆç®€å•ï¼Œåˆ°è¿™é‡Œç¬”è€…å·²ç»æå‰è´­ä¹°å¥½äº†ä¸€å¹´æœŸåŸŸåï¼Œé‡ç‚¹å°±æ˜¯é…ç½®åŸŸåè§£æã€‚å¦‚æœç§ŸèµåŸŸåçš„åœ°æ–¹å’Œç§ŸèµæœåŠ¡å™¨çš„åœ°æ–¹ä¸æ˜¯åŒä¸€ä¸ªåœ°æ–¹ï¼Œåˆ™åŸŸåè§£æéœ€è¦åœ¨ç§ŸèµåŸŸåçš„åœ°æ–¹è¿›è¡Œé…ç½®</p>
<p>å‚è€ƒé…ç½®</p>
<p>ä¸»æœºè®°å½•ä¸€èˆ¬å°±æ˜¯å¡«<strong>www</strong>ï¼Œè®°å½•ç±»å‹ä¸ºAï¼Œè®°å½•å€¼ä¸ºå…¬ç½‘IPåœ°å€ï¼Œå…¶å®ƒçš„å‚æ•°é»˜è®¤å³å¯</p>
<p>ä¹‹åå°±å¯ä»¥é€šè¿‡www.åŸŸåæ¥è®¿é—®é¡µé¢ï¼Œå¦‚æœæƒ³ç›´æ¥é€šè¿‡ä¸€çº§åŸŸåè®¿é—®ï¼Œä¹Ÿå¯ä»¥å†æ·»åŠ ä¸€æ¡ä¸»æœºè®°å½•ä¸º@ï¼Œè®°å½•ç±»å‹ä¸ºAï¼Œè®°å½•å€¼ä¸ºå…¬ç½‘IPåœ°å€çš„è§£æ</p>
<h3 id="sslè¯ä¹¦ç”³è¯·"><a class="markdownIt-Anchor" href="#sslè¯ä¹¦ç”³è¯·"></a> SSLè¯ä¹¦ç”³è¯·</h3>
<p>è¿™é‡Œç¬”è€…æ‰¾äº†ä¸€ä¸ªèƒ½ç”³è¯·90å¤©å…è´¹SSLè¯ä¹¦çš„ç½‘ç«™<a class="link"   href="https://ourl.co/zerossl" >https://ourl.co/zerossl <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚å…·ä½“çš„æ“ä½œå‚è€ƒ<a class="link"   href="https://www.landiannews.com/archives/93605.html" >SSLè¯ä¹¦ç”³è¯· <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="httpsæœåŠ¡å¼€å¯"><a class="markdownIt-Anchor" href="#httpsæœåŠ¡å¼€å¯"></a> HTTPSæœåŠ¡å¼€å¯</h3>
<p><strong>Nginxé…ç½®SSLè¯ä¹¦</strong></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°†ä¸‹è½½åˆ°windowsä¸Šçš„è¯ä¹¦æ–‡ä»¶ä¸Šä¼ è‡³æœåŠ¡å™¨</span></span><br><span class="line"><span class="comment"># æŒ‡å®šä¸€ä¸ªç›®å½•ç”¨äºå­˜æ”¾è¯ä¹¦æ–‡ä»¶(ç›®å½•å¯è‡ªè¡Œé€‰æ‹©,ä»¥ä¸‹ä»…ä¾›å‚è€ƒ)</span></span><br><span class="line">sudo <span class="built_in">mkdir</span> -p /ssh/cert &amp;&amp; <span class="built_in">cd</span> /ssh/cert</span><br><span class="line"><span class="comment"># ä½¿ç”¨è¿œç¨‹æ–‡ä»¶ä¼ è¾“ä¸Šä¼ æ–‡ä»¶è‡³æœåŠ¡å™¨</span></span><br><span class="line"><span class="comment"># å°†è¯ä¹¦æ–‡ä»¶ä¿¡æ¯åˆå¹¶</span></span><br><span class="line"><span class="built_in">cat</span> ca_bundle.crt &gt;&gt; certificate.crt</span><br></pre></td></tr></table></figure></div>
<p><strong>Nginxé…ç½®å‚è€ƒ</strong></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name example.com;</span><br><span class="line">        rewrite ^/(.*) https://$server_name<span class="variable">$request_uri</span>? permanent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        listen   443   ssl;</span><br><span class="line">        ssl_certificate /ssh/cert/certificate.crt;</span><br><span class="line">        ssl_certificate_key /ssh/cert/private.key;</span><br><span class="line">        server_name example.com; <span class="comment">#å¡«å†™åŸŸå</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ssléªŒè¯ç›¸å…³é…ç½®</span></span><br><span class="line">        ssl_session_timeout  5m;    <span class="comment">#ç¼“å­˜æœ‰æ•ˆæœŸ</span></span><br><span class="line">        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;    <span class="comment">#åŠ å¯†ç®—æ³•</span></span><br><span class="line">        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;    <span class="comment">#å®‰å…¨é“¾æ¥å¯é€‰çš„åŠ å¯†åè®®</span></span><br><span class="line">        ssl_prefer_server_ciphers on;   <span class="comment">#ä½¿ç”¨æœåŠ¡å™¨ç«¯çš„é¦–é€‰ç®—æ³•</span></span><br><span class="line">        </span><br><span class="line">        root /var/www/hexo; <span class="comment">#Hexoé¡¹ç›®ç›®å½•</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Add index.php to the list if you are using PHP</span></span><br><span class="line">        index index.html index.htm index.nginx-debian.html;</span><br><span class="line">        location / &#123;</span><br><span class="line">                <span class="comment"># First attempt to serve request as file, then</span></span><br><span class="line">                <span class="comment"># as directory, then fall back to displaying a 404.</span></span><br><span class="line">                try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ =404;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è‡³æ­¤HTTPSæœåŠ¡é…ç½®å®Œæˆï¼Œåœ¨è®¿é—®ç¬”è€…çš„é¡µé¢æ—¶å¯ä»¥çœ‹åˆ°httpså¼€å¤´çš„URL</p>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<p><a class="link"   href="https://hexo.io/zh-cn/" >Hexoå®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://cloud.tencent.com/developer/article/1945550" >Hexoéƒ¨ç½²è‡³æœåŠ¡å™¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.landiannews.com/archives/93605.html" >SSLè¯ä¹¦ç”³è¯· <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://help.zerossl.com/hc/en-us/articles/360058295894" >åœ¨NGINXä¸Šå®‰è£…SSLè¯ä¹¦ - é›¶SSLå’Œ (zerossl.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <tags>
        <tag>ç”Ÿæ´»è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨certbotè‡ªåŠ¨åŒ–ç®¡ç†å…è´¹sslè¯ä¹¦</title>
    <url>/2023/07/22/certbot-for-ssl/</url>
    <content><![CDATA[<p>sslè¯ä¹¦æ˜¯ç”¨äºéªŒè¯èº«ä»½å’Œä¿æŠ¤æ•°æ®å®‰å…¨çš„ä¸€ç§æ•°å­—è¯ä¹¦ã€‚åœ¨ç¼ºå°‘sslè¯ä¹¦çš„æƒ…å†µä¸‹ï¼Œç½‘ç»œé€šä¿¡å°†ä¸ä¼šè¢«åŠ å¯†ï¼Œæ‰€æœ‰æ•°æ®å°†ä»¥æ˜æ–‡ä¼ è¾“ï¼Œå®¹æ˜“è¢«æ‹¦æˆªå’Œçªƒå¬ï¼Œè¿™æ ·çš„ç½‘ç«™å®¹æ˜“å—åˆ°ä¸­é—´äººæ”»å‡»ã€‚<span id="more"></span>ç›®å‰ä¹Ÿæ¨å´‡ä½¿ç”¨httpsä»£æ›¿ä¼ ç»Ÿçš„httpï¼Œä¼ ç»Ÿçš„httpå·²ç»è¢«è¯æ˜å­˜åœ¨äº†å¾ˆå¤šå®‰å…¨é—®é¢˜ï¼Œä¸”æµè§ˆå™¨ä¹Ÿä¼šå°†æ­¤ç±»ä¼ ç»Ÿhttpç½‘ç«™æ ‡è®°ä¸ºä¸å®‰å…¨ç½‘ç«™ã€‚ä½†æ˜¯sslè¯ä¹¦ä¹Ÿå¹¶ä¸éƒ½æ˜¯å…è´¹çš„ï¼Œä¸€äº›ä¼ä¸šçº§sslè¯ä¹¦ä»·æ ¼éå¸¸æ˜‚è´µï¼Œä¸æ˜¯ä¸ªäººå¼€å‘è€…æ‰€èƒ½å¤Ÿæ‰¿æ‹…çš„ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰å¿…è¦å»æ‰¿æ‹…ã€‚åœ¨ç¬”è€…ä¹‹å‰æ–‡ç« ä¸­æåˆ°çš„è¯ä¹¦ç½‘ç«™å¦‚<a class="link"   href="https://zerossl.com/" >zerossl <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ä¸­è™½ç„¶æœ‰æä¾›å…è´¹sslè¯ä¹¦ä½†æ˜¯ç›®å‰æœ‰ç”³è¯·æ¬¡æ•°çš„é™åˆ¶(ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« )ã€‚</p>
<p>ä»¥ä¸‹ï¼Œç¬”è€…å°†ä»‹ç»ä½¿ç”¨<a class="link"   href="https://letsencrypt.org/zh-cn/" >Letâ€™s Encrypt <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>çš„<a class="link"   href="https://certbot.eff.org/" >certbot <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>å®¢æˆ·ç«¯ç”³è¯·å…è´¹çš„sslè¯ä¹¦ã€‚certbotå¯ä¸apacheã€nginxç­‰æœåŠ¡é…åˆä½¿ç”¨ï¼Œæœ¬æ–‡ä»¥åœ¨<strong>Ubuntu20.04ä¸Šä¸ºnginxæœåŠ¡é…ç½®sslè¯ä¹¦</strong>ä¸ºä¾‹ã€‚</p>
<h3 id="lets-encrypt"><a class="markdownIt-Anchor" href="#lets-encrypt"></a> Letâ€™s Encrypt</h3>
<p>Letâ€™s Encryptæ˜¯ä¸€å®¶å…¨çƒæ€§çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰ï¼Œä¸ºä¸–ç•Œå„åœ°çš„ä¸ªäººå’Œå›¢ä½“æä¾›è·å–ã€ç»­æœŸã€ç®¡ç†SSL/TLSè¯ä¹¦çš„æœåŠ¡ã€‚ç½‘ç«™å¯ä»¥ä½¿ç”¨å…¶è¯ä¹¦æ¥å¯ç”¨å®‰å…¨çš„HTTPSè¿æ¥ã€‚Letâ€™s Encryptå±äºéè¥åˆ©ç»„ç»‡ï¼Œæ—¨åœ¨æ¨å¹¿HTTPSæŠ€æœ¯çš„åº”ç”¨ï¼Œä»è€Œæ„å»ºæ›´åŠ å®‰å…¨ä¸”å°Šé‡éšç§çš„äº’è”ç½‘ç¯å¢ƒã€‚</p>
<h3 id="certbot"><a class="markdownIt-Anchor" href="#certbot"></a> certbot</h3>
<p>åœ¨æ—©æœŸï¼Œç”³è¯·å¹¶é…ç½®Letâ€™s Encryptç­¾å‘çš„å®‰å…¨è¯ä¹¦æ¯”è¾ƒéº»çƒ¦ï¼Œåªèƒ½æ‰‹åŠ¨è¿›è¡Œé…ç½®ä»¥åŠéƒ¨ç½²ï¼Œéœ€è¦ä¸€å®šçš„æŠ€æœ¯æ°´å¹³ã€‚ç›´åˆ°åæ¥æ¨å‡ºäº†ä¸€äº›è‡ªåŠ¨åŒ–å·¥å…·æ‰ä½¿å¾—sslè¯ä¹¦çš„é…ç½®åŠéƒ¨ç½²å˜å¾—éå¸¸æ–¹ä¾¿ã€‚certbotå°±æ˜¯å…¶ä¸­çš„ä¸€æ¬¾å®˜æ–¹çš„å®¢æˆ·ç«¯å·¥å…·ã€‚</p>
<p>certbotæ˜¯ISRG (Internet Security Research Groupï¼Œäº’è”ç½‘å®‰å…¨ç ”ç©¶å°ç»„) ç»„ç»‡çš„å‘èµ·è€…EFF(ç”µå­å‰å“¨åŸºé‡‘ä¼š)ä¸ºLetâ€™s Encrypté¡¹ç›®æ‰€å‘å¸ƒçš„ä¸€ä¸ªå®˜æ–¹çš„å®¢æˆ·ç«¯ï¼Œå®ç°äº†å®Œå…¨è‡ªåŠ¨åŒ–çš„è·å–ã€éƒ¨ç½²å’Œæ›´æ–°å®‰å…¨è¯ä¹¦ã€‚</p>
<h4 id="å…·ä½“ä½¿ç”¨"><a class="markdownIt-Anchor" href="#å…·ä½“ä½¿ç”¨"></a> å…·ä½“ä½¿ç”¨</h4>
<p>å‰æï¼šUbuntu20.04ç¯å¢ƒã€ä½¿ç”¨nginxæœåŠ¡ã€‚</p>
<h5 id="1å®‰è£…certbotå®¢æˆ·ç«¯åŠæ’ä»¶"><a class="markdownIt-Anchor" href="#1å®‰è£…certbotå®¢æˆ·ç«¯åŠæ’ä»¶"></a> 1.å®‰è£…certbotå®¢æˆ·ç«¯åŠæ’ä»¶</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install certbot python3-certbot-nginx</span><br></pre></td></tr></table></figure></div>
<h5 id="2ç”Ÿæˆè¯ä¹¦"><a class="markdownIt-Anchor" href="#2ç”Ÿæˆè¯ä¹¦"></a> 2.ç”Ÿæˆè¯ä¹¦</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo certbot --nginx</span><br></pre></td></tr></table></figure></div>
<p>ä½¿ç”¨ä»¥ä¸Šå‘½ä»¤ç”Ÿæˆè¯ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè¦æ±‚æä¾›é‚®ç®±åœ°å€ä»¥åŠéœ€è¦é…ç½®è¯ä¹¦çš„åŸŸåä¿¡æ¯ï¼Œä»¥åŠé€‰æ‹©æ˜¯å¦éœ€è¦é‡å®šå‘ç­‰ã€‚ç”Ÿæˆçš„sslè¯ä¹¦ä½äº**/etc/letsencrypt/live**ç›®å½•ä¸‹ã€‚</p>
<h5 id="3æ›´æ–°è¯ä¹¦"><a class="markdownIt-Anchor" href="#3æ›´æ–°è¯ä¹¦"></a> 3.æ›´æ–°è¯ä¹¦</h5>
<p>åœ¨å¤§æ•°æƒ…å†µä¸‹ï¼Œcertbotåœ¨å®‰è£…æ—¶ä¼šè‡ªåŠ¨é…ç½®ä¸€ä¸ªcron jobæˆ–systemdå®šæ—¶å™¨æ¥å®šæœŸæ£€æŸ¥å¹¶æ›´æ–°è¯ä¹¦ã€‚è¿™æ„å‘³ç€å¤§éƒ¨åˆ†æ—¶é—´é‡Œå¼€å‘è€…ä¸éœ€è¦æ‰‹åŠ¨æ›´æ–°è¯ä¹¦ï¼Œcertbotä¼šè‡ªåŠ¨è¿›è¡Œæ›´æ–°ã€‚è‡ªåŠ¨æ›´æ–°åŠŸèƒ½å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæµ‹è¯•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo certbot renew --dry-run</span><br></pre></td></tr></table></figure></div>
<p><code>--dry-run</code>å‚æ•°è¡¨ç¤ºæµ‹è¯•ï¼Œè€ŒéçœŸæ­£æ‰§è¡Œæ›´æ–°ã€‚å¦‚æœæ˜¾ç¤º<code>&quot;Congratulations, all renewals succeeded.&quot;</code>çš„ä¿¡æ¯ï¼Œåˆ™è¡¨ç¤ºè‡ªåŠ¨æ›´æ–°åŠŸèƒ½æµ‹è¯•æˆåŠŸã€‚</p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰‹åŠ¨æ›´æ–°è¯ä¹¦</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo certbot renew</span><br></pre></td></tr></table></figure></div>
<p>è¿™å°†æ£€æŸ¥æ‰€æœ‰å·²å®‰è£…çš„è¯ä¹¦ï¼Œå¹¶æ›´æ–°å³å°†è¿‡æœŸçš„è¯ä¹¦ã€‚</p>
<h3 id="è¡¥å……"><a class="markdownIt-Anchor" href="#è¡¥å……"></a> è¡¥å……</h3>
<p>é™¤äº†Letâ€™s Encryptç»„ç»‡åŠå…¶æä¾›çš„certbotå®¢æˆ·ç«¯ä»¥å¤–ï¼Œè¿˜æœ‰ç±»ä¼¼çš„<a class="link"   href="https://www.buypass.com/" >buypass <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ç»„ç»‡ä»¥åŠæ›´è½»é‡çš„è‡ªåŠ¨åŒ–shellè„šæœ¬<a class="link"   href="https://github.com/acmesh-official/acme.sh" >acme.sh <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
<p>Letâ€™s Encryptå’Œbuypassæ‰€æä¾›çš„è¯ä¹¦æœ‰ä¸€äº›åŒºåˆ«</p>
<ul>
<li>Letâ€™s Encryptçš„å•æ¬¡ç”³è¯·è¯ä¹¦æœ‰æ•ˆæœŸä¸º90å¤©ï¼Œè€Œbuypassçš„å•æ¬¡ç”³è¯·è¯ä¹¦æœ‰æ•ˆæœŸåˆ™ä¸º180å¤©ã€‚</li>
<li>Letâ€™s Encryptæ”¯æŒç­¾å‘æ³›åŸŸåå’Œå¤šåŸŸåè¯ä¹¦ï¼Œbuypassçš„è¯ä¹¦ä¸æ”¯æŒæ³›åŸŸåã€æ”¯æŒå¤šåŸŸåã€‚</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/25538921" >HTTPS ç®€ä»‹åŠä½¿ç”¨å®˜æ–¹å·¥å…· Certbot é…ç½® Letâ€™s Encrypt SSL å®‰å…¨è¯ä¹¦è¯¦ç»†æ•™ç¨‹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>ç½‘ç«™è¿ç»´</category>
      </categories>
      <tags>
        <tag>ssl</tag>
        <tag>certbot</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºclangæ‰“é€ é«˜æ•ˆçš„å¼€å‘ç¯å¢ƒ</title>
    <url>/2023/04/01/clang-env-build/</url>
    <content><![CDATA[<p>åœ¨ä½¿ç”¨<code>vscode</code>è¿›è¡ŒC/C++å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬å°±æ˜¯ç›´æ¥ä½¿ç”¨<code>gcc</code>ç¼–è¯‘å™¨ï¼ˆåœ¨windowsä¸­ï¼Œå®ƒé€šå¸¸è¢«ç§°ä¸º<code>MinGW-w64</code>ï¼Œä¸€ä¸ª<code>gcc</code>çš„ç§»æ¤ç‰ˆï¼‰ã€<code>gdb</code>è°ƒè¯•å™¨é…åˆ<code>C/C++</code>çš„æ’ä»¶æ¥è¿›è¡Œå¼€å‘ï¼Œä¹Ÿå°±æ˜¯ä¼ ç»Ÿçš„<code>gnu</code>å·¥å…·é“¾ä¸­çš„ç»„ä»¶ã€‚</p>
<p>ä½†æ˜¯<code>vscode</code>çš„<code>C/C++</code>çš„æ’ä»¶åŠŸèƒ½è™½ç„¶é½å…¨ï¼Œå“åº”é€Ÿåº¦å´ä¸å¤Ÿç†æƒ³ï¼Œäºæ˜¯æœ¬æ–‡ä»‹ç»äº†ä½¿ç”¨<code>LLVM</code>å·¥å…·é“¾ç»„ä»¶ä¸­çš„<code>clang</code>ç¼–è¯‘å™¨æ¥è¿›è¡ŒC/C++å¼€å‘ã€‚<span id="more"></span></p>
<p>æœ¬æ–‡æ˜¯åœ¨<code>Archlinux</code>çš„åŸºç¡€ä¸Šæ­å»ºä»¥<code>clang</code>ä½œä¸ºç¼–è¯‘å™¨ã€<code>lldb</code>ä½œä¸ºè°ƒè¯•å™¨çš„å¼€å‘ç¯å¢ƒï¼Œ<code>windows</code>å¯ä»¥é€šè¿‡é¢å¤–é…ç½®<code>WSL</code>æ¥æ­å»ºå¼€å‘ç¯å¢ƒã€‚</p>
<h2 id="åŸºç¡€ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#åŸºç¡€ç¯å¢ƒæ­å»º"></a> åŸºç¡€ç¯å¢ƒæ­å»º</h2>
<p><code>LLVM</code>å·¥å…·é“¾åŒ…æ‹¬<code>clang</code>ç¼–è¯‘å™¨ã€<code>lldb</code>è°ƒè¯•å™¨ã€<code>lld</code>é“¾æ¥å™¨ç­‰ã€‚</p>
<h3 id="1å®‰è£…vscode"><a class="markdownIt-Anchor" href="#1å®‰è£…vscode"></a> 1.å®‰è£…vscode</h3>
<p>è¿™é‡Œä½¿ç”¨çš„æ˜¯<a class="link"   href="https://aur.archlinux.org/packages/visual-studio-code-bin" >visual-studio-code-bin <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><sup>EULA / aur</sup>ã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">yay -S visual-studio-code-bin</span><br></pre></td></tr></table></figure></div>
<h3 id="2å®‰è£…åŸºç¡€åŒ…"><a class="markdownIt-Anchor" href="#2å®‰è£…åŸºç¡€åŒ…"></a> 2.å®‰è£…åŸºç¡€åŒ…</h3>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…å³å¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S llvm clang lldb lld</span><br></pre></td></tr></table></figure></div>
<h3 id="3å®‰è£…vscodeç›¸å…³æ’ä»¶"><a class="markdownIt-Anchor" href="#3å®‰è£…vscodeç›¸å…³æ’ä»¶"></a> 3.å®‰è£…vscodeç›¸å…³æ’ä»¶</h3>
<p>æ‰“å¼€vscodeæ’ä»¶å¸‚åœºï¼Œæœç´¢<code>clangd</code>ã€<code>CodeLLDB</code>ä¸‹è½½å®‰è£…ï¼ˆå¦‚æœå› ä¸ºç½‘ç»œé—®é¢˜ä¸‹è½½å¤±è´¥ï¼Œè¯·å°è¯•æ‰‹åŠ¨ä¸‹è½½å®‰è£….vsixæ–‡ä»¶ï¼‰ã€‚</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/04/01/clang-env-build/image-20230401142306155.png"
                      class="" title="image-20230401142306155"
                >
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/04/01/clang-env-build/image-20230401142340526.png"
                      class="" title="image-20230401142340526"
                >
<h2 id="è¿è¡Œ-è°ƒè¯•é…ç½®"><a class="markdownIt-Anchor" href="#è¿è¡Œ-è°ƒè¯•é…ç½®"></a> è¿è¡Œã€è°ƒè¯•é…ç½®</h2>
<h3 id="1åˆ›å»ºé…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#1åˆ›å»ºé…ç½®æ–‡ä»¶"></a> 1.åˆ›å»ºé…ç½®æ–‡ä»¶</h3>
<p>æ‰“å¼€ä¾§è¾¹æ¡†ä¸Šçš„è¿è¡Œè°ƒè¯•é€‰é¡¹ï¼Œç‚¹å‡»<code>create a launch.json file</code>å¹¶é€‰æ‹©<code>LLDB</code>ï¼Œåˆ›å»ºå¥½<code>.vscode</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>launch.json</code>é…ç½®æ–‡ä»¶</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/04/01/clang-env-build/image-20230401142113704.png"
                      class="" title="image-20230401142113704"
                >
<p><code>launch.json</code>çš„åˆå§‹å†…å®¹å¦‚ä¸‹ï¼Œç›¸å…³å‚æ•°å˜é‡é…ç½®è¯´æ˜å¯è®¿é—®<a class="link"   href="https://code.visualstudio.com/docs/editor/variables-reference" >å®˜æ–¹æ–‡æ¡£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// Use IntelliSense to learn about possible attributes.</span></span><br><span class="line">    <span class="comment">// Hover to view descriptions of existing attributes.</span></span><br><span class="line">    <span class="comment">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lldb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Debug&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/&lt;executable file&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>
<p>è¿™é‡Œç¬”è€…å°†æ‰€æœ‰ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶è¾“å‡ºåˆ°æå‰æ‰‹åŠ¨åˆ›å»ºå¥½çš„<code>build</code>æ–‡ä»¶å¤¹(ä¸æºæ–‡ä»¶æ˜¯åŒçº§ç›®å½•)ï¼Œå¦å¤–<code>launch.json</code>è¿˜éœ€è¦é…ç½®<code>tasks.json</code>æ‰èƒ½å®ç°è¿è¡Œè°ƒè¯•ï¼Œ<code>tasks.json</code>åˆ™æ˜¯å…·ä½“å®šä¹‰äº†ç¼–è¯‘çš„å‘½ä»¤ä»¥åŠå‚æ•°ç­‰ã€‚<code>tasks.json</code>å¯ä»¥æ‰‹åŠ¨åœ¨<code>.vscode</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºã€‚</p>
<p>æœ€ç»ˆé…ç½®å¦‚ä¸‹</p>
<p><code>launch.json</code></p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lldb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Debug&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">// ç¼–è¯‘æ–‡ä»¶çš„è¾“å‡ºç›®å½•</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;/build/$&#123;fileBasenameNoExtension&#125;.out&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Debug C++&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;internalConsoleOptions&quot;</span><span class="punctuation">:</span> <span class="string">&quot;neverOpen&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">// ä½¿ç”¨å†…ç½®ç»ˆç«¯</span></span><br><span class="line">            <span class="attr">&quot;console&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integratedTerminal&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>
<p><code>tasks.json</code></p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Debug C++&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;clang++&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;--std=c++20&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-Wall&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span> <span class="comment">// ç”Ÿæˆè°ƒè¯•ä¿¡æ¯</span></span><br><span class="line">                <span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;/build/$&#123;fileBasenameNoExtension&#125;.out&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/usr/bin&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;isDefault&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Task generated by Debugger.&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>
<p>ä½¿ç”¨å¿«æ·é”®<code>Ctrl</code>+<code>F5</code>è¿è¡Œä»£ç ï¼Œä½¿ç”¨å¿«æ·é”®<code>F5</code>è°ƒè¯•ä»£ç (éœ€è¦å…ˆæ–­ç‚¹)ã€‚</p>
<p>åˆ°è¿™é‡ŒåŸºæœ¬çš„è¿è¡Œã€è°ƒè¯•å·²ç»é…ç½®å®Œæˆï¼Œä½†æ˜¯è¿™ç§æ–¹å¼éœ€è¦æå‰åœ¨å½“å‰ç›®å½•ä¸‹æ‰‹åŠ¨åˆ›å»ºå¥½è¾“å‡ºç›®å½•ï¼Œå¦åˆ™æ— æ³•æˆåŠŸæ‰§è¡Œä»»åŠ¡ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥é€‰æ‹©å°†å½“å‰ç›®å½•ä½œä¸ºè¾“å‡ºç›®å½•ï¼Œä½†é‚£æ ·è¾“å‡ºæ–‡ä»¶ä¸æºæ–‡ä»¶æ··æ‚åœ¨ä¸€èµ·ä¸æ–¹ä¾¿å¤„ç†ã€‚</p>
<p>åŸºäºè¿™ç‚¹ï¼Œç¬”è€…è¿™é‡Œæä¾›äº†ä¸€ç§æ€è·¯ï¼šä½¿ç”¨<code>Code Runner</code>æ’ä»¶æŒ‡å®šå…¶ç¼–è¯‘å‘½ä»¤ï¼Œæä¾›è‡ªåŠ¨åˆ›å»ºè¾“å‡ºç›®å½•çš„åŠŸèƒ½(å”¯ä¸€çš„ä¸ä¾¿å°±æ˜¯éœ€è¦å…ˆæ‰§è¡Œ<code>Code Runner</code>åˆ›å»ºå¥½ç›®å½•ä¹‹åï¼Œæ‰èƒ½è¿›è¡Œè°ƒè¯•)ã€‚</p>
<p>å› æ­¤ä¸‹é¢ä»‹ç»é€šè¿‡é…ç½®<code>Code Runner</code>æ’ä»¶ï¼Œæ›´æ”¹å…¶é»˜è®¤çš„<code>g++</code>å‘½ä»¤ä¸º<code>clang++</code>ï¼Œå¹¶å®ç°è‡ªåŠ¨åˆ›å»ºè¾“å‡ºç›®å½•çš„åŠŸèƒ½ã€‚</p>
<h3 id="2code-runneré…ç½®"><a class="markdownIt-Anchor" href="#2code-runneré…ç½®"></a> 2.Code Runneré…ç½®</h3>
<p>é¦–å…ˆä¸‹è½½å®‰è£…å¥½<code>Code Runner</code>çš„æ’ä»¶ï¼Œåœ¨æ’ä»¶å¸‚åœºæœç´¢<code>Code Runner</code>å¹¶å®‰è£…</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/04/01/clang-env-build/image-20230401195536276.png"
                      class="" title="image-20230401195536276"
                >
<p>æ‰“å¼€<code>Code Runner</code>çš„æ‰©å±•é…ç½®ï¼Œåœ¨æœç´¢æ¡†ä¸­æœç´¢<code>code-runner.executorMap</code>ï¼Œç‚¹å‡»<code>Edit in settings.json</code>æ‰“å¼€<code>settings.json</code>é…ç½®æ–‡ä»¶ã€‚</p>
<p>åœ¨<code>settings.json</code>æ–‡ä»¶ä¸­ä¿®æ”¹å¯¹åº”çš„é…ç½®é¡¹ä¸­çš„<code>g++</code>ä¸º<code>clang++</code>ï¼Œé…ç½®å¦‚ä¸‹</p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;code-runner.executorMap&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;c&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd $dir &amp;&amp; clang $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cpp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd $dir &amp;&amp; clang++ $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="punctuation">,</span> </span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>
<p>æŒ‡å®šè¾“å‡ºç›®å½•ï¼Œä¾‹å¦‚è¾“å‡ºåˆ°å½“å‰ç›®å½•çš„<code>build</code>ç›®å½•ä¸‹(è‡ªåŠ¨åˆ›å»º)ï¼Œåˆ™ä¿®æ”¹ä¸ºä»¥ä¸‹é…ç½®</p>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;code-runner.executorMap&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;c&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd $dir &amp;&amp; mkdir -p build &amp;&amp; clang $fileName -o build/$fileNameWithoutExt &amp;&amp; build/$fileNameWithoutExt&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cpp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd $dir &amp;&amp; mkdir -p build &amp;&amp; clang++ $fileName -o build/$fileNameWithoutExt &amp;&amp; build/$fileNameWithoutExt&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>
<p>æ›´å¤šå‚æ•°é…ç½®è¯´æ˜å¯ä»¥å‚è€ƒ<a class="link"   href="https://github.com/formulahendry/vscode-code-runner" >å®˜æ–¹ä»“åº“ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
<p>è‡³æ­¤ä¸€ä¸ªç®€å•é«˜æ•ˆçš„ã€åŸºäº<code>LLVM</code>å·¥å…·é“¾ä¸­çš„<code>clang</code>ç¼–è¯‘å™¨ã€<code>lldb</code>è°ƒè¯•å™¨çš„å¼€å‘ç¯å¢ƒå·²ç»æ­å»ºå®Œæˆã€‚</p>
<p>è¡¥å……ï¼šç½‘ä¸Šå¾ˆå¤šç›¸å…³æ•™ç¨‹ä¸»è¦æ˜¯é€šè¿‡<code>CMake</code>é…åˆ<code>clang</code>æ¥æ„å»ºé¡¹ç›®ï¼Œ<code>CMake</code>çš„é…ç½®å¯¹äºå•æ–‡ä»¶ç¼–è¯‘è¿è¡Œè°ƒè¯•æ¥è¯´ç›¸å¯¹ç¹çï¼Œä¸å¤ªé€‚åˆç®€å•çš„å°é¡¹ç›®ã€‚åœ¨æ—©æœŸç¬”è€…å‚è€ƒç›¸å…³æ•™ç¨‹é…ç½®æ—¶æ„è¯†åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¦å¤–é‰´äº<code>C/C++</code>æ’ä»¶åœ¨å“åº”é€Ÿåº¦ä¸Šå®åœ¨ä¸å°½äººæ„ï¼Œäºæ˜¯æœ‰äº†è¿™ç¯‡ç®€æ˜“çš„æ–‡ç« ã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<p><a class="link"   href="https://code.visualstudio.com/docs/editor/debugging" >Debugging | visual studio <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://code.visualstudio.com/docs/editor/variables-reference" >variables-reference | visual studio <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://github.com/formulahendry/vscode-code-runner" >Code Runner | github <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>å·¥å…·é“¾</category>
      </categories>
      <tags>
        <tag>vscode</tag>
        <tag>clang</tag>
        <tag>lldb</tag>
        <tag>llvm</tag>
        <tag>gcc</tag>
        <tag>gdb</tag>
        <tag>gnu</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿ç®—æ–¹æ³•å’Œè¿ç®—å™¨</title>
    <url>/2023/04/25/computer-organization-1/</url>
    <content><![CDATA[<p>è®¡ç®—æœºç»„æˆåŸç†â€”â€”è¿ç®—æ–¹æ³•å’Œè¿ç®—å™¨çŸ¥è¯†æ¢³ç†<span id="more"></span></p>
<p>å‚è€ƒã€Šè®¡ç®—æœºç»„æˆåŸç†ã€‹ç¬¬å…­ç‰ˆç™½ä¸­è‹±ã€æˆ´å¿—æ¶›ä¸»ç¼–ï¼Œæœ¬æ–‡æ˜¯å¯¹<strong>ç¬¬äºŒç« è¿ç®—æ–¹æ³•å’Œè¿ç®—å™¨</strong>çš„æ•´ç†æ‘˜è¦ã€‚</p>
<h3 id="11-æ•°æ®ä¸æ–‡å­—çš„è¡¨ç¤º"><a class="markdownIt-Anchor" href="#11-æ•°æ®ä¸æ–‡å­—çš„è¡¨ç¤º"></a> 1.1 æ•°æ®ä¸æ–‡å­—çš„è¡¨ç¤º</h3>
<h4 id="111-æ•°æ®æ ¼å¼"><a class="markdownIt-Anchor" href="#111-æ•°æ®æ ¼å¼"></a> 1.1.1 æ•°æ®æ ¼å¼</h4>
<p>ä¸€æ˜¯å®šç‚¹æ ¼å¼ï¼ŒäºŒæ˜¯æµ®ç‚¹æ ¼å¼ã€‚</p>
<ol>
<li>
<p>å®šç‚¹æ•°çš„è¡¨ç¤ºæ–¹æ³•</p>
<p>å‡è®¾ä½¿ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ä½å­—æ¥è¡¨ç¤ºï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">x_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºç¬¦å·ï¼Œå¹¶ç”¨0è¡¨ç¤ºæ­£å·ï¼Œç”¨1è¡¨ç¤ºè´Ÿå·ã€‚</p>
<p>å¯¹äº<strong>çº¯å°æ•°</strong>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mi mathvariant="normal">âˆ£</mi><mo>â‰¤</mo><mn>1</mn><mo>âˆ’</mo><msup><mn>2</mn><mrow><mo>âˆ’</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">0\leq|x|\leq1-2^{-n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>å¯¹äº<strong>çº¯æ•´æ•°</strong>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>â‰¤</mo><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mi mathvariant="normal">âˆ£</mi><mo>â‰¤</mo><msup><mn>2</mn><mi>n</mi></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\leq|x|\leq2^n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.747722em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></p>
</li>
<li>
<p>æµ®ç‚¹æ•°çš„è¡¨ç¤ºæ–¹æ³•</p>
<p>è®¡ç®—æ—¶ä½¿æ•°å€¼éƒ¨åˆ†çš„ç»å¯¹å€¼å°äº1ï¼Œå°æ•°ç‚¹çš„ä½ç½®éšæ¯”ä¾‹å› å­çš„ä¸åŒè€Œåœ¨ä¸€å®šèŒƒå›´å†…å¯ä»¥è‡ªç”±æµ®åŠ¨ã€‚</p>
<p>ä»»æ„ä¸€ä¸ªåè¿›åˆ¶æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>å¯ä»¥å†™æˆ</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>N</mi><mo>=</mo><mn>1</mn><msup><mn>0</mn><mi>E</mi></msup><mi mathvariant="normal">.</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">N=10^E.M
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span></span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span></span></p>
<p>ä»»æ„ä¸€ä¸ªäºŒè¿›åˆ¶æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>å¯ä»¥å†™æˆ</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>N</mi><mo>=</mo><msup><mn>2</mn><mi>e</mi></msup><mi mathvariant="normal">.</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">N=2^e.M
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7143919999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span></span></p>
<p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ç§°ä¸ºæµ®ç‚¹æ•°çš„<strong>å°¾æ•°</strong>ï¼Œæ˜¯ä¸€ä¸ªçº¯å°æ•°ã€‚eæ˜¯æ¯”ä¾‹å› å­çš„æŒ‡æ•°ï¼Œç§°ä¸ºæµ®ç‚¹æ•°çš„<strong>æŒ‡æ•°</strong>ï¼Œæ˜¯ä¸€ä¸ªæ•´æ•°ã€‚æŒ‡æ•°ä¹Ÿç§°ä¸º<strong>é˜¶ç </strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">é˜¶ç¬¦</th>
<th style="text-align:center">é˜¶ç </th>
<th style="text-align:center">æ•°ç¬¦</th>
<th style="text-align:center">å°¾æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">E_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>m</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>E</mi><mn>1</mn></msub><msub><mi>E</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">E_{m-1}...E_1E_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">M_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>M</mi><mn>1</mn></msub><msub><mi>M</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">M_{n-1}...M_1M_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>åè¿›åˆ¶æ•°ä¸²çš„è¡¨ç¤ºæ–¹æ³•</p>
<p>ï¼ˆ1ï¼‰å­—ç¬¦ä¸²å½¢å¼ï¼Œå³1å­—èŠ‚å­˜æ”¾ä¸€ä¸ªåè¿›åˆ¶çš„æ•°ä½æˆ–ç¬¦å·ä½ã€‚</p>
<p>ï¼ˆ2ï¼‰å‹ç¼©çš„åè¿›åˆ¶æ•°ä¸²å½¢å¼ï¼Œå³1å­—èŠ‚å­˜æ”¾ä¸¤ä¸ªåè¿›åˆ¶çš„æ•°ä½ã€‚</p>
</li>
</ol>
<h4 id="112-æ•°çš„æœºå™¨ç è¡¨ç¤º"><a class="markdownIt-Anchor" href="#112-æ•°çš„æœºå™¨ç è¡¨ç¤º"></a> 1.1.2 æ•°çš„æœºå™¨ç è¡¨ç¤º</h4>
<blockquote>
<p>æ­£æ•´æ•°çš„åŸç ã€è¡¥ç ã€åç æ˜¯ä¸€è‡´çš„ï¼Œç¬¦å·ä½å›ºå®šæ˜¯0</p>
<p>è´Ÿæ•´æ•°çš„åŸç ã€è¡¥ç ã€åç æ˜¯ä¸åŒçš„ï¼Œç¬¦å·ä½å›ºå®šæ˜¯1</p>
</blockquote>
<ol>
<li>
<p>åŸç è¡¨ç¤ºæ³•</p>
<p>ä¾‹å¦‚ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mo>+</mo><mn>1001</mn></mrow><annotation encoding="application/x-tex">x=+1001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>åŸ</mtext></msub><mo>=</mo><mn>01001</mn></mrow><annotation encoding="application/x-tex">[x]_åŸ=01001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">åŸ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mo>âˆ’</mo><mn>1001</mn></mrow><annotation encoding="application/x-tex">x=-1001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>åŸ</mtext></msub><mo>=</mo><mn>11001</mn></mrow><annotation encoding="application/x-tex">[x]_åŸ=11001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">åŸ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span></span></span></span></p>
<blockquote>
<p>å®é™…ä¸Šå°±æ˜¯åœ¨çœŸå€¼çš„åŸºç¡€ä¸Šå¢åŠ äº†ç¬¦å·ä½</p>
</blockquote>
</li>
<li>
<p>è¡¥ç è¡¨ç¤ºæ³•</p>
<p>æ­£æ•´æ•°çš„è¡¥ç å’ŒåŸç ä¸€è‡´ã€‚</p>
<p>è´Ÿæ•´æ•°å…ˆæŠŠç¬¦å·ä½ä»¥å¤–çš„ä½å–åå˜ä¸ºåç ï¼Œå†åœ¨åç çš„åŸºç¡€ä¸ŠåŠ 1å¾—åˆ°è¡¥ç ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mo>+</mo><mn>1001</mn></mrow><annotation encoding="application/x-tex">x=+1001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><mn>01001</mn></mrow><annotation encoding="application/x-tex">[x]_è¡¥=01001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mo>âˆ’</mo><mn>1001</mn></mrow><annotation encoding="application/x-tex">x=-1001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><mn>10111</mn></mrow><annotation encoding="application/x-tex">[x]_è¡¥=10111</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord">1</span></span></span></span></p>
<p>é€šè¿‡è¡¥ç è®¡ç®—çœŸå€¼</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><mo>âˆ’</mo><msup><mn>2</mn><mi>n</mi></msup><msub><mi>x</mi><mi>n</mi></msub><mo>+</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></munderover><msup><mn>2</mn><mi>i</mi></msup><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x=-2^nx_n+\sum_{i=0}^{n-1}2^ix_i
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8643919999999999em;vertical-align:-0.15em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.0787820000000004em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8011130000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8746639999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<blockquote>
<p>å®é™…ä¸Šå°±æ˜¯å°†<strong>ç¬¦å·ä½ä»¥å¤–</strong>çš„ä½æŒ‰æ­£å¸¸çš„äºŒè¿›åˆ¶è½¬åè¿›åˆ¶æ¥è®¡ç®—ç´¯åŠ ï¼Œå†è®¡ç®—ç¬¦å·ä½å¯¹åº”çš„åè¿›åˆ¶å¹¶å–è´Ÿå·ï¼Œç›¸åŠ å¾—åˆ°ç»“æœã€‚</p>
<p>å› æ­¤ï¼Œå¯¹äºæ­£æ•´æ•°æ¥è¯´ï¼Œç¬¦å·ä½ä¸º0ï¼Œåªéœ€è¦æ­£å¸¸è®¡ç®—å³å¯ã€‚</p>
<p>å¯¹äºè´Ÿæ•´æ•°æ¥è¯´ï¼Œç¬¦å·ä½ä¸º1ï¼Œéœ€è¦å°†<strong>ç¬¦å·ä½ä»¥å¤–éƒ¨åˆ†</strong>çš„åè¿›åˆ¶ç»“æœ<strong>å‡å»</strong>ç¬¦å·ä½çš„åè¿›åˆ¶ç»“æœï¼Œå¾—åˆ°çœŸå€¼ã€‚</p>
</blockquote>
<p>é€šè¿‡è¡¥ç æ±‚åŸç ï¼Œé™¤<strong>ç¬¦å·ä½</strong>å’Œ<strong>æœ€åä¸€ä¸ª1</strong>ä»¥å¤–ï¼Œå°†è¿™ä¸ªç¬¦å·ä½å’Œ1<strong>ä¸­é—´çš„éƒ¨åˆ†</strong>å…¨éƒ¨å–åã€‚</p>
</li>
<li>
<p>ç§»ç è¡¨ç¤ºæ³•</p>
<p>ç§»ç é€šå¸¸ç”¨äºè¡¨ç¤ºæµ®ç‚¹æ•°çš„é˜¶ç ã€‚é˜¶ç (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>ä½)çš„<strong>ä¼ ç»Ÿå®šä¹‰</strong>æ˜¯</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">[</mo><mi>e</mi><msub><mo stretchy="false">]</mo><mtext>ç§»</mtext></msub><mo>=</mo><msup><mn>2</mn><mi>k</mi></msup><mo>+</mo><mi>e</mi><mo separator="true">,</mo><msup><mn>2</mn><mi>k</mi></msup><mo>&gt;</mo><mi>e</mi><mo>â‰¥</mo><mo>âˆ’</mo><msup><mn>2</mn><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">[e]_ç§»=2^k+e,2^k&gt;e\geq-2^k
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">e</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">ç§»</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9824379999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.093548em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9824379999999999em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>å¼ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>e</mi><msub><mo stretchy="false">]</mo><mtext>ç§»</mtext></msub></mrow><annotation encoding="application/x-tex">[e]_ç§»</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">e</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">ç§»</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸ºæœºå™¨æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">e</span></span></span></span>ä¸ºçœŸå€¼ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">2^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span>æ˜¯ä¸€ä¸ªå›ºå®šçš„åç§»å€¼å¸¸æ•°ã€‚</p>
<p>ç§»ç ä¸­ç¬¦å·ä½<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">e_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„è¡¨ç¤ºçš„è§„å¾‹ä¸åŸç ã€è¡¥ç ã€åç ç›¸åï¼Œå³æ­£æ•´æ•°ç¬¦å·ä½ç§»ç è¡¨ç¤ºä¸º1ï¼Œè´Ÿæ•´æ•°ç¬¦å·ä½ç§»ç è¡¨ç¤ºä¸º0ã€‚</p>
</li>
<li>
<p>æµ®ç‚¹æ•°çš„æœºå™¨è¡¨ç¤º</p>
<p>IEEE754æ ‡å‡†</p>
<p>32ä½çŸ­æµ®ç‚¹æ•°</p>
<table>
<thead>
<tr>
<th style="text-align:center">S(31ï¼Œç¬¦å·ä½å 1ä½)</th>
<th style="text-align:center">E(30-23ï¼Œé˜¶ç å 8ä½)</th>
<th style="text-align:center">M(22-0ï¼Œå°¾æ•°å 23ä½)</th>
</tr>
</thead>
</table>
<p>Sæ˜¯ç¬¦å·ä½ï¼Œ0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•°ã€‚å°æ•°ç‚¹ä½ç½®åœ¨å°¾æ•°åŸŸæœ€å·¦æœ‰æ•ˆä½çš„å³è¾¹ã€‚</p>
<p>é˜¶ç¬¦é‡‡ç”¨éšå«æ–¹å¼ï¼Œå³é‡‡ç”¨ç§»ç æ–¹æ³•æ¥è¡¨ç¤ºæ­£è´ŸæŒ‡æ•°ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼æ—¶ï¼Œå°†æµ®ç‚¹æ•°çš„æŒ‡æ•°çœŸå€¼<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">e</span></span></span></span>å˜æˆé˜¶ç <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>æ—¶ï¼Œåº”å°†æŒ‡æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">e</span></span></span></span>åŠ ä¸Šä¸€ä¸ªå›ºå®šçš„åç½®å¸¸æ•°127ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>=</mo><mi>e</mi><mo>+</mo><mn>127</mn></mrow><annotation encoding="application/x-tex">E=e+127</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">7</span></span></span></span>ã€‚</p>
<p>ä¸ºäº†æé«˜æ•°æ®çš„è¡¨ç¤ºç²¾åº¦ï¼Œå½“å°¾æ•°çš„å€¼ä¸ä¸º0æ—¶ï¼Œå°¾æ•°åŸŸçš„æœ€é«˜æœ‰æ•ˆä½åº”ä¸º1ï¼Œè¿™ç§°ä¸º<strong>æµ®ç‚¹æ•°çš„è§„æ ¼åŒ–è¡¨ç¤º</strong>ã€‚å¯¹äºéè§„æ ¼åŒ–æµ®ç‚¹æ•°ï¼Œä¸€èˆ¬ å¯ä»¥é€šè¿‡ä¿®æ”¹é˜¶ç åŒæ—¶å³ç§»åŠ¨å°æ•°ç‚¹ä½ç½®çš„åŠæ³•ï¼Œä½¿å…¶å˜æˆè§„æ ¼åŒ–æ•°çš„å½¢å¼ã€‚</p>
<p>åœ¨IEEE754æ ‡å‡†ä¸­ï¼Œä¸€ä¸ª<strong>è§„æ ¼åŒ–çš„32ä½æµ®ç‚¹æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>çš„çœŸå€¼è¡¨ç¤ºä¸º</strong></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>S</mi></msup><mo>Ã—</mo><mo stretchy="false">(</mo><mn>1.</mn><mi>M</mi><mo stretchy="false">)</mo><mo>Ã—</mo><msup><mn>2</mn><mrow><mi>E</mi><mo>âˆ’</mo><mn>127</mn></mrow></msup><mo separator="true">,</mo><mi>e</mi><mo>=</mo><mi>E</mi><mo>âˆ’</mo><mn>127</mn></mrow><annotation encoding="application/x-tex">x=(-1)^S\times(1.M)\times2^{E-127},e=E-127
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1413309999999999em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.085771em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mord mtight">2</span><span class="mord mtight">7</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">7</span></span></span></span></span></p>
<p>å…¶ä¸­ï¼Œå°¾æ•°åŸŸæ‰€è¡¨ç¤ºçš„å€¼æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.</mn><mi>M</mi></mrow><annotation encoding="application/x-tex">1.M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ã€‚ç”±äºè§„æ ¼åŒ–çš„æµ®ç‚¹æ•°çš„å°¾æ•°åŸŸæœ€å·¦ä½(æœ€é«˜æœ‰æ•ˆä½)<strong>æ€»æ˜¯1</strong>ï¼Œæ•…è¿™ä¸€ä½æ— éœ€å­˜å‚¨ï¼Œè€Œè®¤ä¸ºæ˜¯éšè—åœ¨å°æ•°ç‚¹çš„å·¦è¾¹ã€‚å› æ­¤ï¼Œå®é™…ä¸Šå¯ä»¥<strong>å°†24ä½æœ‰æ•ˆæ•°ç”¨23ä½å­—æ®µ</strong>æ¥å­˜å‚¨ã€‚</p>
<p>å¯¹32ä½æµ®ç‚¹æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ï¼ŒIEEE754å®šä¹‰ï¼š</p>
<p>ï¼ˆ1ï¼‰è‹¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>=</mo><mn>255</mn></mrow><annotation encoding="application/x-tex">E=255</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">5</span></span></span></span>ä¸”<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo mathvariant="normal">â‰ </mo><mn>0</mn></mrow><annotation encoding="application/x-tex">M\neq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mi>N</mi><mi>a</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">N=NaN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>ã€‚</p>
<p>ï¼ˆ2ï¼‰è‹¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>=</mo><mn>255</mn></mrow><annotation encoding="application/x-tex">E=255</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">5</span></span></span></span>ä¸”<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">M=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>S</mi></msup><mi mathvariant="normal">âˆ</mi></mrow><annotation encoding="application/x-tex">N=(-1)^S\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mord">âˆ</span></span></span></span>ã€‚</p>
<p>ï¼ˆ3ï¼‰è‹¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">E=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ä¸”<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">M=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>S</mi></msup><mn>0</mn></mrow><annotation encoding="application/x-tex">N=(-1)^S0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mord">0</span></span></span></span>ã€‚</p>
<p>ï¼ˆ4ï¼‰è‹¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mi>E</mi><mo>&lt;</mo><mn>255</mn></mrow><annotation encoding="application/x-tex">0&lt;E&lt;255</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">5</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>S</mi></msup><mo>Ã—</mo><mo stretchy="false">(</mo><mn>1.</mn><mi>M</mi><mo stretchy="false">)</mo><mo>Ã—</mo><msup><mn>2</mn><mrow><mi>E</mi><mo>âˆ’</mo><mn>127</mn></mrow></msup></mrow><annotation encoding="application/x-tex">N=(-1)^S\times(1.M)\times2^{E-127}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mord mtight">2</span><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span>(è§„æ ¼åŒ–æ•°)ã€‚</p>
<p>ï¼ˆ5ï¼‰è‹¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">E=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ä¸”<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo mathvariant="normal">â‰ </mo><mn>0</mn></mrow><annotation encoding="application/x-tex">M\neq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel">î€ </span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>S</mi></msup><mo>Ã—</mo><mo stretchy="false">(</mo><mn>0.</mn><mi>M</mi><mo stretchy="false">)</mo><mo>Ã—</mo><msup><mn>2</mn><mo>âˆ’</mo></msup><mn>126</mn></mrow><annotation encoding="application/x-tex">N=(-1)^S\times(0.M)\times2^-126</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ’</span></span></span></span></span></span></span></span><span class="mord">1</span><span class="mord">2</span><span class="mord">6</span></span></span></span>(éè§„æ ¼åŒ–æ•°)ã€‚è¿™æ˜¯æ— æ³•è¿›è¡Œè§„æ ¼åŒ–è¡¨ç¤ºçš„æ•°æ®ï¼Œå¯ä»¥ç”¨éè§„æ ¼åŒ–å½¢å¼è¡¨ç¤ºã€‚</p>
<blockquote>
<p>å¯¹äº64ä½é•¿æµ®ç‚¹æ•°ï¼Œ64ä½æµ®ç‚¹æ•°ä¸­ç¬¦å·ä½1ä½ï¼Œé˜¶ç åŸŸ11ä½ï¼Œå°¾æ•°åŸŸ52ä½ï¼ŒæŒ‡æ•°åç§»å€¼æ˜¯1023ã€‚å› æ­¤ï¼Œè§„æ ¼åŒ–çš„64ä½æµ®ç‚¹æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>çš„çœŸå€¼ä¸º</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy="false">(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>S</mi></msup><mo>Ã—</mo><mo stretchy="false">(</mo><mn>1.</mn><mi>M</mi><mo stretchy="false">)</mo><mo>Ã—</mo><msup><mn>2</mn><mrow><mi>E</mi><mo>âˆ’</mo><mn>1023</mn></mrow></msup><mo separator="true">,</mo><mi>e</mi><mo>=</mo><mi>E</mi><mo>âˆ’</mo><mn>1023</mn></mrow><annotation encoding="application/x-tex">x=(-1)^S\times(1.M)\times2^{E-1023},e=E-1023
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1413309999999999em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.085771em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mord mtight">2</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">2</span><span class="mord">3</span></span></span></span></span></p>
</blockquote>
</li>
</ol>
<h4 id="113-å­—ç¬¦ä¸å­—ç¬¦ä¸²çš„è¡¨ç¤ºæ–¹æ³•"><a class="markdownIt-Anchor" href="#113-å­—ç¬¦ä¸å­—ç¬¦ä¸²çš„è¡¨ç¤ºæ–¹æ³•"></a> 1.1.3 å­—ç¬¦ä¸å­—ç¬¦ä¸²çš„è¡¨ç¤ºæ–¹æ³•</h4>
<p>ç¬¦å·æ•°æ®ï¼šå°†å­—ç¬¦ä¿¡æ¯ç”¨æ•°æ®è¡¨ç¤ºã€‚</p>
<h4 id="114-æ±‰å­—çš„è¡¨ç¤ºæ–¹"><a class="markdownIt-Anchor" href="#114-æ±‰å­—çš„è¡¨ç¤ºæ–¹"></a> 1.1.4 æ±‰å­—çš„è¡¨ç¤ºæ–¹</h4>
<ol>
<li>
<p>æ±‰å­—çš„è¾“å…¥ç¼–ç </p>
<p>æ•°å­—ç¼–ç ã€æ‹¼éŸ³ç ã€å­—å½¢ç¼–ç </p>
</li>
<li>
<p>æ±‰å­—å†…ç </p>
</li>
<li>
<p>æ±‰å­—å­—æ¨¡ç </p>
</li>
</ol>
<h4 id="115-æ ¡éªŒç "><a class="markdownIt-Anchor" href="#115-æ ¡éªŒç "></a> 1.1.5 æ ¡éªŒç </h4>
<p>æœ€ç®€å•ä¸”åº”ç”¨å¹¿æ³›çš„æ£€é”™ç æ˜¯é‡‡ç”¨ä¸€ä½æ ¡éªŒä½çš„<strong>å¥‡æ ¡éªŒ</strong>æˆ–<strong>å¶æ ¡éªŒ</strong>ã€‚</p>
<p>è®¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><msub><mi>x</mi><mn>1</mn></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X=(x_0x_1...x_{n-1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>æ˜¯ä¸€ä¸ªnä½å­—ï¼Œåˆ™å¥‡æ ¡éªŒä½<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>C</mi><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>å®šä¹‰ä¸º</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>C</mi><mo stretchy="true">â€¾</mo></mover><mo>=</mo><msub><mi>x</mi><mn>0</mn></msub><mo>âŠ•</mo><msub><mi>x</mi><mn>1</mn></msub><mo>âŠ•</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>âŠ•</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\overline{C}=x_0\oplus x_1\oplus...\oplus x_{n-1} 
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>å¼ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âŠ•</mo></mrow><annotation encoding="application/x-tex">\oplus</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">âŠ•</span></span></span></span>ä»£è¡¨æŒ‰ä½ç›¸åŠ ï¼Œè¡¨æ˜åªæœ‰å½“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>ä¸­åŒ…å«<strong>å¥‡æ•°ä¸ª1</strong>æ—¶ï¼Œæ‰èƒ½ä½¿<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>C</mi><mo stretchy="true">â€¾</mo></mover><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\overline{C}=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">C=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ã€‚</p>
<p>åŒç†ï¼Œå¶æ ¡éªŒä½<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>å®šä¹‰ä¸º</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mo>=</mo><msub><mi>x</mi><mn>0</mn></msub><mo>âŠ•</mo><msub><mi>x</mi><mn>1</mn></msub><mo>âŠ•</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>âŠ•</mo><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">C=x_0\oplus x_1\oplus...\oplus x_{n-1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>å³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>ä¸­åŒ…å«å¶æ•°ä¸ª1æ—¶ï¼Œæ‰ä½¿<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">C=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ã€‚</p>
<p>å¥‡å¶æ ¡éªŒåªèƒ½æ£€æµ‹å¥‡æ•°ä¸ªé”™è¯¯ï¼Œæ— æ³•æ£€æµ‹å¶æ•°ä¸ªé”™è¯¯ï¼Œæ›´æ— æ³•è¯†åˆ«é”™è¯¯ä¿¡æ¯çš„ä½ç½®ã€‚</p>
<blockquote>
<p>åœ¨å¼‚æˆ–è¿ç®—ä¸­ï¼Œå¥‡æ•°ä¸ª1è®¡ç®—å‡ºçš„ç»“æœä¸º1ï¼Œå¶æ•°ä¸ª1è®¡ç®—å‡ºçš„ç»“æœä¸º0ã€‚</p>
<p>ä»ä¸Šé¢æ¥çœ‹ï¼Œå½“æ ¡éªŒä½ç»“æœä¸º0æ—¶ï¼Œè¡¨ç¤ºä¿¡æ¯æ­£å¸¸ï¼Œå½“æ ¡éªŒä½ç»“æœä¸º1æ—¶ï¼Œè¡¨ç¤ºä¿¡æ¯é”™è¯¯ã€‚</p>
<p>åŸå§‹æ•°æ®ä¸­æœ‰å¥‡æ•°ä¸ª1ï¼Œä½¿ç”¨å¥‡æ ¡éªŒï¼Œå½“å‡ºç°é”™è¯¯æ—¶ï¼Œå¥‡æ•°ä¸ª1å˜ä¸ºå¶æ•°ä¸ª1ï¼Œæ£€éªŒä½ç»“æœä¸º0ï¼Œç”±äºå¥‡æ ¡éªŒä½æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>C</mi><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>çš„å½¢å¼ï¼Œåˆ™æœ€ç»ˆæ ¡éªŒç»“æœ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>ä¸º1ï¼Œè¡¨ç¤ºé”™è¯¯ã€‚</p>
<p>å¶æ ¡éªŒåŒç†å¯å¾—ï¼Œå½“å‡ºç°é”™è¯¯æ—¶ï¼Œå¶æ•°ä¸ª1å˜ä¸ºå¥‡æ•°ä¸ªï¼Œæ ¡éªŒä½ç»“æœç›´æ¥ä¸º1ï¼Œè¡¨ç¤ºé”™è¯¯ã€‚</p>
</blockquote>
<p>å…¶ä»–æ ¡éªŒç å¦‚æµ·æ˜æ£€éªŒç ï¼Œå¯å‚è€ƒ<a class="link"   href="https://www.cnblogs.com/godoforange/" >æµ·æ˜ç ä¸€ç¯‡æ–‡ç« å½»åº•ææ‡‚ ï½œğŸ”¥ç§ƒæ¡”å­çš„åšå®¢ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="12-å®šç‚¹åŠ æ³•-å‡æ³•è¿ç®—"><a class="markdownIt-Anchor" href="#12-å®šç‚¹åŠ æ³•-å‡æ³•è¿ç®—"></a> 1.2 å®šç‚¹åŠ æ³•ã€å‡æ³•è¿ç®—</h3>
<h4 id="121-è¡¥ç åŠ æ³•"><a class="markdownIt-Anchor" href="#121-è¡¥ç åŠ æ³•"></a> 1.2.1 è¡¥ç åŠ æ³•</h4>
<p>åŸºæœ¬å…¬å¼</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><mo stretchy="false">[</mo><mi>x</mi><mo>+</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mspace width="2em"/><mo stretchy="false">(</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[x]_è¡¥+[y]_è¡¥=[x+y]_è¡¥\qquad(mod\ 2^{n+1})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace">Â </span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>è€ƒè™‘4ç§æƒ…å†µ</p>
<p>ï¼ˆ1ï¼‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>â‰¥</mo><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mo>â‰¥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x\geq0,y\geq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>â‰¥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x+y\geq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ã€‚</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><mo stretchy="false">[</mo><mi>x</mi><mo>+</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mspace width="2em"/><mo stretchy="false">(</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[x]_è¡¥+[y]_è¡¥=[x+y]_è¡¥\qquad(mod\ 2^{n+1})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace">Â </span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>ï¼ˆ2ï¼‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>â‰¥</mo><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x\geq0,y&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>â‰¥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x+y\geq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>æˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x+y&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™ç”±è¡¥ç å®šä¹‰å¯å¾—<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><mi>x</mi><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">[x]_è¡¥=x,[y]_è¡¥=2^{n+1}+y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>ã€‚</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="1em"/><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>x</mi><mo>+</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">[</mo><mi>x</mi><mo>+</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mspace width="2em"/><mo stretchy="false">(</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
&amp; \quad[x]_è¡¥+[y]_è¡¥\\
&amp; =x+2^{n+1}+y\\
&amp; = 2^{n+1}+(x+y)\\
&amp;=[x+y]_è¡¥\qquad(mod\ 2^{n+1}) \\
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.072324em;vertical-align:-2.7861620000000005em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.286162em;"><span style="top:-5.31027em;"><span class="pstrut" style="height:2.864108em;"></span><span class="mord"></span></span><span style="top:-3.786161999999999em;"><span class="pstrut" style="height:2.864108em;"></span><span class="mord"></span></span><span style="top:-2.262053999999999em;"><span class="pstrut" style="height:2.864108em;"></span><span class="mord"></span></span><span style="top:-0.7379459999999995em;"><span class="pstrut" style="height:2.864108em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7861620000000005em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.286162em;"><span style="top:-5.446162em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.9220539999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.3979459999999992em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span><span style="top:-0.8738379999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace">Â </span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7861620000000005em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>ï¼ˆ3ï¼‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>&lt;</mo><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mo>â‰¥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x&lt;0,y\geq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œå’Œæƒ…å†µï¼ˆ2ï¼‰åŒç†ã€‚</p>
<p>ï¼ˆ4ï¼‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>&lt;</mo><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x&lt;0,y&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x+y&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œåˆ™ç”±è¡¥ç å®šä¹‰å¯å¾—<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><mi>x</mi><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">[x]_è¡¥=2^{n+1}+x,[y]_è¡¥=2^{n+1}+y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>ã€‚</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="1em"/><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><mi>x</mi><mo>+</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">[</mo><mi>x</mi><mo>+</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mspace width="2em"/><mo stretchy="false">(</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
&amp;\quad[x]_è¡¥+[y]_è¡¥\\
&amp;=2^{n+1}+x+2^{n+1}+y\\
&amp;=2^{n+1}+2^{n+1}+(x+y)\\
&amp;=[x+y]_è¡¥\qquad(mod\ 2^{n+1})
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.072324em;vertical-align:-2.7861620000000005em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.286162em;"><span style="top:-5.31027em;"><span class="pstrut" style="height:2.864108em;"></span><span class="mord"></span></span><span style="top:-3.786161999999999em;"><span class="pstrut" style="height:2.864108em;"></span><span class="mord"></span></span><span style="top:-2.262053999999999em;"><span class="pstrut" style="height:2.864108em;"></span><span class="mord"></span></span><span style="top:-0.7379459999999995em;"><span class="pstrut" style="height:2.864108em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7861620000000005em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.286162em;"><span style="top:-5.446162em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.9220539999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.3979459999999992em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span><span style="top:-0.8738379999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace">Â </span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.7861620000000005em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h4 id="122-è¡¥ç å‡æ³•"><a class="markdownIt-Anchor" href="#122-è¡¥ç å‡æ³•"></a> 1.2.2 è¡¥ç å‡æ³•</h4>
<p>åŸºæœ¬å…¬å¼</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><mo>âˆ’</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>âˆ’</mo><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mo>âˆ’</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub></mrow><annotation encoding="application/x-tex">[x-y]_è¡¥=[x]_è¡¥-[y]_è¡¥=[x]_è¡¥+[-y]_è¡¥
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>ä»<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub></mrow><annotation encoding="application/x-tex">[y]_è¡¥</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ±‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>âˆ’</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub></mrow><annotation encoding="application/x-tex">[-y]_è¡¥</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„æ³•åˆ™æ˜¯ï¼šå¯¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub></mrow><annotation encoding="application/x-tex">[y]_è¡¥</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>åŒ…æ‹¬ç¬¦å·ä½â€œæ±‚åä¸”æœ€æœ«ä½åŠ 1â€ï¼Œå³å¯å¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>âˆ’</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub></mrow><annotation encoding="application/x-tex">[-y]_è¡¥</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚</p>
<h4 id="123-æº¢å‡ºæ¦‚å¿µä¸æ£€æµ‹æ–¹æ³•"><a class="markdownIt-Anchor" href="#123-æº¢å‡ºæ¦‚å¿µä¸æ£€æµ‹æ–¹æ³•"></a> 1.2.3 æº¢å‡ºæ¦‚å¿µä¸æ£€æµ‹æ–¹æ³•</h4>
<p>ä¸¤ä¸ªæ­£æ•°ç›¸åŠ ï¼Œç»“æœè¿‡å¤§å¯¼è‡´ç¬¦å·ä½æ”¹å˜ï¼Œç»“æœä¸ºè´Ÿæ•°ï¼Œæ­£æº¢ã€‚</p>
<p>ä¸¤ä¸ªè´Ÿæ•°ç›¸åŠ ï¼Œç»“æœè¿‡å°å¯¼è‡´ç¬¦å·ä½æ”¹å˜ï¼Œç»“æœä¸ºæ­£æ•°ï¼Œè´Ÿæº¢ã€‚</p>
<p>ä¸ºäº†æ£€æµ‹æº¢å‡ºï¼Œå¯é‡‡ç”¨ä¸¤ç§æ£€æµ‹æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ–¹æ³•å°±æ˜¯åŒç¬¦å·ä½æ³•ï¼Œä¹Ÿç§°ä¸ºâ€œ<strong>å˜å½¢è¡¥ç </strong>â€ï¼Œä½¿æ¨¡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{n+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>è¡¥ç æ‰€èƒ½è¡¨ç¤ºçš„æ•°çš„èŒƒå›´æ‰©å¤§ä¸€å€ã€‚</p>
<p>æ•°çš„å˜å½¢è¡¥ç ç”¨åŒä½™å¼è¡¨ç¤ºæ—¶</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>è¡¥</mtext></msub><mo>=</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>2</mn></mrow></msup><mo>+</mo><mi>x</mi><mspace width="2em"/><mo stretchy="false">(</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>Â </mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>2</mn></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[x]_è¡¥=2^{n+2}+x \qquad(mod\ 2^{n+2})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">è¡¥</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.947438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mspace">Â </span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>é‡‡ç”¨å˜å½¢è¡¥ç ï¼Œæ­£æ•°çš„ç¬¦å·ä½ä¸º00ï¼Œè´Ÿæ•°çš„ç¬¦å·ä½ä¸º11ã€‚å½“å‘ç”Ÿæº¢å‡ºæ—¶ï¼Œç¬¦å·ä½ä¼šå‡ºç°01å’Œ10çš„æƒ…å†µï¼Œä½†æ˜¯æœ€é«˜ç¬¦å·ä½æ°¸è¿œè¡¨ç¤ºç»“æœçš„æ­£ç¡®ç¬¦å·ã€‚</p>
<blockquote>
<p>01è¡¨ç¤ºæ­£æº¢ï¼Œ10è¡¨æ˜¯è´Ÿæº¢ã€‚</p>
</blockquote>
<h3 id="13-å®šç‚¹ä¹˜æ³•è¿ç®—"><a class="markdownIt-Anchor" href="#13-å®šç‚¹ä¹˜æ³•è¿ç®—"></a> 1.3 å®šç‚¹ä¹˜æ³•è¿ç®—</h3>
<p>ç”¨<strong>åŸç </strong>é˜µåˆ—ä¹˜æ³•å™¨ï¼Œè¾“å…¥æ•°æ®ç”¨<strong>åŸç </strong>è¡¨ç¤º</p>
<p>ç”¨<strong>è¡¥ç </strong>é˜µåˆ—ä¹˜æ³•å™¨ï¼Œè¾“å…¥æ•°æ®ç”¨<strong>è¡¥ç </strong>è¡¨ç¤º</p>
<blockquote>
<p>ä»å®é™…è®¡ç®—è¿‡ç¨‹æ¥çœ‹ï¼Œéƒ½æ˜¯ç”¨<strong>çœŸå€¼ç»å¯¹å€¼çš„äºŒè¿›åˆ¶å½¢å¼</strong>è®¡ç®—å¾—åˆ°ç»“æœã€‚</p>
<p>å¦‚æœç»™å‡ºçš„æ¡ä»¶æ˜¯åè¿›åˆ¶æ•°ï¼Œåˆ™ç›´æ¥å–ç»å¯¹å€¼ï¼Œå¦‚æœæ˜¯åŸç æˆ–è¡¥ç ï¼Œåˆ™ç»è¿‡ä¸€å®šçš„è®¡ç®—è½¬æ¢åˆ°çœŸå€¼çš„ç»å¯¹å€¼ã€‚</p>
</blockquote>
<p>ç¬¦å·ä½éƒ½æ˜¯å•ç‹¬è®¡ç®—ï¼Œç¬¦å·ä½¿ç”¨å¼‚æˆ–è¿ç®—ï¼Œæœ€åç»“æœåŠ ä¸Šç¬¦å·ä½ã€‚</p>
<blockquote>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âŠ•</mo><mn>1</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\oplus1=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>âŠ•</mo><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">0\oplus0=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âŠ•</mo><mn>1</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1\oplus1=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ã€‚</p>
</blockquote>
<h3 id="14-å®šç‚¹é™¤æ³•è¿ç®—"><a class="markdownIt-Anchor" href="#14-å®šç‚¹é™¤æ³•è¿ç®—"></a> 1.4 å®šç‚¹é™¤æ³•è¿ç®—</h3>
<p>ç”±äºæœºå™¨è®¡ç®—æ— æ³•æå‰åˆ¤æ–­ç»“æœï¼Œå¿…é¡»å…ˆè®¡ç®—å‡ºç»“æœæ‰èƒ½è¿›è¡Œåˆ¤æ–­ã€‚é‚£ä¹ˆå…³äºé™¤æ³•è¿ç®—ä¸­ä½™æ•°ä¸å¤Ÿå‡çš„æƒ…å†µï¼Œæä¾›äº†ä¸¤ç§å¤„ç†æ–¹æ³•ï¼Œ<strong>æ¢å¤ä½™æ•°æ³•</strong>å’Œ<strong>åŠ å‡äº¤æ›¿æ³•</strong>ã€‚</p>
<p>æ¢å¤ä½™æ•°æ³•ï¼Œå°±æ˜¯å°†å½“å‰çš„ä½™æ•°åŠ ä¸Šé™¤æ•°å³å¯ã€‚ä½†æ˜¯ç”±äºæ¢å¤ä½™æ•°çš„æ­¥æ•°ä¸æ˜¯å›ºå®šçš„ï¼Œéš¾ä»¥æ§åˆ¶ï¼Œå› æ­¤å®é™…è¿ç®—ä¸­æ›´å¤šä½¿ç”¨ä¸æ¢å¤çš„æ–¹æ³•ã€‚</p>
<p>åŠ å‡äº¤æ›¿æ³•ï¼Œä¹Ÿå°±æ˜¯ä¸æ¢å¤ä½™æ•°æ³•ï¼Œèƒ½å¤Ÿåœ¨ä½™æ•°ä¸å¤Ÿå‡çš„æƒ…å†µä¸‹ï¼Œæ ¹æ®ä½™æ•°ç¬¦å·ï¼Œç»§ç»­å¾€ä¸‹è¿ç®—ï¼Œæ­¥æ•°å›ºå®šï¼Œæ§åˆ¶ç®€å•ã€‚</p>
<blockquote>
<p>å½“i-1æ¬¡æ±‚å•†çš„ä½™æ•°ä¸ºæ­£æ—¶ï¼Œä¸Šå•†ä¸º1ï¼Œä½™æ•°å·¦ç§»1ä½å¹¶å‡å»é™¤æ•°å¾—åˆ°ä¸‹ä¸€ä¸ªä½™æ•°ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>2</mn><msub><mi>R</mi><mi>i</mi></msub><mo>âˆ’</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">R_{i+1}=2R_i-Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span></p>
<p>å½“i-1æ¬¡æ±‚å•†çš„ä½™æ•°ä¸ºè´Ÿæ—¶ï¼Œä¸Šå•†ä¸º0ï¼Œä½™æ•°å·¦ç§»1ä½å¹¶åŠ ä¸Šé™¤æ•°å¾—åˆ°ä¸‹ä¸€ä¸ªä½™æ•°ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>2</mn><mo stretchy="false">(</mo><msub><mi>R</mi><mi>i</mi></msub><mo>+</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>Y</mi><mo>=</mo><mn>2</mn><msub><mi>R</mi><mi>i</mi></msub><mo>+</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">R_{i+1}=2(R_i+Y)-Y=2R_i+Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span></p>
</blockquote>
<p><strong>è™½ç„¶åŠ å‡äº¤æ›¿æ³•è¢«ç§°ä¸ºä¸æ¢å¤ä½™æ•°æ³•ï¼Œä½†æ˜¯å¦‚æœæœ€åä¸€æ¬¡å¾—åˆ°çš„ä½™æ•°ä¸ºè´Ÿæ•°ï¼Œé‚£ä»éœ€è¦è¿›è¡Œæ¢å¤ä½™æ•°ã€‚æ¢å¤ä½™æ•°åªéœ€è¦ç›´æ¥åŠ ä¸Šé™¤æ•°å³å¯ï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•çš„ç§»ä½ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>=</mo><msub><mi>R</mi><mi>i</mi></msub><mo>+</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">R=R_i+Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>ã€‚</strong></p>
<blockquote>
<p>å¦å¤–ï¼Œåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡å·¦ç§»è®¡ç®—çš„ä¸€èˆ¬æ˜¯æ‰‹å·¥å®ç°ç‰ˆï¼Œé€šè¿‡å³ç§»è®¡ç®—çš„ä¸€èˆ¬æ˜¯ç®—æ³•å®ç°ç‰ˆã€‚</p>
</blockquote>
<h3 id="15-å®šç‚¹è¿ç®—å™¨çš„ç»„æˆ"><a class="markdownIt-Anchor" href="#15-å®šç‚¹è¿ç®—å™¨çš„ç»„æˆ"></a> 1.5 å®šç‚¹è¿ç®—å™¨çš„ç»„æˆ</h3>
<h4 id="151-é€»è¾‘è¿ç®—"><a class="markdownIt-Anchor" href="#151-é€»è¾‘è¿ç®—"></a> 1.5.1 é€»è¾‘è¿ç®—</h4>
<p>å››ç§åŸºæœ¬é€»è¾‘è¿ç®—ï¼šé€»è¾‘é(æ±‚å)ã€é€»è¾‘åŠ (æˆ–)ã€é€»è¾‘ä¹˜(ä¸)ã€é€»è¾‘å¼‚(æŒ‰ä½åŠ )ã€‚</p>
<h4 id="152-å¤šåŠŸèƒ½ç®—æœ¯é€»è¾‘è¿ç®—å•å…ƒ"><a class="markdownIt-Anchor" href="#152-å¤šåŠŸèƒ½ç®—æœ¯é€»è¾‘è¿ç®—å•å…ƒ"></a> 1.5.2 å¤šåŠŸèƒ½ç®—æœ¯/é€»è¾‘è¿ç®—å•å…ƒ</h4>
<p>åŠåŠ å™¨</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>i</mi></msub><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>âŠ•</mo><msub><mi>B</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">H_i=A_i\oplus B_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œä¸è€ƒè™‘è¿›ä½ï¼Œå¾ˆå°‘ä½¿ç”¨ã€‚</p>
<p>å…¨åŠ å™¨</p>
<p>è€ƒè™‘ä½ä½è¿›ä½<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mrow><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">C_{i-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>å’Œå‘é«˜ä½çš„è¿›ä½<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">C_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå…¶é€»è¾‘è¡¨è¾¾å¼ä¸º</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>âŠ•</mo><msub><mi>B</mi><mi>i</mi></msub><mo>âŠ•</mo><msub><mi>C</mi><mi>i</mi></msub><mspace linebreak="newline"></mspace><msub><mi>C</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><msub><mi>B</mi><mi>i</mi></msub><mo>+</mo><msub><mi>B</mi><mi>i</mi></msub><msub><mi>C</mi><mi>i</mi></msub><mo>+</mo><msub><mi>C</mi><mi>i</mi></msub><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i=A_i\oplus B_i\oplus C_i \\
C_{i+1}=A_iB_i+B_iC_i+C_iA_i
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>å¼ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">F_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>ä½çš„å’Œæ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">B_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>ä½çš„è¢«åŠ æ•°å’ŒåŠ æ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">C_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>ä½çš„è¿›ä½è¾“å…¥ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">C_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>ä¸ºç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span>ä½çš„è¿›ä½è¾“å‡ºã€‚</p>
<p>å¯¹å…¨åŠ å™¨çš„åŠŸèƒ½è¿›è¡Œæ‹“å±•ï¼Œå°†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">B_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å…ˆç»„åˆæˆç”±æ§åˆ¶å‚æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">S_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">S_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">S_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">S_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ§åˆ¶çš„ç»„åˆå‡½æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œç„¶åå†å°†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œä¸‹ä¸€ä½è¿›ä½æ•°é€šè¿‡å…¨åŠ å™¨è¿›è¡Œå…¨åŠ ã€‚</p>
<blockquote>
<p>å…¶ä¸­</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub><mo>=</mo><mover accent="true"><mrow><msub><mi>S</mi><mn>3</mn></msub><msub><mi>A</mi><mi>i</mi></msub><msub><mi>B</mi><mi>i</mi></msub><mo>+</mo><msub><mi>S</mi><mn>2</mn></msub><msub><mi>A</mi><mi>i</mi></msub><mover accent="true"><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="true">â€¾</mo></mover></mrow><mo stretchy="true">â€¾</mo></mover><mspace linebreak="newline"></mspace><msub><mi>Y</mi><mi>i</mi></msub><mo>=</mo><mover accent="true"><mrow><msub><mi>A</mi><mi>i</mi></msub><mo>+</mo><msub><mi>S</mi><mn>0</mn></msub><msub><mi>B</mi><mi>i</mi></msub><mo>+</mo><msub><mi>S</mi><mn>1</mn></msub><mover accent="true"><msub><mi>B</mi><mi>i</mi></msub><mo stretchy="true">â€¾</mo></mover></mrow><mo stretchy="true">â€¾</mo></mover><mspace linebreak="newline"></mspace><msub><mi>F</mi><mi>i</mi></msub><mo>=</mo><msub><mi>Y</mi><mi>i</mi></msub><mo>âŠ•</mo><msub><mi>X</mi><mi>i</mi></msub><mo>âŠ•</mo><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mi>i</mi></mrow></msub><mspace linebreak="newline"></mspace><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>Y</mi><mi>i</mi></msub><mo>+</mo><msub><mi>X</mi><mi>i</mi></msub><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">X_i=\overline{S_3A_iB_i+S_2A_i\overline{B_i}}\\
Y_i=\overline{A_i+S_0B_i+S_1\overline{B_i}}\\
F_i=Y_i\oplus X_i \oplus C_{n+i}\\
C_{n+i+1}=Y_i+X_iC_{n+i}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.23333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-4.00333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.23333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-4.00333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>æ¯ä¸€ä½çš„è¿›ä½å…¬å¼é€’æ¨å¦‚ä¸‹ï¼Œ</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>Y</mi><mn>0</mn></msub><mo>+</mo><msub><mi>X</mi><mn>0</mn></msub><msub><mi>C</mi><mi>n</mi></msub><mspace linebreak="newline"></mspace><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mn>2</mn></mrow></msub><mo>=</mo><msub><mi>Y</mi><mn>1</mn></msub><mo>+</mo><msub><mi>X</mi><mn>1</mn></msub><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mspace linebreak="newline"></mspace><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mn>3</mn></mrow></msub><mo>=</mo><msub><mi>Y</mi><mn>2</mn></msub><mo>+</mo><msub><mi>X</mi><mn>2</mn></msub><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mn>2</mn></mrow></msub><mspace linebreak="newline"></mspace><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mn>4</mn></mrow></msub><mo>=</mo><msub><mi>Y</mi><mn>3</mn></msub><mo>+</mo><msub><mi>X</mi><mn>3</mn></msub><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mn>3</mn></mrow></msub></mrow><annotation encoding="application/x-tex">C_{n+1}=Y_0+X_0C_n\\
C_{n+2}=Y_1+X_1C_{n+1}\\
C_{n+3}=Y_2+X_2C_{n+2}\\
C_{n+4}=Y_3+X_3C_{n+3}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>è®¾</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mo>=</mo><msub><mi>Y</mi><mn>3</mn></msub><mo>+</mo><msub><mi>Y</mi><mn>2</mn></msub><msub><mi>X</mi><mn>3</mn></msub><mo>+</mo><msub><mi>Y</mi><mn>1</mn></msub><msub><mi>X</mi><mn>2</mn></msub><msub><mi>X</mi><mn>3</mn></msub><mspace linebreak="newline"></mspace><mo>+</mo><msub><mi>Y</mi><mn>0</mn></msub><msub><mi>X</mi><mn>1</mn></msub><msub><mi>X</mi><mn>2</mn></msub><msub><mi>X</mi><mn>3</mn></msub><mspace linebreak="newline"></mspace><mi>P</mi><mo>=</mo><msub><mi>X</mi><mn>0</mn></msub><msub><mi>X</mi><mn>1</mn></msub><msub><mi>X</mi><mn>2</mn></msub><msub><mi>X</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">G=Y_3+Y_2X_3+Y_1X_2X_3\\
+Y_0X_1X_2X_3\\
P=X_0X_1X_2X_3
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>åˆ™</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>C</mi><mrow><mi>n</mi><mo>+</mo><mn>4</mn></mrow></msub><mo>=</mo><mi>G</mi><mo>+</mo><mi>P</mi><msub><mi>C</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">C_{n+4}=G+PC_n
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span>ç§°ä¸ºè¿›ä½å‘ç”Ÿè¾“å‡ºï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>ç§°ä¸ºè¿›ä½ä¼ é€è¾“å‡ºã€‚</p>
</blockquote>
<p><strong>å¹¶è¡Œè¿›ä½</strong></p>
<p><strong>ç»„å†…å¹¶è¡Œï¼Œç»„é—´ä¸²è¡Œ</strong></p>
<p><strong>ç»„å†…å¹¶è¡Œï¼Œç»„ä»¶å¹¶è¡Œ</strong></p>
<h3 id="16-æµ®ç‚¹è¿ç®—ä¸æµ®ç‚¹è¿ç®—å™¨"><a class="markdownIt-Anchor" href="#16-æµ®ç‚¹è¿ç®—ä¸æµ®ç‚¹è¿ç®—å™¨"></a> 1.6 æµ®ç‚¹è¿ç®—ä¸æµ®ç‚¹è¿ç®—å™¨</h3>
<h4 id="ç§»ä½æ“ä½œ"><a class="markdownIt-Anchor" href="#ç§»ä½æ“ä½œ"></a> ç§»ä½æ“ä½œ</h4>
<p>é€»è¾‘ç§»ä½ï¼Œä¸ä¿ç•™åŸç¬¦å·ä½ï¼Œç›´æ¥è¡¥0ã€‚</p>
<p>å¾ªç¯ç§»ä½ï¼Œä¸ä¿ç•™åŸç¬¦å·ä½ï¼Œç©ºä½è¡¥ä½çš„å€¼ä¸åŸç¬¦å·ä½çš„å€¼ç›¸åŒã€‚</p>
<p><strong>åŸç </strong>ç®—æœ¯ç§»ä½ï¼Œä¿ç•™ç¬¦å·ä½ï¼Œè¡¥0ã€‚</p>
<p><strong>è¡¥ç ç®—æœ¯å·¦ç§»</strong>ï¼Œå•ç¬¦å·ä½ä¿ç•™ä¸å˜ï¼ŒåŒç¬¦å·ä½åªä¿ç•™ç¬¬ä¸€ä½ï¼Œç©ºä½è¡¥0</p>
<p><strong>è¡¥ç ç®—æœ¯å³ç§»</strong>ï¼Œå•ç¬¦å·ä½ä¿ç•™ä¸å˜ï¼ŒåŒç¬¦å·ä½åªä¿ç•™ç¬¬ä¸€ä½ï¼Œç©ºä½è¡¥ä½çš„å€¼ä¸åŸç¬¦å·ä½çš„å€¼ç›¸åŒ</p>
<h4 id="æµ®ç‚¹åŠ æ³•-å‡æ³•è¿ç®—"><a class="markdownIt-Anchor" href="#æµ®ç‚¹åŠ æ³•-å‡æ³•è¿ç®—"></a> æµ®ç‚¹åŠ æ³•ã€å‡æ³•è¿ç®—</h4>
<p>è®¾æœ‰ä¸¤ä¸ªæµ®ç‚¹æ•°</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><msup><mn>2</mn><msub><mi>E</mi><mi>x</mi></msub></msup><mo>â‹…</mo><msub><mi>M</mi><mi>x</mi></msub><mspace linebreak="newline"></mspace><mi>y</mi><mo>=</mo><msup><mn>2</mn><msub><mi>E</mi><mi>y</mi></msub></msup><mo>â‹…</mo><msub><mi>M</mi><mi>y</mi></msub></mrow><annotation encoding="application/x-tex">x=2^{E_x}\cdot M_x\\
y=2^{E_y}\cdot M_y
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891331em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.05764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">E_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mi>y</mi></msub></mrow><annotation encoding="application/x-tex">E_y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>åˆ†åˆ«ä¸ºæ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>çš„é˜¶ç ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">M_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>y</mi></msub></mrow><annotation encoding="application/x-tex">M_y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>åˆ†åˆ«ä¸ºæ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>çš„å°¾æ•°ã€‚</p>
<p>ä¸¤æµ®ç‚¹æ•°è¿›è¡ŒåŠ æ³•å’Œå‡æ³•çš„è¿ç®—è§„åˆ™æ˜¯</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>z</mi><mo>=</mo><mi>x</mi><mo>Â±</mo><mi>y</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>M</mi><mi>x</mi></msub><msup><mn>2</mn><mrow><msub><mi>E</mi><mi>x</mi></msub><mo>âˆ’</mo><msub><mi>E</mi><mi>y</mi></msub></mrow></msup><mo>Â±</mo><msub><mi>M</mi><mi>y</mi></msub><mo stretchy="false">)</mo><msup><mn>2</mn><msub><mi>E</mi><mi>y</mi></msub></msup><mspace linebreak="newline"></mspace><msub><mi>E</mi><mi>x</mi></msub><mo>â‰¤</mo><msub><mi>E</mi><mi>y</mi></msub></mrow><annotation encoding="application/x-tex">z=x\pm y=(M_x2^{E_x-E_y}\pm M_y)2^{E_y}\\E_x\leq E_y
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Â±</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.141331em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">âˆ’</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.05764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Â±</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.177439em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.05764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>è¿ç®—æ­¥éª¤</p>
<ol>
<li>
<p>0æ“ä½œæ•°æ£€æŸ¥</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>ä¸­æœ‰ä¸€ä¸ªæ•°ä¸º0ï¼Œç›´æ¥å¾—å‡ºç»“æœã€‚</p>
</li>
<li>
<p>æ¯”è¾ƒé˜¶ç å¤§å°å¹¶å®Œæˆå¯¹é˜¶</p>
<p>ä¸¤æµ®ç‚¹æ•°åŠ å‡ï¼Œé¦–å…ˆè¦çœ‹ä¸¤æ•°çš„é˜¶ç æ˜¯å¦ç›¸åŒï¼Œå³å°æ•°ç‚¹çš„ä½ç½®æ˜¯å¦å¯¹é½ã€‚å¦‚æœä¸åŒï¼Œåˆ™éœ€è¦è¿›è¡Œç§»ä½æ“ä½œï¼Œä½¿å…¶é˜¶ç ç›¸åŒï¼Œè¿™ä¸€è¿‡ç¨‹å°±ç§°ä¸º<strong>å¯¹é˜¶</strong>ã€‚</p>
<p>è¦å¯¹é˜¶ï¼Œé¦–å…ˆè¦æ±‚å‡ºé˜¶å·®ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>E</mi><mo>=</mo><msub><mi>E</mi><mi>x</mi></msub><mo>âˆ’</mo><msub><mi>E</mi><mi>y</mi></msub></mrow><annotation encoding="application/x-tex">\Delta E=E_x-E_y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></p>
<blockquote>
<p>ä¸€èˆ¬ä½¿ç”¨<strong>å°¾æ•°å³ç§»</strong>çš„æ–¹å¼æ¥å¯¹é˜¶ï¼Œå› ä¸ºå°¾æ•°å³ç§»é€ æˆçš„è¯¯å·®è¦è¿œè¿œå°äºå°¾æ•°å·¦ç§»é€ æˆçš„è¯¯å·®ã€‚</p>
<p>å› æ­¤ï¼Œåœ¨å¯¹é˜¶æ—¶ï¼Œæ€»æ˜¯ä½¿<strong>å°é˜¶å‘å¤§é˜¶çœ‹é½</strong>ï¼Œå³å°é˜¶çš„å°¾æ•°å‘å³ç§»ä½(ç›¸å½“äºå°æ•°ç‚¹å·¦ç§»)ï¼Œæ¯å³ç§»ä¸€ä½ï¼Œå…¶é˜¶ç åŠ 1ï¼Œç›´åˆ°ä¸¤æ•°çš„é˜¶ç ç›¸ç­‰ä¸ºæ­¢ï¼Œå³ç§»çš„ä½æ•°ç­‰äºé˜¶å·®<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">\Delta E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>ã€‚</p>
<p>è¿™é‡Œçš„ç§»ä½éƒ½æ˜¯æŒ‡<strong>è¡¥ç ç®—æœ¯ç§»ä½</strong>ã€‚</p>
</blockquote>
</li>
<li>
<p>å°¾æ•°åŠ å‡è¿ç®—</p>
<p>æ³¨æ„æµ®ç‚¹æ•°éƒ½æ˜¯ç”¨<strong>è¡¥ç </strong>æ¥è®¡ç®—çš„å³å¯ã€‚</p>
</li>
<li>
<p>ç»“æœè§„æ ¼åŒ–</p>
<p>å³è§„ï¼šå°¾æ•°å³ç§»æ‰èƒ½æ»¡è¶³è§„æ ¼åŒ–æ¡ä»¶ã€‚å°¾æ•°å³ç§»1ä½ï¼Œé˜¶ç åŠ 1ã€‚</p>
<p>å·¦è§„ï¼šå°¾æ•°å·¦ç§»æ‰èƒ½æ»¡è¶³è§„æ ¼åŒ–æ¡ä»¶ã€‚å°¾æ•°å·¦ç§»1ä½ï¼Œé˜¶ç å‡1ã€‚</p>
<blockquote>
<p>å½¢å¦‚00.0â€¦01â€¦å’Œ11.1â€¦10è¿™ç§ç»“æœï¼Œå¯ä»¥å°†å…¶å·¦è§„ä¸º00.1â€¦å’Œ11.0â€¦çš„å½¢å¼ã€‚</p>
</blockquote>
</li>
<li>
<p>èˆå…¥å¤„ç†</p>
<p>åœ¨å°¾æ•°å³ç§»æ—¶éœ€è¦å¯¹ä¸¢å¼ƒçš„ä½ä½éƒ¨åˆ†è¿›è¡Œèˆå…¥å¤„ç†ã€‚</p>
<p>å°±è¿‘èˆå…¥ï¼š0èˆ1å…¥ï¼Œç±»ä¼¼äº4èˆ5å…¥ã€‚ä¸¢å¼ƒçš„æœ€é«˜ä½ä¸º1åˆ™è¿›1ã€‚</p>
<p>æœ0èˆå…¥ï¼šå°±æ˜¯ç®€å•çš„æˆªå°¾ã€‚è¿™ç§æ–¹æ³•å®¹æ˜“ç§¯ç´¯è¯¯å·®ã€‚</p>
<p>æœ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mi mathvariant="normal">âˆ</mi></mrow><annotation encoding="application/x-tex">+\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">âˆ</span></span></span></span>èˆå…¥ï¼šå¯¹äºæ­£æ•°ï¼Œåªè¦å¤šä½™ä½ä¸å…¨ä¸º0åˆ™è¿›1ï¼›å¯¹äºè´Ÿæ•°ï¼Œå°±æ˜¯æˆªå°¾ã€‚</p>
<p>æœ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mi mathvariant="normal">âˆ</mi></mrow><annotation encoding="application/x-tex">-\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord">âˆ</span></span></span></span>èˆå…¥ï¼šå¯¹äºæ­£æ•°ï¼Œå°±æ˜¯æˆªå°¾ï¼›å¯¹äºè´Ÿæ•°ï¼Œåªè¦å¤šä½™ä½ä¸å…¨ä¸º0åˆ™è¿›1ã€‚</p>
</li>
<li>
<p>æº¢å‡ºåˆ¤æ–­å’Œå¤„ç†</p>
<p>åˆ†ä¸ºå¯¹é˜¶ç çš„æº¢å‡ºå¤„ç†å’Œå¯¹å°¾æ•°çš„æº¢å‡ºå¤„ç†ã€‚</p>
<p>é˜¶ç ä¸Šæº¢ï¼šä¸€èˆ¬å°†å…¶è®¤ä¸ºæ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mi mathvariant="normal">âˆ</mi></mrow><annotation encoding="application/x-tex">+\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">âˆ</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mi mathvariant="normal">âˆ</mi></mrow><annotation encoding="application/x-tex">-\infty</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord">âˆ</span></span></span></span>ã€‚</p>
<p>é˜¶ç ä¸‹æº¢ï¼šä¸€èˆ¬å°†å…¶è®¤ä¸ºæ˜¯0ã€‚</p>
<p>å°¾æ•°ä¸Šæº¢ï¼šç”±äºæœ€é«˜ä½è¿›ä½å¯¼è‡´çš„æº¢å‡ºï¼Œè¿›è¡Œå°¾æ•°å°¾æ•°å³ç§»ï¼Œé˜¶ç åŠ 1ï¼Œé‡æ–°å¯¹é½ã€‚</p>
<p>å°¾æ•°ä¸‹æº¢ï¼šåœ¨å°¾æ•°å³ç§»æ—¶ï¼Œè¿›è¡Œèˆå…¥å¤„ç†ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>æ‚ä¹±çš„è®°å½•</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç»„æˆåŸç†</tag>
        <tag>è¿ç®—æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€å°æ•°å­—ç­¾åé‚®ä»¶</title>
    <url>/2022/11/10/digital-signature/</url>
    <content><![CDATA[<h3 id="ä½¿ç”¨outlooké‚®ç®±å‘é€ä¸€å°å¸¦æœ‰æ•°å­—ç­¾åçš„é‚®ä»¶"><a class="markdownIt-Anchor" href="#ä½¿ç”¨outlooké‚®ç®±å‘é€ä¸€å°å¸¦æœ‰æ•°å­—ç­¾åçš„é‚®ä»¶"></a> ä½¿ç”¨outlooké‚®ç®±å‘é€ä¸€å°å¸¦æœ‰æ•°å­—ç­¾åçš„é‚®ä»¶</h3>
<p>Digital Signature(æ•°å­—ç­¾å)<strong>æ˜¯</strong>Electronic Signature(ç”µå­ç­¾å)çš„ä¸€ç§ç‰¹å®šç±»å‹, æ˜¯ä¸€ç§æ”¹è¿›å‹çš„æ›´åŠ å¯ä¿¡çš„ç”µå­æ–¹å¼ç­¾åã€‚<span id="more"></span></p>
<p>æ•°å­—ç­¾åæ˜¯ä½¿ç”¨æ•°å­—è¯ä¹¦æ¥éªŒè¯ç­¾åè€…çš„èº«ä»½, å¹¶é€šè¿‡å¯†ç ç®—æ³•å°†ç­¾åè€…èº«ä»½ç»‘å®šåˆ°æ–‡æ¡£ä¸­æ¥è¯æ˜ç­¾åè¡Œä¸ºçš„ä¸å¯å¦è®¤, å·²ç­¾åæ–‡æ¡£æ— éœ€åŒ…å«ç­¾åè¿‡ç¨‹å®¡è®¡æŠ¥å‘Š, ç­¾åè€…çš„èº«ä»½éªŒè¯åˆ™ç”±è¯ä¹¦é¢å‘æœºæ„(CA)æˆ–ä¿¡ä»»æœåŠ¡æä¾›å•†(TSP)å®Œæˆã€‚</p>
<h4 id="1ä¸‹è½½æ•°å­—è¯ä¹¦"><a class="markdownIt-Anchor" href="#1ä¸‹è½½æ•°å­—è¯ä¹¦"></a> 1.ä¸‹è½½æ•°å­—è¯ä¹¦</h4>
<p>æ•°å­—è¯ä¹¦éœ€è¦å…ˆåˆ°ç½‘ç«™ä¸Šç”³è¯·ä¸‹è½½, è¿™é‡Œæä¾›äº†ä¸€ä¸ªç”³è¯·90å¤©å…è´¹è¯ä¹¦çš„ç½‘ç«™ <a class="link"   href="https://www.cersign.com/smime-email-certificates.html" >è¯ç­¾å®‰å…¨ç”µå­é‚®ä»¶è¯ä¹¦ - CerSign <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>æŒ‰ç…§ç½‘ç«™ä¸Šæç¤ºå®Œæˆç”³è¯·ä»¥åŠé‚®ç®±éªŒè¯å³å¯ã€‚å…è´¹é‚®ä»¶è¯ä¹¦å¤§çº¦å‡ åˆ†é’Ÿåå°±ä¼šç­¾å‘, ç‚¹å‡»ä¸‹è½½è¯ä¹¦è®¾ç½®ä¿æŠ¤å£ä»¤å³å¯</p>
<h4 id="2åœ¨é‚®ç®±å®¢æˆ·ç«¯ä¸­è®¾ç½®"><a class="markdownIt-Anchor" href="#2åœ¨é‚®ç®±å®¢æˆ·ç«¯ä¸­è®¾ç½®"></a> 2.åœ¨é‚®ç®±å®¢æˆ·ç«¯ä¸­è®¾ç½®</h4>
<p>outlooké‚®ç®±ä¸­å¯¼å…¥æ•°å­—è¯ä¹¦: <strong>æ–‡ä»¶â†’é€‰é¡¹â†’ä¿¡ä»»ä¸­å¿ƒâ†’ç”µå­é‚®ä»¶å®‰å…¨æ€§</strong>, ç„¶åè®¾ç½®åŠ å¯†ä»¥åŠæ•°å­—ç­¾åã€‚åœ¨é»˜è®¤è®¾ç½®ä¸­é€‰æ‹©<strong>ç­¾åè¯ä¹¦å’ŒåŠ å¯†è¯ä¹¦</strong>(éœ€è¦å…ˆæ‰¾åˆ°ä¹‹å‰ä¸‹è½½å¥½çš„è¯ä¹¦æ–‡ä»¶åŒå‡»è¿è¡Œå¹¶å¯¼å…¥è¯ä¹¦)</p>
<h4 id="3å‘é€é‚®ä»¶è¿›è¡Œæµ‹è¯•"><a class="markdownIt-Anchor" href="#3å‘é€é‚®ä»¶è¿›è¡Œæµ‹è¯•"></a> 3.å‘é€é‚®ä»¶è¿›è¡Œæµ‹è¯•</h4>
<p>é€‰æ‹©æ”¶ä»¶äºº(å¯ä»¥é€‰æ‹©æœ¬åœ°çš„å¦å¤–ä¸€ä¸ªé‚®ç®±)åè¾“å…¥é‚®ä»¶å†…å®¹å‘é€, é€šè¿‡outlookå®¢æˆ·ç«¯æŸ¥çœ‹é‚®ä»¶å†…å®¹ä¼šæœ‰ä¸€ä¸ªé¢å¤–çš„æ•°å­—ç­¾åçš„å›¾æ ‡, ç‚¹å‡»è¯¥å›¾æ ‡èƒ½å¤ŸæŸ¥çœ‹åˆ°å‘ä»¶äººçš„æ•°å­—è¯ä¹¦ä¿¡æ¯ã€‚å¦å¤–ç»è¿‡åŠ å¯†çš„é‚®ä»¶è¿˜ä¼šæœ‰ä¸€ä¸ªğŸ”’çš„å›¾æ ‡, åœ¨æ”¶ä»¶äººæ‹¥æœ‰å‘ä»¶äººçš„<strong>å…¬é’¥</strong>æ—¶, å°±èƒ½å¤Ÿè¿›è¡Œè§£å¯†è·å–æ­£æ–‡å†…å®¹ã€‚å…¶ä»–æƒ…å†µä¸‹, åˆ™åªæœ‰ä¸€ä¸ªåŠ å¯†çš„smime.p7mæ–‡ä»¶(æ— æ³•ç›´æ¥è·å–æ­£æ–‡å†…å®¹)</p>
<h4 id="4å…³äºå…¬é’¥å’Œç§é’¥çš„ä¸€äº›ç®€å•ç†è§£"><a class="markdownIt-Anchor" href="#4å…³äºå…¬é’¥å’Œç§é’¥çš„ä¸€äº›ç®€å•ç†è§£"></a> 4.å…³äºå…¬é’¥å’Œç§é’¥çš„ä¸€äº›ç®€å•ç†è§£</h4>
<p>å…¬é’¥æ˜¯ä¸€ç§<strong>éå¯¹ç§°åŠ å¯†ç®—æ³•</strong>, ä¸€èˆ¬éƒ½æ˜¯å…¬å¸ƒç»™å¯¹æ–¹ç”¨äºåŠ å¯†è§£å¯†</p>
<p>ç§é’¥æ˜¯ä¸€ç§<strong>å¯¹ç§°åŠ å¯†ç®—æ³•</strong>, ä¸€èˆ¬ä¸å¯¹ä»»ä½•äººå…¬å¼€, åŒæ ·å¯ç”¨äºåŠ å¯†è§£å¯†</p>
<p>å…¬é’¥å’Œç§é’¥æ˜¯<strong>æˆå¯¹å‡ºç°</strong>çš„, ä¸”<strong>å”¯ä¸€å¯¹åº”</strong></p>
<h5 id="æ€è·¯1ç¡®ä¿é‚®ä»¶åªèƒ½ç”±ç‰¹å®šçš„æ”¶ä»¶äººè¯»å–"><a class="markdownIt-Anchor" href="#æ€è·¯1ç¡®ä¿é‚®ä»¶åªèƒ½ç”±ç‰¹å®šçš„æ”¶ä»¶äººè¯»å–"></a> æ€è·¯1ï¼šç¡®ä¿é‚®ä»¶åªèƒ½ç”±ç‰¹å®šçš„æ”¶ä»¶äººè¯»å–</h5>
<p><strong>æ”¶ä»¶äººçš„å…¬é’¥</strong>æå‰å°±å…¬å¸ƒç»™æ‰€æœ‰å‘ä»¶äººç”¨äºè¿›è¡ŒåŠ å¯†ä½†ä¸èƒ½è¿›è¡Œè§£å¯†, <strong>æ”¶ä»¶äººçš„ç§é’¥</strong>åˆ™ç”¨äºè§£å¯†æ¥è‡ªå¯¹åº”çš„å…¬é’¥åŠ å¯†çš„é‚®ä»¶ä½†ä¸èƒ½è¿›è¡ŒåŠ å¯†(è¿™ä¹Ÿæ˜¯ä¸€ç§éå¯¹ç§°åŠ å¯†)</p>
<h5 id="æ€è·¯2ç¡®è®¤å‘ä»¶äººçš„é‚®ä»¶æœªè¢«ç¯¡æ”¹"><a class="markdownIt-Anchor" href="#æ€è·¯2ç¡®è®¤å‘ä»¶äººçš„é‚®ä»¶æœªè¢«ç¯¡æ”¹"></a> æ€è·¯2ï¼šç¡®è®¤å‘ä»¶äººçš„é‚®ä»¶æœªè¢«ç¯¡æ”¹</h5>
<p><strong>å‘ä»¶äººçš„å…¬é’¥</strong>æå‰å°±å…¬å¸ƒç»™æ‰€æœ‰æ”¶ä»¶äººç”¨äºè¿›è¡Œ<strong>è§£å¯†</strong>, <strong>å‘ä»¶äººçš„ç§é’¥</strong>åˆ™ç”¨äº<strong>åŠ å¯†</strong>é‚®ä»¶</p>
<p>å…·ä½“æµç¨‹ï¼š</p>
<p>å‘ä»¶äººä½¿ç”¨è‡ªå·±çš„ç§é’¥å…ˆå¯¹é‚®ä»¶åŠ å¯†<strong>ä¸€ä¸ªhashå€¼</strong>, å†ç”¨æ¥è‡ªæ”¶ä»¶äººçš„å…¬é’¥å¯¹<strong>å†…å®¹åŠhashå€¼</strong>äºŒæ¬¡åŠ å¯†, ç„¶åå‘é€ç»™æ”¶ä»¶äºº</p>
<p>æ”¶ä»¶äººè·å–åˆ°äº†äºŒæ¬¡åŠ å¯†çš„é‚®ä»¶å, å…ˆä½¿ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†å¯¹åº”çš„å…¬é’¥è·å–å†…å®¹åŠ<strong>åŠ å¯†çš„hashå€¼</strong>, å†ç”¨æ¥è‡ªæ”¶ä»¶äººçš„å…¬é’¥äºŒæ¬¡è§£å¯†å¯¹åº”çš„ç§é’¥è·å–<strong>åŸå§‹çš„hashå€¼</strong>, å¯¹å†…å®¹è¿›è¡Œhashè®¡ç®—, å¦‚æœè®¡ç®—çš„ç»“æœä¸ä¹‹å‰hashå€¼è§£å¯†åçš„å†…å®¹ç›¸åŒ, åˆ™è¯´æ˜å†…å®¹æœªè¢«ç¯¡æ”¹</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå…¬é’¥å’Œç§é’¥çš„ç”¨æ³•ä¸æ˜¯å›ºå®šçš„, åœ¨æ”¶ä»¶äººå’Œå‘ä»¶äººä¸¤ç§æƒ…æ™¯ä¸‹, å®ƒä»¬çš„ç”¨æ³•æ°æ°æ˜¯ç›¸åçš„</p>
]]></content>
      <tags>
        <tag>æ•°å­—ç­¾å</tag>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰åç«¯çŸ¥è¯†</title>
    <url>/2022/12/18/font-back-end/</url>
    <content><![CDATA[<h3 id="å¼€å‘æ¨¡å¼"><a class="markdownIt-Anchor" href="#å¼€å‘æ¨¡å¼"></a> å¼€å‘æ¨¡å¼</h3>
<p><strong>å‰åç«¯åˆ†ç¦»</strong>å·²æˆä¸ºwebå¤§å‹é¡¹ç›®çš„æ ‡å‡†å¼€å‘æ–¹å¼, ä¸»è¦è§£å†³äº†<strong>ä¼ ç»Ÿçš„å‰åç«¯ä¸åˆ†ç¦»</strong>æ‰€å¸¦æ¥çš„ä¸€ç³»åˆ—å¼€å‘è¿‡ç¨‹ä¸­çš„é—®é¢˜<span id="more"></span></p>
<h4 id="æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#æ¦‚å¿µ"></a> æ¦‚å¿µ</h4>
<p><strong>å‰åç«¯ä¸åˆ†ç¦»</strong>: å‰åç«¯ä»£ç æ”¾åœ¨ä¸€ä¸ªå·¥ç¨‹ä¸‹æˆ–åŒä¸€ä¸ªç›®å½•ä¸‹, å‰ç«¯é¡µé¢ä¸­å«æœ‰åç«¯çš„ä»£ç (å¦‚å…¸å‹çš„jspé¡µé¢å†…åµŒjavaä»£ç )ã€‚å‰åç«¯ä»£ç ä»¥åŠå‰åç«¯å·¥ä½œå¼€å‘<strong>è€¦åˆåº¦æé«˜</strong>, å‰åç«¯éœ€è¦åŒæ—¶åä½œæ‰èƒ½å®Œæˆå¼€å‘</p>
<p><strong>å‰åç«¯åˆ†ç¦»</strong>: å‰åç«¯ä»£ç æ”¾åœ¨ä¸åŒçš„å·¥ç¨‹ä¸‹, åªéœ€è¦<strong>æå‰çº¦å®šå¥½APIæ•°æ®è§„èŒƒ</strong>, å‰åç«¯å°±å¯ä»¥å„è‡ªç‹¬ç«‹å¼€å‘ã€‚å‰ç«¯å¯ä»¥é€šè¿‡<strong>MockæŠ€æœ¯æ¨¡æ‹Ÿåç«¯APIæœåŠ¡</strong>æ¥ç‹¬ç«‹è¿è¡Œå’Œæµ‹è¯•; åç«¯ä¹Ÿå¯ä»¥ç‹¬ç«‹å¼€å‘ã€è¿è¡Œã€æµ‹è¯•, é€šè¿‡<strong>SwaggeræŠ€æœ¯è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£</strong>æä¾›ç»™å‰ç«¯, è¿˜èƒ½è¿›è¡Œè‡ªåŠ¨åŒ–æ¥å£æµ‹è¯•APIçš„å¯ç”¨æ€§</p>
<h4 id="å‰åç«¯åˆ†ç¦»æ¶‰åŠçš„æŠ€æœ¯"><a class="markdownIt-Anchor" href="#å‰åç«¯åˆ†ç¦»æ¶‰åŠçš„æŠ€æœ¯"></a> å‰åç«¯åˆ†ç¦»æ¶‰åŠçš„æŠ€æœ¯</h4>
<p>1.Ajaxã€axioså’Œjsonç­‰åŸºç¡€äº¤äº’æŠ€æœ¯</p>
<p>2.Httpåè®®åœ¨åŒæºç­–ç•¥ä¸‹å¼•å‘çš„è·¨åŸŸè®¿é—®</p>
<p>3.Nodejsæ­å»ºä¸­é—´å±‚æœåŠ¡å™¨ä»¥åŠå‰ç«¯Mockæµ‹è¯•</p>
<h4 id="å¯¹æ¯”"><a class="markdownIt-Anchor" href="#å¯¹æ¯”"></a> å¯¹æ¯”</h4>
<p><strong>ä»¥ä¸€ä¸ªSpringBooté¡¹ç›®ä¸ºä¾‹</strong></p>
<p>å‰åç«¯ä¸åˆ†ç¦»çš„æƒ…å†µä¸‹, <strong>ç›´æ¥ä½¿ç”¨SpringBootå¯åŠ¨å³å¯</strong></p>
<ul>
<li>éœ€è¦è€ƒè™‘é™æ€èµ„æºæ‰€å­˜æ”¾çš„ç›¸å¯¹è·¯å¾„(ä¾‹å¦‚éœ€è¦å­˜æ”¾åœ¨æŸä¸ªæŒ‡å®šçš„é™æ€èµ„æºstaticç›®å½•ä¸‹)</li>
<li>åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜éš¾ä»¥å¿«é€Ÿå®šä½åˆ°é—®é¢˜ä½äºå‰ç«¯è¿˜æ˜¯åç«¯</li>
<li>è¿è¡Œæ—¶å‡ºç°é—®é¢˜ä¼šç›´æ¥å¯¼è‡´SpringBooté¡¹ç›®æ— æ³•å¯åŠ¨æˆ–è€…è¿è¡Œæ—¶æ— æ³•æ­£ç¡®åœ°è¿›è¡Œå‰åç«¯äº¤äº’æµ‹è¯•</li>
<li>å¯¹äº**SEO(Search Engine Optimization, æœç´¢å¼•æ“ä¼˜åŒ–)**çš„æ”¯æŒè¾ƒå¥½</li>
</ul>
<p>å‰åç«¯åˆ†ç¦»çš„æƒ…å†µä¸‹, <strong>åç«¯ä½¿ç”¨SpringBootå¯åŠ¨, å‰ç«¯ä½¿ç”¨Nodejså¯åŠ¨</strong></p>
<ul>
<li>ä¸å†éœ€è¦è€ƒè™‘ç›¸å¯¹è·¯å¾„çš„é™åˆ¶</li>
<li>å¯ä»¥ä½¿ç”¨ç‰¹å®šçš„æŠ€æœ¯æ¥æ¨¡æ‹Ÿå‰åç«¯è¿›è¡Œæ•°æ®äº¤äº’æµ‹è¯•, ä»è€Œå‡†ç¡®å®šä½é—®é¢˜</li>
<li>ä¼šæœ‰è·¨åŸŸè®¿é—®çš„é™åˆ¶</li>
<li>ç”±äºå‰ç«¯ä¸åç«¯åˆ†ç¦»å¯¼è‡´æœåŠ¡ç«¯æ— æ³•å»æ¸²æŸ“å‰ç«¯é¡µé¢, å³<strong>ä¸€èˆ¬æƒ…å†µä¸‹ä¸æ”¯æŒSSR(Server-Side-Renderingï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“)</strong></li>
</ul>
<h3 id="æ¸²æŸ“æ–¹å¼"><a class="markdownIt-Anchor" href="#æ¸²æŸ“æ–¹å¼"></a> æ¸²æŸ“æ–¹å¼</h3>
<p>æ¸²æŸ“æ–¹å¼å¯åˆ†ä¸º<strong>SSRæœåŠ¡ç«¯æ¸²æŸ“</strong>å’Œ<strong>CSRå®¢æˆ·ç«¯æ¸²æŸ“</strong></p>
<p><strong>SSRæœåŠ¡ç«¯æ¸²æŸ“</strong></p>
<ul>
<li>
<p>SSRæ‹¥æœ‰å¾ˆå¥½çš„SEOæœç´¢å¼•æ“ä¼˜åŒ–</p>
</li>
<li>
<p>SSRçš„é¦–å±ä¼˜åŒ–å¾ˆå¥½, å³é¦–å±æ—¶é—´çŸ­</p>
</li>
<li>
<p>SSRåŠ é‡äº†æœåŠ¡ç«¯çš„è´Ÿè½½, å› ä¸ºæ¸²æŸ“éœ€è¦åœ¨æœåŠ¡ç«¯å®Œæˆ</p>
</li>
<li>
<p>SSRçš„é¡µé¢äº¤äº’æ€§è¾ƒå·®</p>
</li>
<li>
<p>ä½¿ç”¨SSRåŸºæœ¬è¯´æ˜äº†å‰åç«¯ä¸åˆ†ç¦»</p>
</li>
<li>
<p>SSRéå¸¸é€‚åˆå¼€å‘é™æ€ç½‘ç«™ä»¥åŠä¸šåŠ¡é€»è¾‘å¤æ‚çš„ç½‘ç«™</p>
</li>
</ul>
<p><strong>CSRå®¢æˆ·ç«¯æ¸²æŸ“</strong></p>
<ul>
<li>
<p>CSRä¸æ”¯æŒSEOæœç´¢å¼•æ“ä¼˜åŒ–, å› ä¸ºæ•°æ®æ˜¯å¼‚æ­¥è·å–çš„, å¾ˆéš¾è¢«SEOæ”¶å½•</p>
</li>
<li>
<p>CSRçš„é¦–å±æ—¶é—´è¾ƒé•¿</p>
</li>
<li>
<p>CSRå‡è½»äº†æœåŠ¡å™¨çš„è´Ÿè½½, å› ä¸ºæ¸²æŸ“æ˜¯åœ¨å®¢æˆ·ç«¯å®Œæˆçš„</p>
</li>
<li>
<p>CSRçš„é¡µé¢äº¤äº’æ€§éå¸¸å¥½</p>
</li>
<li>
<p>ä½¿ç”¨CSRåŸºæœ¬è¯´æ˜äº†å‰åç«¯åˆ†ç¦»</p>
</li>
<li>
<p>CSRéå¸¸é€‚åˆå¼€å‘å¯¹å³æ—¶äº¤äº’æ€§è¦æ±‚è¾ƒé«˜çš„Webåº”ç”¨ç¨‹åºä»¥åŠappå°ç¨‹åº</p>
</li>
</ul>
<p>åŸºäºä¸åŒçš„æ¸²æŸ“æ–¹å¼åˆå¯ä»¥å¼•å‡º<strong>SPA</strong>å’Œ<strong>MPA</strong></p>
<h3 id="spaå’Œmpa"><a class="markdownIt-Anchor" href="#spaå’Œmpa"></a> SPAå’ŒMPA</h3>
<p><strong>SPAå•é¡µé¢åº”ç”¨æ¨¡å¼</strong></p>
<ul>
<li>SPAæ¨¡å¼åªæ‹¥æœ‰ä¸€ä¸ªä¸»é¡µé¢, æ‰€æœ‰çš„é™æ€èµ„æºéƒ½åŒ…å«åœ¨ä¸»é¡µé¢ä¸­, åªéœ€è¦åŠ è½½ä¸€æ¬¡</li>
<li>æ‰€æœ‰çš„åŠŸèƒ½æ¨¡å—ç»„ä»¶åŒ–, é€šè¿‡åˆ·æ–°å±€éƒ¨èµ„æºæ¥å®ç°åŠŸèƒ½</li>
<li>å‡ ä¹ä¸å­˜åœ¨<strong>è½¬å‘</strong>å’Œ<strong>é‡å®šå‘</strong>çš„æ¦‚å¿µ</li>
<li>ä¼ ç»ŸSPAé€šå¸¸éƒ½æ˜¯CSRæ¸²æŸ“, ä¹Ÿå¯ä»¥å€ŸåŠ©SSRæ¸²æŸ“æ¥ä¼˜åŒ–SEO</li>
<li>SPAçš„å®ç°æ ¸å¿ƒæ˜¯<strong>å‰ç«¯è·¯ç”±</strong>, å‰ç«¯è·¯ç”±çš„æ ¸å¿ƒ: æ”¹å˜è§†å›¾çš„åŒæ—¶ä¸ä¼šå‘åç«¯å‘å‡ºè¯·æ±‚</li>
<li>å•ä¸ªvue+viteçš„å·¥ç¨‹å°±æ˜¯å…¸å‹çš„SPAæ¨¡å¼</li>
</ul>
<p><strong>MPAå¤šé¡µé¢åº”ç”¨æ¨¡å¼</strong></p>
<ul>
<li>MPAæ¨¡å¼æ‹¥æœ‰å¤šä¸ªé¡µé¢, æ‰€æœ‰çš„é™æ€èµ„æºéƒ½æ˜¯å…¬å…±èµ„æº, æ¯ä¸ªé¡µé¢éƒ½éœ€è¦é‡æ–°åŠ è½½</li>
<li>æ‰€æœ‰çš„åŠŸèƒ½ä¼šåˆ’åˆ†åˆ°å¤šä¸ªé¡µé¢ä¸­, é€šè¿‡è½¬å‘å’Œé‡å®šå‘é¡µé¢æ¥å®ç°åŠŸèƒ½</li>
<li>MPAé€šå¸¸éƒ½æ˜¯SSRæ¸²æŸ“, åŸºæœ¬ä¸ä¼šä½¿ç”¨CSRæ¸²æŸ“, å› ä¸ºé€»è¾‘è¾ƒä¸ºå¤æ‚</li>
<li>MPAä¸­åŸºæœ¬æ²¡æœ‰å‰ç«¯è·¯ç”±</li>
</ul>
<p>ç›®å‰å¤§å‹Webé¡¹ç›®å¼€å‘å¯èƒ½æ›´å¤šçš„æ˜¯ä½¿ç”¨MPA+SPAçš„æ··åˆæ¨¡å¼</p>
]]></content>
      <tags>
        <tag>å‰åç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>Goè¯­è¨€åŸºç¡€</title>
    <url>/2023/01/26/golang-day1/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7192662401240531004" >golangåŸºç¡€å­¦ä¹  | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹golangçš„åˆæ­¥å­¦ä¹ <span id="more"></span></p>
<h2 id="11-ä»€ä¹ˆæ˜¯goè¯­è¨€"><a class="markdownIt-Anchor" href="#11-ä»€ä¹ˆæ˜¯goè¯­è¨€"></a> 1.1 ä»€ä¹ˆæ˜¯Goè¯­è¨€</h2>
<h3 id="1é«˜æ€§èƒ½-é«˜å¹¶å‘"><a class="markdownIt-Anchor" href="#1é«˜æ€§èƒ½-é«˜å¹¶å‘"></a> 1.é«˜æ€§èƒ½ã€é«˜å¹¶å‘</h3>
<p>æ‹¥æœ‰å’ŒC++ã€Javaåª²ç¾çš„æ€§èƒ½ï¼Œæ‹¥æœ‰å¯¹é«˜å¹¶å‘çš„æ”¯æŒï¼Œä¸éœ€è¦é¢å¤–çš„ç¬¬ä¸‰æ–¹åº“ï¼Œåªéœ€è¦ä½¿ç”¨æ ‡å‡†åº“æˆ–è€…åŸºäºæ ‡å‡†åº“çš„ç¬¬ä¸‰æ–¹åº“å°±èƒ½è¿›è¡Œé«˜å¹¶å‘å¼€å‘</p>
<h3 id="2è¯­æ³•ç®€å•-å­¦ä¹ æ›²çº¿å¹³ç¼“"><a class="markdownIt-Anchor" href="#2è¯­æ³•ç®€å•-å­¦ä¹ æ›²çº¿å¹³ç¼“"></a> 2.è¯­æ³•ç®€å•ã€å­¦ä¹ æ›²çº¿å¹³ç¼“</h3>
<p>è¯­æ³•é£æ ¼ç±»ä¼¼Cè¯­è¨€ï¼Œä¸”åœ¨Cè¯­è¨€çš„åŸºç¡€ä¸Šè¿›è¡Œäº†å¤§å¹…åº¦ç®€åŒ–ï¼Œä¾‹å¦‚å»æ‰äº†ä¸å¿…è¦çš„è¡¨è¾¾å¼æ‹¬å·ï¼Œå¾ªç¯åªæœ‰forå¾ªç¯ä¸€ç§æ–¹å¼å°±èƒ½å®ç°å„ç§æ•°å€¼ã€é”®å€¼éå†</p>
<p>ä¸€ä¸ªåŸºäºGoçš„ç®€å•çš„HttpæœåŠ¡å™¨demo</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    http.Handle(<span class="string">&quot;/&quot;</span>, http.FileServer(http.Dir(<span class="string">&quot;.&quot;</span>)))</span><br><span class="line">    http.ListenAndServer(<span class="string">&quot;:8080&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="3ä¸°å¯Œçš„æ ‡å‡†åº“"><a class="markdownIt-Anchor" href="#3ä¸°å¯Œçš„æ ‡å‡†åº“"></a> 3.ä¸°å¯Œçš„æ ‡å‡†åº“</h3>
<p>æ‹¥æœ‰åŠå…¶ä¸°å¯Œã€åŠŸèƒ½å®Œå–„ã€è´¨é‡å¯é çš„æ ‡å‡†åº“ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“å°±å¯ä»¥å®Œæˆå¤§éƒ¨åˆ†åŸºç¡€åŠŸèƒ½çš„å¼€å‘ï¼Œå¤§å¤§é™ä½äº†å­¦ä¹ å’Œä½¿ç”¨æˆæœ¬ã€‚æœ€å…³é”®çš„æ˜¯ï¼Œæ ‡å‡†åº“å…·æœ‰å¾ˆé«˜çš„ç¨³å®šæ€§å’Œå…¼å®¹æ€§ä¿éšœï¼Œè¿˜èƒ½æŒç»­äº«å—è¯­è¨€è¿­ä»£æ‰€å¸¦æ¥çš„æ€§èƒ½ä¼˜åŒ–ã€‚è¿™æ˜¯ç¬¬ä¸‰æ–¹åº“æ‰€ä¸å…·å¤‡çš„</p>
<h3 id="4å®Œå–„çš„å·¥å…·é“¾"><a class="markdownIt-Anchor" href="#4å®Œå–„çš„å·¥å…·é“¾"></a> 4.å®Œå–„çš„å·¥å…·é“¾</h3>
<p>æ‹¥æœ‰ä¸°å¯Œçš„å·¥å…·é“¾ï¼Œç¼–è¯‘ã€ä»£ç æ ¼å¼åŒ–ã€é”™è¯¯æ£€æŸ¥ã€å¸®åŠ©æ–‡æ¡£ã€åŒ…ç®¡ç†ä»¥åŠä»£ç è¡¥å…¨æç¤ºã€‚Goè¿˜å†…ç½®äº†å®Œæ•´çš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œæ”¯æŒå•å…ƒæµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€ä»£ç è¦†ç›–ç‡ã€æ•°æ®é”®å¢æ£€æµ‹ã€æ€§èƒ½ä¼˜åŒ–ï¼Œä¿éšœä»£ç èƒ½å¤Ÿæ­£ç¡®ç¨³å®šè¿è¡Œ</p>
<h3 id="5é™æ€é“¾æ¥"><a class="markdownIt-Anchor" href="#5é™æ€é“¾æ¥"></a> 5.é™æ€é“¾æ¥</h3>
<p>åœ¨Goè¯­è¨€ä¸­æ‰€æœ‰çš„ç¼–è¯‘ç»“æ„é»˜è®¤ä¸ºé™æ€é“¾æ¥ï¼Œåªéœ€è¦ç¼–è¯‘åçš„å”¯ä¸€ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ä¸éœ€è¦é™„åŠ ä»»ä½•å…¶å®ƒä¸œè¥¿ï¼Œå³å¯éƒ¨ç½²è¿è¡Œã€‚åœ¨çº¿ä¸Šçš„å®¹å™¨ç¯å¢ƒä¸­è¿è¡Œï¼Œé•œåƒä½“ç§¯å¯ä»¥æ§åˆ¶å¾—éå¸¸å°ï¼Œéƒ¨ç½²éå¸¸æ–¹ä¾¿å¿«æ·ã€‚ä¸åŒäºC++ï¼Œéœ€è¦ä¸€å †åŠ¨æ€é“¾æ¥åº“ï¼ˆlinuxä¸‹è¡¨ç°ä¸º.soæ–‡ä»¶ï¼Œwinä¸‹æ˜¯.dllæ–‡ä»¶ä»¥åŠç”±.dllç”Ÿæˆçš„.libæ–‡ä»¶ï¼‰æ‰å¯ä»¥æ­£ç¡®è¿è¡Œï¼Œæ–‡æœ¬ä¸æ­£ç¡®çš„è¯å°±ä¼šå´©æºƒã€‚Javaåˆ™éœ€è¦é™„åŠ ä¸€ä¸ªåºå¤§çš„JREæ‰èƒ½è¿è¡Œ</p>
<h3 id="6å¿«é€Ÿç¼–è¯‘"><a class="markdownIt-Anchor" href="#6å¿«é€Ÿç¼–è¯‘"></a> 6.å¿«é€Ÿç¼–è¯‘</h3>
<p>Goè¯­è¨€æ‹¥æœ‰é™æ€è¯­è¨€ä¸­å‡ ä¹æœ€å¿«çš„ç¼–è¯‘é€Ÿåº¦ï¼Œå¢é‡ç¼–è¯‘å®Œæˆã€‚è¿™ä¸ªé€Ÿåº¦å¯¹C++å¼€å‘æ¥è¯´ä¸å¯æƒ³è±¡</p>
<h3 id="7è·¨å¹³å°"><a class="markdownIt-Anchor" href="#7è·¨å¹³å°"></a> 7.è·¨å¹³å°</h3>
<p>Goè¯­è¨€èƒ½åœ¨å¸¸è§çš„linuxã€windowsã€macosï¼Œä¹Ÿèƒ½å¤Ÿå¼€å‘androidã€iosè½¯ä»¶ï¼Œè¿˜èƒ½åœ¨ä¸€äº›ç¡¬ä»¶è®¾å¤‡ä¸Šè¿è¡Œï¼Œä¾‹å¦‚è·¯ç”±å™¨ã€æ ‘è“æ´¾ã€‚Goè¿˜æ‹¥æœ‰å¾ˆæ–¹ä¾¿çš„äº¤å‰ç¼–è¯‘ç‰¹æ€§ï¼Œèƒ½å¤Ÿè½»æ¾åœ¨ç¬”è®°æœ¬ä¸Šç¼–è¯‘å‡ºäºŒè¿›åˆ¶æ–‡ä»¶æ‹·è´åˆ°è·¯ç”±å™¨ä¸­è¿è¡Œï¼Œè€Œæ— éœ€é…ç½®äº¤å‰ç¼–è¯‘ç¯å¢ƒ</p>
<h3 id="8åƒåœ¾å›æ”¶"><a class="markdownIt-Anchor" href="#8åƒåœ¾å›æ”¶"></a> 8.åƒåœ¾å›æ”¶</h3>
<p>Goè¯­è¨€è‡ªå¸¦åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå’ŒJavaç±»ä¼¼ï¼Œåœ¨å¼€å‘çš„æ—¶å€™æ— éœ€è€ƒè™‘å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾ï¼Œå¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘</p>
<h2 id="12-å“ªäº›å…¬å¸åœ¨ä½¿ç”¨goè¯­è¨€"><a class="markdownIt-Anchor" href="#12-å“ªäº›å…¬å¸åœ¨ä½¿ç”¨goè¯­è¨€"></a> 1.2 å“ªäº›å…¬å¸åœ¨ä½¿ç”¨Goè¯­è¨€</h2>
<p>ByteDanceå­—èŠ‚è·³åŠ¨ã€Googleè°·æ­Œã€Tencentè…¾è®¯ã€facebookè„¸ä¹¦ã€bilibiliå“”å“©å“”å“©ç­‰</p>
<p>åœ¨äº‘è®¡ç®—ã€å¾®æœåŠ¡ã€å¤§æ•°æ®ã€åŒºå—é“¾ã€ç‰©è”ç½‘ç­‰é¢†åŸŸå¹¿æ³›å‘å±•ï¼Œå°¤å…¶åœ¨äº‘è®¡ç®—ã€å¾®æœåŠ¡é¢†åŸŸäº§å‡ºäº†å¤§é‡çš„äº‘åŸç”Ÿç»„ä»¶</p>
<h2 id="13-ä¸ºä»€ä¹ˆé€‰æ‹©goè¯­è¨€"><a class="markdownIt-Anchor" href="#13-ä¸ºä»€ä¹ˆé€‰æ‹©goè¯­è¨€"></a> 1.3 ä¸ºä»€ä¹ˆé€‰æ‹©Goè¯­è¨€</h2>
<ol>
<li>éšç€ä¸šåŠ¡ä½“é‡çš„ä¸æ–­å¢é•¿ï¼ŒPythonå¯¹äºWebä¸šåŠ¡å­˜åœ¨æ€§èƒ½ç“¶é¢ˆ</li>
<li>C++çš„ç‰¹æ€§ä½¿å…¶ä¸å¤ªé€‚åˆåœ¨çº¿Webä¸šåŠ¡</li>
<li>Goçš„å­¦ä¹ éš¾åº¦ä½äºJava</li>
<li>Goçš„æ€§èƒ½æ¯”è¾ƒå¥½</li>
<li>Goçš„éƒ¨ç½²ç®€å•ï¼Œå­¦ä¹ æˆæœ¬ä½ï¼ˆæ²¡æœ‰Pythonçš„ä¾èµ–åº“ç‰ˆæœ¬é—®é¢˜ï¼‰</li>
<li>åŸºäºGoç ”å‘çš„å†…éƒ¨RPCæ¡†æ¶å’ŒHTTPæ¡†æ¶ï¼Œæ¨åŠ¨äº†ä¸šåŠ¡é‡æ„</li>
</ol>
<h2 id="21-å¼€å‘ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#21-å¼€å‘ç¯å¢ƒ"></a> 2.1 å¼€å‘ç¯å¢ƒ</h2>
<h3 id="å®‰è£…golang"><a class="markdownIt-Anchor" href="#å®‰è£…golang"></a> å®‰è£…Golang</h3>
<p><a class="link"   href="https://go.dev/" >Golangå®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://studygolang.com/dl" >Golangé•œåƒ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://goproxy.cn/" >Golangç¬¬ä¸‰æ–¹åŒ…ä»£ç†åŠ é€Ÿä¸‹è½½ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="é…ç½®é›†æˆå¼€å‘ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#é…ç½®é›†æˆå¼€å‘ç¯å¢ƒ"></a> é…ç½®é›†æˆå¼€å‘ç¯å¢ƒ</h3>
<p>ä»¥ä¸‹ä¸‰ç§æ–¹æ¡ˆé€‰å…¶ä¸€å³å¯</p>
<ol>
<li>
<p><a class="link"   href="https://code.visualstudio.com/" >Visual Studio Code <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
<li>
<p><a class="link"   href="https://www.jetbrains.com.cn/go/promo" >Goland <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>å…³äºGolandæ§åˆ¶å°è¾“å‡º#gosetupçš„å¤šä½™ä¿¡æ¯ï¼Œå½±å“è§‚å¯Ÿã€‚å¿«æ·é”®Ctrl+Alt+shift+/ï¼Œæ‰“å¼€Registryï¼Œå–æ¶ˆå‹¾é€‰go.run.processes.with.ptyã€‚ä¹‹å#gosetupçš„ä¿¡æ¯ä¼šè¢«æŠ˜å ï¼Œæ–¹ä¾¿ç›´æ¥è§‚å¯Ÿç¨‹åºè¾“å‡ºç»“æœ</p>
</li>
<li>
<p><a class="link"   href="https://www.gitpod.io/" >äº‘å¼€å‘ç¯å¢ƒGitpod <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ol>
<h2 id="22-åŸºç¡€è¯­æ³•"><a class="markdownIt-Anchor" href="#22-åŸºç¡€è¯­æ³•"></a> 2.2 åŸºç¡€è¯­æ³•</h2>
<h3 id="1hello-world"><a class="markdownIt-Anchor" href="#1hello-world"></a> 1.Hello World</h3>
<p>main.goæ–‡ä»¶</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<ul>
<li>
<p>package mainä»£è¡¨è¿™ä¸ªæ–‡ä»¶å±äºmainåŒ…ï¼ŒmainåŒ…æ˜¯ç¨‹åºçš„å…¥å£åŒ…</p>
</li>
<li>
<p>fmtåŒ…æ˜¯æ ‡å‡†åº“é‡Œçš„åŒ…ï¼Œä¸»è¦ç”¨äºè¾“å…¥è¾“å‡ºå­—ç¬¦ä¸²ï¼Œæ ¼å¼åŒ–å­—ç¬¦ä¸²</p>
</li>
<li>
<p>func mainå°±æ˜¯goè¯­è¨€mainå‡½æ•°çš„å£°æ˜ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ <strong>èŠ±æ‹¬å·{</strong> å¿…é¡»å’Œfunc mainå†™åœ¨åŒä¸€è¡Œï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># command-line-arguments</span></span><br><span class="line">.\test.go:6:1: syntax error: unexpected semicolon or newline before &#123;</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>åœ¨mainå‡½æ•°é‡Œç”¨fmt.Printlnè°ƒç”¨äº†fmtåŒ…ä¸­çš„Printlnå‡½æ•°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯importçš„åŒ…å¿…é¡»è¦åœ¨ç¨‹åºä¸­ä½¿ç”¨åˆ°ï¼Œä¸èƒ½åªæ˜¯importè¿™ä¸ªåŒ…è€Œä¸å»ä½¿ç”¨ï¼Œä¼šæŠ¥é”™</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># command-line-arguments</span></span><br><span class="line">.\test.go:3:8: imported and not used: <span class="string">&quot;fmt&quot;</span></span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<p>ç¼–è¯‘è¿è¡Œå‘½ä»¤ï¼ˆåœ¨æ–‡ä»¶çš„åŒçº§ç›®å½•ä¸‹runæˆ–è€…buildåæ‰§è¡Œï¼‰</p>
<div class="highlight-container" data-rel="Sh"><figure class="iseeu highlight sh"><table><tr><td class="code"><pre><span class="line">go run main.go</span><br><span class="line"></span><br><span class="line">go build main.go</span><br><span class="line">./main</span><br></pre></td></tr></table></figure></div>
<ul>
<li>go run ç›´æ¥è¿è¡Œgoæ–‡ä»¶</li>
<li>go buildä¼šç”Ÿæˆä¸€ä¸ªexeæ–‡ä»¶ï¼Œè¿è¡Œexeæ–‡ä»¶å¾—åˆ°ç»“æœ</li>
</ul>
<h3 id="2å˜é‡"><a class="markdownIt-Anchor" href="#2å˜é‡"></a> 2.å˜é‡</h3>
<p>goè¯­è¨€æ˜¯ä¸€é—¨å¼ºç±»å‹è¯­è¨€ï¼Œæ¯ä¸ªå˜é‡éƒ½æœ‰å„è‡ªçš„å˜é‡ç±»å‹ã€‚</p>
<p>å¸¸è§çš„å˜é‡ç±»å‹ï¼šå­—ç¬¦ä¸²ã€æ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”å‹ç­‰ã€‚</p>
<p>goè¯­è¨€çš„å­—ç¬¦ä¸²æ˜¯å†…ç½®ç±»å‹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡+å·æ‹¼æ¥ï¼Œä¹Ÿèƒ½å¤Ÿç›´æ¥ä½¿ç”¨==å»æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆä¸åŒäºJavaéœ€è¦ä½¿ç”¨equalsæ–¹æ³•å»æ¯”è¾ƒï¼‰ã€‚</p>
<p>goè¯­è¨€å¤§éƒ¨åˆ†è¿ç®—ç¬¦çš„ä½¿ç”¨å’Œä¼˜å…ˆçº§å’ŒC/C++ç±»ä¼¼ã€‚</p>
<h4 id="å˜é‡å£°æ˜"><a class="markdownIt-Anchor" href="#å˜é‡å£°æ˜"></a> å˜é‡å£°æ˜</h4>
<p>åœ¨goè¯­è¨€ä¸­å˜é‡çš„å£°æ˜æ–¹å¼æœ‰ä¸¤ç§</p>
<p>ä¸€ç§æ˜¯é€šè¿‡var name string = &quot;&quot;è¿™ç§æ–¹å¼æ¥å£°æ˜å˜é‡ï¼Œå£°æ˜å˜é‡çš„æ—¶å€™ä¸€èˆ¬ä¼šè‡ªåŠ¨æ¨å¯¼å˜é‡çš„ç±»å‹ï¼Œæœ‰éœ€è¦ä¹Ÿå¯ä»¥æ˜¾å¼å†™æ˜å˜é‡ç±»å‹ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="type">string</span> = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;hello&quot;</span>  <span class="comment">//è‡ªåŠ¨æ¨å¯¼å˜é‡ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> t1,t2 <span class="type">int</span>  <span class="comment">//å¯ä»¥å£°æ˜å¤šä¸ªç›¸åŒç±»å‹çš„å˜é‡</span></span><br></pre></td></tr></table></figure></div>
<p>å¦ä¸€ç§å˜é‡å£°æ˜æ˜¯çŸ­å£°æ˜ï¼Œä½¿ç”¨ å˜é‡ := å€¼ çš„æ ¼å¼ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">name := <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure></div>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨varå£°æ˜è¿‡çš„å˜é‡åï¼Œä¸èƒ½ç”¨çŸ­å£°æ˜é‡å¤å£°æ˜ã€‚</p>
<p>goè¯­è¨€çš„å¸¸é‡ï¼Œå°±æ˜¯ç”¨constå…³é”®å­—æ›¿ä»£varå…³é”®å­—å£°æ˜ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œgoè¯­è¨€ä¸­çš„å¸¸é‡æ²¡æœ‰ä¸€ä¸ªç¡®å®šçš„ç±»å‹ï¼Œå®ƒä¼šæ ¹æ®ä¸Šä¸‹æ–‡æ¥è‡ªåŠ¨ç¡®å®šç±»å‹ã€‚</p>
<h3 id="3if-else"><a class="markdownIt-Anchor" href="#3if-else"></a> 3.if else</h3>
<p>goè¯­è¨€ä¸­çš„if elseä¸åŒäºå…¶ä»–è¯­è¨€</p>
<p>goè¯­è¨€ä¸­ifåé¢æ²¡æœ‰å°æ‹¬å·()</p>
<p>goè¯­è¨€ä¸­ifåé¢å¿…é¡»è¦æœ‰å¤§æ‹¬å·{}ï¼Œæ²¡æœ‰C/C++é‚£ç§ç¼ºçœå¤§æ‹¬å·å†™åœ¨åŒä¸€è¡Œçš„å†™æ³•</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// if-else</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">7</span>%<span class="number">22</span>==<span class="number">0</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;7 is even&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;7 is odd&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ifåå¯ä»¥åŠ ä¸ŠçŸ­å£°æ˜å’Œåˆ¤æ–­</span></span><br><span class="line"><span class="keyword">if</span> num := <span class="number">9</span>; num &lt; <span class="number">0</span> &#123;</span><br><span class="line">    fmt.Println(num, <span class="string">&quot;is negative&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> num &lt; <span class="number">10</span> &#123;</span><br><span class="line">    fmt.Println(num, has <span class="number">1</span> digit)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(num, <span class="string">&quot;has multiple digits&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="4å¾ªç¯"><a class="markdownIt-Anchor" href="#4å¾ªç¯"></a> 4.å¾ªç¯</h3>
<p>goè¯­è¨€ä¸­æ²¡æœ‰whileå¾ªç¯ã€do whileå¾ªç¯ï¼Œåªæœ‰å”¯ä¸€çš„ä¸€ç§forå¾ªç¯ã€‚</p>
<p>æœ€ç®€å•çš„forå¾ªç¯å°±æ˜¯åªæœ‰foræ²¡æœ‰å¾ªç¯æ¡ä»¶ï¼Œä»£è¡¨æ­»å¾ªç¯ã€‚</p>
<p>å¾ªç¯ä¸­é€”å¯ä»¥ç”¨breakè·³å‡ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»å…¸çš„å¾ªç¯ï¼ˆåˆå€¼ï¼Œé˜ˆå€¼ï¼Œæ­¥é•¿ï¼‰ï¼Œè¿™ä¸‰æ®µä¸­çš„ä»»ä½•ä¸€æ®µéƒ½å¯ä»¥çœç•¥ã€‚</p>
<p>åœ¨å¾ªç¯é‡Œé¢è¿˜å¯ä»¥ç”¨continueç›´æ¥è¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯ï¼ˆåœ¨æ»¡è¶³å¾ªç¯æ¡ä»¶çš„æƒ…å†µä¸‹ï¼‰</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ— æ¡ä»¶å¾ªç¯(æ­»å¾ªç¯),ä½¿ç”¨breakè·³å‡ºå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;loop&quot;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç»å…¸å¾ªç¯å†™æ³•</span></span><br><span class="line"><span class="keyword">for</span> j := <span class="number">7</span>; j &lt; <span class="number">9</span>; j++ &#123;</span><br><span class="line">    fmt.Println(j)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// continueè·³è¿‡æœ¬è½®å¾ªç¯,ç›´æ¥è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span> n := <span class="number">0</span>; n &lt; <span class="number">5</span>; n++ &#123;</span><br><span class="line">    <span class="keyword">if</span> n%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(n)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// èµ‹å€¼ã€åˆ¤æ–­ã€å¢å€¼åˆ†å¼€å†™</span></span><br><span class="line">i := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i &lt;= <span class="number">3</span> &#123;</span><br><span class="line">    fmt.Println(i)</span><br><span class="line">    i = i + <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="5switch"><a class="markdownIt-Anchor" href="#5switch"></a> 5.switch</h3>
<p>goè¯­è¨€ä¸­çš„switchåˆ†æ”¯ç»“æ„ï¼Œä¹Ÿç±»ä¼¼äºC/C++ã€‚åŒæ ·åœ°ï¼Œgoè¯­è¨€çš„switchåé¢ä¸éœ€è¦å°æ‹¬å·ã€‚</p>
<p>ä½†æ˜¯å’ŒC/C<ins>çš„switchä¸åŒï¼Œåœ¨C</ins>é‡Œé¢ï¼Œswitch caseåé¢å¦‚æœä¸æ˜¾å¼åŠ breakä¼šç»§ç»­æ‰§è¡Œåé¢çš„caseï¼›goè¯­è¨€åˆ™ä¸éœ€è¦breakï¼Œå¦‚æœè¦æ‰§è¡Œåé¢çš„caseè¿˜éœ€è¦æ˜¾å¼åŠ fallthroughå…³é”®å­—ã€‚</p>
<p>ç›¸æ¯”C/C++ï¼Œgoè¯­è¨€çš„switchåŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„çš„å˜é‡ç±»å‹ï¼Œç”šè‡³å¯ä»¥å–ä»£ä»»æ„çš„if elseè¯­å¥ã€‚ä¸åœ¨switchåé¢åŠ ä»»ä½•çš„å˜é‡ï¼Œåœ¨caseé‡Œé¢å†™æ¡ä»¶åˆ†æ”¯ï¼Œç›¸æ¯”å¤šä¸ªif elseè¯­å¥ï¼Œä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// switch</span></span><br><span class="line">a := <span class="number">2</span></span><br><span class="line"><span class="keyword">switch</span> a &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    fmt.Println(<span class="string">&quot;one&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    fmt.Println(<span class="string">&quot;two&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    fmt.Println(<span class="string">&quot;three&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>,<span class="number">5</span>:</span><br><span class="line">    fmt.Println(<span class="string">&quot;four or five&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">    fmt.Println(<span class="string">&quot;default&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="6æ•°ç»„"><a class="markdownIt-Anchor" href="#6æ•°ç»„"></a> 6.æ•°ç»„</h3>
<p>æ•°ç»„æ˜¯ä¸€ä¸ªå…·æœ‰ç¼–å·ä¸”é•¿åº¦å›ºå®šçš„å…ƒç´ åºåˆ—ã€‚</p>
<p>å¯¹äºä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å–ç‰¹å®šç´¢å¼•çš„å€¼æˆ–è€…åœ¨ç‰¹å®šç´¢å¼•å­˜å‚¨å€¼ï¼Œä½†å®é™…å¼€å‘ä¸­ï¼Œå¾ˆå°‘ç›´æ¥ä½¿ç”¨æ•°ç»„ï¼Œå› ä¸ºå…¶é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä½¿ç”¨æ›´å¤šçš„æ˜¯åˆ‡ç‰‡ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„å£°æ˜,æœªåˆå§‹åŒ–é»˜è®¤å€¼ä¸º0(å¯¹äºintç±»å‹æ•°ç»„)</span></span><br><span class="line"><span class="keyword">var</span> a [<span class="number">5</span>]<span class="type">int</span></span><br><span class="line"><span class="comment">// å¯¹ç´¢å¼•ä¸º4çš„å…ƒç´ èµ‹å€¼</span></span><br><span class="line">a[<span class="number">4</span>] = <span class="number">100</span></span><br><span class="line">fmt.Println(<span class="string">&quot;get:&quot;</span>, a[<span class="number">2</span>]) <span class="comment">//a[2]æœªåˆå§‹åŒ–,é»˜è®¤æ˜¯0</span></span><br><span class="line">fmt.Println(<span class="string">&quot;len:&quot;</span>, <span class="built_in">len</span>(a)) <span class="comment">//è·å–æ•°ç»„açš„é•¿åº¦5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// çŸ­å£°æ˜,ç›´æ¥èµ‹å€¼</span></span><br><span class="line">b := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">fmt.Println(b)</span><br><span class="line"></span><br><span class="line"><span class="comment">// äºŒç»´æ•°ç»„,å¯ç›´æ¥èµ‹å€¼,ä¹Ÿå¯ä»¥ç”¨åµŒå¥—å¾ªç¯èµ‹å€¼</span></span><br><span class="line"><span class="keyword">var</span> twoD [<span class="number">2</span>][<span class="number">3</span>]<span class="type">int</span></span><br></pre></td></tr></table></figure></div>
<h3 id="7åˆ‡ç‰‡"><a class="markdownIt-Anchor" href="#7åˆ‡ç‰‡"></a> 7.åˆ‡ç‰‡</h3>
<p>åˆ‡ç‰‡sliceä¸åŒäºæ•°ç»„arrayï¼Œå¯ä»¥ä»»æ„æ›´æ”¹é•¿åº¦ï¼Œæ‹¥æœ‰æ›´å¤šæ•°ç»„ä¸å…·å¤‡çš„æ“ä½œã€‚å¯ä»¥ä½¿ç”¨makeæ¥åˆ›å»ºåˆ‡ç‰‡ï¼Œä½¿ç”¨appendæ¥è¿½åŠ å…ƒç´ ï¼ˆæ³¨æ„appendçš„ç”¨æ³•ï¼Œéœ€è¦æŠŠç»“æœè¿”å›ç»™åŸæ•°ç»„ï¼‰ã€‚</p>
<p>sliceçš„åŸç†æ˜¯å­˜å‚¨äº†ä¸€ä¸ªé•¿åº¦å’Œä¸€ä¸ªå®¹é‡ï¼Œä»¥åŠä¸€æ ¹æŒ‡å‘ä¸€ä¸ªæ•°ç»„çš„æŒ‡é’ˆã€‚</p>
<p>åœ¨æ‰§è¡Œappendæ“ä½œæ—¶ï¼Œå¦‚æœå®¹é‡ä¸å¤Ÿï¼Œå°±ä¼šæ‰©å®¹å¹¶è¿”å›æ–°çš„sliceã€‚</p>
<p>sliceæ‹¥æœ‰ç±»ä¼¼pythonçš„åˆ‡ç‰‡æ“ä½œï¼Œä½†ä¸æ”¯æŒè´Ÿæ•°ç´¢å¼•ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// çŸ­å£°æ˜ä¸€ä¸ªstringç±»å‹çš„åˆ‡ç‰‡,åˆå§‹åŒ–é•¿åº¦ä¸º3,å®¹é‡é»˜è®¤å’Œé•¿åº¦ç›¸ç­‰</span></span><br><span class="line">s := <span class="built_in">make</span>([]<span class="type">string</span>,<span class="number">3</span>)</span><br><span class="line">s[<span class="number">0</span>] = <span class="string">&quot;a&quot;</span></span><br><span class="line">s[<span class="number">1</span>] = <span class="string">&quot;b&quot;</span></span><br><span class="line">s[<span class="number">2</span>] = <span class="string">&quot;c&quot;</span></span><br><span class="line"><span class="comment">// appendè¿½åŠ å…ƒç´ ,éœ€è¦æŠŠç»“æœè¿”å›ç»™åŸæ•°ç»„</span></span><br><span class="line"><span class="comment">// å¦‚æœå®¹é‡ä¸å¤Ÿçš„è¯,ä¼šè¿›è¡Œæ‰©å®¹</span></span><br><span class="line">s = <span class="built_in">append</span>(s, <span class="string">&quot;d&quot;</span>)</span><br><span class="line">s = <span class="built_in">append</span>(s, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>)</span><br><span class="line"><span class="comment">// å¤åˆ¶åˆ‡ç‰‡</span></span><br><span class="line">c := <span class="built_in">make</span>([]<span class="type">string</span>,<span class="built_in">len</span>(s))</span><br><span class="line"><span class="built_in">copy</span>(c,s) <span class="comment">//[a b c d e f]</span></span><br><span class="line"><span class="comment">// åˆ‡ç‰‡ç´¢å¼•æ“ä½œ</span></span><br><span class="line">fmt.Println(s[<span class="number">2</span>:<span class="number">5</span>]) <span class="comment">// [c d e]</span></span><br><span class="line">fmt.Println(s[:<span class="number">5</span>]) <span class="comment">// [a b c d e]</span></span><br><span class="line">fmt.Println(s[<span class="number">2</span>:]) <span class="comment">// [c d e f]</span></span><br><span class="line"><span class="comment">// å…¶ä»–åˆå§‹åŒ–æ–¹å¼</span></span><br><span class="line">str := []<span class="type">string</span>&#123;<span class="string">&quot;s&quot;</span>, <span class="string">&quot;t&quot;</span>, <span class="string">&quot;r&quot;</span>&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="8map"><a class="markdownIt-Anchor" href="#8map"></a> 8.map</h3>
<p>mapåœ¨å…¶ä»–è¯­è¨€é‡Œåˆå¯èƒ½è¢«ç§°ä¸ºå“ˆå¸Œæˆ–è€…å­—å…¸ï¼Œæ˜¯å®é™…å¼€å‘ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„æ•°æ®ç»“æ„ã€‚</p>
<p>mapä¹Ÿå¯ä»¥ä½¿ç”¨makeæ¥åˆ›å»ºï¼Œåˆ›å»ºæ—¶éœ€è¦æä¾›ä¸¤ä¸ªç±»å‹ï¼Œkeyçš„ç±»å‹å’Œvalueçš„ç±»å‹ã€‚</p>
<p>mapå¯ä»¥å­˜å‚¨é”®å€¼å¯¹å½¢å¼çš„æ•°æ®ï¼Œå¯ä»¥é€šè¿‡deleteåˆ é™¤é”®å€¼å¯¹ã€‚</p>
<p>goè¯­è¨€çš„mapæ˜¯å®Œå…¨æ— åºçš„ï¼Œéå†çš„æ—¶å€™æ˜¯éšæœºé¡ºåºã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// çŸ­å£°æ˜ä¸€ä¸ªkeyä¸ºstringç±»å‹,valueä¸ºintç±»å‹çš„map</span></span><br><span class="line">m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">m[<span class="string">&quot;a&quot;</span>] = <span class="number">1</span></span><br><span class="line">m[<span class="string">&quot;b&quot;</span>] = <span class="number">2</span></span><br><span class="line"><span class="comment">// åˆ é™¤é”®å€¼å¯¹</span></span><br><span class="line"><span class="built_in">delete</span>(m,<span class="string">&quot;a&quot;</span>)</span><br><span class="line"><span class="comment">// å…¶ä»–åˆå§‹åŒ–æ–¹å¼</span></span><br><span class="line">m2 := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>, <span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">var</span> m3 = <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>, <span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="9range"><a class="markdownIt-Anchor" href="#9range"></a> 9.range</h3>
<p>rangeèƒ½å¤Ÿç”¨äºå¿«é€Ÿéå†sliceå’Œmapï¼Œå¹¶ä¸”ä»£ç ç®€æ´ã€‚</p>
<p>rangeéå†æ•°ç»„æ—¶ä¼šè¿”å›ä¸¤ä¸ªå­—ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç´¢å¼•ï¼Œç¬¬äºŒä¸ªæ˜¯å¯¹åº”çš„å€¼ã€‚å¦‚æœä¸éœ€è¦ç´¢å¼•å¯ä»¥ç”¨ä¸‹åˆ’çº¿æ¥å¿½ç•¥ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">nums := []<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line"><span class="keyword">for</span> i, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">2</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;index:&quot;</span>, i, <span class="string">&quot;num:&quot;</span>, num)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;A&quot;</span>, <span class="string">&quot;b&quot;</span>: <span class="string">&quot;B&quot;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">    fmt.Println(k, v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="10å‡½æ•°"><a class="markdownIt-Anchor" href="#10å‡½æ•°"></a> 10.å‡½æ•°</h3>
<p>goè¯­è¨€å…¶ä»–è¯­è¨€ä¸åŒçš„æ˜¯ï¼Œgoè¯­è¨€ä¸­å‡½æ•°çš„å˜é‡ç±»å‹æ˜¯åç½®çš„ï¼Œä¸”goå‡½æ•°åŸç”Ÿæ”¯æŒå¤šä¸ªè¿”å›å€¼ã€‚å®é™…å¼€å‘ä¸­ï¼Œå‡ ä¹æ‰€æœ‰çš„å‡½æ•°éƒ½è¿”å›ä¸¤ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯çœŸæ­£çš„è¿”å›ç»“æœï¼Œç¬¬äºŒä¸ªæ˜¯é”™è¯¯ä¿¡æ¯ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ¤æ–­mapçš„å€¼æ˜¯å¦å­˜åœ¨,è¿”å›å€¼å’Œé”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">exists</span><span class="params">(m <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>, k <span class="type">string</span>)</span></span> (v <span class="type">string</span>, ok <span class="type">bool</span>) &#123;</span><br><span class="line">    v, ok = m[k]</span><br><span class="line">    <span class="keyword">return</span> v, ok</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="11æŒ‡é’ˆ"><a class="markdownIt-Anchor" href="#11æŒ‡é’ˆ"></a> 11.æŒ‡é’ˆ</h3>
<p>goè¯­è¨€ä¹Ÿæ”¯æŒæŒ‡é’ˆï¼Œä½†æŒ‡é’ˆæ“ä½œç›¸å¯¹äºC/C++çš„æŒ‡é’ˆæ¯”è¾ƒå±€é™ã€‚æŒ‡é’ˆä¸»è¦çš„ç”¨é€”å°±æ˜¯å¯¹ä¼ å…¥å‚æ•°è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>ä½¿ç”¨æŒ‡é’ˆä¼ å‚å’Œä¸ä½¿ç”¨æŒ‡é’ˆä¼ å‚ï¼Œä¸»è¦åŒºåˆ«å°±æ˜¯æœ‰æ— æ‹·è´çš„æ‰€å¸¦æ¥å¼€é”€ä»¥åŠèƒ½å¦ç›´æ¥ä¿®æ”¹æ•°æ®ã€‚å¯¹äºå¤§å‹ç»“æ„ä½“æ¥è¯´ï¼Œå¼€é”€æ›´å¤§ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span> <span class="params">(n *<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    *n += <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    n := <span class="number">5</span></span><br><span class="line">    add(&amp;n)</span><br><span class="line">    fmt.Println(n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="12ç»“æ„ä½“"><a class="markdownIt-Anchor" href="#12ç»“æ„ä½“"></a> 12.ç»“æ„ä½“</h3>
<p>ç»“æ„ä½“æ˜¯å¸¦ç±»å‹çš„å­—æ®µçš„é›†åˆã€‚å¯ä»¥ç”¨ç»“æ„ä½“çš„åç§°ä½œä¸ºç»“æ„ä½“ç±»å‹å»åˆå§‹åŒ–ä¸€ä¸ªç»“æ„ä½“å˜é‡ï¼Œæ„é€ çš„æ—¶å€™éœ€è¦ä¼ å…¥æ¯ä¸ªå­—æ®µçš„åˆå§‹å€¼ã€‚ä¹Ÿå¯ä»¥ç”¨è¿™ç§é”®å€¼å¯¹çš„æ–¹å¼åªå¯¹ä¸€éƒ¨åˆ†å­—æ®µè¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<p>ç»“æ„ä½“ä¹Ÿæ”¯æŒæŒ‡é’ˆï¼Œå¹¶ä¸”ä½¿ç”¨æŒ‡é’ˆä¿®æ”¹ç»“æ„ä½“èƒ½é¿å…ç»“æ„ä½“çš„æ‹·è´å¼€é”€ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç»“æ„ä½“</span></span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">    name    <span class="type">string</span></span><br><span class="line">    passwd  <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–ç»“æ„ä½“çš„å‡ ç§æ–¹å¼</span></span><br><span class="line">    a := user&#123;name: <span class="string">&quot;a&quot;</span>, passwd: <span class="string">&quot;123&quot;</span>&#125;</span><br><span class="line">    b := user&#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;123&quot;</span>&#125;</span><br><span class="line">    c := user&#123;name: <span class="string">&quot;a&quot;</span>&#125;</span><br><span class="line">    c.passwd = <span class="string">&quot;123&quot;</span></span><br><span class="line">    <span class="keyword">var</span> d user</span><br><span class="line">    d.name = <span class="string">&quot;a&quot;</span></span><br><span class="line">    d.passwd = <span class="string">&quot;123&quot;</span></span><br><span class="line">    fmt.Println(check(&amp;a, <span class="string">&quot;456&quot;</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">check</span><span class="params">(u *user, passwd <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> u.passwd == passwd</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="13ç»“æ„ä½“æ–¹æ³•"><a class="markdownIt-Anchor" href="#13ç»“æ„ä½“æ–¹æ³•"></a> 13.ç»“æ„ä½“æ–¹æ³•</h3>
<p>ç»“æ„ä½“æ–¹æ³•ç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„ç±»æˆå‘˜å‡½æ•°ã€‚ç»“æ„ä½“æ–¹æ³•å¯ä»¥é€‰æ‹©å¸¦æŒ‡é’ˆæˆ–ä¸å¸¦æŒ‡é’ˆï¼Œå¸¦æŒ‡é’ˆçš„è¯ï¼Œå°±æ˜¯èƒ½å¤Ÿå»ä¿®æ”¹ç»“æ„ä½“ï¼Œä¸å¸¦æŒ‡é’ˆçš„è¯ï¼Œå°±æ˜¯åªèƒ½è·å–ç»“æ„ä½“æ•°æ®ä¸èƒ½ä¿®æ”¹æ•°æ®ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¹ç…§ä¸Šé¢12çš„userç»“æ„ä½“å’Œcheckå‡½æ•°</span></span><br><span class="line"><span class="comment">// ç»“æ„ä½“æ–¹æ³•ä¸åŒäºå‡½æ•°,åœ¨ä¸€å¼€å§‹å°±æŒ‡æ˜äº†ç»“æ„ä½“ç±»å‹</span></span><br><span class="line"><span class="comment">// ä¸éœ€è¦æ”¹åŠ¨æ•°æ®æ—¶,ä¸å¸¦æŒ‡é’ˆæ“ä½œå³å¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u user)</span></span> checkPasswd(passwd <span class="type">string</span>) <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> u.passwd == passwd</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// éœ€è¦æ”¹åŠ¨æ•°æ®æ—¶,å¸¦æŒ‡é’ˆæ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *user)</span></span> reset(passwd <span class="type">string</span>) &#123;</span><br><span class="line">    u.passwd = passwd</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="14é”™è¯¯å¤„ç†"><a class="markdownIt-Anchor" href="#14é”™è¯¯å¤„ç†"></a> 14.é”™è¯¯å¤„ç†</h3>
<p>é”™è¯¯å¤„ç†åœ¨goè¯­è¨€ä¸­çš„è¯­è¨€ä¹ æƒ¯åšæ³•å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„è¿”å›å€¼æ¥ä¼ é€’é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>ä¸åŒäºJavaçš„å¼‚å¸¸å¤„ç†ï¼Œgoè¯­è¨€çš„å¤„ç†æ–¹å¼èƒ½å¤Ÿå¾ˆæ¸…æ™°åœ°çŸ¥é“å“ªä¸ªå‡½æ•°è¿”å›äº†é”™è¯¯ï¼Œå¹¶ä¸”èƒ½ç”¨ç®€å•çš„if elseæ¥å¤„ç†é”™è¯¯ã€‚</p>
<p>åœ¨å‡½æ•°çš„è¿”å›å€¼ç±»å‹é‡Œé¢åŠ ä¸Šerrorï¼Œå°±ä»£è¡¨è¿™ä¸ªå‡½æ•°å¯èƒ½è¿”å›é”™è¯¯ã€‚åœ¨å‡½æ•°å®ç°çš„æ—¶å€™ï¼Œå¦‚æœå‡ºé”™çš„è¯ï¼Œå°±å¯ä»¥è¿”å›ä¸€ä¸ªnilå’Œerrorï¼Œå¦‚æœæ²¡æœ‰å‡ºé”™ï¼Œå°±è¿”å›åŸæœ¬çš„ç»“æœå’Œnilã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä»¥12çš„userç»“æ„ä½“ä¸ºä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findUser</span><span class="params">(users []user, name <span class="type">string</span>)</span></span> (v *user, err <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> _, u := <span class="keyword">range</span> users &#123;</span><br><span class="line">        <span class="keyword">if</span> u.name == name  &#123;</span><br><span class="line">            <span class="keyword">return</span> &amp;u, <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>, errors.New(<span class="string">&quot;not found&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="15å­—ç¬¦ä¸²æ“ä½œ"><a class="markdownIt-Anchor" href="#15å­—ç¬¦ä¸²æ“ä½œ"></a> 15.å­—ç¬¦ä¸²æ“ä½œ</h3>
<p>åœ¨æ ‡å‡†åº“stringsåŒ…é‡Œé¢æœ‰å¾ˆå¤šå¸¸ç”¨çš„å­—ç¬¦ä¸²å·¥å…·å‡½æ•°ã€‚</p>
<ul>
<li>containsï¼šåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²é‡Œé¢æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªå­—ç¬¦ä¸²</li>
<li>countï¼šç»Ÿè®¡å­—ç¬¦ä¸²ä¸­æŸä¸ªå­—ç¬¦æˆ–å­—ç¬¦å­ä¸²å‡ºç°çš„æ¬¡æ•°</li>
<li>indexï¼šæŸ¥æ‰¾æŸä¸ªå­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</li>
<li>joinï¼šè¿æ¥å¤šä¸ªå­—ç¬¦ä¸²ï¼Œå°†ä¸¤ä¸ªå­—ç¬¦ä¸²ç”¨å­—ç¬¦è¿æ¥èµ·æ¥</li>
<li>repeatï¼šé‡å¤å¤šä¸ªå­—ç¬¦ä¸²</li>
<li>replaceï¼šæ›¿æ¢å­—ç¬¦ä¸²</li>
</ul>
<h3 id="16å­—ç¬¦ä¸²æ ¼å¼åŒ–"><a class="markdownIt-Anchor" href="#16å­—ç¬¦ä¸²æ ¼å¼åŒ–"></a> 16.å­—ç¬¦ä¸²æ ¼å¼åŒ–</h3>
<p>åœ¨æ ‡å‡†åº“çš„fmtåŒ…é‡Œé¢æœ‰å¾ˆå¤šå­—ç¬¦ä¸²æ ¼å¼ç›¸å…³çš„æ–¹æ³•ã€‚</p>
<p>goè¯­è¨€çš„printfç±»ä¼¼Cè¯­è¨€çš„printfï¼Œä¸åŒçš„æ˜¯ï¼Œåœ¨goè¯­è¨€ä¸­ï¼Œå¯ä»¥ç”¨%vå ä½ç¬¦æ¥æ‰“å°ä»»æ„ç±»å‹çš„å˜é‡ï¼Œè€Œä¸éœ€è¦åŒºåˆ†æ•°å­—ã€å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç”¨%+væ‰“å°è¯¦ç»†ç»“æœï¼Œä¹Ÿå¯ä»¥ç”¨%#væ‰“å°å¾—æ›´è¯¦ç»†ã€‚</p>
<h3 id="17jsonå¤„ç†"><a class="markdownIt-Anchor" href="#17jsonå¤„ç†"></a> 17.JSONå¤„ç†</h3>
<p>goè¯­è¨€çš„JSONæ“ä½œéå¸¸ç®€å•ï¼Œå¯¹äºä¸€ä¸ªç»“æ„ä½“ï¼Œåªè¦ä¿è¯æ¯ä¸ªå­—æ®µçš„é¦–å­—æ¯å¤§å†™ï¼ˆå…¬å¼€å­—æ®µï¼Œç›¸å½“äºJavaä¸­çš„publicï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªç»“æ„ä½“å°±èƒ½ç”¨JSON.marshalåºåˆ—åŒ–æˆJSONå­—ç¬¦ä¸²ã€‚</p>
<p>åºåˆ—åŒ–ä¹‹åçš„å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”¨JSON.unmarshalååºåˆ—åŒ–åˆ°ä¸€ä¸ªç©ºå˜é‡ä¸­ã€‚</p>
<p>é»˜è®¤åºåˆ—åŒ–çš„å­—ç¬¦ä¸²é£æ ¼æ˜¯å¤§å†™å­—æ¯å¼€å¤´ï¼Œä¸æ˜¯ä¸‹åˆ’çº¿ï¼Œå¯ä»¥ç”¨json tagç­‰è¯­æ³•æ¥ä¿®æ”¹è¾“å‡ºç»“æœçš„å­—æ®µåã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> userInfo <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name   <span class="type">string</span></span><br><span class="line">    Age    <span class="type">int</span> <span class="string">`json:&quot;age&quot;`</span></span><br><span class="line">    Hobby  []<span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := userInfo&#123;Name: <span class="string">&quot;a&quot;</span>, Age: <span class="number">11</span>, Hobby: []<span class="type">string</span>&#123;<span class="string">&quot;Golang&quot;</span>, <span class="string">&quot;Typescript&quot;</span>&#125;&#125;</span><br><span class="line">    buf, err := json.Marshal(a) <span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="type">string</span>(buf))</span><br><span class="line">    </span><br><span class="line">    buf, err = json.MarshalIndent(a, <span class="string">&quot;&quot;</span>, <span class="string">&quot;\t&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="type">string</span>(buf))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> b userInfo</span><br><span class="line">    err = json.Unmarshal(buf, &amp;b) <span class="comment">// ååºåˆ—åŒ–åˆ°ç©ºå˜é‡ä¸­</span></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="18æ—¶é—´å¤„ç†"><a class="markdownIt-Anchor" href="#18æ—¶é—´å¤„ç†"></a> 18.æ—¶é—´å¤„ç†</h3>
<p>goè¯­è¨€æ—¶é—´å¤„ç†æœ€å¸¸ç”¨çš„å°±æ˜¯ç”¨time.now()æ¥è·å–å½“å‰æ—¶é—´ï¼Œä¹Ÿå¯ä»¥ç”¨time.dateå»æ„é€ ä¸€ä¸ªå¸¦æ—¶åŒºçš„æ—¶é—´ã€‚</p>
<p>ä½¿ç”¨subå¯¹ä¸¤ä¸ªæ—¶é—´è¿›è¡Œå‡æ³•å¾—åˆ°æ—¶é—´å·®ï¼Œå¯ä»¥æŸ¥çœ‹å®ƒä»¬å…·ä½“ç›¸å·®å¤šå°‘å°æ—¶ã€å¤šå°‘åˆ†é’Ÿã€å¤šå°‘ç§’ã€‚</p>
<p>åœ¨ç³»ç»Ÿäº¤äº’æ—¶ï¼Œç»å¸¸ä¼šä½¿ç”¨åˆ°æ—¶é—´æˆ³ï¼Œå¯ä»¥ä½¿ç”¨UNIXæ–¹æ³•ç”Ÿæˆæ—¶é—´æˆ³ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨formatæˆ–è€…parseæ¥å¤„ç†æ—¶é—´æ—¶ï¼Œéƒ½éœ€è¦ä½¿ç”¨<code>2006-01-02 15:04:05</code>è¿™ä¸ªå›ºå®šå‚æ•°æ‰èƒ½å¾—åˆ°æ­£ç¡®çš„æ—¶é—´ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    now := time.Now()</span><br><span class="line">    t := time.Date(<span class="number">2023</span>, <span class="number">1</span>, <span class="number">20</span>, <span class="number">12</span>, <span class="number">30</span>, <span class="number">30</span>, <span class="number">0</span>, time.UTC)</span><br><span class="line">    t2 := time.Date(<span class="number">2023</span>, <span class="number">1</span>, <span class="number">20</span>, <span class="number">13</span>, <span class="number">45</span>, <span class="number">30</span>, <span class="number">0</span>, time.UTC)</span><br><span class="line">    fmt.Println(t.Year(), t.Month(), t.Day(), t.Hour(), t.Minute())</span><br><span class="line">    fmt.Println(t.Format(<span class="string">&quot;2006-01-02 15:04:05&quot;</span>))</span><br><span class="line">    diff := t2.Sub(t)</span><br><span class="line">    fmt.Println(diff)</span><br><span class="line">    fmt.Println(diff.Minutes(), diff.Seconds())</span><br><span class="line">    t3, err := time.Parse(<span class="string">&quot;2006-01-02 15:04:05&quot;</span>, <span class="string">&quot;2023-01-20 12:30:30&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(now.Unix())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="19æ•°å­—è§£æ"><a class="markdownIt-Anchor" href="#19æ•°å­—è§£æ"></a> 19.æ•°å­—è§£æ</h3>
<p>åœ¨goè¯­è¨€ä¸­å¯ä»¥é€šè¿‡strconvè¿™ä¸ªåŒ…æ¥è¿›è¡Œå­—ç¬¦ä¸²å’Œæ•°å­—ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨parseIntæˆ–parseFloatæ¥è§£æä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²ï¼Œä½¿ç”¨atoiå°†ä¸€ä¸ªåè¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Œä½¿ç”¨itoaå°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚æœè½¬æ¢çš„æ•°æ®ä¸åˆæ³•å°±ä¼šè¿”å›errorã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    f, _ := strconv.ParseFloat(<span class="string">&quot;1.234&quot;</span>, <span class="number">64</span>)</span><br><span class="line">    fmt.Println(f)</span><br><span class="line">    </span><br><span class="line">    n, _ := strconv.ParseInt(<span class="string">&quot;111&quot;</span>, <span class="number">10</span>, <span class="number">64</span>)</span><br><span class="line">    fmt.Println(n)</span><br><span class="line">    </span><br><span class="line">    n, _ = strconv.ParseInt(<span class="string">&quot;0x1000&quot;</span>, <span class="number">0</span>, <span class="number">64</span>)</span><br><span class="line">    fmt.Println(n)</span><br><span class="line">    </span><br><span class="line">    n2, _ := strconv.Atoi(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">    fmt.Println(n2)</span><br><span class="line">    </span><br><span class="line">    n2, err := strconv.Atoi(<span class="string">&quot;AAA&quot;</span>)</span><br><span class="line">    fmt.Println(n2, err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="20è¿›ç¨‹ä¿¡æ¯"><a class="markdownIt-Anchor" href="#20è¿›ç¨‹ä¿¡æ¯"></a> 20.è¿›ç¨‹ä¿¡æ¯</h3>
<p>åœ¨goè¯­è¨€ä¸­èƒ½å¤Ÿé€šè¿‡os.argsæ¥è·å–ç¨‹åºæ‰§è¡Œæ—¶æŒ‡å®šçš„å‘½ä»¤è¡Œå‚æ•°ã€‚å¯ä»¥ç”¨os.getenvè·å–ç¯å¢ƒå˜é‡ã€‚exec.commandç”¨äºæ‰§è¡Œç³»ç»Ÿçš„å‘½ä»¤ã€‚</p>
<p>ä»¥ä¸‹éƒ¨åˆ†ä»£ç åœ¨windowsç³»ç»Ÿä¸‹å¯èƒ½ä¼šæŠ¥é”™ï¼Œéœ€è¦åœ¨linuxç³»ç»Ÿè¿è¡Œæ‰èƒ½è·å–æ­£ç¡®ä¿¡æ¯ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(os.Args)</span><br><span class="line">    fmt.Println(os.Getenv(<span class="string">&quot;PATH&quot;</span>))</span><br><span class="line">    fmt.Println(os.Setenv(<span class="string">&quot;AA&quot;</span>, <span class="string">&quot;BB&quot;</span>))</span><br><span class="line">    </span><br><span class="line">    buf, err := exec.Command(<span class="string">&quot;grep&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>, <span class="string">&quot;/etc/hosts&quot;</span>).CombineOutput()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="type">string</span>(buf))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>ä½¿ç”¨go runåŠ å‚æ•°è¿è¡Œï¼Œä¾‹å¦‚<code>go run main.go a b c d</code></p>
<h2 id="31-çŒœè°œæ¸¸æˆ"><a class="markdownIt-Anchor" href="#31-çŒœè°œæ¸¸æˆ"></a> 3.1 çŒœè°œæ¸¸æˆ</h2>
<h3 id="1ç”Ÿæˆéšæœºæ•°"><a class="markdownIt-Anchor" href="#1ç”Ÿæˆéšæœºæ•°"></a> 1.ç”Ÿæˆéšæœºæ•°</h3>
<p>éœ€è¦math/randåŒ…ç”¨äºç”Ÿæˆéšæœºæ•°</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">maxNum := <span class="number">100</span> <span class="comment">//æœ€å¤§èŒƒå›´</span></span><br><span class="line">random := rand.Intn(maxNum) <span class="comment">//ç”Ÿæˆ0-100ä¹‹é—´çš„éšæœºæ•´æ•°</span></span><br></pre></td></tr></table></figure></div>
<p>æ³¨æ„åˆ°ä»¥ä¸Šä»£ç å¤šæ¬¡ç”Ÿæˆçš„æ•°éƒ½æ˜¯åŒä¸€ä¸ªæ•°ã€‚æŸ¥çœ‹è¿™ä¸ªåŒ…çš„å®˜æ–¹æ–‡æ¡£å¯å¾—çŸ¥ä½¿ç”¨ä¹‹å‰éœ€è¦è®¾ç½®éšæœºæ•°ç§å­ç”¨äºç”Ÿæˆéšæœºæ•°åºåˆ—ï¼Œå¦åˆ™æ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°åºåˆ—éƒ½æ˜¯ç›¸åŒçš„ã€‚ä¹ æƒ¯ä¸Šç”¨æ—¶é—´æˆ³æ¥åˆå§‹åŒ–éšæœºæ•°ç§å­ã€‚</p>
<p>åœ¨ç”Ÿæˆéšæœºæ•°ä¹‹å‰ç”¨æ—¶é—´æˆ³åˆå§‹åŒ–éšæœºæ•°ç§å­å³å¯</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">rand.Seed(time.Now().UnixNano())</span><br></pre></td></tr></table></figure></div>
<h3 id="2è¯»å–ç”¨æˆ·è¾“å…¥"><a class="markdownIt-Anchor" href="#2è¯»å–ç”¨æˆ·è¾“å…¥"></a> 2.è¯»å–ç”¨æˆ·è¾“å…¥</h3>
<p>æ¯ä¸ªç¨‹åºæ‰§è¡Œæ—¶éƒ½ä¼šæ‰“å¼€å‡ ä¸ªæ–‡ä»¶ï¼Œstdinã€stdouã€stderrç­‰ã€‚stdinå¯é€šè¿‡os.Stdinè·å–ï¼Œä½†ç›´æ¥æ“ä½œæ–‡ä»¶å¾ˆä¸æ–¹ä¾¿ã€‚</p>
<p>goè¯­è¨€ä¸­çš„bufioåŒ…æä¾›äº†è¯»å–ç”¨æˆ·è¾“å…¥çš„æ–¹æ³•ï¼ŒnewReaderæ–¹æ³•èƒ½å¤Ÿå°†ä¸€ä¸ªæ–‡ä»¶è½¬æ¢æˆä¸€ä¸ªreaderå˜é‡ï¼Œreaderå˜é‡ä¸Šæ‹¥æœ‰å¾ˆå¤šæµçš„æ“ä½œã€‚ä½¿ç”¨ReadStringæ–¹æ³•è¯»å–ä¸€è¡Œï¼Œè¿”å›ç»“æœä¸­åŒ…å«ç»“å°¾çš„æ¢è¡Œç¬¦ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">reader := bufio.NewReader(os.Stdin)</span><br><span class="line">input, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>) <span class="comment">//è¯»å–</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;An error occured while reading input. Please try again&quot;</span>, err)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å»æ‰æ¢è¡Œç¬¦</span></span><br><span class="line">input = strings.Trim(input, <span class="string">&quot;\n&quot;</span>) <span class="comment">//è¿™é‡Œæ ¹æ®ä¸åŒçš„æ“ä½œç³»ç»Ÿå¯èƒ½éœ€è¦æ¢æˆ\r\næˆ–å…¶ä»–å‚æ•°</span></span><br><span class="line"><span class="comment">// è½¬æ¢ä¸ºæ•°å­—</span></span><br><span class="line">guess, err := strconv.Atoi(input)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Invalid input. Please enter an integer value&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="3å®ç°åˆ¤æ–­é€»è¾‘"><a class="markdownIt-Anchor" href="#3å®ç°åˆ¤æ–­é€»è¾‘"></a> 3.å®ç°åˆ¤æ–­é€»è¾‘</h3>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸‰ç§ç»“æœï¼Œè¿‡å¤§ã€è¿‡å°ä»¥åŠç›¸ç­‰ã€‚ä½¿ç”¨ç®€å•çš„if elseå³å¯ã€‚</p>
<h3 id="4å®ç°æ¸¸æˆå¾ªç¯"><a class="markdownIt-Anchor" href="#4å®ç°æ¸¸æˆå¾ªç¯"></a> 4.å®ç°æ¸¸æˆå¾ªç¯</h3>
<p>ç”±äºæ— æ³•ç¡®å®šå›ºå®šçš„å¾ªç¯æ¬¡æ•°ï¼Œä½¿ç”¨forå¾ªç¯é…åˆcontinueå’Œbreakï¼Œåœ¨è¯»å–å’Œè½¬æ¢å­—ç¬¦ä¸²å¤±è´¥ç”¨continueç»§ç»­å¾ªç¯ï¼Œåœ¨çŒœä¸­æ•°å­—æ—¶ç”¨breaké€€å‡ºå¾ªç¯å³å¯ã€‚</p>
<h2 id="32-åœ¨çº¿è¯å…¸"><a class="markdownIt-Anchor" href="#32-åœ¨çº¿è¯å…¸"></a> 3.2 åœ¨çº¿è¯å…¸</h2>
<p>é€šè¿‡è°ƒç”¨ç¬¬ä¸‰æ–¹APIæŸ¥è¯¢å•è¯çš„ç¿»è¯‘å¹¶æ‰“å°å‡ºæ¥ã€‚</p>
<p>å­¦ä¼šå¦‚ä½•ä½¿ç”¨goè¯­è¨€æ¥å‘é€HTTPè¯·æ±‚ï¼Œè§£æjsonæ•°æ®ä»¥åŠå­¦ä¹ å¦‚ä½•ä½¿ç”¨ä»£ç ç”Ÿæˆæ¥æé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<h3 id="1æŠ“åŒ…"><a class="markdownIt-Anchor" href="#1æŠ“åŒ…"></a> 1.æŠ“åŒ…</h3>
<p>ä»¥å½©äº‘APIhttps://fanyi.caiyunapp.com/ä¸ºä¾‹ï¼Œåœ¨åœ¨çº¿ç¿»è¯‘é¡µé¢æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ã€‚</p>
<p>ä½¿ç”¨ä¸€æ¬¡ç¿»è¯‘ï¼ŒåŒæ—¶æ•è·æŸ¥è¯¢å•è¯çš„postè¯·æ±‚ï¼Œåœ¨é¢„è§ˆé‡Œé¢æ‰¾åˆ°å…·ä½“çš„æŸ¥è¯¢ç»“æœã€‚</p>
<h3 id="2ä»£ç ç”Ÿæˆ"><a class="markdownIt-Anchor" href="#2ä»£ç ç”Ÿæˆ"></a> 2.ä»£ç ç”Ÿæˆ</h3>
<p>åœ¨goè¯­è¨€é‡Œæ„é€ ä¸€ä¸ªè¯·æ±‚ç”¨äºè¯·æ±‚APIï¼Œç”±äºè¯·æ±‚æ¯”è¾ƒå¤æ‚ï¼Œç”¨ä»£ç æ„é€ éº»çƒ¦ã€‚å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­å¤åˆ¶ä¸ºcURLï¼ˆbashï¼‰åœ¨linuxç»ˆç«¯æˆ–å¤åˆ¶ä¸ºpowershellåœ¨windowsçš„powershellä¸‹æµ‹è¯•ï¼ŒæˆåŠŸçš„è¯å°±ä¼šè¿”å›ä¸€å¤§å †jsonå­—ç¬¦ä¸²ã€‚</p>
<p>åœ¨ä¸€ä¸ªåœ¨çº¿ä»£ç ç”Ÿæˆç½‘ç«™<a class="link"   href="https://curlconverter.com/go/" >Convert curl to Go <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>é‡Œç²˜è´´cURLï¼Œå°±å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„goè¯­è¨€ä»£ç ã€‚ç›´æ¥å°†ä»£ç ç²˜è´´åˆ°ç¼–è¾‘å™¨é‡Œå³å¯ã€‚</p>
<p><strong>éƒ¨åˆ†ä»£ç è§£è¯»</strong></p>
<p>åˆ›å»ºHTTP clientï¼Œå¯ä»¥æŒ‡å®šå¾ˆå¤šå‚æ•°è¿›è¡Œåˆ›å»ºï¼Œå¦‚è¯·æ±‚è¶…æ—¶æ—¶é—´ä»¥åŠæ˜¯å¦ä½¿ç”¨cookieç­‰ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">client := &amp;http.Client&#123;&#125;</span><br></pre></td></tr></table></figure></div>
<p>åˆ›å»ºè¯·æ±‚ï¼Œä½¿ç”¨httpåŒ…ä¸­çš„NewRequestæ–¹æ³•åˆ›å»ºä¸€ä¸ªpostè¯·æ±‚ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šè¯·æ±‚ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šURLï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šè¯·æ±‚ä½“ã€‚å…¶ä¸­è¯·æ±‚ä½“å¯èƒ½å¾ˆå¤§ï¼Œä¸ºäº†æ”¯æŒæµå¼å‘é€ï¼Œä½¿ç”¨strings.NewReaderå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªåªè¯»æµå­˜æ”¾åœ¨dataå˜é‡ä¸­ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">req, err := http.NewRequest(<span class="string">&quot;POST&quot;</span>, <span class="string">&quot;https://api.interpreter.caiyunai.com/v1/dict&quot;</span>, data)</span><br></pre></td></tr></table></figure></div>
<p>è®¾ç½®è¯·æ±‚å¤´ï¼Œå¾€å¾€éœ€è¦è®¾ç½®å¾ˆå¤šä¸ªå‚æ•°</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">req.Header.Set(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;value&quot;</span>) <span class="comment">//å¡«å†™è¯·æ±‚ä½“çš„å„ç§å‚æ•°</span></span><br></pre></td></tr></table></figure></div>
<p>å‘èµ·è¯·æ±‚ï¼Œä½¿ç”¨HTTP clientå‘èµ·è¯·æ±‚ï¼Œè·å–ç»“æœã€‚å¦‚æœè¯·æ±‚å¤±è´¥ä¾¿ä¼šæ‰“å°é”™è¯¯ä¿¡æ¯å¹¶é€€å‡ºè¿›ç¨‹ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">resp, err := client.Do(req)</span><br></pre></td></tr></table></figure></div>
<p>è¯»å–å“åº”ï¼ŒbodyåŒæ ·æ˜¯ä¸€ä¸ªæµï¼Œä¸ºäº†é¿å…èµ„æºæ³„éœ²ï¼Œéœ€è¦ä½¿ç”¨deferæ¥æ‰‹åŠ¨å…³é—­æµï¼Œdeferä¼šåœ¨å‡½æ•°è¿è¡Œç»“æŸåæ‰§è¡Œã€‚ä½¿ç”¨ioutil.ReadAllè¯»å–æµï¼Œè·å–æ•´ä¸ªbodyçš„ä¿¡æ¯ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">defer</span> resp.Body.Close()</span><br><span class="line">bodyText, err := ioutil.ReadAll(resp.Body)</span><br></pre></td></tr></table></figure></div>
<p>ç›®å‰å·²ç»èƒ½å¤ŸæˆåŠŸå‘é€è¯·æ±‚ï¼Œä½†æ˜¯ä¸Šé¢ç”Ÿæˆçš„ä»£ç æ˜¯å›ºå®šè¾“å…¥çš„ã€‚éœ€è¦ä½¿ç”¨JSONåºåˆ—åŒ–æ¥å®ç°æ‰‹åŠ¨è¾“å…¥è¯·æ±‚å‚æ•°ã€‚</p>
<h3 id="3ç”Ÿæˆrequest-body"><a class="markdownIt-Anchor" href="#3ç”Ÿæˆrequest-body"></a> 3.ç”Ÿæˆrequest body</h3>
<p>åœ¨goè¯­è¨€ä¸­ï¼Œè¦ç”Ÿæˆä¸€æ®µJSONï¼Œå¸¸ç”¨çš„æ–¹å¼å°±æ˜¯å…ˆæ„é€ ä¸€ä¸ªå¯¹åº”jsonç»“æ„çš„ç»“æ„ä½“ã€‚æ³¨æ„ç»“æ„ä½“å­—æ®µé¦–å­—æ¯ä¸€å®šè¦å¤§å†™ï¼Œå¦åˆ™æ— æ³•è®¿é—®è¯¥å­—æ®µã€‚</p>
<p>ç»“æ„ä½“ä¸­çš„å­—æ®µå¯¹åº”äº†è¯·æ±‚è´Ÿè½½ä¸­çš„å­—æ®µ</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> DictRequest <span class="keyword">struct</span> &#123;</span><br><span class="line">    TransType <span class="type">string</span> <span class="string">`json:&quot;trans_type&quot;`</span></span><br><span class="line">    Source    <span class="type">string</span> <span class="string">`json:&quot;source&quot;`</span></span><br><span class="line">    UserID    <span class="type">string</span> <span class="string">`json:&quot;user_id&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>jsonååºåˆ—åŒ–ä¸ºå­—èŠ‚æ•°ç»„ï¼Œä½¿ç”¨byte.NewReaderæ¥æ„é€ request body</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    request := DictRequest&#123;TransType: <span class="string">&quot;en2zh&quot;</span>, Source: <span class="string">&quot;good&quot;</span>&#125;</span><br><span class="line">    buf, err := json.Marshal(request)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> data = bytes.NewReader(buf)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>ä»¥æ­¤å®ç°é€šè¿‡ä¸€ä¸ªå˜é‡æ¥å‘é€HTTPè¯·æ±‚ã€‚</p>
<h3 id="4è§£æresponse-body"><a class="markdownIt-Anchor" href="#4è§£æresponse-body"></a> 4.è§£æresponse body</h3>
<p>åœ¨js/pythonè¿™äº›è„šæœ¬è¯­è¨€ä¸­ï¼Œbodyæ˜¯ä¸€ä¸ªå­—å…¸æˆ–è€…mapçš„ç»“æ„ï¼Œå¯ä»¥ç›´æ¥å–å€¼ã€‚ä½†goè¯­è¨€æ˜¯ä¸€ä¸ªå¼ºç±»å‹è¯­è¨€ï¼Œä¸é€‚åˆè¿™ç§ç›´æ¥å–å€¼çš„åšæ³•ã€‚å¸¸ç”¨çš„æ–¹å¼å°±æ˜¯é€šè¿‡ç»“æ„ä½“ï¼Œå°†jsonååºåˆ—åŒ–åˆ°ç»“æ„ä½“ä¸­ã€‚ä½†æ˜¯APIè¿”å›çš„ç»“æ„ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥å€ŸåŠ©ä»£ç ç”Ÿæˆå·¥å…·<a class="link"   href="https://oktools.net/json2go" >JSONè½¬Golang Struct - åœ¨çº¿å·¥å…· - OKTools <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ç”¨äºå¿«é€Ÿç”Ÿæˆå¯¹åº”çš„ä»£ç ï¼Œå°†å“åº”çš„jsonæ•°æ®é€šè¿‡ä»£ç ç”Ÿæˆå·¥å…·ç”Ÿæˆå¯¹åº”çš„ç»“æ„ä½“ã€‚å¦‚æœä¸éœ€è¦å¯¹è¿”å›ç»“æœè¿›è¡Œç²¾ç»†å¤„ç†ï¼Œè½¬æ¢ä¸ºåµŒå¥—ç»“æ„ä½“å³å¯ã€‚</p>
<p>å¾—åˆ°responseç»“æ„ä½“åï¼Œä½¿ç”¨json.UnmarshalæŠŠbodyååºåˆ—åŒ–åˆ°ç»“æ„ä½“ä¸­ï¼Œå†æ‰“å°å‡ºæ¥ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> dictResponse DictResponse <span class="comment">//DictResponseæ˜¯ç”Ÿæˆçš„ç»“æ„ä½“çš„åç§°</span></span><br><span class="line">err = json.Unmarshal(bodyText, &amp;dictResponse) <span class="comment">//bodyTextå­˜å‚¨äº†bodyåŸå§‹ä¿¡æ¯,ååºåˆ—åŒ–åˆ°ç©ºå˜é‡ä¸­</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    log.Fatal(err)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, dictResponse)</span><br></pre></td></tr></table></figure></div>
<p>ä¹‹åå°±æ˜¯æ‰“å°ç‰¹å®šå­—æ®µçš„ä¿¡æ¯ã€‚</p>
<h3 id="5æ‰“å°ç»“æœ"><a class="markdownIt-Anchor" href="#5æ‰“å°ç»“æœ"></a> 5.æ‰“å°ç»“æœ</h3>
<p>åœ¨ä»¥ä¸Šçš„APIå“åº”ä¾‹å­ä¸­ï¼Œéœ€è¦ç”¨åˆ°çš„ä¿¡æ¯æ˜¯åœ¨<code>Dictionary.explanations</code>é‡Œé¢ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨for rangeè¿­ä»£å¹¶æ‰“å°ä¿¡æ¯</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> _, item := <span class="keyword">range</span> dictResponse.Dictionary.Explanations &#123;</span><br><span class="line">    fmt.Println(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="6å®Œå–„ä»£ç "><a class="markdownIt-Anchor" href="#6å®Œå–„ä»£ç "></a> 6.å®Œå–„ä»£ç </h3>
<p>å°†ä»£ç ä¸»ä½“æ”¹é€ æˆä¸€ä¸ªqueryå‡½æ•°ï¼ŒæŠŠéœ€è¦æŸ¥è¯¢çš„å•è¯ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(os.Args) != <span class="number">2</span> &#123;</span><br><span class="line">        fmt.Fprintf(os.Stderr, <span class="string">`usage: simpleDict WORD</span></span><br><span class="line"><span class="string">        example: simpleDict hello`</span>)</span><br><span class="line">        os.Exit(<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    word := os.Args[<span class="number">1</span>]</span><br><span class="line">    query(word)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¿™é‡Œé€šè¿‡å‘½ä»¤è¡Œè¾“å…¥å‚æ•°è¿è¡Œï¼Œä½¿ç”¨<code>go run main.go</code>æ¥éœ€è¦æŸ¥è¯¢çš„å•è¯å³å¯ã€‚</p>
<h2 id="33-socks5ä»£ç†"><a class="markdownIt-Anchor" href="#33-socks5ä»£ç†"></a> 3.3 SOCKS5ä»£ç†</h2>
<p>ç¼–å†™ä¸€ä¸ªsocks5ä»£ç†æœåŠ¡å™¨ã€‚socks5åè®®éƒ½æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œè¿™ä¸ªåè®®å†å²ä¹…è¿œï¼Œè¯ç”Ÿäºäº’è”ç½‘æ—©æœŸã€‚å®ƒçš„ç”¨é€”å°±æ˜¯åœ¨é˜²ç«å¢™ä¿è¯æ•°æ®å®‰å…¨æ€§æ—¶æä¾›socks5åè®®çš„ç«¯å£ç»™æˆæƒçš„ç”¨æˆ·ä»¥ä¾¿è®¿é—®å†…éƒ¨èµ„æºã€‚</p>
<h3 id="åŸç†"><a class="markdownIt-Anchor" href="#åŸç†"></a> åŸç†</h3>
<p>æ­£å¸¸æµè§ˆå™¨è®¿é—®ä¸€ä¸ªç½‘ç«™ï¼Œå¦‚æœä¸ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œå°±æ˜¯å…ˆå’Œç›®æ ‡ç½‘ç«™çš„æœåŠ¡å™¨å»ºç«‹TCPè¿æ¥ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹åå‘èµ·HTTPè¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨è¿”å›HTTPå“åº”ã€‚</p>
<p>å¦‚æœè®¾ç½®äº†ä»£ç†æœåŠ¡å™¨ï¼Œé‚£ä¹ˆæµç¨‹ä¼šå˜å¾—å¤æ‚ä¸€äº›ã€‚é¦–å…ˆæ˜¯æµè§ˆå™¨å’Œsock5ä»£ç†å»ºç«‹TCPè¿æ¥ï¼Œä»£ç†å†å’ŒçœŸæ­£çš„æœåŠ¡å™¨å»ºç«‹TCPè¿æ¥ã€‚å¯ä»¥åˆ†æˆå››ä¸ªé˜¶æ®µï¼Œæ¡æ‰‹é˜¶æ®µã€è®¤è¯é˜¶æ®µã€è¯·æ±‚é˜¶æ®µã€relayé˜¶æ®µã€‚</p>
<p>ç¬¬ä¸€ä¸ªæ¡æ‰‹é˜¶æ®µï¼Œæµè§ˆå™¨ä¼šå‘socks5ä»£ç†å‘é€è¯·æ±‚ï¼Œæ•°æ®åŒ…çš„å†…å®¹åŒ…æ‹¬ä¸€ä¸ªåè®®çš„ç‰ˆæœ¬å·ã€æ”¯æŒè®¤è¯çš„ç§ç±»ï¼Œsocks5æœåŠ¡å™¨ä¼šé€‰æ‹©ä¸€ä¸ªè®¤è¯æ–¹å¼ï¼Œè¿”å›ç»™æµè§ˆå™¨ã€‚å¦‚æœè¿”å›çš„æ˜¯00åˆ™ä»£è¡¨ä¸éœ€è¦è®¤è¯ï¼Œè¿”å›å…¶ä»–ç»“æœåˆ™å¼€å§‹è®¤è¯æµç¨‹ã€‚</p>
<p>ç¬¬äºŒä¸ªè®¤è¯é˜¶æ®µå‚è€ƒ<a class="link"   href="https://wiyi.org/socks5-protocol-in-deep.html" >https://wiyi.org/socks5-protocol-in-deep.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>ç¬¬ä¸‰ä¸ªè¯·æ±‚é˜¶æ®µï¼Œè®¤è¯é€šè¿‡ä¹‹åæµè§ˆå™¨ä¼šå‘socks5å‘èµ·è¯·æ±‚ã€‚ä¸»è¦ä¿¡æ¯åŒ…æ‹¬ç‰ˆæœ¬å·ï¼Œè¯·æ±‚çš„ç±»å‹ï¼ˆä¸€èˆ¬æ˜¯connectionè¯·æ±‚ï¼Œè¡¨ç¤ºä»£ç†æœåŠ¡å™¨è¦å’ŒæŸä¸ªåŸŸåæˆ–è€…æŸä¸ªIPåœ°å€çš„æŸä¸ªç«¯å£å»ºç«‹TCPè¿æ¥ï¼‰ã€‚ä»£ç†æœåŠ¡å™¨æ”¶åˆ°å“åº”åä¼šçœŸæ­£å’Œåç«¯æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œç„¶åè¿”å›ä¸€ä¸ªå“åº”ã€‚</p>
<p>ç¬¬å››ä¸ªrelayé˜¶æ®µï¼Œæ­¤æ—¶æµè§ˆå™¨ä¼šæ­£å¸¸å‘é€è¯·æ±‚ï¼Œç„¶åä»£ç†æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ä¹‹åç›´æ¥è½¬å‘ç»™çœŸæ­£çš„æœåŠ¡å™¨ï¼ŒçœŸæ­£çš„æœåŠ¡å™¨è¿”å›çš„å“åº”ä¹Ÿç»è¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘åˆ°æµè§ˆå™¨è¿™è¾¹ã€‚socks5ä»£ç†æœåŠ¡å™¨å®é™…ä¸Šå¹¶ä¸å…³ç³»æµé‡çš„ç»†èŠ‚ï¼Œå¯ä»¥æ˜¯HTTPæµé‡ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„TCPæµé‡ã€‚</p>
<h3 id="1tcp-echo-server"><a class="markdownIt-Anchor" href="#1tcp-echo-server"></a> 1.TCP echo server</h3>
<p>åœ¨goè¯­è¨€ä¸­å®ç°ä¸€ä¸ªç®€å•çš„TCP echo serverã€‚ä½¿ç”¨ç®€å•çš„é€»è¾‘ï¼Œå‘é€ä»€ä¹ˆå°±è¿”å›ä»€ä¹ˆï¼Œæ–¹ä¾¿æµ‹è¯•ã€‚</p>
<p>åœ¨mainå‡½æ•°ä¸­ä½¿ç”¨net.listenç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œè¿”å›ä¸€ä¸ªserverã€‚ç„¶ååœ¨ä¸€ä¸ªæ­»å¾ªç¯ä¸­åå¤acceptè¯·æ±‚ï¼ŒæˆåŠŸä¹‹åå°±ä¼šè¿”å›ä¸€ä¸ªè¿æ¥ã€‚æ¥ä¸‹æ¥åœ¨ä¸€ä¸ªprocesså‡½æ•°é‡Œå¤„ç†è¿™ä¸ªè¿æ¥ã€‚</p>
<p>processå‡½æ•°çš„å®ç°ï¼Œå…ˆæ·»åŠ ä¸€ä¸ªdefer connection.closeé˜²æ­¢èµ„æºæ³„éœ²ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨bufio.NewReaderæ¥åˆ›å»ºä¸€ä¸ªå¸¦ç¼“å†²çš„åªè¯»æµï¼Œå¸¦ç¼“å†²çš„æµå¯ä»¥å‡å°‘åº•å±‚ç³»ç»Ÿçš„è°ƒç”¨æ¬¡æ•°ï¼Œä¸”å…·æœ‰æ›´å¤šçš„å·¥å…·å‡½æ•°å¯ä»¥è¯»å–æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨readbyteæ¥è¯»å–å•ä¸ªå­—èŠ‚ï¼Œå†å†™è¿›å»è¿æ¥ã€‚</p>
<p>mainå‡½æ•°</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    server, err := net.Listen(<span class="string">&quot;tcp&quot;</span>, <span class="string">&quot;127.0.0.1:1080&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        client, err := server.Accept()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            log.Printf(<span class="string">&quot;Accept failed %v&quot;</span>, err)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">go</span> process(client) <span class="comment">//goå…³é”®å­—ä»£è¡¨å¯åŠ¨ä¸€ä¸ªgoroutine,è¿™é‡Œçš„goroutineå¯æš‚æ—¶ç±»æ¯”ä¸ºä¸€ä¸ªå­çº¿ç¨‹,ä½†æ˜¯å¼€é”€æ¯”å­çº¿ç¨‹å°å¾ˆå¤š,èƒ½å¤Ÿè½»æ¾å¤„ç†ä¸Šä¸‡çš„å¹¶å‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>processå‡½æ•°</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">process</span><span class="params">(conn net.Conn)</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> conn.Close()</span><br><span class="line">    reader := bufio.NewReader(conn)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        b, err := reader.ReadByte()</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        _, err = conn.Write([]<span class="type">byte</span>&#123;b&#125;)</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æ‰§è¡Œncå‘½ä»¤æµ‹è¯•æœåŠ¡å™¨ï¼Œncæ˜¯linuxç³»ç»Ÿä¸‹çš„å‘½ä»¤ï¼Œwindowsç³»ç»Ÿéœ€è¦é¢å¤–å®‰è£…ã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">nc 127.0.0.1 1080</span><br></pre></td></tr></table></figure></div>
<p>è¾“å…¥ä»€ä¹ˆæœåŠ¡å™¨å°±ä¼šè¿”å›ä»€ä¹ˆã€‚</p>
<h3 id="2auth"><a class="markdownIt-Anchor" href="#2auth"></a> 2.auth</h3>
<p>è®¤è¯é˜¶æ®µï¼Œè¿™ä¸€éƒ¨åˆ†ä¼šæ¯”è¾ƒå¤æ‚ã€‚å®ç°ä¸€ä¸ªç©ºçš„authå‡½æ•°ï¼Œåœ¨processå‡½æ•°é‡Œè°ƒç”¨ã€‚</p>
<p>è®¤è¯é˜¶æ®µçš„é€»è¾‘ï¼Œç¬¬ä¸€æ­¥ï¼Œæµè§ˆå™¨ä¼šå‘ä»£ç†æœåŠ¡å™¨å‘é€ä¸€ä¸ªåŒ…ã€‚è¿™ä¸ªåŒ…æœ‰ä¸‰ä¸ªå­—æ®µ</p>
<p>ç¬¬ä¸€ä¸ªå­—æ®µversionï¼Œåè®®ç‰ˆæœ¬å·ï¼Œå›ºå®šæ˜¯5ã€‚</p>
<p>ç¬¬äºŒä¸ªå­—æ®µmethodsï¼Œè®¤è¯çš„æ–¹æ³•æ•°ç›®ã€‚</p>
<p>ç¬¬ä¸‰ä¸ªå­—æ®µï¼Œæ¯ä¸ªmethodçš„ç¼–ç ï¼Œ0è¡¨ç¤ºä¸éœ€è¦è®¤è¯ï¼Œ2è¡¨ç¤ºç”¨æˆ·åå¯†ç è®¤è¯ã€‚</p>
<p>ä½¿ç”¨readbyteè¯»å–ç‰ˆæœ¬å·ï¼Œä¸æ˜¯socks5ç›´æ¥è¿”å›æŠ¥é”™ï¼Œå†è¯»å–method sizeï¼ˆåŒæ ·æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼‰ã€‚åˆ›å»ºä¸€ä¸ªç›¸åº”é•¿åº¦çš„sliceï¼Œç”¨io.ReadFullå¡«å……ä¿¡æ¯ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> socks5Ver = <span class="number">0x05</span> <span class="comment">//socks5çš„ç‰ˆæœ¬å·</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">auth</span><span class="params">(reader *bufio.Reader, conn net.Conn)</span></span> (err <span class="type">error</span>) &#123;</span><br><span class="line">    ver, err := reader.ReadByte()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fmt.Errorf(<span class="string">&quot;read ver failed:%w&quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ver != socks5Ver &#123;</span><br><span class="line">        <span class="keyword">return</span> fmt.Errorf(<span class="string">&quot;not supported ver:%v&quot;</span>, ver)</span><br><span class="line">    &#125;</span><br><span class="line">    methodSize, err := reader.ReadByte()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fmt.Errorf(<span class="string">&quot;read methodSize failed:%w&quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">    method := <span class="built_in">make</span>([]<span class="type">byte</span>, methodSize)</span><br><span class="line">    _, err = io.ReadFull(reader, method)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fmt.Errorf(<span class="string">&quot;read method failed:%w&quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">    log.Println(<span class="string">&quot;ver&quot;</span>, ver, <span class="string">&quot;method&quot;</span>, method)</span><br><span class="line">    _, err = conn.Write([]<span class="type">byte</span>&#123;socks5Ver, <span class="number">0x00</span>&#125;)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fmt.Errorf(<span class="string">&quot;write failed:%w&quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æ­¤æ—¶ï¼Œä»£ç†æœåŠ¡å™¨è¿˜éœ€è¦è¿”å›ä¸€ä¸ªresponseï¼Œè¿”å›åŒ…æœ‰ä¸¤ä¸ªå­—æ®µï¼Œä¸€ä¸ªæ˜¯versionï¼Œä¸€ä¸ªæ˜¯methodï¼Œä¹Ÿå°±æ˜¯é‰´ä¼ æ–¹å¼ã€‚å½“å‰åªè€ƒè™‘å®ç°ä¸éœ€è¦é‰´ä¼ çš„æ–¹å¼ï¼Œå³00ã€‚å¯ä»¥ä½¿ç”¨curlå‘½ä»¤æµ‹è¯•æ•ˆæœã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">curl --socks5 127.0.0.1:1080 -v http://www.baidu.com</span><br></pre></td></tr></table></figure></div>
<p>curlå‘½ä»¤è¿˜ä¸èƒ½æˆåŠŸï¼Œå› ä¸ºåè®®è¿˜æ²¡æœ‰å®Œå–„ã€‚æŸ¥çœ‹æ—¥å¿—ï¼Œversionå’Œmethodå¯ä»¥æ­£å¸¸æ‰“å°ï¼Œè¯´æ˜ç›®å‰åè®®å®ç°æ­£ç¡®ã€‚</p>
<h3 id="3è¯·æ±‚é˜¶æ®µ"><a class="markdownIt-Anchor" href="#3è¯·æ±‚é˜¶æ®µ"></a> 3.è¯·æ±‚é˜¶æ®µ</h3>
<p>è¯·æ±‚é˜¶æ®µï¼Œè¯»å–æºå¸¦URLæˆ–è€…IPåœ°å€+ç«¯å£çš„åŒ…ã€‚å®ç°ä¸€ä¸ªå’Œauthå‡½æ•°ç±»ä¼¼çš„connectå‡½æ•°ï¼ŒåŒæ ·åœ¨processä¸­è°ƒç”¨ã€‚</p>
<p>è¯·æ±‚é˜¶æ®µçš„é€»è¾‘ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªåŒ…ï¼ŒåŒ…é‡Œæœ‰å¦‚ä¸‹6ä¸ªå­—æ®µ</p>
<p>versionç‰ˆæœ¬å·ï¼Œæ˜¯5ã€‚commandè¯·æ±‚ç±»å‹ï¼Œè¿™è¾¹åªæ”¯æŒconnectionè¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯è®©ä»£ç†æœåŠ¡å™¨å»ºç«‹æ–°çš„TCPè¿æ¥ã€‚RSVä¿ç•™å­—æ®µï¼Œä¸éœ€è¦ç†ä¼šã€‚atypeç›®æ ‡åœ°å€ç±»å‹ï¼Œå¯èƒ½æ˜¯IPv4 IPv6æˆ–è€…åŸŸåã€‚addråœ°å€ï¼Œè¿™ä¸ªåœ°å€çš„é•¿åº¦å—atypeçš„ç±»å‹çš„å½±å“ä¼šæœ‰ä¸åŒã€‚portç«¯å£å·ï¼Œä¸¤ä¸ªå­—èŠ‚ï¼Œéœ€è¦é€ä¸ªè¯»å–ã€‚</p>
<p>å‰å››ä¸ªå­—æ®µå…±å››ä¸ªå­—èŠ‚ï¼Œå¯ä»¥ä¸€æ¬¡æ€§è¯»å–ï¼Œå®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º4çš„bufferã€‚è¯»å–å®Œåï¼Œç¬¬0ä¸ªå°±æ˜¯versionï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºsocks5ï¼Œç¬¬1ä¸ªå°±æ˜¯cmdï¼Œåˆ¤æ–­æ˜¯å¦ä¸º1ï¼ˆ1è¡¨ç¤ºconnectionè¯·æ±‚ï¼‰ï¼Œç¬¬3ä¸ªå°±æ˜¯atypeï¼Œå¦‚æœæ˜¯IPv4ï¼Œåˆ™å†æ¬¡è¯»å–åˆ°bufferï¼Œå°†bufferçš„å­—èŠ‚é€ä¸ªä»¥IPåœ°å€çš„æ ¼å¼ä¿å­˜åˆ°addrå˜é‡ä¸­ã€‚å¦‚æœæ˜¯hostï¼Œéœ€è¦å…ˆè¯»å–é•¿åº¦ï¼Œå†åˆ›å»ºä¸€ä¸ªç›¸åº”é•¿åº¦çš„bufè¿›è¡Œå¡«å……ï¼Œè½¬æ¢æˆå­—ç¬¦ä¸²ä¿å­˜åˆ°addrå˜é‡ã€‚IPv6ç›®å‰ä¸è€ƒè™‘æ”¯æŒã€‚</p>
<p>æœ€åçš„portæœ‰ä¸¤ä¸ªå­—èŠ‚ï¼Œè¯»å–åæŒ‰åè®®è§„å®šçš„å¤§ç«¯å­—èŠ‚åºè½¬æ¢æˆæ•°å­—ã€‚å‰é¢çš„bufferä¸ä¼šå†è¢«å…¶ä»–å˜é‡ä½¿ç”¨ï¼Œå¯ä»¥ç›´æ¥å¤ç”¨å†…å­˜ï¼Œåˆ›å»ºä¸€ä¸ªä¸´æ—¶sliceï¼Œé•¿åº¦ä¸º2ã€‚æ¥ä¸‹æ¥æŠŠIPåœ°å€å’Œç«¯å£å·æ‰“å°å‡ºæ¥ã€‚</p>
<p>æ”¶åˆ°æµè§ˆå™¨çš„è¯·æ±‚åŒ…ä¹‹åï¼Œéœ€è¦è¿”å›ä¸€ä¸ªåŒ…ã€‚è¿™ä¸ªåŒ…é‡Œæœ‰å¾ˆå¤šå­—æ®µï¼Œä½†å¤§éƒ¨åˆ†ä¸ä¼šä½¿ç”¨ã€‚</p>
<p>ç¬¬ä¸€ä¸ªæ˜¯ç‰ˆæœ¬å·socks5ï¼Œç¬¬äºŒä¸ªæ˜¯è¿”å›ç±»å‹ï¼ŒæˆåŠŸçš„è¯å°±è¿”å›0ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ä¿ç•™å­—æ®µï¼Œå¡«0å³å¯ï¼Œç¬¬å››ä¸ªå­—æ®µæ˜¯atypeåœ°å€ç±»å‹ï¼Œå¡«1ã€‚ç¬¬äº”ã€å…­ä¸ªå­—æ®µæš‚æ—¶ç”¨ä¸åˆ°ï¼Œéƒ½å¡«0ã€‚ä¸€å…±æ˜¯4+4+2ä¸ªå­—èŠ‚ã€‚</p>
<p>ç¼–å†™å®Œconnectå‡½æ•°åï¼Œä½¿ç”¨curlé‡æ–°æµ‹è¯•ï¼Œçœ‹åˆ°IPåœ°å€å’Œç«¯å£ä¿¡æ¯è¢«æ‰“å°å‡ºæ¥ï¼Œè¯´æ˜å½“å‰åè®®å®ç°æ­£ç¡®ã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">curl --socks5 127.0.0.1:1080 -v http://www.baidu.com</span><br></pre></td></tr></table></figure></div>
<p>æœ€åä¸€æ­¥å°±æ˜¯å’Œç«¯å£å»ºç«‹è¿æ¥ï¼Œå®ç°åŒå‘è½¬å‘æ•°æ®ã€‚</p>
<h3 id="4relayé˜¶æ®µ"><a class="markdownIt-Anchor" href="#4relayé˜¶æ®µ"></a> 4.relayé˜¶æ®µ</h3>
<p>ç›´æ¥ä½¿ç”¨net.dialå»ºç«‹ä¸€ä¸ªTCPè¿æ¥ã€‚å»ºç«‹è¿æ¥ä¹‹åï¼Œä¸è¦å¿˜è®°ä½¿ç”¨deferæ¥å…³é—­è¿æ¥ã€‚</p>
<p>å®ç°æµè§ˆå™¨å’Œä¸‹æ¸¸æœåŠ¡å™¨çš„åŒå‘æ•°æ®è½¬å‘ã€‚æ ‡å‡†åº“çš„io.copyå¯ä»¥å®ç°ä¸€ä¸ªå•å‘æ•°æ®è½¬å‘ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªgoroutineå®ç°åŒå‘è½¬å‘ã€‚</p>
<p>æ­¤æ—¶å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œconnectå‡½æ•°ä¼šç«‹å³è¿”å›å¹¶å…³é—­è¿æ¥ï¼Œéœ€è¦ç­‰å¾…ä»»æ„ä¸€ä¸ªæ–¹å‘copyå‡ºé”™åå†è¿”å›connectå‡½æ•°ã€‚å¯ä»¥ä½¿ç”¨æ ‡å‡†åº“çš„contextæœºåˆ¶ï¼Œç”¨contextWithCancelæ¥åˆ›å»ºä¸€ä¸ªcontextï¼Œåœ¨æœ€åç­‰å¾…ctx.Doneï¼Œåªè¦cancelè¢«è°ƒç”¨ï¼Œctx.Doneå°±ä¼šç«‹å³è¿”å›ï¼Œç„¶ååœ¨ä¸¤ä¸ªgoroutineé‡Œå„è°ƒç”¨ä¸€æ¬¡cancalå³å¯ã€‚</p>
<p>åœ¨connectå‡½æ•°ä¸­æ·»åŠ </p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">dest, err := net.Dial(<span class="string">&quot;tcp&quot;</span>, fmt.Sprintf(<span class="string">&quot;%v:%v&quot;</span>, addr, port))</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Errorf(<span class="string">&quot;dial dst failed:%w&quot;</span>, err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> dest.Close()</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å†™å…¥æ•°æ®å®Œæˆä¹‹å</span></span><br><span class="line">ctx, cancel := context.WithCancel(context.Backgrond())</span><br><span class="line"><span class="keyword">defer</span> cancel()</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    _, _ = io.Copy(dest, reader)</span><br><span class="line">    cancel()</span><br><span class="line">&#125;()</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    _, _ = io.Copy(conn, dest)</span><br><span class="line">    cancel()</span><br><span class="line">&#125;()</span><br><span class="line">&lt;-ctx.Done()</span><br></pre></td></tr></table></figure></div>
<p>æ‰§è¡Œcurlæµ‹è¯•ï¼Œè¿”å›æˆåŠŸ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">curl --socks5 127.0.0.1:1080 -v http://www.baidu.com</span><br></pre></td></tr></table></figure></div>
<p>è¿˜å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•ä»£ç†ï¼Œéœ€è¦å®‰è£…switchyomegaæ’ä»¶ã€‚æ–°å»ºæƒ…æ™¯æ¨¡å¼ï¼Œä»£ç†æœåŠ¡å™¨socks5ï¼Œç«¯å£1080ï¼Œä¿å­˜å¹¶å¯ç”¨ã€‚è®¿é—®ç½‘ç«™ï¼Œå¯ä»¥åœ¨ä»£ç†æœåŠ¡å™¨è¿™è¾¹çœ‹åˆ°æµè§ˆå™¨ç‰ˆæœ¬çš„åŸŸåå’Œç«¯å£ã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<p><a class="link"   href="https://github.com/wangkechun/go-by-example/" >æºä»£ç  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>ç³»ç»Ÿè®¾è®¡</title>
    <url>/2023/02/06/golang-day10/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7197022389850439735" >ç³»ç»Ÿè®¾è®¡ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹ç§’æ€ç³»ç»Ÿè®¾è®¡çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="ç³»ç»Ÿè®¾è®¡ä¹‹ç§’æ€ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿè®¾è®¡ä¹‹ç§’æ€ç³»ç»Ÿ"></a> ç³»ç»Ÿè®¾è®¡ä¹‹ç§’æ€ç³»ç»Ÿ</h2>
<h3 id="1ç³»ç»Ÿè®¾è®¡æ–¹æ³•è®º"><a class="markdownIt-Anchor" href="#1ç³»ç»Ÿè®¾è®¡æ–¹æ³•è®º"></a> 1.ç³»ç»Ÿè®¾è®¡æ–¹æ³•è®º</h3>
<h4 id="ç³»ç»Ÿè®¾è®¡çš„æ€è€ƒé—®é¢˜"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿè®¾è®¡çš„æ€è€ƒé—®é¢˜"></a> ç³»ç»Ÿè®¾è®¡çš„æ€è€ƒé—®é¢˜</h4>
<ul>
<li>ä¸ºä»€ä¹ˆè¦åšç³»ç»Ÿè®¾è®¡</li>
<li>ç³»ç»Ÿè®¾è®¡çš„å®šä¹‰æ˜¯ä»€ä¹ˆ</li>
<li>æ€ä¹ˆåšç³»ç»Ÿè®¾è®¡ï¼Œå¦‚ä½•è½åœ°ä¸€ä¸ªç³»ç»Ÿ</li>
<li>ç³»ç»ŸåŠŸèƒ½å®ç°ä¹‹åï¼Œå¦‚ä½•åˆ†æç“¶é¢ˆå¹¶ä¼˜åŒ–</li>
<li>å¦‚ä½•éªŒè¯ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œç¨³å®šæ€§</li>
</ul>
<h4 id="ç³»ç»Ÿè®¾è®¡çš„ç›®çš„"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿè®¾è®¡çš„ç›®çš„"></a> ç³»ç»Ÿè®¾è®¡çš„ç›®çš„</h4>
<p>å¯¹ä¸ªäºº</p>
<ul>
<li>é¢è¯•</li>
<li>ä¸ªäººèƒ½åŠ›æå‡</li>
<li>æ‹“å±•æŠ€æœ¯è§†é‡</li>
</ul>
<p>å¯¹å·¥ä½œ</p>
<ul>
<li>ä¸šåŠ¡é©±åŠ¨</li>
<li>ç³»ç»Ÿé‡æ„</li>
<li>çªç ´å’Œåˆ›æ–°</li>
</ul>
<h4 id="ç³»ç»Ÿè¯„ä¼°è§’åº¦"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿè¯„ä¼°è§’åº¦"></a> ç³»ç»Ÿè¯„ä¼°è§’åº¦</h4>
<p>å¯ç”¨æ€§ã€æ˜“ç”¨æ€§ã€å¯ç»´æŠ¤æ€§ã€å®‰å…¨æ€§ã€æ€§èƒ½ã€æ‰©å±•æ€§ã€è€¦åˆæ€§ã€ä¼¸ç¼©æ€§</p>
<h4 id="ç³»ç»Ÿè®¾è®¡çš„å®šä¹‰"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿè®¾è®¡çš„å®šä¹‰"></a> ç³»ç»Ÿè®¾è®¡çš„å®šä¹‰</h4>
<p>ç³»ç»Ÿ</p>
<ul>
<li>å…³è”çš„ä¸ªä½“</li>
<li>è§„åˆ™è¿ä½œ</li>
<li>ç»„æˆå·¥ä½œçš„æ•´ä½“</li>
</ul>
<p>è®¾è®¡</p>
<ul>
<li>è®¾æƒ³å’Œè®¡åˆ’</li>
<li>ç›®çš„</li>
<li>è¿‡ç¨‹å®‰æ’</li>
</ul>
<p>ç³»ç»Ÿè®¾è®¡æ˜¯ä¸ºäº†è¾¾æˆæŸç§ç›®çš„ï¼Œé€šè¿‡ä¸ªä½“ç»„æˆæ•´ä½“çš„è¿‡ç¨‹</p>
<h4 id="ç³»ç»Ÿè®¾è®¡çš„æµç¨‹"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿè®¾è®¡çš„æµç¨‹"></a> ç³»ç»Ÿè®¾è®¡çš„æµç¨‹</h4>
<ul>
<li>åœºæ™¯ï¼šç”¨ä»€ä¹ˆç³»ç»Ÿï¼Œéœ€è¦å“ªäº›åŠŸèƒ½ï¼Œå¤šå¤§çš„å¹¶å‘é‡</li>
<li>å­˜å‚¨ï¼šæ•°æ®å¦‚ä½•ç»„ç»‡ï¼ŒSQL å­˜å‚¨ï¼ŒNoSQL å­˜å‚¨</li>
<li>æœåŠ¡ï¼šä¸šåŠ¡åŠŸèƒ½å®ç°å’Œé€»è¾‘æ•´åˆ</li>
<li>æ‰©å±•ï¼šè§£å†³è®¾è®¡ç¼ºé™·ï¼Œæé«˜é²æ£’æ€§ã€æ‰©å±•æ€§</li>
</ul>
<h4 id="ç³»ç»Ÿç“¶é¢ˆçš„å‘ç°"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿç“¶é¢ˆçš„å‘ç°"></a> ç³»ç»Ÿç“¶é¢ˆçš„å‘ç°</h4>
<p>æ–¹æ³•è§’åº¦</p>
<ul>
<li>ç«ç„°å›¾åˆ†æ</li>
<li>é“¾è·¯è¿½è¸ª</li>
<li>æ€§èƒ½æµ‹è¯•</li>
</ul>
<h4 id="å¦‚ä½•ä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œç¨³å®šæ€§"><a class="markdownIt-Anchor" href="#å¦‚ä½•ä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œç¨³å®šæ€§"></a> å¦‚ä½•ä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§å’Œç¨³å®šæ€§</h4>
<ul>
<li>é“¾è·¯æ¢³ç†ï¼šæ ¸å¿ƒé“¾è·¯ã€æµé‡æ¼æ´ã€å¼ºå¼±ä¾èµ–</li>
<li>å¯è§‚æµ‹æ€§ï¼šé“¾è·¯è¿½è¸ªã€æ ¸å¿ƒç›‘æ§ã€ä¸šåŠ¡æŠ¥è­¦</li>
<li>å…¨é“¾è·¯æµ‹è¯•ï¼šå‹åŠ›æµ‹è¯•ã€è´Ÿè½½æµ‹è¯•ã€å®¹é‡æµ‹è¯•</li>
<li>ç¨³å®šæ€§æ§åˆ¶ï¼šç³»ç»Ÿé™æµã€ä¸šåŠ¡å…œåº•ã€ç†”æ–­é™çº§</li>
<li>å®¹ç¾æ¼”ç»ƒï¼šæ··æ²Œå·¥ç¨‹ã€åº”æ€¥æ‰‹å†Œã€å®¹ç¾é¢„æ¡ˆ</li>
</ul>
<h3 id="2ç”µå•†ç§’æ€ä¸šåŠ¡ä»‹ç»"><a class="markdownIt-Anchor" href="#2ç”µå•†ç§’æ€ä¸šåŠ¡ä»‹ç»"></a> 2.ç”µå•†ç§’æ€ä¸šåŠ¡ä»‹ç»</h3>
<h4 id="ç”µå•†ä»‹ç»"><a class="markdownIt-Anchor" href="#ç”µå•†ä»‹ç»"></a> ç”µå•†ä»‹ç»</h4>
<ul>
<li>ä¾›ç»™ä¾§ï¼šå•†å“ã€å•†å®¶ã€ä¾›åº”é“¾</li>
<li>æ¶ˆè´¹ä¾§ï¼šæ¶ˆè´¹è€…ã€ç”¨æˆ·ã€æµé‡æ¥æº</li>
<li>äº¤æ˜“ç¯å¢ƒï¼šçº¿ä¸‹å•†åŸã€çº¿ä¸Šç”µå•†</li>
</ul>
<p>è¿›ä¸€æ­¥åˆ†æ</p>
<ul>
<li>
<p>å•†å“ï¼šå…·æœ‰äº¤æ˜“ä»·å€¼å’Œå±æ€§çš„ä¿¡æ¯è½½ä½“ã€‚</p>
</li>
<li>
<p>å…³äºç”µå•†æ¶‰åŠåˆ°ä¸¤ä¸ªæ¦‚å¿µï¼šSPU å’Œ SKU</p>
<blockquote>
<p>SPU(Standard Product Unit)ï¼šæ ‡å‡†åŒ–äº§å“å•å…ƒã€‚æ˜¯å•†å“ä¿¡æ¯èšåˆçš„æœ€å°å•ä½ï¼Œæ˜¯ä¸€ç»„å¯å¤ç”¨ã€æ˜“æ£€ç´¢çš„æ ‡å‡†åŒ–ä¿¡æ¯çš„é›†åˆï¼Œè¯¥é›†åˆæè¿°äº†ä¸€ä¸ªäº§å“çš„ç‰¹æ€§ã€‚é€šä¿—ç‚¹è®²ï¼Œå±æ€§å€¼ã€ç‰¹æ€§ç›¸åŒçš„å•†å“å°±å¯ä»¥ç§°ä¸ºä¸€ä¸ªSPU</p>
<p>SKU(Stock Keeping Unit): åº“å­˜é‡å•ä½ã€‚SKUå³åº“å­˜è¿›å‡ºè®¡é‡çš„å•ä½ï¼Œ å¯ä»¥æ˜¯ä»¥ä»¶ã€ç›’ã€æ‰˜ç›˜ç­‰ä¸ºå•ä½</p>
</blockquote>
</li>
</ul>
<h4 id="ç§’æ€ä¸šåŠ¡çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#ç§’æ€ä¸šåŠ¡çš„ç‰¹ç‚¹"></a> ç§’æ€ä¸šåŠ¡çš„ç‰¹ç‚¹</h4>
<ul>
<li>ç¬æ—¶æµé‡é«˜</li>
<li>è¯»å¤šå†™å°‘</li>
<li>å®æ—¶æ€§è¦æ±‚é«˜</li>
</ul>
<h4 id="ç§’æ€ä¸šåŠ¡çš„éš¾ç‚¹"><a class="markdownIt-Anchor" href="#ç§’æ€ä¸šåŠ¡çš„éš¾ç‚¹"></a> ç§’æ€ä¸šåŠ¡çš„éš¾ç‚¹</h4>
<p>é«˜æ€§èƒ½ã€èµ„æºæˆæœ¬ã€æ‰©å±•æ€§ã€é˜²æ­¢è¶…å–ã€åæ¬ºè¯ˆã€é²æ£’æ€§ã€æµé‡ç®¡æ§</p>
<h4 id="è®¾è®¡ç§’æ€ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#è®¾è®¡ç§’æ€ç³»ç»Ÿ"></a> è®¾è®¡ç§’æ€ç³»ç»Ÿ</h4>
<h5 id="åœºæ™¯scenario"><a class="markdownIt-Anchor" href="#åœºæ™¯scenario"></a> åœºæ™¯ï¼ˆScenarioï¼‰</h5>
<ul>
<li>åŠŸèƒ½ï¼šç§’æ€æ´»åŠ¨å‘å¸ƒã€ç§’æ€å•†å“è¯¦æƒ…ã€ç§’æ€ä¸‹å•</li>
<li>å¹¶å‘ï¼šä¸‡äººå‚ä¸ç§’æ€ã€QPS 1w+ã€TPS 1k+</li>
</ul>
<h5 id="å­˜å‚¨storage"><a class="markdownIt-Anchor" href="#å­˜å‚¨storage"></a> å­˜å‚¨ï¼ˆStorageï¼‰</h5>
<p>MySQL â€”&gt; Redis â€”&gt; Localcache</p>
<h5 id="æœåŠ¡service"><a class="markdownIt-Anchor" href="#æœåŠ¡service"></a> æœåŠ¡ï¼ˆServiceï¼‰</h5>
<ul>
<li>
<p>å­æœåŠ¡ï¼šç”¨æˆ·æœåŠ¡ã€é£æ§æœåŠ¡ã€æ´»åŠ¨æœåŠ¡ã€è®¢å•æœåŠ¡</p>
</li>
<li>
<p>åŸºç¡€ç»„ä»¶ï¼šID ç”Ÿæˆå™¨ã€ç¼“å­˜ç»„ä»¶ã€MQ ç»„ä»¶ã€é™æµç»„ä»¶</p>
</li>
</ul>
<h5 id="æ‰©å±•scale"><a class="markdownIt-Anchor" href="#æ‰©å±•scale"></a> æ‰©å±•ï¼ˆScaleï¼‰</h5>
<ul>
<li>æµé‡éš”ç¦»ã€CDNã€ç¼“å­˜ä¼˜åŒ–ã€æµé‡ç®¡æ§ï¼ˆä¾‹å¦‚åŸºäºé€Ÿç‡æˆ–ä¿¡å·æ§åˆ¶ã€é™æµã€æ‹¦æˆªã€è¿‡æ»¤ä»¥åŠè®¾ç½®æœºæˆ¿æµé‡é…æ¯”ç­‰ï¼‰</li>
<li>æ•°æ®åº“æ‰©å±•ã€æœåŠ¡Â·æ°´å¹³æ‰©å±•ã€MQ æ‰©å±•ã€Redis æ‰©å±•ã€æœåŠ¡å‚ç›´æ‰©å±•</li>
</ul>
<h4 id="ç³»ç»Ÿæ¶æ„"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿæ¶æ„"></a> ç³»ç»Ÿæ¶æ„</h4>
<ul>
<li>ç”¨æˆ·å±‚ï¼šWEBã€IOSã€Android</li>
<li>æ¥å…¥å±‚ï¼šNginx</li>
<li>åº”ç”¨å±‚ï¼šå‘å¸ƒæ´»åŠ¨ã€ç§’æ€è¯¦æƒ…ã€ç§’æ€ä¸‹å•ã€ID ç”Ÿæˆå™¨ã€é™æµç»„ä»¶ã€MQ ç»„ä»¶ã€Cache ç»„ä»¶</li>
<li>åŸºç¡€å±‚ï¼šRedisã€RocketMQã€MySQL</li>
</ul>
<h3 id="3å®è·µ"><a class="markdownIt-Anchor" href="#3å®è·µ"></a> 3.å®è·µ</h3>
<p>æµç¨‹å›¾</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/golang-day10/golang-day10.png"
                      class="" title="golang-day10"
                >
<h3 id="4æ€»ç»“"><a class="markdownIt-Anchor" href="#4æ€»ç»“"></a> 4.æ€»ç»“</h3>
<ul>
<li>
<p>æœåŠ¡æ— çŠ¶æ€</p>
</li>
<li>
<p>æ‰¹é‡å†™å…¥</p>
</li>
<li>
<p>æœ€ç»ˆä¸€è‡´æ€§</p>
</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/523479439" >é²æ£’æ€§çš„å«ä¹‰ä»¥åŠå¦‚ä½•æé«˜æ¨¡å‹çš„é²æ£’æ€§ - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/150101068" >æµ…è°ˆç”µå•†ä¸­çš„spuå’Œsku - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>é»‘ç°äº§ç›‘æ§ä¸é˜²å¾¡</title>
    <url>/2023/02/07/golang-day11/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7197404867802038330" >é»‘ç°äº§ç›‘æ§ä¸é˜²å¾¡ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹é»‘ç°äº§ç›‘æ§ä¸é˜²å¾¡çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="é»‘ç°äº§ç›‘æ§ä¸é˜²å¾¡"><a class="markdownIt-Anchor" href="#é»‘ç°äº§ç›‘æ§ä¸é˜²å¾¡"></a> é»‘ç°äº§ç›‘æ§ä¸é˜²å¾¡</h2>
<h3 id="1é»‘äº§ä»‹ç»"><a class="markdownIt-Anchor" href="#1é»‘äº§ä»‹ç»"></a> 1.é»‘äº§ä»‹ç»</h3>
<h4 id="ä¸€äº›å¸¸è§çš„é»‘äº§"><a class="markdownIt-Anchor" href="#ä¸€äº›å¸¸è§çš„é»‘äº§"></a> ä¸€äº›å¸¸è§çš„é»‘äº§</h4>
<p>è¯ˆéª—ã€æœ¨é©¬ã€è–…ç¾Šæ¯›ã€é’“é±¼ã€é»„ç‰›ã€ç—…æ¯’ã€åšå½©ã€æ‹–åº“ã€å¼•æµã€ç›—å·ã€è·‘åˆ†ã€å‹’ç´¢è½¯ä»¶</p>
<h4 id="é»‘è‰²äº§ä¸šè§„æ¨¡"><a class="markdownIt-Anchor" href="#é»‘è‰²äº§ä¸šè§„æ¨¡"></a> é»‘è‰²äº§ä¸šè§„æ¨¡</h4>
<ul>
<li>
<p>ä¸­å›½â€œç½‘ç»œé»‘äº§â€ä»ä¸šäººå‘˜å·²è¶…è¿‡ 150 ä¸‡ï¼Œå¸‚åœºè§„æ¨¡å·²ç»è¾¾åˆ°åƒäº¿çº§åˆ« - ä¸­å›½æ³•é™¢ç½‘ 2017 å¹´</p>
</li>
<li>
<p>æˆªæ­¢ 2022 å¹´ 12 æ›°ï¼Œhaveibeenpwned å·²æ”¶å½•äº†çº¦ 120 äº¿æ¡è´¦å·å¯†ç æ•°æ®</p>
<p>å¯è®¿é—® <a class="link"   href="https://haveibeenpwned.com/" >https://haveibeenpwned.com/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> æŸ¥çœ‹ä¸€ä¸‹è‡ªå·±çš„è´¦å·å¯†ç æ˜¯å¦åœ¨å…¶ä¸­</p>
</li>
<li>
<p>æŸäº’è”ç½‘é£æ§å…¬å¸ç»Ÿè®¡ï¼Œ2018 å¹´å„ç±»é»‘äº§æ”»å‡»ï¼ˆä¸šåŠ¡å±‚ï¼‰æ€»æ•°è¶…è¿‡ 300 äº¿æ¬¡</p>
</li>
<li>
<p>æ®ä¸å®Œå…¨ç»Ÿè®¡ï¼Œ2019 å¹´å…¨ç½‘çº¦æœ‰ 5000 ä¸‡å·¦å³çš„éå®åæ‰‹æœºå¡è¢«é¢‘ç¹ç”¨äºå„ç§æ¬ºè¯ˆæ´»åŠ¨</p>
</li>
<li>
<p>æ®ä¸å®Œå…¨ç»Ÿè®¡ï¼Œä»…ä¸­å›½å¢ƒå†…æ¯å¤©çº¦æœ‰ 350-400 ä¸‡ä¸ªä»£ç† IP è¢«ç”¨äºå„ç±»æ¬ºè¯ˆæ´»åŠ¨</p>
</li>
<li>
<p>â€¦</p>
</li>
</ul>
<h4 id="é»‘äº§å‘å±•è¶‹åŠ¿"><a class="markdownIt-Anchor" href="#é»‘äº§å‘å±•è¶‹åŠ¿"></a> é»‘äº§å‘å±•è¶‹åŠ¿</h4>
<ul>
<li>è§„æ¨¡åŒ–ï¼šå€ŸåŠ©è„šæœ¬è½¯ä»¶å®ç°è‡ªåŠ¨åŒ–ã€æ‰¹é‡åŒ–æ”»å‡»</li>
<li>ç»„ç»‡åŒ–ï¼šä»¥å·¥ä½œå®¤ç”šè‡³å…¬å¸çš„å½¢å¼è¿ä½œï¼Œåˆ†å·¥æ˜ç¡®ã€åˆä½œç´§å¯†</li>
<li>å¹³å°åŒ–ï¼š
<ul>
<li>å‡ºç°å¾ˆå¤šå¹³å°çº§çš„çˆ¬è™«ã€ç¾¤æ§ã€é’“é±¼æœ¨é©¬ç­‰ï¼Œéš¾ä»¥è¿½æŸ¥</li>
<li>é€šè¿‡å„ç±»å¹³å°å°†é»‘äº§æ‰‹ä¸­é›¶æ•£çš„èµ„æºè¿›è¡Œæ•´åˆ</li>
</ul>
</li>
</ul>
<h3 id="2å¸¸è§çš„é»‘äº§æŠ€æœ¯åˆ†æ"><a class="markdownIt-Anchor" href="#2å¸¸è§çš„é»‘äº§æŠ€æœ¯åˆ†æ"></a> 2.å¸¸è§çš„é»‘äº§æŠ€æœ¯åˆ†æ</h3>
<h4 id="å¼€æˆ·æµç¨‹"><a class="markdownIt-Anchor" href="#å¼€æˆ·æµç¨‹"></a> å¼€æˆ·æµç¨‹</h4>
<p>å®åè®¤è¯ â€”&gt; ç»‘å®šé“¶è¡Œå¡ â€”&gt; å®¡æ ¸å¼€æˆ·</p>
<h4 id="å¯¹æŠ—æ”»å‡»æ‰‹æ®µ"><a class="markdownIt-Anchor" href="#å¯¹æŠ—æ”»å‡»æ‰‹æ®µ"></a> å¯¹æŠ—æ”»å‡»æ‰‹æ®µ</h4>
<ul>
<li>äººè„¸è¯†åˆ«å¯¹æŠ—
<ul>
<li>ä¼ªé€ äººè„¸æ•°æ®</li>
</ul>
</li>
<li>åœ°ç†ä½ç½®å¯¹æŠ—
<ul>
<li>å®šä½æ‰“å¡</li>
<li>æ‘‡ä¸€æ‘‡ã€é™„è¿‘çš„äºº</li>
<li>å‡ºç§Ÿè½¦æŠ¢å•</li>
<li>æŸäº›çº¿ä¸‹ä¼˜æƒ </li>
<li>â€¦</li>
</ul>
</li>
</ul>
<h3 id="3å®‰å…¨é˜²æŠ¤ä½“ç³»çš„å»ºè®¾"><a class="markdownIt-Anchor" href="#3å®‰å…¨é˜²æŠ¤ä½“ç³»çš„å»ºè®¾"></a> 3.å®‰å…¨é˜²æŠ¤ä½“ç³»çš„å»ºè®¾</h3>
<h4 id="äº‹å‰"><a class="markdownIt-Anchor" href="#äº‹å‰"></a> äº‹å‰</h4>
<ul>
<li>æƒ…æŠ¥ç›‘æ§
<ul>
<li>æš—ç½‘</li>
<li>è´´å§</li>
<li>TG</li>
<li>ç ´è§£è®ºå›</li>
</ul>
</li>
<li>SDLCï¼šè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸçš„é˜¶æ®µå’Œæ¨¡å‹</li>
<li>æ¼æ´æ‰«æ</li>
</ul>
<h4 id="äº‹ä¸­"><a class="markdownIt-Anchor" href="#äº‹ä¸­"></a> äº‹ä¸­</h4>
<ul>
<li>æ¸—é€æµ‹è¯•</li>
<li>å¨èƒæ„ŸçŸ¥
<ul>
<li>ç”¨æˆ·è¡Œä¸ºå¼‚å¸¸</li>
<li>æ¥å£æ•°æ®å¼‚å¸¸</li>
<li>æ¶æ„æµé‡æ£€æµ‹</li>
</ul>
</li>
<li>é£æ§/å®‰å…¨ç­–ç•¥</li>
</ul>
<h4 id="äº‹å"><a class="markdownIt-Anchor" href="#äº‹å"></a> äº‹å</h4>
<ul>
<li>å¨èƒå»ºæ¨¡</li>
<li>æ”»å‡»æº¯æº</li>
</ul>
<h4 id="å…³é”®è¦ç´ "><a class="markdownIt-Anchor" href="#å…³é”®è¦ç´ "></a> å…³é”®è¦ç´ </h4>
<p>éªŒè¯ç ã€å®‰å…¨ SDKã€ä»£ç†æ£€æµ‹ã€äººè„¸è¯†åˆ«ã€é»‘äº§åå•ã€â€¦</p>
<p>WAFï¼ˆWEBåº”ç”¨ç¨‹åºé˜²ç«å¢™ï¼‰ã€IDSï¼ˆå…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼‰ã€DLPã€ç»ˆç«¯å®‰å…¨é˜²æŠ¤ã€è¡Œä¸ºå®¡è®¡ã€â€¦</p>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/450678659" >å¯¹æŠ—æ”»å‡»-äººè„¸è¯†åˆ« <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/575438524" >è§£å¯†åœ°ç†ä½ç½®æ¨¡æ‹Ÿæ”»é˜²ä¹‹é“ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.jianshu.com/p/8e570d9049e0" >SDLCï¼šè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸçš„é˜¶æ®µå’Œæ¨¡å‹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://juejin.cn/post/7196959046603227195" >é»‘ç°äº§ç›‘æ§ä¸é˜²å¾¡ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡</title>
    <url>/2023/02/08/golang-day12/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7197711583131697189" >åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡"><a class="markdownIt-Anchor" href="#åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡"></a> åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡</h2>
<h3 id="ç›®æ ‡"><a class="markdownIt-Anchor" href="#ç›®æ ‡"></a> ç›®æ ‡</h3>
<ul>
<li>çŸ¥è¯†é¢æ‰©å……
<ul>
<li>å¯¹åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡å»ºç«‹èµ·å®è§‚çš„è®¤çŸ¥ï¼Œå¹¶æ·±å…¥äº†è§£å…¶å®ç°åŸç†</li>
<li>äº†è§£å…³è”çš„å•æœºå®šæ—¶ä»»åŠ¡ã€å¤§æ•°æ®å¤„ç†å¼•æ“ï¼Œé€šè¿‡äº†è§£ä¸åŒå®ç°æ–¹æ¡ˆçš„ä¼˜åŠ£æ¥æ‹“å±•çŸ¥è¯†é¢</li>
</ul>
</li>
<li>é¡¹ç›®å®è·µèƒ½åŠ›åŠ å¼º
<ul>
<li>äº†è§£åœ¨å“ªäº›å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ä½¿ç”¨åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡</li>
<li>å¯¹äºå®é™…ä¸šåŠ¡åœºæ™¯ä¸­çš„ä¸­é—´ä»¶é€‰å‹ã€æŠ€æœ¯æ–¹æ¡ˆåšåˆ°èƒ¸æœ‰æˆç«¹</li>
</ul>
</li>
</ul>
<h3 id="1å‰è¨€"><a class="markdownIt-Anchor" href="#1å‰è¨€"></a> 1.å‰è¨€</h3>
<p>ä½œä¸ºåç«¯å¼€å‘è€…ï¼Œé¢å¯¹äº¿çº§ç”¨æˆ·è§„æ¨¡ã€äº¿çº§èµ„é‡‘è§„æ¨¡ã€ç™¾ä¸‡çº§è¯»å†™ QPSï¼Œå¦‚ä½•è®¾è®¡ä¸€ä¸ªæœ€ç»ˆå¼€å¥–ç¯èŠ‚æŠ€æœ¯æ–¹æ¡ˆï¼Ÿ</p>
<p>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ = è‡ªåŠ¨åŒ– + å®šæ—¶æ‰§è¡Œ + æµ·é‡æ•°æ® + é«˜æ•ˆç¨³å®š</p>
<h3 id="2å‘å±•å†ç¨‹"><a class="markdownIt-Anchor" href="#2å‘å±•å†ç¨‹"></a> 2.å‘å±•å†ç¨‹</h3>
<h4 id="21-windows-æ‰¹å¤„ç†"><a class="markdownIt-Anchor" href="#21-windows-æ‰¹å¤„ç†"></a> 2.1 Windows æ‰¹å¤„ç†</h4>
<ul>
<li>Case 1ï¼š10 åˆ†é’Ÿå Windows ç”µè„‘è‡ªåŠ¨å…³æœº
<ol>
<li>æ¡Œé¢ç©ºç™½å¤„å³é”®å•å‡»-æ–°å»º-æ–‡æœ¬æ–‡æ¡£</li>
<li>æ›´æ”¹æ–‡ä»¶åå’Œåç¼€åä¸ºâ€œè‡ªåŠ¨å…³æœº.batâ€</li>
<li>ä¿®æ”¹æ–‡ä»¶å†…å®¹ä¸ºâ€œshutdown -s -t 600â€ï¼Œè¡¨ç¤º 10 å‘å±•åè‡ªåŠ¨å…³æœº</li>
<li>åŒå‡»è¿è¡Œè¯¥æ‰¹å¤„ç†æ–‡ä»¶ï¼Œç”µè„‘å°†åœ¨ä¼šåœ¨ 10 åˆ†é’Ÿä¹‹åè‡ªåŠ¨å…³æœº</li>
</ol>
</li>
</ul>
<h4 id="22-windows-ä»»åŠ¡è®¡åˆ’ç¨‹åº"><a class="markdownIt-Anchor" href="#22-windows-ä»»åŠ¡è®¡åˆ’ç¨‹åº"></a> 2.2 Windows ä»»åŠ¡è®¡åˆ’ç¨‹åº</h4>
<ul>
<li>Case 2ï¼šæ¯å¤© 12:00 è‡ªåŠ¨ç–«æƒ…æ‰“å¡</li>
<li>å…·ä½“è®¾ç½®æ–¹æ³•å‚è€ƒç›¸å…³èµ„æ–™</li>
</ul>
<h4 id="23-linux-ä»»åŠ¡è®¡åˆ’-cronjob"><a class="markdownIt-Anchor" href="#23-linux-ä»»åŠ¡è®¡åˆ’-cronjob"></a> 2.3 Linux ä»»åŠ¡è®¡åˆ’-CronJob</h4>
<ul>
<li>Case 3ï¼šæ¯å¤© 02:30 å®šæ—¶æ¸…ç†æœºå™¨æ—¥å¿—</li>
<li>Linux ç³»ç»Ÿå‘½ä»¤ï¼Œä½¿ç”¨ç®€å•ï¼Œç¨³å®šå¯é </li>
<li>ä½†åªèƒ½æ§åˆ¶å•æœºï¼Œä¸”ä¸é€‚ç”¨äºå…¶ä»–æ“ä½œç³»ç»Ÿ</li>
<li>å‚è€ƒ<a class="link"   href="https://www.cnblogs.com/love-snow/articles/7364888.html" >linux CronJob æ•™ç¨‹ å®šæ—¶ä»»åŠ¡ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
<h4 id="24-å•æœºå®šæ—¶ä»»åŠ¡"><a class="markdownIt-Anchor" href="#24-å•æœºå®šæ—¶ä»»åŠ¡"></a> 2.4 å•æœºå®šæ—¶ä»»åŠ¡</h4>
<h5 id="timer-ticker"><a class="markdownIt-Anchor" href="#timer-ticker"></a> Timerã€Ticker</h5>
<ul>
<li>
<p>Case 4ï¼šæ¯éš” 5 åˆ†é’Ÿå®šæ—¶åˆ·æ–°æœ¬åœ°ç¼“å­˜æ•°æ®</p>
</li>
<li>
<p>é€šè¿‡ä»£ç å®ç°</p>
<p>Java</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException &#123;</span><br><span class="line">    <span class="type">Timer</span> <span class="variable">timer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Timer</span>();</span><br><span class="line">    timer.schedule(<span class="keyword">new</span> <span class="title class_">TimerTask</span>() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            SyncLocalCache();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="number">5000</span>, <span class="number">5</span> * <span class="number">60</span> * <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>Go</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ticker := time.NewTicker(<span class="number">5</span> * time.Minute)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> &lt;- ticker.C:</span><br><span class="line">            SyncLocalCache()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>è·¨å¹³å°å¯ç”¨</p>
</li>
<li>
<p>ä»…å•æœºå¯ç”¨</p>
</li>
</ul>
<h5 id="scheduledexecutorservice"><a class="markdownIt-Anchor" href="#scheduledexecutorservice"></a> ScheduledExecutorService</h5>
<ul>
<li>
<p>Case 5ï¼šæ¯éš” 5 åˆ†é’Ÿå®šæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡</p>
<p>Java</p>
<div class="highlight-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> ScheduledExecutorService scheduler;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException &#123;</span><br><span class="line">    scheduler = Executors.newScheduledThreadPool(<span class="number">5</span>);</span><br><span class="line">    scheduler.scheduleAtFixedRate(</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                DoSomething();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">0</span>, <span class="number">300</span>, TimeUnit.SECONDS);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>æ‹¥æœ‰çº¿ç¨‹æ± åŠŸèƒ½</p>
</li>
<li>
<p>ä»…å•æœºå¯ç”¨</p>
</li>
</ul>
<h4 id="25-ä»»åŠ¡è°ƒåº¦-quartz"><a class="markdownIt-Anchor" href="#25-ä»»åŠ¡è°ƒåº¦-quartz"></a> 2.5 ä»»åŠ¡è°ƒåº¦-Quartz</h4>
<ul>
<li>å•ä»»åŠ¡æè‡´æ§åˆ¶</li>
<li>æ²¡æœ‰è´Ÿè½½å‡è¡¡æœºåˆ¶</li>
<li>å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/306591082" >Quartz æ˜¯ä»€ä¹ˆï¼Ÿä¸€æ–‡å¸¦ä½ å…¥å‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
<h4 id="26-åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡"><a class="markdownIt-Anchor" href="#26-åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡"></a> 2.6 åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡</h4>
<ul>
<li>å¹³å°åŒ–éƒ¨ç½²</li>
<li>åˆ†å¸ƒå¼éƒ¨ç½²</li>
<li>æ”¯æŒæµ·é‡æ•°æ®</li>
</ul>
<h5 id="æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#æ¦‚å¿µ"></a> æ¦‚å¿µ</h5>
<p>å®šæ—¶ä»»åŠ¡æ˜¯æŒ‡ç³»ç»Ÿä¸ºäº†è‡ªåŠ¨å®Œæˆç‰¹å®šä»»åŠ¡ï¼Œå®æ—¶ã€å»¶æ—¶ã€å‘¨æœŸæ€§å®Œæˆä»»åŠ¡è°ƒåº¦çš„è¿‡ç¨‹ã€‚è§£å†³äº†è‡ªåŠ¨åŒ–å’Œå‡†æ—¶åŒ–è¿™ä¸¤ä¸ªé—®é¢˜ã€‚</p>
<p>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æ˜¯æŠŠåˆ†æ•£çš„ã€å¯é æ€§å·®çš„å®šæ—¶ä»»åŠ¡çº³å…¥ç»Ÿä¸€çš„å¹³å°ï¼Œå¹¶å®ç°é›†ç¾¤ç®¡ç†è°ƒåº¦å’Œåˆ†å¸ƒå¼éƒ¨ç½²çš„ä¸€ç§å®šæ—¶ä»»åŠ¡çš„ç®¡ç†æ–¹å¼ã€‚è§£å†³äº†é«˜æ€§èƒ½ã€å¯é æ€§ã€åˆ†å¸ƒå¼éƒ¨ç½²ç­‰é—®é¢˜ã€‚</p>
<p>æŒ‰è§¦å‘æ—¶æœºåˆ†ç±»</p>
<ul>
<li>å®šæ—¶ä»»åŠ¡ï¼šç‰¹å®šæ—¶é—´è§¦å‘ï¼Œä¾‹å¦‚ä»Šå¤© 16:00 æ‰§è¡Œ</li>
<li>å»¶æ—¶ä»»åŠ¡ï¼šå»¶æ—¶è§¦å‘ï¼Œä¾‹å¦‚ 10 åˆ†é’Ÿåæ‰§è¡Œ</li>
<li>å‘¨æœŸä»»åŠ¡ï¼šå›ºå®šå‘¨æœŸæ—¶é—´æˆ–å›ºå®šé¢‘ç‡å‘¨æœŸè°ƒåº¦è§¦å‘ï¼Œä¾‹å¦‚æ¯éš” 5ç§’ æˆ–è€…æ¯å¤© 12:00 æ‰§è¡Œ</li>
</ul>
<h5 id="ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#ç‰¹ç‚¹"></a> ç‰¹ç‚¹</h5>
<ul>
<li>è‡ªåŠ¨åŒ–ï¼šå…¨è‡ªåŠ¨å®Œæˆå®šæ—¶ä»»åŠ¡çš„è°ƒåº¦å’Œæ‰§è¡Œ</li>
<li>å¹³å°åŒ–ï¼šåŸºäºå¹³å°åŒ–çš„æ€ç»´ç®¡æ§ä¸€ç³»åˆ—çš„åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡</li>
<li>åˆ†å¸ƒå¼ï¼šåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿç¯å¢ƒä¸‹è¿è¡Œä»»åŠ¡è°ƒåº¦ï¼Œçªç ´å•æœºå®šæ—¶ä»»åŠ¡çš„æ€§èƒ½ç“¶é¢ˆ</li>
<li>ä¼¸ç¼©æ€§ï¼šé‡‡ç”¨é›†ç¾¤æ–¹å¼éƒ¨ç½²ï¼Œå¯ä»¥éšæ—¶æŒ‰éœ€æ‰©ç¼©å®¹</li>
<li>é«˜å¯ç”¨ï¼šå•ç‚¹æ•…éšœä¸å½±å“æœ€ç»ˆä»»åŠ¡ç»“æœï¼Œå¯ä»¥å®ç°æ•…éšœè½¬ç§»</li>
</ul>
<h5 id="æ‰§è¡Œæ–¹å¼"><a class="markdownIt-Anchor" href="#æ‰§è¡Œæ–¹å¼"></a> æ‰§è¡Œæ–¹å¼</h5>
<ul>
<li>å•æœºä»»åŠ¡ï¼šéšæœºè§¦å‘ä¸€å°æœºå™¨æ‰§è¡Œä»»åŠ¡ï¼Œé€‚ç”¨äºè®¡ç®—é‡å°ã€å¹¶å‘åº¦ä½çš„ä»»åŠ¡</li>
<li>å¹¿æ’­ä»»åŠ¡ï¼šå¹¿æ’­åˆ°æ‰€æœ‰æœºå™¨ä¸Šæ‰§è¡ŒåŒä¸€ä¸ªä»»åŠ¡ï¼Œä¾‹å¦‚æ‰€æœ‰æœºå™¨ä¸€èµ·æ¸…ç†æ—¥å¿—</li>
<li>Map ä»»åŠ¡ï¼šä¸€ä¸ªä»»åŠ¡å¯ä»¥åˆ†å‡ºå¤šä¸ªå­ä»»åŠ¡ï¼Œæ¯ä¸ªå­ä»»åŠ¡è´Ÿè´£ä¸€éƒ¨åˆ†çš„è®¡ç®—ã€‚é€‚ç”¨äºè®¡ç®—é‡å¤§ï¼Œå•æœºæ— æ³•æ»¡è¶³è¦æ±‚çš„ä»»åŠ¡</li>
<li>MapReduce ä»»åŠ¡ï¼šåœ¨ Map ä»»åŠ¡çš„åŸºç¡€ä¸Šï¼Œå¯¹æ‰€æœ‰å­ä»»åŠ¡çš„ç»“æœåšæ±‡æ€»è®¡ç®—ï¼Œé€‚ç”¨äºè®¡ç®—é‡å¤§ï¼Œå¹¶ä¸”éœ€è¦å¯¹å­ä»»åŠ¡ç»“æœåšæ±‡æ€»çš„ä»»åŠ¡</li>
</ul>
<h4 id="27-ä¸šå†…å®šæ—¶ä»»åŠ¡æ¡†æ¶"><a class="markdownIt-Anchor" href="#27-ä¸šå†…å®šæ—¶ä»»åŠ¡æ¡†æ¶"></a> 2.7 ä¸šå†…å®šæ—¶ä»»åŠ¡æ¡†æ¶</h4>
<table>
<thead>
<tr>
<th style="text-align:center">æ¡†æ¶</th>
<th style="text-align:center">æ¥æº</th>
<th style="text-align:center">æ˜¯å¦å¼€æº</th>
<th style="text-align:center">ä»»åŠ¡ç¼–æ’</th>
<th style="text-align:center">ä»»åŠ¡åˆ†ç‰‡</th>
<th style="text-align:center">é«˜å¯ç”¨</th>
<th style="text-align:center">æ•…éšœè½¬ç§»</th>
<th style="text-align:center">å¯è§†åŒ–è¿ç»´</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Xxl-job</td>
<td style="text-align:center">ç¾å›¢ç‚¹è¯„</td>
<td style="text-align:center">æ˜¯</td>
<td style="text-align:center">å­ä»»åŠ¡ä¾èµ–</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
</tr>
<tr>
<td style="text-align:center">SchedulerX</td>
<td style="text-align:center">é˜¿é‡Œå·´å·´</td>
<td style="text-align:center">å¦</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
</tr>
<tr>
<td style="text-align:center">TCT</td>
<td style="text-align:center">è…¾è®¯</td>
<td style="text-align:center">å¦</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
</tr>
<tr>
<td style="text-align:center">Elastic-job</td>
<td style="text-align:center">å½“å½“ç½‘</td>
<td style="text-align:center">æ˜¯</td>
<td style="text-align:center">ä¸æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
</tr>
<tr>
<td style="text-align:center">Saturn</td>
<td style="text-align:center">å”¯å“ä¼š</td>
<td style="text-align:center">æ˜¯</td>
<td style="text-align:center">ä¸æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
<td style="text-align:center">æ”¯æŒ</td>
</tr>
</tbody>
</table>
<h5 id="xxl-job"><a class="markdownIt-Anchor" href="#xxl-job"></a> Xxl-job</h5>
<p>Xxl-job æ˜¯ä¸€ä¸ªè½»é‡çº§åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯å¼€å‘è¿…é€Ÿã€å­¦ä¹ ç®€å•ã€è½»é‡çº§ã€æ˜“æ‰©å±•ã€‚Xxl-job æ”¯æŒåˆ†ç‰‡ï¼Œç®€å•æ”¯æŒä»»åŠ¡ä¾èµ–ï¼Œæ”¯æŒå­ä»»åŠ¡ä¾èµ–ï¼Œä¸æ˜¯è·¨å¹³å°çš„ã€‚</p>
<p>Xxl-job å¾ˆå¤§çš„ä¸€ä¸ªä¼˜åŠ¿åœ¨äºå¼€æºä¸”å…è´¹ï¼Œå¹¶ä¸”è½»é‡çº§ï¼Œå¼€ç®±å³ç”¨ï¼Œæ“ä½œç®€å•ï¼Œä¸Šæ‰‹å¿«ï¼Œä¼ä¸šç»´æŠ¤æˆæœ¬ä¸é«˜ï¼Œå› è€Œåœ¨ä¸­å°å‹å…¬å¸ä½¿ç”¨éå¸¸å¹¿æ³›ã€‚</p>
<h5 id="schedulerx"><a class="markdownIt-Anchor" href="#schedulerx"></a> SchedulerX</h5>
<p>åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ ScheduleX 2.0 æ˜¯é˜¿é‡Œå·´å·´åŸºäº Akka æ¶æ„è‡ªç ”çš„æ–°ä¸€ä»£åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œæä¾›å®šæ—¶è°ƒåº¦ã€è°ƒåº¦ä»»åŠ¡ç¼–æ’å’Œåˆ†å¸ƒå¼æ‰¹é‡å¤„ç†ç­‰åŠŸèƒ½ã€‚</p>
<p>SchedulerX å¯åœ¨é˜¿é‡Œäº‘ä»˜è´¹ä½¿ç”¨ã€‚å®ƒçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œåœ¨é˜¿é‡Œå·´å·´å†…éƒ¨å¹¿æ³›ä½¿ç”¨å¹¶ä¹…ç»è€ƒéªŒã€‚</p>
<h5 id="tct"><a class="markdownIt-Anchor" href="#tct"></a> TCT</h5>
<p>åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦æœåŠ¡ Tencent Cloud Task æ˜¯è…¾è®¯è‡ªä¸»ç ”å‘çš„ä¸€æ¬¾é«˜æ€§èƒ½ã€é«˜å¯é é€šç”¨çš„åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ä¸­é—´ä»¶ï¼Œé€šè¿‡æŒ‡å®šæ—¶é—´è§„åˆ™ä¸¥æ ¼è§¦å‘è°ƒåº¦ä»»åŠ¡ï¼Œä¿éšœä»»åŠ¡çš„å¯é æœ‰åºæ‰§è¡Œã€‚è¯¥æœåŠ¡æ”¯æŒå›½é™…é€šç”¨çš„æ—¶é—´è¡¨è¾¾å¼ã€è°ƒåº¦ä»»åŠ¡æ‰§è¡Œç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œè§£å†³ä¼ ç»Ÿå®šæ—¶è°ƒåº¦ä»»åŠ¡å•ç‚¹åŠå¹¶å‘æ€§èƒ½é—®é¢˜ã€‚åŒæ—¶ï¼Œæ”¯æŒä»»åŠ¡åˆ†ç‰‡ã€æµç¨‹ç¼–æ’å¤æ‚è°ƒåº¦ä»»åŠ¡å¤„ç†èƒ½åŠ›ï¼Œè¦†ç›–å¹¿æ³›çš„ä»»åŠ¡è°ƒåº¦åº”ç”¨åœºæ™¯ã€‚</p>
<p>TCT ä»…åœ¨è…¾è®¯å†…éƒ¨ä½¿ç”¨ï¼Œæœªå¼€æºã€æœªå•†ç”¨ã€‚</p>
<h4 id="28-çŸ¥è¯†é¢æ‰©å……"><a class="markdownIt-Anchor" href="#28-çŸ¥è¯†é¢æ‰©å……"></a> 2.8 çŸ¥è¯†é¢æ‰©å……</h4>
<h5 id="åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡å’Œå•æœºå®šæ—¶ä»»åŠ¡"><a class="markdownIt-Anchor" href="#åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡å’Œå•æœºå®šæ—¶ä»»åŠ¡"></a> åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡å’Œå•æœºå®šæ—¶ä»»åŠ¡</h5>
<p>å…±åŒç‚¹</p>
<ul>
<li>éƒ½å¯ä»¥å®ç°è‡ªåŠ¨åŒ–çš„å®šæ—¶ã€å»¶æ—¶ã€å‘¨æœŸä»»åŠ¡è°ƒåº¦</li>
</ul>
<p>å·®å¼‚</p>
<ul>
<li>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡å¯æ”¯æ’‘æ›´å¤§çš„ä¸šåŠ¡ä½“é‡</li>
<li>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡çš„æ€§èƒ½ã€ä¼¸ç¼©æ€§ã€ç¨³å®šæ€§æ›´é«˜</li>
</ul>
<h5 id="åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡å’Œå¤§æ•°æ®å¤„ç†å¼•æ“"><a class="markdownIt-Anchor" href="#åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡å’Œå¤§æ•°æ®å¤„ç†å¼•æ“"></a> åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡å’Œå¤§æ•°æ®å¤„ç†å¼•æ“</h5>
<p>å…±åŒç‚¹</p>
<ul>
<li>éƒ½å¯ä»¥å¯¹æµ·é‡æ•°æ®åšå¤„ç†</li>
<li>æ€§èƒ½ã€ä¼¸ç¼©æ€§ã€ç¨³å®šæ€§éƒ½å¾ˆé«˜</li>
</ul>
<p>å·®å¼‚</p>
<ul>
<li>å®šæ—¶å¹¶ä¸æ˜¯å¤§æ•°æ®å¤„ç†å¼•æ“è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜</li>
<li>å¤§æ•°æ®å¼•æ“å¾€å¾€è‡´åŠ›äºå°†æºæ•°æ®å¤„ç†æˆç»“æœæ•°æ®ï¼Œåˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡é™¤äº†åšè¿™ä¸ªä¹‹å¤–ï¼Œè¿˜èƒ½è°ƒç”¨ HTTP å’Œ RPC æœåŠ¡</li>
</ul>
<h4 id="29-å°ç»“"><a class="markdownIt-Anchor" href="#29-å°ç»“"></a> 2.9 å°ç»“</h4>
<ul>
<li>ç”Ÿæ´»ç”¨é€”
<ul>
<li>Windows æ‰¹å¤„ç†</li>
<li>Windows ä»»åŠ¡è®¡åˆ’ç¨‹åº</li>
</ul>
</li>
<li>å·¥ä½œç”¨é€”
<ul>
<li>Linux ä»»åŠ¡è®¡åˆ’ â€” cronjob</li>
<li>å•æœºå®šæ—¶ä»»åŠ¡ â€” Timerã€Ticker</li>
<li>å•æœºå®šæ—¶ä»»åŠ¡ â€” ScheduledExecutorService</li>
<li>ä»»åŠ¡è°ƒåº¦ â€” Quartz</li>
<li>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡</li>
</ul>
</li>
<li>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡
<ul>
<li>è§¦å‘æ—¶æœºï¼šå®šæ—¶ã€å»¶æ—¶ã€å‘¨æœŸ</li>
<li>æ‰§è¡Œæ–¹å¼ï¼šå•æœºã€å¹¿æ’­ã€Mapã€MapReduce</li>
<li>ä¸šå†…æµè¡Œæ¡†æ¶ï¼šXxl-jobã€SchedulerXã€TCT</li>
<li>å…³è”æŠ€æœ¯ï¼šå•æœºå®šæ—¶ä»»åŠ¡ã€å¤§æ•°æ®å¤„ç†å¼•æ“</li>
</ul>
</li>
</ul>
<h3 id="3å®ç°åŸç†"><a class="markdownIt-Anchor" href="#3å®ç°åŸç†"></a> 3.å®ç°åŸç†</h3>
<h4 id="31-æ ¸å¿ƒæ¶æ„"><a class="markdownIt-Anchor" href="#31-æ ¸å¿ƒæ¶æ„"></a> 3.1 æ ¸å¿ƒæ¶æ„</h4>
<p>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æ ¸å¿ƒè¦è§£å†³è§¦å‘ã€è°ƒåº¦ã€æ‰§è¡Œä¸‰ä¸ªå…³é”®é—®é¢˜</p>
<ul>
<li>
<p>è§¦å‘å™¨ï¼šTrigger,è§£æä»»åŠ¡ï¼Œç”Ÿæˆè§¦å‘äº‹ä»¶</p>
</li>
<li>
<p>è°ƒåº¦å™¨ï¼šSchedulerï¼Œè·å–æ‰§è¡Œä»»åŠ¡å•å…ƒï¼Œç®¡ç†ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ</p>
</li>
<li>
<p>æ‰§è¡Œå™¨ï¼šExecutorï¼Œè·å–æ‰§è¡Œä»»åŠ¡å•å…ƒï¼Œæ‰§è¡Œä»»åŠ¡é€»è¾‘</p>
</li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦æä¾›ä¸€ä¸ªæ§åˆ¶å°ï¼ˆAdminï¼‰ï¼Œæä¾›ä»»åŠ¡ç®¡ç†å’Œå¹²é¢„çš„åŠŸèƒ½ã€‚</p>
<h5 id="æ•°æ®æµ"><a class="markdownIt-Anchor" href="#æ•°æ®æµ"></a> æ•°æ®æµ</h5>
<p>ä»»åŠ¡åˆ›å»ºï¼šç”¨æˆ· â€”&gt; ä»»åŠ¡åŸºç¡€ä¿¡æ¯ã€è§¦å‘è§„åˆ™ã€ä»»åŠ¡ä»£ç  â€”&gt; æ§åˆ¶å°ï¼ˆAdminï¼‰â€”&gt; ä»»åŠ¡ DB</p>
<p>ä»»åŠ¡æ‰§è¡Œï¼šæ§åˆ¶å°ï¼ˆAdminï¼‰â€”&gt; è§¦å‘å™¨ Trigger â€”&gt; è°ƒåº¦å™¨ Scheduler â€”&gt; æ‰§è¡Œå™¨ Executor</p>
<h5 id="åŠŸèƒ½æ¶æ„"><a class="markdownIt-Anchor" href="#åŠŸèƒ½æ¶æ„"></a> åŠŸèƒ½æ¶æ„</h5>
<p>Adminï¼šå…ƒæ•°æ®å­˜å‚¨ã€å…ƒæ•°æ®çŠ¶æ€æµè½¬ã€ä»»åŠ¡åˆ†ç‰‡ã€ä»»åŠ¡ä¾èµ–ã€è§„åˆ™å¼•æ“ã€ä»»åŠ¡æš‚åœ/æ¢å¤ã€æ—¥å¿—ç®¡ç†ã€ç›‘æ§æŠ¥è­¦ã€æŒ‡æ ‡ç»Ÿè®¡ã€â€¦</p>
<p>Triggerï¼šè§£æå¼•æ“ã€Scannerã€å¯é æŠ•é€’ã€çŠ¶æ€æµè½¬ã€è¡¥å¿ç­–ç•¥</p>
<p>Schedulerï¼šè°ƒåº¦ã€è´Ÿè½½å‡è¡¡ã€å¹‚ç­‰æ§åˆ¶ã€å®¹é”™ã€æ•…éšœè½¬ç§»ã€é™æµã€è®¡è´¹ã€å¹³æ»‘å¯åœã€çŠ¶æ€ç®¡æ§ã€â€¦</p>
<p>Executorï¼šæ³¨å†Œã€ä»»åŠ¡è·å–ã€ä»»åŠ¡æ‰§è¡Œã€çŠ¶æ€ä¸ŠæŠ¥ã€æ—¥å¿—å¤„ç†ã€æœ¬åœ°å¹‚ç­‰ã€ä»»åŠ¡å›è°ƒã€â€¦</p>
<h4 id="32-æ§åˆ¶å°"><a class="markdownIt-Anchor" href="#32-æ§åˆ¶å°"></a> 3.2 æ§åˆ¶å°</h4>
<h5 id="åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ¦‚å¿µ"></a> åŸºæœ¬æ¦‚å¿µ</h5>
<ul>
<li>ä»»åŠ¡ï¼šJobï¼Œä»»åŠ¡å…ƒæ•°æ®</li>
<li>ä»»åŠ¡å®ä¾‹ï¼šJobInstanceï¼Œå‘¨æœŸä»»åŠ¡ä¼šç”Ÿæˆå¤šä¸ªä»»åŠ¡å®ä¾‹</li>
<li>ä»»åŠ¡ç»“æœï¼šJobResultï¼Œä»»åŠ¡å®ä¾‹è¿è¡Œçš„ç»“æœ</li>
<li>ä»»åŠ¡å†å²ï¼šJobHistoryï¼Œç”¨æˆ·å¯ä»¥ä¿®æ”¹ä»»åŠ¡ä¿¡æ¯ï¼Œä»»åŠ¡å®ä¾‹å¯¹åº”çš„ä»»åŠ¡å…ƒæ•°æ®å¯ä»¥ä¸åŒï¼Œå› è€Œä½¿ç”¨ä»»åŠ¡å†å²å­˜å‚¨</li>
</ul>
<h5 id="ä»»åŠ¡å…ƒæ•°æ®"><a class="markdownIt-Anchor" href="#ä»»åŠ¡å…ƒæ•°æ®"></a> ä»»åŠ¡å…ƒæ•°æ®</h5>
<p>ä»»åŠ¡å…ƒæ•°æ®ï¼ˆJobï¼‰æ˜¯ç”¨æˆ·å¯¹ä»»åŠ¡å±æ€§çš„å®šä¹‰ï¼ŒåŒ…æ‹¬ä»»åŠ¡ç±»å‹è°ƒåº¦æ—¶æœºã€æ‰§è¡Œè¡Œä¸ºç­‰ã€‚</p>
<h5 id="ä»»åŠ¡å®ä¾‹"><a class="markdownIt-Anchor" href="#ä»»åŠ¡å®ä¾‹"></a> ä»»åŠ¡å®ä¾‹</h5>
<p>ä»»åŠ¡å®ä¾‹ï¼ˆJobInstanceï¼‰æ˜¯ä¸€ä¸ªç¡®å®šçš„ Job çš„ä¸€æ¬¡è¿è¡Œå®ä¾‹ã€‚</p>
<h4 id="33-è§¦å‘å™¨"><a class="markdownIt-Anchor" href="#33-è§¦å‘å™¨"></a> 3.3 è§¦å‘å™¨</h4>
<h5 id="æ ¸å¿ƒèŒè´£"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒèŒè´£"></a> æ ¸å¿ƒèŒè´£</h5>
<p>ç»™å®šä¸€ç³»åˆ—ä»»åŠ¡ï¼Œè§£æå®ƒä»¬çš„è§¦å‘è§„åˆ™ï¼Œåœ¨è§„å®šçš„æ—¶é—´ç‚¹è§¦å‘ä»»åŠ¡çš„è°ƒåº¦</p>
<h5 id="è®¾è®¡çº¦æŸ"><a class="markdownIt-Anchor" href="#è®¾è®¡çº¦æŸ"></a> è®¾è®¡çº¦æŸ</h5>
<ul>
<li>éœ€æ”¯æŒå¤§é‡ä»»åŠ¡</li>
<li>éœ€æ”¯æŒç§’çº§çš„è°ƒåº¦</li>
<li>å‘¨æœŸä»»åŠ¡éœ€è¦å¤šæ¬¡æ‰§è¡Œ</li>
<li>éœ€ä¿è¯ç§’çº§æ‰«æçš„é«˜æ€§èƒ½ï¼Œå¹¶é¿å…èµ„æºæµªè´¹</li>
</ul>
<h5 id="æ–¹æ¡ˆ-1"><a class="markdownIt-Anchor" href="#æ–¹æ¡ˆ-1"></a> æ–¹æ¡ˆ 1</h5>
<p>å®šæœŸæ‰«æ + å»¶æ—¶æ¶ˆæ¯</p>
<p>å®šæ—¶æ‰«æçš„æœºå™¨é›†ç¾¤éƒ¨ç½²ï¼Œé€šè¿‡åˆ†å¸ƒå¼é”ä¿è¯åªæœ‰ä¸€å°æœºå™¨åœ¨è°ƒåº¦ã€‚</p>
<h5 id="æ–¹æ¡ˆ-2"><a class="markdownIt-Anchor" href="#æ–¹æ¡ˆ-2"></a> æ–¹æ¡ˆ 2</h5>
<p>æ—¶é—´è½®ï¼ˆQuartz æ–¹æ¡ˆï¼‰</p>
<p>æ—¶é—´è½®æ˜¯ä¸€ç§é«˜æ•ˆåˆ©ç”¨çº¿ç¨‹èµ„æºè¿›è¡Œæ‰¹é‡åŒ–è°ƒåº¦çš„ä¸€ç§è°ƒåº¦æ¨¡å‹ã€‚æ—¶é—´è½®æ˜¯ä¸€ä¸ªå­˜å‚¨ç¯å½¢é˜Ÿåˆ—ï¼Œåº•å±‚é‡‡ç”¨æ•°ç»„å®ç°ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å¯ä»¥å­˜æ”¾ä¸€ä¸ªå®šæ—¶ä»»åŠ¡åˆ—è¡¨ã€‚</p>
<p>ç›®æ ‡ï¼šéå†ä»»åŠ¡åˆ—è¡¨ï¼Œä»ä¸­æ‰¾å‡ºå½“å‰æ—¶é—´ç‚¹éœ€è§¦å‘çš„ä»»åŠ¡åˆ—è¡¨</p>
<p>å‡ ç§å­˜å‚¨æ–¹å¼çš„æ¯”è¾ƒ</p>
<ol>
<li>
<p>ä½¿ç”¨é“¾è¡¨å­˜å‚¨ä»»åŠ¡ï¼Œæ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€ä¸ªä»»åŠ¡ã€‚æŸ¥è¯¢å¤æ‚åº¦ O(n)ï¼Œä¿®æ”¹å¤æ‚åº¦ O(1)</p>
</li>
<li>
<p>ä½¿ç”¨æœ€å°å †å­˜å‚¨ä»»åŠ¡ï¼ŒæŒ‰æ‰§è¡Œæ—¶é—´æ’åºï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨åŒæ‰§è¡Œæ—¶é—´ä»»åŠ¡åˆ—è¡¨ã€‚æŸ¥è¯¢å¤æ‚åº¦ O(1)ï¼Œä¿®æ”¹å¤æ‚åº¦ O(log n)</p>
</li>
<li>
<p>ä½¿ç”¨æ—¶é—´è½®å­˜å‚¨ä»»åŠ¡ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨åŒæ‰§è¡Œæ—¶é—´ä»»åŠ¡åˆ—è¡¨ã€‚æŸ¥è¯¢å¤æ‚åº¦ O(1)ï¼Œä¿®æ”¹å¤æ‚åº¦ O(1)</p>
<p>å­˜åœ¨åˆ»åº¦å®¹é‡é—®é¢˜ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨å¤šæ—¶é—´è½®å­˜å‚¨ä»»åŠ¡ï¼Œä¸Šä¸€çº§æ—¶é—´è½®è½¬è¿‡å¯¹åº”åˆ»åº¦åæŠŠä»»åŠ¡å¡å…¥ä¸‹çº§æ—¶é—´è½®ä¸­ã€‚</p>
</li>
</ol>
<h5 id="é«˜å¯ç”¨"><a class="markdownIt-Anchor" href="#é«˜å¯ç”¨"></a> é«˜å¯ç”¨</h5>
<p>æ ¸å¿ƒé—®é¢˜</p>
<ul>
<li>ä¸åŒä¸šåŠ¡ä¹‹é—´ï¼Œä»»åŠ¡çš„è°ƒåº¦ä¼šç›¸äº’å½±å“</li>
<li>è´Ÿè´£æ‰«æå’Œè§¦å‘çš„æœºå™¨å‡ºç°æ•…éšœ</li>
</ul>
<p>è§£æ³•æ€è·¯</p>
<ul>
<li>å­˜å‚¨ä¸Šï¼Œä¸åŒçº§åˆ«ã€ä¸šåŠ¡åšèµ„æºéš”ç¦»</li>
<li>è¿è¡Œæ—¶ï¼Œä¸åŒçº§åˆ«ã€ä¸šåŠ¡åˆ†å¼€æ‰§è¡Œ</li>
<li>éƒ¨ç½²æ—¶ï¼Œé‡‡ç”¨å¤šæœºæˆ¿é›†ç¾¤åŒ–éƒ¨ç½²ï¼Œé¿å…å•ç‚¹æ•…éšœï¼Œé€šè¿‡æ•°æ®åº“é”æˆ–åˆ†å¸ƒå¼é”ä¿è¯ä»»åŠ¡åªèƒ½è¢«è§¦å‘ä¸€æ¬¡</li>
</ul>
<p>é—®é¢˜</p>
<ul>
<li>å• Trigger æ¨¡å¼ï¼šä¼šæœ‰å•ç‚¹æ•…éšœï¼Œæœºå™¨æ•…éšœæ—¶å¹³å°å´©æºƒã€‚</li>
<li>Trigger é›†ç¾¤æ¨¡å¼ï¼šå¯é¿å…å•ç‚¹æ•…éšœï¼Œä½†éœ€è¦é¿å…åŒä¸€ä»»åŠ¡è¢«å¤šæ¬¡è§¦å‘ï¼Œå¯¼è‡´ä¸šåŠ¡ç´Šä¹±ã€‚</li>
</ul>
<h5 id="æ•°æ®åº“è¡Œé”æ¨¡å¼"><a class="markdownIt-Anchor" href="#æ•°æ®åº“è¡Œé”æ¨¡å¼"></a> æ•°æ®åº“è¡Œé”æ¨¡å¼</h5>
<p>åœ¨è§¦å‘è°ƒåº¦ä¹‹å‰ï¼Œæ›´æ–°æ•°æ®åº“ä¸­ JobInstance çš„çŠ¶æ€ï¼ŒæˆåŠŸæŠ¢é”çš„æ‰ä¼šè§¦å‘è°ƒåº¦ã€‚ä½†æ˜¯å¤šå°æœºå™¨é¢‘ç¹ç«äº‰æ•°æ®åº“é”ï¼ŒèŠ‚ç‚¹è¶Šå¤šæ€§èƒ½è¶Šå·®ã€‚</p>
<h5 id="åˆ†å¸ƒå¼é”æ¨¡å¼"><a class="markdownIt-Anchor" href="#åˆ†å¸ƒå¼é”æ¨¡å¼"></a> åˆ†å¸ƒå¼é”æ¨¡å¼</h5>
<p>åœ¨è§¦å‘è°ƒåº¦ä¹‹å‰ï¼Œå°è¯•æŠ¢å åˆ†å¸ƒå¼é”ï¼Œå¯ä½¿ç”¨ Redis é”æˆ– Zookeeper é”ã€‚æ€§èƒ½è¾ƒé«˜ï¼Œæ˜¯æ¯”è¾ƒå¹¿æ³›ä½¿ç”¨çš„æ–¹æ¡ˆã€‚</p>
<h4 id="34-è°ƒåº¦å™¨"><a class="markdownIt-Anchor" href="#34-è°ƒåº¦å™¨"></a> 3.4 è°ƒåº¦å™¨</h4>
<h5 id="èµ„æºæ¥æº"><a class="markdownIt-Anchor" href="#èµ„æºæ¥æº"></a> èµ„æºæ¥æº</h5>
<p>ä¸šåŠ¡ç³»ç»Ÿæä¾›æœºå™¨èµ„æº</p>
<p>ä¼˜ç‚¹</p>
<ul>
<li>ä»»åŠ¡æ‰§è¡Œé€»è¾‘ä¸ä¸šåŠ¡ç³»ç»Ÿå…±ç”¨åŒä¸€ä»½èµ„æºï¼Œåˆ©ç”¨ç‡æ›´é«˜</li>
</ul>
<p>ç¼ºç‚¹</p>
<ul>
<li>æ›´å®¹æ˜“å‘ç”Ÿå®šæ—¶ä»»åŠ¡è„šæœ¬å½±å“åœ¨çº¿æœåŠ¡çš„äº‹æ•…</li>
<li>ä¸èƒ½ç”±å®šæ—¶ä»»åŠ¡å¹³å°æ§åˆ¶æ‰©ç¼©å®¹</li>
</ul>
<p>å®šæ—¶ä»»åŠ¡å¹³å°æä¾›æœºå™¨èµ„æº</p>
<p>ä¼˜ç‚¹</p>
<ul>
<li>ä»»åŠ¡æ‰§è¡Œé€»è¾‘ä¸ä¸šåŠ¡ç³»ç»Ÿæä¾›çš„åœ¨çº¿æœåŠ¡éš”ç¦»ï¼Œé¿å…ç›¸äº’å½±å“</li>
<li>å¯ä»¥æ”¯æŒä¼˜é›…åœ°æ‰©ç¼©å®¹</li>
</ul>
<p>ç¼ºç‚¹</p>
<ul>
<li>æ¶ˆè€—æ›´å¤šçš„æœºå™¨èµ„æº</li>
<li>éœ€è¦é¢å¤–ä¸ºå®šæ—¶ä»»åŠ¡å¹³å°ç”³è¯·æ¥å£è°ƒç”¨æƒé™ï¼Œè€Œä¸èƒ½ç›´æ¥ç»§æ‰¿ä¸šåŠ¡ç³»ç»Ÿçš„æƒé™</li>
</ul>
<h5 id="èŠ‚ç‚¹é€‰æ‹©"><a class="markdownIt-Anchor" href="#èŠ‚ç‚¹é€‰æ‹©"></a> èŠ‚ç‚¹é€‰æ‹©</h5>
<ul>
<li>
<p>éšæœºèŠ‚ç‚¹æ‰§è¡Œï¼šé€‰æ‹©é›†ç¾¤ä¸­ä¸€ä¸ªå¯ç”¨çš„èŠ‚ç‚¹æ‰§è¡Œè°ƒåº¦ä»»åŠ¡ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šå®šæ—¶å¯¹è´¦ã€‚</p>
</li>
<li>
<p>å¹¿æ’­æ‰§è¡Œï¼šåœ¨é›†ç¾¤ä¸­æ‰€æœ‰çš„æ‰§è¡ŒèŠ‚ç‚¹åˆ†å‘è°ƒåº¦ä»»åŠ¡å¹¶æ‰§è¡Œã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šæ‰¹é‡è¿ç»´ã€‚</p>
</li>
<li>
<p>åˆ†ç‰‡æ‰§è¡Œï¼šæŒ‰ç…§ç”¨æˆ·è‡ªå®šä¹‰åˆ†ç‰‡é€»è¾‘è¿›è¡Œæ‹†åˆ†ï¼Œåˆ†å‘åˆ°é›†ç¾¤ä¸­ä¸åŒèŠ‚ç‚¹å¹¶è¡Œæ‰§è¡Œï¼Œæå‡èµ„æºåˆ©ç”¨æ•ˆç‡ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šæµ·é‡æ—¥å¿—ç»Ÿè®¡ã€‚</p>
</li>
</ul>
<h5 id="ä»»åŠ¡åˆ†ç‰‡"><a class="markdownIt-Anchor" href="#ä»»åŠ¡åˆ†ç‰‡"></a> ä»»åŠ¡åˆ†ç‰‡</h5>
<p>é€šè¿‡ä»»åŠ¡åˆ†ç‰‡æ¥æé«˜ä»»åŠ¡æ‰§è¡Œçš„æ•ˆç‡å’Œèµ„æºçš„åˆ©ç”¨ç‡ã€‚N ä¸ªæ‰§è¡Œå™¨ Executorï¼ŒM ä¸ªä¸šåŠ¡æ•°æ®åŒºåŸŸæ®µï¼Œæœ€å¥½ M &gt;= Nï¼Œä¸” M æ˜¯ N çš„æ•´æ•°å€ã€‚</p>
<h5 id="ä»»åŠ¡ç¼–æ’"><a class="markdownIt-Anchor" href="#ä»»åŠ¡ç¼–æ’"></a> ä»»åŠ¡ç¼–æ’</h5>
<p>ä½¿ç”¨æœ‰å‘æ— ç¯å›¾ DAGï¼ˆDirected Acyclic Graphï¼‰è¿›è¡Œå¯è§†åŒ–ä»»åŠ¡ç¼–æ’ã€‚</p>
<h5 id="é«˜çº§ç‰¹æ€§-æ•…éšœè½¬ç§»"><a class="markdownIt-Anchor" href="#é«˜çº§ç‰¹æ€§-æ•…éšœè½¬ç§»"></a> é«˜çº§ç‰¹æ€§ - æ•…éšœè½¬ç§»</h5>
<p>æ•…éšœè½¬ç§»ï¼šç¡®ä¿éƒ¨åˆ†æ‰§è¡Œå•å…ƒä»»åŠ¡å¤±è´¥æ—¶ï¼Œä»»åŠ¡æœ€ç»ˆæˆåŠŸã€‚</p>
<p>åˆ†ç‰‡ä»»åŠ¡åŸºäºä¸€è‡´æ€§ hash ç­–ç•¥åˆ†å‘ä»»åŠ¡ï¼Œå½“æŸ Executor å¼‚å¸¸æ—¶ï¼Œè°ƒåº¦å™¨ä¼šå°†ä»»åŠ¡åˆ†å‘åˆ°å…¶ä»– Executorã€‚</p>
<h5 id="é«˜å¯ç”¨-2"><a class="markdownIt-Anchor" href="#é«˜å¯ç”¨-2"></a> é«˜å¯ç”¨</h5>
<p>è°ƒåº¦å™¨å¯ä»¥é›†ç¾¤éƒ¨ç½²ï¼Œåšåˆ°å®Œå…¨çš„æ— çŠ¶æ€ï¼Œé æ¶ˆæ¯é˜Ÿåˆ—çš„é‡è¯•æœºåˆ¶ä¿éšœä»»åŠ¡ä¸€å®šä¼šè¢«è°ƒåº¦ã€‚</p>
<h4 id="35-æ‰§è¡Œå™¨"><a class="markdownIt-Anchor" href="#35-æ‰§è¡Œå™¨"></a> 3.5 æ‰§è¡Œå™¨</h4>
<p>åŸºäºæ³¨å†Œä¸­å¿ƒï¼Œå¯ä»¥åšåˆ°æ‰§è¡Œå™¨çš„å¼¹æ€§æ‰©ç¼©å®¹ã€‚</p>
<h4 id="36-å°ç»“"><a class="markdownIt-Anchor" href="#36-å°ç»“"></a> 3.6 å°ç»“</h4>
<ul>
<li>æ ¸å¿ƒæ¶æ„
<ul>
<li>æ§åˆ¶å° Adminã€è§¦å‘å™¨ Triggerã€è°ƒåº¦å™¨ Schedulerã€æ‰§è¡Œå™¨ Executor</li>
</ul>
</li>
<li>ä¸šåŠ¡æ¨¡å‹
<ul>
<li>ä»»åŠ¡å…ƒæ•°æ® Jobã€ä»»åŠ¡å®ä¾‹ JobInstanceã€ä»»åŠ¡ç»“æœ JobResultã€ä»»åŠ¡å†å² JobHistory</li>
</ul>
</li>
<li>è§¦å‘å™¨
<ul>
<li>å®šæ—¶æ‰«æ + å»¶æ—¶æ¶ˆæ¯</li>
<li>æ—¶é—´è½®
<ul>
<li>é“¾è¡¨ã€æœ€å°å †ã€æ—¶é—´è½®ã€å¤šçº§æ—¶é—´è½®</li>
</ul>
</li>
</ul>
</li>
<li>è°ƒåº¦å™¨
<ul>
<li>èµ„æºæ¥æº</li>
<li>èµ„æºè°ƒåº¦ï¼šèŠ‚ç‚¹é€‰æ‹©ã€ä»»åŠ¡åˆ†ç‰‡ã€ä»»åŠ¡ç¼–æ’ã€æ•…éšœè½¬ç§»</li>
</ul>
</li>
<li>æ‰§è¡Œå™¨
<ul>
<li>æ³¨å†Œã€è°ƒåº¦ã€å›è°ƒã€å¿ƒè·³æ£€æµ‹</li>
</ul>
</li>
</ul>
<h3 id="4ä¸šåŠ¡åº”ç”¨"><a class="markdownIt-Anchor" href="#4ä¸šåŠ¡åº”ç”¨"></a> 4.ä¸šåŠ¡åº”ç”¨</h3>
<p>æ‰€æœ‰éœ€è¦å®šæ—¶ã€å»¶æ—¶ã€å‘¨æœŸæ€§æ‰§è¡Œä»»åŠ¡çš„ä¸šåŠ¡åœºæ™¯ï¼Œéƒ½å¯ä»¥è€ƒè™‘ä½¿ç”¨åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ã€‚</p>
<p>ç”µå•†</p>
<ul>
<li>è®¢å• 30 åˆ†é’Ÿæœªä»˜æ¬¾è‡ªåŠ¨å…³é—­è®¢å•</li>
<li>å®šæ—¶ç»™å•†å®¶ã€è¾¾äººå‘é€æ¶ˆæ¯ï¼Œç»™ç”¨æˆ·å‘æ”¾ä¼˜æƒ åˆ¸ç­‰</li>
</ul>
<p>äº’åŠ¨</p>
<ul>
<li>æ”¯ä»˜å®é›†äº”ç¦</li>
<li>é›†å¡ç“œåˆ†çº¢åŒ…</li>
</ul>
<p>æ¸¸æˆ</p>
<ul>
<li>æ´»åŠ¨ç»“æŸåæ‰¹é‡è¡¥å‘ç”¨æˆ·æœªé¢†å–çš„å¥–åŠ±</li>
<li>å®šæœŸæ›´æ–°æ¸¸æˆå†…æ¦œå•</li>
</ul>
<h5 id="å…¶ä»–è§£å†³æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#å…¶ä»–è§£å†³æ–¹æ¡ˆ"></a> å…¶ä»–è§£å†³æ–¹æ¡ˆ</h5>
<p>å‘è´§åè¶…è¿‡ 10 å¤©æœªæ”¶è´§æ—¶ç³»ç»Ÿè‡ªåŠ¨ç¡®è®¤æ”¶è´§</p>
<ul>
<li>ä½¿ç”¨åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡çš„å»¶æ—¶ä»»åŠ¡</li>
<li>ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„å»¶æ—¶æ¶ˆæ¯æˆ–è€…å®šæ—¶æ¶ˆæ¯</li>
</ul>
<p>æ˜¥èŠ‚é›†å¡æ´»åŠ¨ç»Ÿè®¡å®Œæˆé›†å¡çš„ç”¨æˆ·ä¸ªæ•°å’Œæ€»ç¿»å€æ•°</p>
<ul>
<li>ä½¿ç”¨åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡çš„ MapReduce ä»»åŠ¡</li>
<li>ä½¿ç”¨å¤§æ•°æ®ç¦»çº¿å¤„ç†å¼•æ“ Hive ç¦»çº¿åšç»Ÿè®¡</li>
<li>ä½¿ç”¨å¤§æ•°æ®å®æ—¶å¤„ç†å¼•æ“ Flink å®æ—¶åšç»Ÿè®¡</li>
</ul>
<h5 id="å¯¹æ¯”"><a class="markdownIt-Anchor" href="#å¯¹æ¯”"></a> å¯¹æ¯”</h5>
<table>
<thead>
<tr>
<th style="text-align:center">è§£å†³æ–¹æ¡ˆ</th>
<th style="text-align:center">æ—¶æ•ˆæ€§</th>
<th style="text-align:center">å¯æ§æ€§</th>
<th style="text-align:center">ç®€æ´æ€§</th>
<th style="text-align:center">ä¸»è¦ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡</td>
<td style="text-align:center">ç§’çº§</td>
<td style="text-align:center">é«˜</td>
<td style="text-align:center">é«˜</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">å•æœºå®šæ—¶ä»»åŠ¡</td>
<td style="text-align:center">ç§’çº§</td>
<td style="text-align:center">é«˜</td>
<td style="text-align:center">é«˜</td>
<td style="text-align:center">æ— æ³•æ”¯æ’‘å¾ˆå¤§ä¸šåŠ¡ä½“é‡</td>
</tr>
<tr>
<td style="text-align:center">å»¶æ—¶æ¶ˆæ¯</td>
<td style="text-align:center">å®æ—¶</td>
<td style="text-align:center">ä½</td>
<td style="text-align:center">ä¸­</td>
<td style="text-align:center">åœ¨ä»»åŠ¡æœ‰å˜åŒ–æ—¶ï¼Œå·²å‘é€çš„å»¶æ—¶æ¶ˆæ¯ä¸ä¾¿äºåšå˜åŠ¨</td>
</tr>
<tr>
<td style="text-align:center">ç¦»çº¿è®¡ç®—</td>
<td style="text-align:center">å°æ—¶çº§</td>
<td style="text-align:center">ä¸­</td>
<td style="text-align:center">é«˜</td>
<td style="text-align:center">æ—¶å»¶è‡³å°‘å°æ—¶çº§</td>
</tr>
<tr>
<td style="text-align:center">å®æ—¶è®¡ç®—</td>
<td style="text-align:center">ç§’çº§</td>
<td style="text-align:center">é«˜</td>
<td style="text-align:center">ä¸­</td>
<td style="text-align:center">åªèƒ½åšæ•°æ®å¤„ç†ï¼Œæ— æ³•è°ƒç”¨ HTTP/RPC è¯·æ±‚å®Œæˆä¸šåŠ¡é€»è¾‘å¤„ç†</td>
</tr>
</tbody>
</table>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://blog.51cto.com/xiaoyuanzheng/5662986" >Windows ä»»åŠ¡è®¡åˆ’ç¨‹åºï¼ˆtask schedulerï¼‰ä»‹ç» <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.cnblogs.com/love-snow/articles/7364888.html" >linux CronJob æ•™ç¨‹ å®šæ—¶ä»»åŠ¡ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/306591082" >Quartz æ˜¯ä»€ä¹ˆï¼Ÿä¸€æ–‡å¸¦ä½ å…¥å‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/36627346" >ç¾å›¢ç‚¹è¯„è®¸é›ªé‡Œï¼šåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å° XXL-JOB <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://xie.infoq.cn/article/5dfcab3b430d549f006882635" >æ—¶é—´è½®åŸç†åŠå…¶åœ¨æ¡†æ¶ä¸­çš„åº”ç”¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¶ˆæ¯é˜Ÿåˆ—åŸç†ä¸å®æˆ˜</title>
    <url>/2023/02/10/golang-day13/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7198168315080065083" >æ¶ˆæ¯é˜Ÿåˆ—åŸç†ä¸å®æˆ˜ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†æ¶ˆæ¯é˜Ÿåˆ—çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="æ¶ˆæ¯é˜Ÿåˆ—åŸç†ä¸å®æˆ˜"><a class="markdownIt-Anchor" href="#æ¶ˆæ¯é˜Ÿåˆ—åŸç†ä¸å®æˆ˜"></a> æ¶ˆæ¯é˜Ÿåˆ—åŸç†ä¸å®æˆ˜</h2>
<h3 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h3>
<p>åœºæ™¯</p>
<ul>
<li>
<p>ç³»ç»Ÿå´©æºƒ</p>
</li>
<li>
<p>æœåŠ¡èƒ½åŠ›æœ‰é™</p>
</li>
<li>
<p>é“¾è·¯è€—æ—¶é•¿å°¾</p>
</li>
<li>
<p>æ—¥å¿—å­˜å‚¨</p>
</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>é’ˆå¯¹å­˜å‚¨è¡Œä¸ºæœåŠ¡å´©æºƒæ—¶ï¼Œä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œè§£è€¦</li>
<li>é’ˆå¯¹é«˜å¹¶å‘æœåŠ¡æ—¶ï¼Œä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå‰Šå³°</li>
<li>é’ˆå¯¹é“¾è·¯è€—æ—¶ï¼Œä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥</li>
<li>é’ˆå¯¹æ—¥å¿—å­˜å‚¨ï¼Œä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œæ—¥å¿—å¤„ç†</li>
</ul>
<p>ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—</p>
<p>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰ ï¼ŒæŒ‡ä¿å­˜æ¶ˆæ¯çš„ä¸€ä¸ªå®¹å™¨ï¼Œæœ¬è´¨æ˜¯ä¸ªé˜Ÿåˆ—ã€‚ä½†è¿™ä¸ªé˜Ÿåˆ—éœ€è¦æ”¯æŒé«˜ååï¼Œé«˜å¹¶å‘ï¼Œé«˜å¯ç”¨ã€‚</p>
<h3 id="1å‰ä¸–ä»Šç”Ÿ"><a class="markdownIt-Anchor" href="#1å‰ä¸–ä»Šç”Ÿ"></a> 1.å‰ä¸–ä»Šç”Ÿ</h3>
<blockquote>
<p>æ¶ˆæ¯ä¸­é—´ä»¶å…¶å®è¯ç”Ÿçš„å¾ˆæ—©ï¼Œæ—©åœ¨1983å¹´äº’è”ç½‘åº”ç”¨è¿˜æ˜¯ä¸€ç‰‡è’èŠœçš„å¹´ä»£ï¼Œæœ‰ä¸ªåœ¨ç¾å›½çš„å°åº¦å°å“¥Vivekå°±è®¾æƒ³äº†ä¸€ç§é€šç”¨è½¯ä»¶æ€»çº¿ï¼Œä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªç°ä»£æ¶ˆæ¯é˜Ÿåˆ—è½¯ä»¶The Information Bus(TIB)ï¼Œ TIBå—åˆ°äº†ä¼ä¸šçš„æ¬¢è¿ï¼Œè¿™å®¶å…¬å¸çš„ä¸šåŠ¡å‘å±•å¼•èµ·äº†å½“æ—¶æœ€ç‰›æ°”çš„ITå…¬å¸IBMçš„æ³¨æ„ï¼Œäºæ˜¯ä»–ä»¬ä¸€å¼€å§‹ç ”å‘äº†è‡ªå·±æ¶ˆæ¯é˜Ÿåˆ—è½¯ä»¶ï¼Œäºæ˜¯æ‰æœ‰äº†åæ¥çš„wesphere mqï¼Œå†åæ¥å¾®è½¯ä¹ŸåŠ å…¥äº†æˆ˜å›¢ã€‚æ¥è¿‘2000å¹´çš„æ—¶å€™ï¼Œäº’è”ç½‘æ—¶ä»£å·²ç»åˆè§æ›™å…‰ï¼Œå…¨çƒçš„åº”ç”¨ç¨‹åºå¾—åˆ°äº†æå¤§åœ°ä¸°å¯Œï¼Œå¯¹äºç¨‹åºä¹‹é—´äº’è”äº’é€šçš„éœ€æ±‚è¶Šæ¥è¶Šå¼ºçƒˆï¼Œä½†æ˜¯å„å¤§ITå…¬å¸ä¹‹é—´è¿˜æ˜¯ç‰¢ç‰¢å»ºç«‹ç€å„ç§æŠ€æœ¯å£å’ï¼Œä»¥æ­¤æ¥ä¿è¯è‡ªå·±çš„å•†ä¸šåˆ©ç›Šï¼Œæ‰€ä»¥æ¶ˆæ¯ä¸­é—´ä»¶åœ¨é‚£ä¸ªæ—¶å€™æ˜¯å¤§å‹ä¼ä¸šæ‰èƒ½å¤Ÿç”¨çš„èµ·çš„é«˜çº§ç©æ„ã€‚ ä½†æ˜¯æ—¶ä»£çš„æ´ªæµä¸å¯é€†è½¬ï¼Œæœ‰å£å’å°±æœ‰æ‰“ç ´å£å’çš„åæ¥è€…ï¼Œ2001å¹´sunå‘å¸ƒäº†jmsæŠ€æœ¯ï¼Œè¯•å›¾åœ¨å„å¤§å‚å•†çš„å±‚é¢ä¸Šå†åŒ…è£…ä¸€å±‚ç»Ÿä¸€çš„javaè§„èŒƒã€‚javaç¨‹åºåªéœ€è¦é’ˆå¯¹jms apiç¼–ç¨‹å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å†å…³æ³¨ä½¿ç”¨äº†ä»€ä¹ˆæ ·çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œä½†æ˜¯jmsä»…ä»…é€‚ç”¨äºjavaã€‚2004å¹´AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰è¯ç”Ÿäº†ï¼Œæ‰æ˜¯çœŸæ­£ä¿ƒè¿›äº†æ¶ˆæ¯é˜Ÿåˆ—çš„ç¹è£å‘å±•ï¼Œä»»ä½•äººéƒ½å¯ä»¥é’ˆå¯¹AMQPçš„æ ‡å‡†è¿›è¡Œç¼–ç ã€‚æœ‰å¥½çš„åè®®æŒ‡å¯¼ï¼Œå†åŠ ä¸Šäº’è”ç½‘åˆ†å¸ƒå¼åº”ç”¨çš„è¿…çŒ›å‘å±•æˆä¸ºäº†æ¶ˆæ¯ä¸­é—´ä»¶ä¸€é£å†²å¤©çš„æœ€å¤§åŠ¨åŠ›ï¼Œç¨‹åºåº”ç”¨çš„äº’è”äº’é€šï¼Œå‘å¸ƒè®¢é˜…ï¼Œæœ€å¤§å¥‘åˆäº†æ¶ˆæ¯ä¸­é—´ä»¶çš„æœ€åˆçš„è®¾è®¡åˆè¡·ã€‚é™¤äº†åˆšæ‰ä»‹ç»è¿‡çš„æ”¶è´¹ä¸­é—´ä»¶ï¼Œåæ¥å¼€æºæ¶ˆæ¯ä¸­é—´ä»¶å¼€å§‹å±‚å‡ºä¸ç©·ï¼Œå¸¸è§æ¯”è¾ƒæµè¡Œçš„æœ‰ActiveMQã€RabbitMQ ã€Kafakã€é˜¿é‡Œçš„RocketMQï¼Œä»¥åŠç›®å‰å­˜ç®—åˆ†ç¦»çš„Pulsarï¼Œåœ¨ç›®å‰äº’è”ç½‘åº”ç”¨ä¸­æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶åŸºæœ¬ä¸Šæˆä¸ºæ ‡é…ã€‚</p>
</blockquote>
<h4 id="ä¸šç•Œå†…æ¶ˆæ¯é˜Ÿåˆ—å¯¹æ¯”"><a class="markdownIt-Anchor" href="#ä¸šç•Œå†…æ¶ˆæ¯é˜Ÿåˆ—å¯¹æ¯”"></a> ä¸šç•Œå†…æ¶ˆæ¯é˜Ÿåˆ—å¯¹æ¯”</h4>
<p>ç›®å‰æ¯”è¾ƒæµè¡Œçš„MQ</p>
<ul>
<li>Kafkaï¼šåˆ†å¸ƒå¼çš„ã€åˆ†åŒºçš„ã€å¤šå‰¯æœ¬çš„æ—¥å¿—æäº¤æœåŠ¡ï¼Œåœ¨é«˜åååœºæ™¯ä¸‹å‘æŒ¥è¾ƒä¸ºå‡ºè‰²ã€‚</li>
<li>RocketMQï¼šä½å»¶è¿Ÿã€å¼ºä¸€è‡´ã€é«˜æ€§èƒ½ã€é«˜å¯é ã€ä¸‡äº¿çº§å®¹é‡å’Œçµæ´»çš„å¯æ‰©å±•æ€§ï¼Œåœ¨ä¸€äº›å®æ—¶åœºæ™¯ä¸­è¿ç”¨è¾ƒå¹¿æ³›ã€‚</li>
<li>Pulsarï¼šæ˜¯ä¸‹ä¸€ä»£äº‘åŸç”Ÿåˆ†å¸ƒå¼æ¶ˆæ¯æµå¹³å°ï¼Œé›†æ¶ˆæ¯ã€å­˜å‚¨ã€è½»é‡åŒ–å‡½æ•°å¼è®¡ç®—ä¸ºä¸€ä½“ã€é‡‡ç”¨å­˜ç®—åˆ†ç¦»çš„æ¶æ„è®¾è®¡ã€‚</li>
<li>BMQï¼šå’Œ Pulsar æ¶æ„ç±»ä¼¼ï¼Œå­˜ç®—åˆ†ç¦»ï¼ŒåˆæœŸå®šä½æ˜¯æ‰¿æ¥é«˜ååçš„ç¦»çº¿ä¸šåŠ¡åœºæ™¯ï¼Œé€æ­¥æ›¿æ¢æ‰å¯¹åº”çš„ Kafka é›†ç¾¤ã€‚</li>
</ul>
<h3 id="2æ¶ˆæ¯é˜Ÿåˆ—-kafka"><a class="markdownIt-Anchor" href="#2æ¶ˆæ¯é˜Ÿåˆ—-kafka"></a> 2.æ¶ˆæ¯é˜Ÿåˆ— - Kafka</h3>
<h4 id="21-ä½¿ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#21-ä½¿ç”¨åœºæ™¯"></a> 2.1 ä½¿ç”¨åœºæ™¯</h4>
<ul>
<li>
<p>æ—¥å¿—ä¿¡æ¯</p>
</li>
<li>
<p>Metrics æ•°æ®ï¼šæœç´¢æœåŠ¡ã€ç›´æ’­æœåŠ¡ã€è®¢å•æœåŠ¡ã€æ”¯ä»˜æœåŠ¡</p>
</li>
<li>
<p>ç”¨æˆ·è¡Œä¸ºï¼šæœç´¢ã€ç‚¹èµã€è¯„è®ºã€æ”¶è—</p>
</li>
</ul>
<h4 id="22-å¦‚ä½•ä½¿ç”¨-kafka"><a class="markdownIt-Anchor" href="#22-å¦‚ä½•ä½¿ç”¨-kafka"></a> 2.2 å¦‚ä½•ä½¿ç”¨ Kafka</h4>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ª Kafka é›†ç¾¤</li>
<li>ç¬¬äºŒæ­¥ï¼šåœ¨è¿™ä¸ªé›†ç¾¤ä¸­åˆ›å»ºä¸€ä¸ª Topicï¼Œå¹¶ä¸”è®¾ç½®å¥½åˆ†ç‰‡æ•°é‡</li>
<li>ç¬¬ä¸‰æ­¥ï¼šå¼•å…¥å¯¹åº”è¯­è¨€çš„ SDK ç¼–å†™ç”Ÿäº§è€…é€»è¾‘ï¼Œé…ç½®å¥½é›†ç¾¤å’Œ Topic ç­‰å‚æ•°ï¼Œåˆå§‹åŒ–ä¸€ä¸ªç”Ÿäº§è€…ï¼Œè°ƒç”¨ Send æ–¹æ³•ï¼Œå°†ä¿¡æ¯å‘é€å‡ºå»</li>
<li>ç¬¬å››æ­¥ï¼šå¼•å…¥å¯¹åº”è¯­è¨€çš„ SDK ç¼–å†™æ¶ˆè´¹è€…é€»è¾‘ï¼Œé…ç½®å¥½é›†ç¾¤å’Œ Topic ç­‰å‚æ•°ï¼Œåˆå§‹åŒ–ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œè°ƒç”¨ Poll æ–¹æ³•ï¼Œæ¥å—å‘é€çš„ä¿¡æ¯</li>
</ul>
<h4 id="23-åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#23-åŸºæœ¬æ¦‚å¿µ"></a> 2.3 åŸºæœ¬æ¦‚å¿µ</h4>
<ul>
<li>Topicï¼šKafka ä¸­çš„é€»è¾‘é˜Ÿåˆ—ï¼Œå¯ä»¥ç†è§£ä¸ºæ¯ä¸€ä¸ªä¸åŒçš„ä¸šåŠ¡åœºæ™¯å°±æ˜¯ä¸€ä¸ªä¸åŒçš„ Topicï¼Œå¯¹äºè¿™ä¸ªä¸šåŠ¡æ¥è¯´ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½å­˜å‚¨åœ¨è¿™ä¸ª Topic ä¸­ã€‚</li>
<li>Clusterï¼šKafka çš„ç‰©ç†é›†ç¾¤ï¼Œæ¯ä¸ªé›†ç¾¤ä¸­å¯ä»¥æ–°å»ºå¤šä¸ªä¸åŒçš„ Topicã€‚</li>
<li>Producerï¼šæ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œè´Ÿè´£å°†ä¸šåŠ¡æ¶ˆæ¯å‘é€åˆ° Topic å½“ä¸­ã€‚</li>
<li>Consumerï¼šæ¶ˆæ¯çš„æ¶ˆè´¹è€…ï¼Œè´Ÿè´£æ¶ˆè´¹å·²ç»å‘é€åˆ° Topic ä¸­çš„æ¶ˆæ¯ã€‚</li>
<li>Consumer Groupï¼šæ¶ˆè´¹è€…ç»„ï¼Œä¸åŒç»„ Consumer æ¶ˆè´¹è¿›åº¦äº’ä¸å¹²æ¶‰ã€‚</li>
<li>Partitionï¼šåˆ†åŒºï¼Œé€šå¸¸ Topic ä¼šæœ‰å¤šä¸ªåˆ†ç‰‡ï¼Œä¸åŒåˆ†ç‰‡ç›´æ¥æ¶ˆæ¯æ˜¯å¯ä»¥å¹¶å‘å¤„ç†çš„ï¼Œèƒ½å¤Ÿæé«˜å•ä¸ª Topic çš„ååã€‚</li>
</ul>
<p>Offsetï¼šå¯¹æ¯ä¸€ä¸ª partition æ¥è¯´ï¼Œæ¯ä¸€æ¡æ¶ˆæ¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ Offsetï¼Œæ¶ˆæ¯åœ¨ partition å†…çš„ç›¸å¯¹ä½ç½®ä¿¡æ¯ï¼Œå¯ä»¥ç†è§£ä¸ºå”¯ä¸€ IDï¼Œåœ¨ partition å†…éƒ¨ä¸¥æ ¼é€’å¢ã€‚</p>
<p>Replicaï¼šåˆ†ç‰‡çš„å‰¯æœ¬ï¼Œåˆ†å¸ƒåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œå¯ç”¨æ¥å®¹ç¾ï¼ŒLeader å¯¹å¤–æœåŠ¡ï¼ŒFollower å¼‚æ­¥å»æ‹‰å– Leader çš„æ•°æ®è¿›è¡ŒåŒæ­¥ï¼Œå¦‚æœ Leader æŒ‚æ‰äº†ï¼Œå¯ä»¥å°† Follower æå‡æˆ Leader å†å¯¹å¤–è¿›è¡ŒæœåŠ¡ã€‚</p>
<p>ISRï¼šIn-Sync Replicasã€‚æ„æ€æ˜¯åŒæ­¥ä¸­çš„å‰¯æœ¬ï¼Œå¯¹äº Follower æ¥è¯´ï¼Œå§‹ç»ˆå’Œ Leader æ˜¯æœ‰ä¸€å®šå·®è·çš„ï¼Œä½†æ˜¯å½“è¿™ä¸ª å·®è·æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œå°±å¯ä»¥å°†è¿™ä¸ª Follower å‰¯æœ¬åŠ å…¥åˆ° ISR ä¸­ï¼Œä¸åœ¨ ISR ä¸­çš„å‰¯æœ¬æ˜¯ä¸å…è®¸æå‡æˆ Leader çš„ã€‚</p>
<p>æ¯ä¸ªåˆ†ç‰‡æœ‰å¤šä¸ª Replicaã€Leaderï¼ŒReplica å°†ä¼šä» ISR ä¸­é€‰å‡ºã€‚</p>
<h4 id="24-æ•°æ®å¤åˆ¶"><a class="markdownIt-Anchor" href="#24-æ•°æ®å¤åˆ¶"></a> 2.4 æ•°æ®å¤åˆ¶</h4>
<p>Broker ä»£è¡¨æ¯ä¸€ä¸ª Kafka çš„èŠ‚ç‚¹ï¼Œæ‰€æœ‰çš„ Broker èŠ‚ç‚¹æœ€ç»ˆç»„æˆäº†ä¸€ä¸ªé›†ç¾¤ã€‚å¤šä¸ª Broker ä¸­æœ‰ä¸€ä¸ª Broker åŒæ—¶æ‰®æ¼”äº† Controller çš„è§’è‰²ï¼ŒController æ˜¯æ•´ä¸ªé›†ç¾¤çš„å¤§è„‘ï¼Œè´Ÿè´£å¯¹å‰¯æœ¬å’Œ Broker è¿›è¡Œåˆ†é…ã€‚</p>
<h4 id="25-kafka-æ¶æ„"><a class="markdownIt-Anchor" href="#25-kafka-æ¶æ„"></a> 2.5 Kafka æ¶æ„</h4>
<p>åœ¨é›†ç¾¤çš„åŸºç¡€ä¸Šï¼Œè¿˜æœ‰ä¸€ä¸ªæ¨¡å—æ˜¯ ZooKeeperã€‚è¿™ä¸ªæ¨¡å—å­˜å‚¨äº†é›†ç¾¤çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œæ¯”å¦‚å‰¯æœ¬æˆ–åˆ†åŒºçš„åˆ†é…ä¿¡æ¯ç­‰ï¼ŒController è®¡ç®—å¥½çš„æ–¹æ¡ˆéƒ½ä¼šå­˜æ”¾åˆ°è¿™ä¸ªåœ°æ–¹ã€‚</p>
<h4 id="26-ä¸€æ¡æ¶ˆæ¯çš„è‡ªè¿°"><a class="markdownIt-Anchor" href="#26-ä¸€æ¡æ¶ˆæ¯çš„è‡ªè¿°"></a> 2.6 ä¸€æ¡æ¶ˆæ¯çš„è‡ªè¿°</h4>
<p>ä»ä¸€æ¡æ¶ˆæ¯çš„è§†è§’æ¥çœ‹å®Œæ•´çš„å¤„ç†æµç¨‹ï¼Œäº†è§£ Kafka ä¸ºä»€ä¹ˆèƒ½å¤Ÿæ”¯æŒå¦‚æ­¤é«˜çš„ååã€‚</p>
<p>æ€è€ƒï¼šå¦‚æœå‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œç­‰åˆ°å…¶æˆåŠŸåå†å‘ä¸€æ¡ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<h4 id="27-producer"><a class="markdownIt-Anchor" href="#27-producer"></a> 2.7 Producer</h4>
<h5 id="æ‰¹é‡å‘é€"><a class="markdownIt-Anchor" href="#æ‰¹é‡å‘é€"></a> æ‰¹é‡å‘é€</h5>
<p>æ‰¹é‡å‘é€å¯ä»¥å‡å°‘ IO æ¬¡æ•°ï¼Œä»è€ŒåŠ å¼ºå‘é€èƒ½åŠ›ã€‚</p>
<p>æ€è€ƒï¼šå¦‚æœæ¶ˆæ¯é‡å¾ˆå¤§ï¼Œç½‘ç»œå¸¦å®½ä¸å¤Ÿç”¨ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</p>
<h5 id="æ•°æ®å‹ç¼©"><a class="markdownIt-Anchor" href="#æ•°æ®å‹ç¼©"></a> æ•°æ®å‹ç¼©</h5>
<p>é€šè¿‡å‹ç¼©å‡å°æ¶ˆæ¯å¤§å°ï¼Œç›®å‰æ”¯æŒ Snappyã€Gzipã€LZ4ã€ZSTD å‹ç¼©ç®—æ³•ã€‚</p>
<h4 id="28-broker"><a class="markdownIt-Anchor" href="#28-broker"></a> 2.8 Broker</h4>
<ul>
<li>
<p>æ•°æ®çš„å­˜å‚¨</p>
<p>äº†è§£æ•°æ®çš„å­˜å‚¨ï¼Œå¯ä»¥å…ˆä»æ¶ˆæ¯æ–‡ä»¶ç»“æ„å…¥æ‰‹ï¼Œå†äº†è§£ç£ç›˜ç»“æ„çš„å·¥ä½œåŸç†ã€‚</p>
</li>
<li>
<p>æ¶ˆæ¯æ–‡ä»¶ç»“æ„</p>
<p>åœ¨æ¯ä¸€ä¸ª Broker ä¸­éƒ½åˆ†å¸ƒè¿™ä¸åŒ Topic çš„ä¸åŒåˆ†ç‰‡ã€‚</p>
</li>
<li>
<p>ç£ç›˜ç»“æ„</p>
<p>ç§»åŠ¨ç£å¤´æ‰¾åˆ°å¯¹åº”ç£é“ï¼Œç£ç›˜è½¬åŠ¨ï¼Œæ‰¾åˆ°å¯¹åº”æ‰‡åŒºï¼Œæœ€åå†™å…¥ã€‚å¯»é“æˆæœ¬æ¯”è¾ƒé«˜ï¼Œå› æ­¤é¡ºåºå†™å¯ä»¥å‡å°‘å¯»é“æ‰€å¸¦æ¥çš„æ—¶é—´æˆæœ¬ã€‚</p>
<p>åœ¨ä¸€ä¸ªç›˜é¢é‡Œå¯»é“ï¼Œç£å¤´ â€”&gt; ç£é“ â€”&gt; æ‰‡åŒºã€‚</p>
</li>
<li>
<p>é¡ºåºå†™</p>
<p>é‡‡ç”¨é¡ºåºå†™çš„æ–¹å¼è¿›å…¥å†™å…¥ï¼Œå¯ä»¥æé«˜å†™å…¥æ•ˆç‡ã€‚</p>
</li>
<li>
<p>å¦‚ä½•æ‰¾åˆ°æ¶ˆæ¯ï¼Ÿ</p>
<p>Consumer é€šè¿‡å‘é€ Fetch Request è¯·æ±‚æ¶ˆæ¯æ•°æ®ï¼ŒBroker ä¼šæŒ‡å®š Offset å¤„çš„æ¶ˆæ¯ï¼ŒæŒ‰ç…§æ—¶é—´çª—å£å’Œæ¶ˆæ¯å¤§å°çª—å£å‘é€ç»™ Consumer</p>
<p>æ€è€ƒï¼šå¯»æ‰¾æ•°æ®è¿™ä¸ªç»†èŠ‚æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p>
</li>
<li>
<p>åç§»é‡ç´¢å¼•æ–‡ä»¶ï¼Œæ–‡ä»¶åæ˜¯æ–‡ä»¶ä¸­ç¬¬ä¸€æ¡æ¶ˆæ¯çš„ Offset</p>
<p>é€šè¿‡äºŒåˆ†æ‰¾åˆ°å°äºç›®æ ‡æ–‡ä»¶ Offset çš„æœ€å¤§ç´¢å¼•ä½ç½®ï¼Œå†éå†æ‰¾åˆ°ç›®æ ‡ Offsetã€‚</p>
</li>
<li>
<p>æ—¶é—´æˆ³ç´¢å¼•æ–‡ä»¶</p>
<p>é€šè¿‡äºŒåˆ†æ‰¾åˆ°å°äºç›®æ ‡æ—¶é—´æˆ³æœ€å¤§çš„ç´¢å¼•ä½ç½®ï¼Œåœ¨é€šè¿‡å¯»æ‰¾ Offset çš„æ–¹å¼æ‰¾åˆ°æœ€ç»ˆæ•°æ®ã€‚å’Œ Offset ç›¸æ¯”åªæ˜¯å¤šåŠ äº†æ—¶é—´æˆ³ä»¥åŠï¼Œå³é€šè¿‡äºŒåˆ†æ‰¾åˆ°æ—¶é—´æˆ³å¯¹åº”çš„ Offsetï¼Œå†æ‰¾åˆ°ç›¸åº”çš„æ–‡ä»¶æ•°æ®ã€‚</p>
</li>
<li>
<p>ä¼ ç»Ÿæ•°æ®æ‹·è´</p>
<p>ä»ç£ç›˜ç©ºé—´åˆ°å†…æ ¸ç©ºé—´ï¼Œå†…æ ¸ç©ºé—´åˆ°åº”ç”¨ç©ºé—´ï¼Œå†ä»åº”ç”¨ç©ºé—´åˆ°å†…æ ¸ç©ºé—´ï¼Œè¿›å…¥æ¶ˆè´¹è€…è¿›ç¨‹ã€‚</p>
</li>
<li>
<p>é›¶æ‹·è´</p>
<p>ä»ç£ç›˜ç©ºé—´åˆ°å†…æ ¸ç©ºé—´ï¼Œç„¶åè¿›å…¥æ¶ˆè´¹è€…è¿›ç¨‹ã€‚</p>
<blockquote>
<p>Consumerä»Brokerä¸­è¯»å–æ•°æ®ï¼Œé€šè¿‡sendfileçš„æ–¹å¼ï¼Œå°†ç£ç›˜è¯»åˆ°oså†…æ ¸ç¼“å†²åŒºåï¼Œç›´æ¥è½¬åˆ°socket bufferè¿›è¡Œç½‘ç»œå‘é€ Producerç”Ÿäº§çš„æ•°æ®æŒä¹…åŒ–åˆ°brokerï¼Œé‡‡ç”¨mmapæ–‡ä»¶æ˜ å°„ï¼Œå®ç°é¡ºåºçš„å¿«é€Ÿå†™å…¥</p>
</blockquote>
</li>
</ul>
<h4 id="29-consumer"><a class="markdownIt-Anchor" href="#29-consumer"></a> 2.9 Consumer</h4>
<h5 id="æ¶ˆæ¯çš„æ¥æ”¶ç«¯"><a class="markdownIt-Anchor" href="#æ¶ˆæ¯çš„æ¥æ”¶ç«¯"></a> æ¶ˆæ¯çš„æ¥æ”¶ç«¯</h5>
<p>å¦‚ä½•è§£å†³ Partition åœ¨ Consumer Group ä¸­çš„åˆ†é…é—®é¢˜ï¼Ÿ</p>
<blockquote>
<p>å¯¹äºä¸€ä¸ªConsumer Groupæ¥è¯´ï¼Œå¤šä¸ªåˆ†ç‰‡å¯ä»¥å¹¶å‘æ¶ˆè´¹ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§æé«˜æ¶ˆè´¹çš„æ•ˆç‡ï¼Œä½†éœ€è¦è§£å†³ Consumer å’Œ Partition çš„åˆ†é…é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯å¯¹äºæ¯ä¸€ä¸ª Partition æ¥è®²ï¼Œè¯¥ç”±å“ªä¸€ä¸ª Consumer æ¥æ¶ˆè´¹çš„é—®é¢˜ã€‚å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼Œæ‰‹åŠ¨åˆ†é…å’Œè‡ªåŠ¨åˆ†é…</p>
</blockquote>
<h5 id="low-level"><a class="markdownIt-Anchor" href="#low-level"></a> Low Level</h5>
<p>é€šè¿‡æ‰‹åŠ¨åˆ†é…ï¼Œå“ªä¸€ä¸ª Consumer æ¶ˆè´¹å“ªä¸€ä¸ª Partition å®Œå…¨ç”±ä¸šåŠ¡æ¥å†³å®š</p>
<blockquote>
<p>ç¬¬ä¸€ï¼Œæ‰‹åŠ¨åˆ†é…ï¼Œä¹Ÿå°±æ˜¯Kafkaä¸­æ‰€è¯´çš„ Low Level æ¶ˆè´¹æ–¹å¼è¿›è¡Œæ¶ˆè´¹ï¼Œè¿™ç§åˆ†é…æ–¹å¼çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯å¯åŠ¨æ¯”è¾ƒå¿«ï¼Œå› ä¸ºå¯¹äºæ¯ä¸€ä¸ª Consumer æ¥è¯´ï¼Œå¯åŠ¨çš„æ—¶å€™å°±å·²ç»çŸ¥é“äº†è‡ªå·±åº”è¯¥å»æ¶ˆè´¹å“ªä¸ªæ¶ˆè´¹æ–¹å¼ã€‚è¿™äº› Consumer å†å¯åŠ¨çš„æ—¶å€™å°±å·²ç»çŸ¥é“åˆ†é…æ–¹æ¡ˆäº†</p>
<p>ä½†è¿™æ ·è¿™ç§æ–¹å¼å­˜åœ¨ç¼ºç‚¹ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæŸä¸€ä¸ª Consumer æŒ‚æ‰äº†å¯èƒ½ä¼šåœæ­¢ä¸€éƒ¨åˆ†åˆ†ç‰‡çš„æ¶ˆè´¹ï¼Œæˆ–è€…æ–°å¢äº†ä¸€å°Consumerï¼Œé‚£åˆéœ€è¦åœæ‰æ•´ä¸ªé›†ç¾¤ï¼Œé‡æ–°ä¿®æ”¹é…ç½®å†ä¸Šçº¿ï¼Œä¿è¯æ–°å¢çš„ Consumer ä¹Ÿå¯ä»¥æ¶ˆè´¹æ•°æ®ï¼Œå…¶å®ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼Œæœ‰æ—¶å€™å¯¹äºçº¿ä¸Šä¸šåŠ¡æ¥è¯´æ˜¯è‡´å‘½çš„ã€‚</p>
<p>å› æ­¤ Kafka ä¹Ÿæä¾›äº†å¦å¤–ä¸€ç§æ–¹å¼ã€‚</p>
</blockquote>
<h5 id="high-level"><a class="markdownIt-Anchor" href="#high-level"></a> High Level</h5>
<blockquote>
<p>Kafka æä¾›äº†è‡ªåŠ¨åˆ†é…çš„æ–¹å¼ï¼Œè¿™é‡Œä¹Ÿå«åš High Level çš„æ¶ˆè´¹æ–¹å¼ï¼Œç®€å•çš„æ¥è¯´ï¼Œå°±æ˜¯åœ¨ Broker é›†ç¾¤ä¸­ï¼Œå¯¹äºä¸åŒçš„ Consumer Group æ¥è®²ï¼Œéƒ½ä¼šé€‰å–ä¸€å° Broker å½“åš Coordinatorï¼Œè€Œ Coordinator çš„ä½œç”¨å°±æ˜¯å¸®åŠ© Consumer Group è¿›è¡Œåˆ†ç‰‡çš„åˆ†é…ï¼Œä¹Ÿå«åšåˆ†ç‰‡çš„ Rebalance</p>
<p>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå¦‚æœ Consumer Group ä¸­æœ‰å‘ç”Ÿå®•æœºï¼Œæˆ–è€…æœ‰æ–°çš„ Consumer åŠ å…¥ï¼Œæ•´ä¸ª partition å’Œ Consumer éƒ½ä¼šé‡æ–°è¿›è¡Œåˆ†é…æ¥è¾¾åˆ°ä¸€ä¸ªç¨³å®šçš„æ¶ˆè´¹çŠ¶æ€</p>
</blockquote>
<h4 id="210-consumer-rebalance"><a class="markdownIt-Anchor" href="#210-consumer-rebalance"></a> 2.10 Consumer Rebalance</h4>
<p>ç›¸å…³å‚è€ƒ<a class="link"   href="https://www.cnblogs.com/listenfwind/p/12662968.html" >https://www.cnblogs.com/listenfwind/p/12662968.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="å°ç»“-æé«˜-kafka-ååæˆ–è€…ç¨³å®šæ€§çš„åŠŸèƒ½"><a class="markdownIt-Anchor" href="#å°ç»“-æé«˜-kafka-ååæˆ–è€…ç¨³å®šæ€§çš„åŠŸèƒ½"></a> å°ç»“ - æé«˜ Kafka ååæˆ–è€…ç¨³å®šæ€§çš„åŠŸèƒ½</h4>
<ul>
<li>Producerï¼šæ‰¹é‡å‘é€ã€æ•°æ®å‹ç¼©</li>
<li>Brokerï¼šé¡ºåºå†™ï¼Œæ¶ˆæ¯ç´¢å¼•ï¼Œé›¶æ‹·è´</li>
<li>Consumerï¼šRebalance</li>
</ul>
<h4 id="211-kafka-æ•°æ®å¤åˆ¶é—®é¢˜"><a class="markdownIt-Anchor" href="#211-kafka-æ•°æ®å¤åˆ¶é—®é¢˜"></a> 2.11 Kafka - æ•°æ®å¤åˆ¶é—®é¢˜</h4>
<p>å¯¹äº Kafka æ¥è¯´ï¼Œæ¯ä¸€ä¸ª Broker ä¸Šéƒ½æœ‰ä¸åŒ Topic åˆ†åŒºçš„ä¸åŒå‰¯æœ¬ï¼Œè€Œæ¯ä¸€ä¸ªå‰¯æœ¬ï¼Œä¼šå°†å…¶æ•°æ®å­˜å‚¨åˆ°è¯¥ Kafka èŠ‚ç‚¹ä¸Šé¢ï¼Œå¯¹äºä¸åŒçš„èŠ‚ç‚¹ä¹‹é—´ï¼Œé€šè¿‡å‰¯æœ¬ç›´æ¥çš„æ•°æ®å¤åˆ¶ï¼Œæ¥ä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ä¸é›†ç¾¤çš„é«˜å¯ç”¨ã€‚</p>
<h4 id="212-kafka-é‡å¯æ“ä½œ"><a class="markdownIt-Anchor" href="#212-kafka-é‡å¯æ“ä½œ"></a> 2.12 Kafka - é‡å¯æ“ä½œ</h4>
<p>å¯¹ä¸€ä¸ªæœºå™¨è¿›è¡Œé‡å¯</p>
<ul>
<li>
<p>é¦–å…ˆä¼šå…³é—­ä¸€ä¸ª Brokerï¼Œæ­¤æ—¶å¦‚æœè¯¥ Broker ä¸Šå­˜åœ¨å‰¯æœ¬çš„ Leaderï¼Œé‚£ä¹ˆè¯¥å‰¯æœ¬å°†å‘ç”Ÿ Leader åˆ‡æ¢ï¼Œåˆ‡æ¢åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šå¹¶ä¸”åœ¨ ISR ä¸­çš„ Follower å‰¯æœ¬</p>
</li>
<li>
<p>è€Œæ­¤æ—¶ï¼Œå› ä¸ºæ•°æ®åœ¨ä¸æ–­çš„å†™å…¥ï¼Œå¯¹äºåˆšåˆšå…³é—­é‡å¯çš„ Broker æ¥è¯´ï¼Œå’Œæ–° Leader ä¹‹é—´ä¸€å®šä¼šå­˜åœ¨æ•°æ®çš„æ»åï¼Œæ­¤æ—¶è¿™ä¸ª Broker ä¼šè¿½èµ¶æ•°æ®ï¼Œé‡æ–°åŠ å…¥åˆ° ISR å½“ä¸­</p>
</li>
<li>
<p>å½“æ•°æ®è¿½èµ¶å®Œæˆä¹‹åï¼Œéœ€è¦å›åˆ‡ Leaderï¼Œè¿™ä¸€æ­¥å«åš prefer leaderï¼Œç›®çš„æ˜¯ä¸ºäº†é¿å…åœ¨ä¸€ä¸ªé›†ç¾¤é•¿æœŸè¿è¡Œåï¼Œæ‰€æœ‰çš„ Leader éƒ½åˆ†å¸ƒåœ¨å°‘æ•°èŠ‚ç‚¹ä¸Šå¯¼è‡´æ•°æ®çš„ä¸å‡è¡¡</p>
</li>
<li>
<p>é€šè¿‡ä¸Šé¢çš„ä¸€ä¸ªæµç¨‹åˆ†æï¼Œå¯ä»¥å‘ç°å¯¹äºä¸€ä¸ª Broker çš„é‡å¯æ¥è¯´ï¼Œéœ€è¦è¿›è¡Œæ•°æ®å¤åˆ¶ï¼Œæ‰€ä»¥æ—¶é—´æˆæœ¬ä¼šæ¯”è¾ƒå¤§</p>
<blockquote>
<p>æ¯”å¦‚ä¸€ä¸ªèŠ‚ç‚¹é‡å¯éœ€è¦10åˆ†é’Ÿï¼Œä¸€ä¸ªé›†ç¾¤æœ‰1000ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœè¯¥é›†ç¾¤éœ€è¦é‡å¯å‡çº§ï¼Œåˆ™éœ€è¦10000åˆ†é’Ÿï¼Œé‚£å·®ä¸å¤šå°±æ˜¯ä¸€ä¸ªæ˜ŸæœŸï¼Œè¿™æ ·çš„æ—¶é—´æˆæœ¬æ˜¯éå¸¸å¤§çš„ã€‚ å¯èƒ½ä¼šé—®ï¼Œèƒ½ä¸èƒ½å¹¶å‘å¤šå°é‡å¯ï¼Œç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚å› ä¸ºåœ¨ä¸€ä¸ªä¸¤å‰¯æœ¬çš„é›†ç¾¤ä¸­ï¼Œé‡å¯äº†ä¸¤å°æœºå™¨ï¼Œå¯¹æŸä¸€åˆ†ç‰‡æ¥è®²ï¼Œå¯èƒ½ä¸¤ä¸ªåˆ†ç‰‡éƒ½åœ¨è¿™å°æœºå™¨ä¸Šé¢ï¼Œåˆ™ä¼šå¯¼è‡´è¯¥é›†ç¾¤å¤„äºä¸å¯ç”¨çš„çŠ¶æ€ã€‚è¿™æ˜¯æ›´ä¸èƒ½æ¥å—çš„ã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="213-kafka-æ›¿æ¢-æ‰©å®¹-ç¼©å®¹"><a class="markdownIt-Anchor" href="#213-kafka-æ›¿æ¢-æ‰©å®¹-ç¼©å®¹"></a> 2.13 Kafka - æ›¿æ¢ã€æ‰©å®¹ã€ç¼©å®¹</h4>
<ul>
<li>æ›¿æ¢ï¼Œæœ¬è´¨ä¸Šæ¥è®²å°±æ˜¯ä¸€ä¸ªéœ€è¦è¿½æ›´å¤šæ•°æ®çš„é‡å¯æ“ä½œï¼Œå› ä¸ºæ­£å¸¸é‡å¯åªéœ€è¦è¿½ä¸€å°éƒ¨åˆ†ï¼Œè€Œæ›¿æ¢ï¼Œåˆ™æ˜¯éœ€è¦å¤åˆ¶æ•´ä¸ªleaderçš„æ•°æ®ï¼Œæ—¶é—´ä¼šæ›´é•¿</li>
<li>æ‰©å®¹ï¼Œå½“åˆ†ç‰‡åˆ†é…åˆ°æ–°çš„æœºå™¨ä¸Šä»¥åï¼Œä¹Ÿæ˜¯ç›¸å½“äºè¦ä»0å¼€å§‹å¤åˆ¶ä¸€äº›æ–°çš„å‰¯æœ¬</li>
<li>ç¼©å®¹ï¼Œç¼©å®¹èŠ‚ç‚¹ä¸Šé¢çš„åˆ†ç‰‡ä¹Ÿä¼šåˆ†ç‰‡åˆ°é›†ç¾¤ä¸­å‰©ä½™èŠ‚ç‚¹ä¸Šé¢ï¼Œåˆ†é…è¿‡å»çš„å‰¯æœ¬ä¹Ÿä¼šä»0å¼€å§‹å»å¤åˆ¶æ•°æ®</li>
</ul>
<p>ä»¥ä¸Šä¸‰ä¸ªæ“ä½œå‡æœ‰æ•°æ®å¤åˆ¶æ‰€å¸¦æ¥çš„æ—¶é—´æˆæœ¬é—®é¢˜ï¼Œæ‰€ä»¥å¯¹äº Kafka æ¥è¯´ï¼Œè¿ç»´æ“ä½œæ‰€å¸¦æ¥çš„æ—¶é—´æˆæœ¬æ˜¯ä¸å®¹å¿½è§†çš„</p>
<h4 id="214-kafka-è´Ÿè½½ä¸å‡è¡¡"><a class="markdownIt-Anchor" href="#214-kafka-è´Ÿè½½ä¸å‡è¡¡"></a> 2.14 Kafka - è´Ÿè½½ä¸å‡è¡¡</h4>
<p>åœºæ™¯ï¼šåŒä¸€ä¸ª Topic æœ‰4ä¸ªåˆ†ç‰‡ï¼Œä¸¤å‰¯æœ¬ï¼Œå¯¹äºåˆ†ç‰‡1æ¥è¯´ï¼Œæ•°æ®é‡æ˜æ˜¾æ¯”å…¶ä»–åˆ†ç‰‡è¦å¤§ï¼Œå½“æœºå™¨ IO è¾¾åˆ°ç“¶é¢ˆçš„æ—¶å€™ï¼Œå¯èƒ½å°±éœ€è¦æŠŠç¬¬ä¸€å° Brokerä¸Šé¢çš„å…¶ä»–çš„ Partition è¿ç§»åˆ°å…¶ä»–è´Ÿè½½å°çš„ Brokerä¸Šé¢</p>
<p>ä½†æ•°æ®å¤åˆ¶åˆä¼šå¼•èµ· Broker çš„ IO å‡é«˜ï¼Œæ‰€ä»¥é—®é¢˜å°±å˜æˆäº†ä¸ºäº†å»è§£å†³ IO å‡é«˜ï¼Œä½†è§£å†³é—®é¢˜çš„è¿‡ç¨‹åˆä¼šå¸¦æ¥æ›´é«˜çš„IOã€‚æ‰€ä»¥å°±éœ€è¦æƒè¡¡ IO è®¾è®¡å‡ºä¸€ä¸ªæå…¶å¤æ‚çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ã€‚</p>
<h4 id="kafka-é—®é¢˜æ€»ç»“"><a class="markdownIt-Anchor" href="#kafka-é—®é¢˜æ€»ç»“"></a> Kafka - é—®é¢˜æ€»ç»“</h4>
<ol>
<li>è¿ç»´æˆæœ¬é«˜</li>
<li>å¯¹äºè´Ÿè½½ä¸å‡è¡¡çš„åœºæ™¯ï¼Œè§£å†³æ–¹æ¡ˆå¤æ‚</li>
<li>æ²¡æœ‰è‡ªå·±çš„ç¼“å­˜ï¼Œå®Œå…¨ä¾èµ– Page Cache</li>
<li>Controller å’Œ Coordinator å’Œ Broker åœ¨åŒä¸€è¿›ç¨‹ä¸­ï¼Œå¤§é‡ IO ä¼šé€ æˆå…¶æ€§èƒ½ä¸‹é™</li>
</ol>
<h3 id="3æ¶ˆæ¯é˜Ÿåˆ—-bmq"><a class="markdownIt-Anchor" href="#3æ¶ˆæ¯é˜Ÿåˆ—-bmq"></a> 3.æ¶ˆæ¯é˜Ÿåˆ— - BMQ</h3>
<p>ByteMQï¼Œç®€ç§° BMQï¼Œç”±å­—èŠ‚è·³åŠ¨å›¢é˜Ÿè‡ªä¸»ç ”å‘ã€‚</p>
<h4 id="31-bmq-ç®€ä»‹"><a class="markdownIt-Anchor" href="#31-bmq-ç®€ä»‹"></a> 3.1 BMQ ç®€ä»‹</h4>
<p>BMQ å…¼å®¹ Kafka åè®®ï¼Œå­˜ç®—åˆ†ç¦»ï¼Œäº‘åŸç”Ÿæ¶ˆæ¯é˜Ÿåˆ—ï¼ŒåˆæœŸå®šä½æ˜¯æ‰¿æ¥é«˜ååçš„ç¦»çº¿ä¸šåŠ¡åœºæ™¯ï¼Œé€æ­¥æ›¿æ¢æ‰å¯¹åº”çš„ Kafka é›†ç¾¤ã€‚</p>
<p>Producer â€”&gt; Consumer â€”&gt; Proxy â€”&gt; Broker â€”&gt; HDFS â€”&gt; Controller â€”&gt; Coordinator â€”&gt; Meta</p>
<p>è¿™é‡Œç€é‡å¼ºè°ƒ Proxy å’Œ Broker æ— çŠ¶æ€ï¼Œä¸ºä¸ä¸‹é¢çš„è¿ç»´è¿›è¡Œæ¯”è¾ƒï¼Œç®€å•è¯´æ˜å­˜ç®—åˆ†ç¦»ï¼Œé€‚é… Kafka åè®®ä»¥åŠä¸é€‰æ‹© Pulsar çš„åŸå› </p>
<h4 id="32-è¿ç»´æ“ä½œå¯¹æ¯”"><a class="markdownIt-Anchor" href="#32-è¿ç»´æ“ä½œå¯¹æ¯”"></a> 3.2 è¿ç»´æ“ä½œå¯¹æ¯”</h4>
<table>
<thead>
<tr>
<th style="text-align:center">å…·ä½“æ“ä½œ</th>
<th style="text-align:center">Kafka</th>
<th style="text-align:center">BMQ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">é‡å¯</td>
<td style="text-align:center">éœ€è¦æ•°æ®å¤åˆ¶ï¼Œåˆ†é’Ÿçº§é‡å¯</td>
<td style="text-align:center">é‡å¯åå¯ç›´æ¥å¯¹å¤–æœåŠ¡ï¼Œç§’çº§å®Œæˆ</td>
</tr>
<tr>
<td style="text-align:center">æ›¿æ¢</td>
<td style="text-align:center">éœ€è¦æ•°æ®å¤åˆ¶ï¼Œåˆ†é’Ÿçº§æ›¿æ¢ï¼Œç”šè‡³å¤©çº§åˆ«</td>
<td style="text-align:center">æ›¿æ¢åå¯ç›´æ¥å¯¹å¤–æœåŠ¡ï¼Œç§’çº§å®Œæˆ</td>
</tr>
<tr>
<td style="text-align:center">æ‰©å®¹</td>
<td style="text-align:center">éœ€è¦æ•°æ®å¤åˆ¶ï¼Œåˆ†é’Ÿçº§æ‰©å®¹ï¼Œç”šè‡³å¤©çº§åˆ«</td>
<td style="text-align:center">æ‰©å®¹åå¯ç›´æ¥å¯¹å¤–æœåŠ¡ï¼Œç§’çº§å®Œæˆ</td>
</tr>
<tr>
<td style="text-align:center">ç¼©å®¹</td>
<td style="text-align:center">éœ€è¦æ•°æ®å¤åˆ¶ï¼Œåˆ†é’Ÿçº§ç¼©å®¹ï¼Œç”šè‡³å¤©çº§åˆ«</td>
<td style="text-align:center">ç¼©å®¹åå¯ç›´æ¥å¯¹å¤–æœåŠ¡ï¼Œç§’çº§å®Œæˆ</td>
</tr>
</tbody>
</table>
<p>å®é™…ä¸Šå¯¹äºæ‰€æœ‰èŠ‚ç‚¹å˜æ›´çš„æ“ä½œï¼Œéƒ½ä»…ä»…åªæ˜¯é›†ç¾¤å…ƒæ•°æ®çš„å˜åŒ–ï¼Œé€šå¸¸æƒ…å†µä¸‹éƒ½èƒ½ç§’çº§å®Œæˆï¼Œè€ŒçœŸæ­£çš„æ•°æ®å·²ç»ç§»åˆ°ä¸‹å±‚åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨å»äº†ï¼Œæ‰€ä»¥è¿ç»´æ“ä½œä¸éœ€è¦é¢å¤–å…³å¿ƒæ•°æ®å¤åˆ¶æ‰€å¸¦æ¥çš„æ—¶é—´æˆæœ¬</p>
<h4 id="33-hdfs-å†™æ–‡ä»¶æµç¨‹"><a class="markdownIt-Anchor" href="#33-hdfs-å†™æ–‡ä»¶æµç¨‹"></a> 3.3 HDFS å†™æ–‡ä»¶æµç¨‹</h4>
<p>åŒä¸€ä¸ªå‰¯æœ¬æ˜¯ç”±å¤šä¸ª segment ç»„æˆï¼ŒBMQ å¯¹äºå•ä¸ªæ–‡ä»¶å†™å…¥çš„æœºåˆ¶ï¼Œé¦–å…ˆå®¢æˆ·ç«¯å†™å…¥å‰ä¼šé€‰æ‹©ä¸€å®šæ•°é‡çš„ DataNodeï¼Œè¿™ä¸ªæ•°é‡æ˜¯å‰¯æœ¬æ•°ï¼Œç„¶åå°†ä¸€ä¸ªæ–‡ä»¶å†™å…¥åˆ°ä¸‰ä¸ªèŠ‚ç‚¹ä¸Šï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª segment ä¹‹åï¼Œåˆä¼šé‡æ–°é€‰æ‹©ä¸‰ä¸ªèŠ‚ç‚¹è¿›è¡Œå†™å…¥ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¯¹äºå•ä¸ªå‰¯æœ¬çš„æ‰€æœ‰ segment æ¥è®²ï¼Œä¼šéšæœºåœ°åˆ†é…åˆ°åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„æ•´ä¸ªé›†ç¾¤ä¸­ã€‚</p>
<h4 id="34-bmq-æ–‡ä»¶ç»“æ„"><a class="markdownIt-Anchor" href="#34-bmq-æ–‡ä»¶ç»“æ„"></a> 3.4 BMQ æ–‡ä»¶ç»“æ„</h4>
<p>å¯¹äº Kafka åˆ†ç‰‡æ•°æ®çš„å†™å…¥ï¼Œæ˜¯å…ˆåœ¨ Leader ä¸Šé¢å†™å¥½æ–‡ä»¶ï¼Œç„¶ååŒæ­¥åˆ° Follower ä¸Šï¼Œæ‰€ä»¥åŒä¸€ä¸ªå‰¯æœ¬çš„æ‰€æœ‰ Segment éƒ½åœ¨åŒä¸€å°æœºå™¨ä¸Šé¢ã€‚ä¼šå­˜åœ¨ä¹‹å‰è¯´åˆ°çš„å•åˆ†ç‰‡è¿‡å¤§å¯¼è‡´è´Ÿè½½ä¸å‡è¡¡çš„é—®é¢˜ï¼Œä½†åœ¨ BMQ é›†ç¾¤ä¸­ï¼Œå› ä¸ºå¯¹äºå•ä¸ªå‰¯æœ¬æ¥è®²ï¼Œæ˜¯éšæœºåˆ†é…åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Šé¢çš„ï¼Œå› æ­¤ä¸ä¼šå­˜åœ¨ Kafka çš„è´Ÿè½½ä¸å‡é—®é¢˜ã€‚</p>
<h4 id="35-broker"><a class="markdownIt-Anchor" href="#35-broker"></a> 3.5 Broker</h4>
<h5 id="partition-çŠ¶æ€æœº"><a class="markdownIt-Anchor" href="#partition-çŠ¶æ€æœº"></a> Partition çŠ¶æ€æœº</h5>
<p>å…¶å®å¯¹äºå†™å…¥çš„é€»è¾‘æ¥è¯´ï¼Œè¿˜æœ‰ä¸€ä¸ªçŠ¶æ€æœºçš„æœºåˆ¶ï¼Œç”¨æ¥ä¿è¯ä¸ä¼šå‡ºç°åŒä¸€ä¸ªåˆ†ç‰‡åœ¨ä¸¤ä¸ª Broker ä¸ŠåŒæ—¶å¯åŠ¨çš„æƒ…å†µï¼Œå¦å¤–ä¹Ÿèƒ½å¤Ÿä¿è¯ä¸€ä¸ªåˆ†ç‰‡çš„æ­£å¸¸è¿è¡Œã€‚</p>
<p>é¦–å…ˆ Controller åšå¥½åˆ†ç‰‡çš„åˆ†é…ä¹‹åï¼Œå¦‚æœåœ¨è¯¥ Broker åˆ†é…åˆ°äº† Brokerï¼Œé¦–å…ˆä¼š start è¿™ä¸ªåˆ†ç‰‡ï¼Œç„¶åè¿›å…¥ Recover çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¸»è¦æœ‰ä¸¤ä¸ªç›®çš„</p>
<ul>
<li>
<p>ç¬¬ä¸€ä¸ªç›®çš„æ˜¯è·å–åˆ†ç‰‡å†™å…¥æƒåˆ©ï¼Œå³å¯¹äº hdfs æ¥è®²ï¼Œåªä¼šå…è®¸ä¸€ä¸ªåˆ†ç‰‡è¿›è¡Œå†™å…¥ï¼Œåªæœ‰æ‹¿åˆ°è¿™ä¸ªæƒåˆ©çš„åˆ†ç‰‡æ‰èƒ½å†™å…¥ã€‚</p>
</li>
<li>
<p>ç¬¬äºŒä¸ªç›®çš„æ˜¯å¦‚æœä¸Šæ¬¡åˆ†ç‰‡æ˜¯å¼‚å¸¸ä¸­æ–­çš„ï¼Œæ²¡æœ‰è¿›è¡Œ save checkpointï¼Œè¿™é‡Œä¼šé‡æ–°è¿›è¡Œä¸€æ¬¡ save checkpointï¼Œç„¶åå°±è¿›å…¥äº†æ­£å¸¸çš„å†™æµç¨‹çŠ¶æ€ï¼Œåˆ›å»ºæ–‡ä»¶ï¼Œå†™å…¥æ•°æ®ï¼Œåˆ°ä¸€å®šå¤§å°ä¹‹ååˆå¼€å§‹å»ºç«‹æ–°çš„æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚</p>
</li>
</ul>
<h5 id="å†™æ–‡ä»¶æµç¨‹"><a class="markdownIt-Anchor" href="#å†™æ–‡ä»¶æµç¨‹"></a> å†™æ–‡ä»¶æµç¨‹</h5>
<ul>
<li>
<p>æ•°æ®æ ¡éªŒï¼šCRC , å‚æ•°æ˜¯å¦åˆæ³•</p>
</li>
<li>
<p>æ ¡éªŒå®Œæˆåï¼Œä¼šæŠŠæ•°æ®æ”¾å…¥Bufferä¸­ï¼Œé€šè¿‡ä¸€ä¸ªå¼‚æ­¥çš„Write Threadçº¿ç¨‹å°†æ•°æ®æœ€ç»ˆå†™å…¥åˆ°åº•å±‚çš„å­˜å‚¨ç³»ç»Ÿå½“ä¸­</p>
<blockquote>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œå°±æ˜¯å¯¹äºä¸šåŠ¡çš„å†™å…¥æ¥è¯´ï¼Œå¯ä»¥é…ç½®è¿”å›æ–¹å¼ï¼Œå¯ä»¥åœ¨å†™å®Œç¼“å­˜ä¹‹åç›´æ¥è¿”å›ï¼Œå¦å¤–ä¹Ÿå¯ä»¥æ•°æ®çœŸæ­£å†™å…¥å­˜å‚¨ç³»ç»Ÿåå†è¿”å›ï¼Œå¯¹äºè¿™ä¸¤ä¸ªæ¥è¯´å‰è€…æŸå¤±äº†æ•°æ®çš„å¯é æ€§ï¼Œå¸¦æ¥äº†ååæ€§èƒ½çš„ä¼˜åŠ¿ï¼Œå› ä¸ºåªå†™å…¥å†…å­˜æ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä½†å¦‚æœåœ¨ä¸‹ä¸€æ¬¡ flush å‰å‘ç”Ÿå®•æœºäº†ï¼Œè¿™ä¸ªæ—¶å€™æ•°æ®å°±æœ‰å¯èƒ½ä¸¢å¤±ï¼Œåè€…çš„è¯ï¼Œå› ä¸ºæ•°æ®å·²ç»å†™å…¥äº†å­˜å‚¨ç³»ç»Ÿï¼Œè¿™ä¸ªæ—¶å€™ä¹Ÿä¸éœ€è¦æ‹…å¿ƒæ•°æ®ä¸¢å¤±ï¼Œç›¸åº”çš„æ¥è¯´ååå°±ä¼šå°ä¸€äº›</p>
</blockquote>
</li>
</ul>
<p>Thread çš„å…·ä½“é€»è¾‘</p>
<ul>
<li>
<p>é¦–å…ˆä¼šå°† Buffer ä¸­çš„æ•°æ®å–å‡ºæ¥ï¼Œè°ƒç”¨åº•å±‚å†™å…¥é€»è¾‘ï¼Œåœ¨ä¸€å®šçš„æ—¶é—´å‘¨æœŸä¸Šå» flushï¼Œ flush å®Œæˆåå¼€å§‹å»ºç«‹ Indexï¼Œä¹Ÿå°±æ˜¯ offset å’Œ timestamp å¯¹åº”æ¶ˆæ¯å…·ä½“ä½ç½®çš„æ˜ å°„å…³ç³»</p>
</li>
<li>
<p>Indexå»ºç«‹å¥½ä»¥åï¼Œä¼š save ä¸€æ¬¡ checkpointï¼Œå³è¡¨ç¤º checkpoint åçš„æ•°æ®æ˜¯å¯ä»¥è¢«æ¶ˆè´¹çš„ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæ²¡æœ‰ checkpoint çš„æƒ…å†µä¸‹ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœ flush å®Œæˆä¹‹åå®•æœºï¼Œindex è¿˜æ²¡æœ‰å»ºç«‹ï¼Œè¿™ä¸ªæ•°æ®æ˜¯ä¸åº”è¯¥è¢«æ¶ˆè´¹çš„</p>
</li>
<li>
<p>æœ€åå½“æ–‡ä»¶åˆ°è¾¾ä¸€å®šå¤§å°ä¹‹åï¼Œéœ€è¦å»ºç«‹ä¸€ä¸ªæ–°çš„ segment æ–‡ä»¶æ¥å†™å…¥</p>
</li>
</ul>
<h5 id="å†™æ–‡ä»¶-failover"><a class="markdownIt-Anchor" href="#å†™æ–‡ä»¶-failover"></a> å†™æ–‡ä»¶ Failover</h5>
<p>å»ºç«‹ä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œä¼šéšæœºæŒ‘é€‰ä¸å‰¯æœ¬æ•°é‡ç›¸å½“çš„æ•°æ®èŠ‚ç‚¹è¿›è¡Œå†™å…¥ï¼Œä½†å¦‚æœæ­¤æ—¶æŒ‘é€‰èŠ‚ç‚¹ä¸­æœ‰ä¸€ä¸ªå‡ºç°äº†é—®é¢˜ï¼Œå¯¼è‡´ä¸èƒ½æ­£å¸¸å†™å…¥äº†ï¼Œåº”è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ</p>
<p>å¯ä»¥é‡æ–°æ‰¾æ­£å¸¸çš„èŠ‚ç‚¹åˆ›å»ºæ–°çš„æ–‡ä»¶è¿›è¡Œå†™å…¥ï¼Œè¿™æ ·ä¹Ÿå°±ä¿è¯äº†å†™å…¥çš„å¯ç”¨æ€§ã€‚</p>
<h4 id="36-proxy"><a class="markdownIt-Anchor" href="#36-proxy"></a> 3.6 Proxy</h4>
<ul>
<li>
<p>é¦–å…ˆ Consumer å‘é€ä¸€ä¸ª Fetch Requestï¼Œç„¶åä¼šæœ‰ä¸€ä¸ª Wait æµç¨‹ï¼Œé‚£ä¹ˆä»–çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>æƒ³è±¡ä¸€ä¸ª Topicï¼Œå¦‚æœä¸€ç›´æ²¡æœ‰æ•°æ®å†™å…¥ï¼Œé‚£ä¹ˆæ­¤æ—¶ consumer å°±ä¼šä¸€ç›´å‘é€ Fetch Requestï¼Œå¦‚æœ Consumer æ•°é‡è¿‡å¤šï¼ŒBMQ çš„ serverç«¯ æ˜¯æ‰›ä¸ä½è¿™ä¸ªè¯·æ±‚çš„ã€‚</p>
<p>å› æ­¤è®¾ç½®äº†ä¸€ä¸ªç­‰å¾…æœºåˆ¶ï¼Œå¦‚æœæ²¡æœ‰ fetch åˆ°æŒ‡å®šå¤§å°çš„æ•°æ®ï¼Œé‚£ä¹ˆ proxy ä¼šç­‰å¾…ä¸€å®šçš„æ—¶é—´ï¼Œå†è¿”å›ç»™ç”¨æˆ·ä¾§ï¼Œè¿™æ ·ä¹Ÿå°±é™ä½äº† fetch è¯·æ±‚çš„ IO æ¬¡æ•°ï¼Œç»è¿‡ wait æµç¨‹åï¼Œä¼šåˆ° Cache é‡Œé¢å»å¯»æ‰¾æ˜¯å¦æœ‰å­˜åœ¨æƒ³è¦çš„æ•°æ®ï¼Œå¦‚æœæœ‰ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†å¼€å§‹å»å­˜å‚¨ç³»ç»Ÿå½“ä¸­å¯»æ‰¾ï¼Œé¦–å…ˆä¼š Open è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åé€šè¿‡ Index æ‰¾åˆ°æ•°æ®æ‰€åœ¨çš„å…·ä½“ä½ç½®ï¼Œä»è¿™ä¸ªä½ç½®å¼€å§‹è¯»å–æ•°æ®</p>
</li>
</ul>
<h4 id="37-å¤šæœºæˆ¿éƒ¨ç½²"><a class="markdownIt-Anchor" href="#37-å¤šæœºæˆ¿éƒ¨ç½²"></a> 3.7 å¤šæœºæˆ¿éƒ¨ç½²</h4>
<p>ä¸ºä»€ä¹ˆéœ€è¦å¤šæœºæˆ¿éƒ¨ç½²ï¼Ÿ</p>
<p>å…¶å®å¯¹äºä¸€ä¸ªé«˜å¯ç”¨çš„æœåŠ¡ï¼Œé™¤äº†è¦é˜²æ­¢å•æœºæ•…éšœæ‰€å¸¦æ¥çš„çš„å½±å“æ„å¤–ï¼Œä¹Ÿè¦é˜²æ­¢æœºæˆ¿çº§æ•…éšœæ‰€å¸¦æ¥çš„å½±å“ï¼Œæ¯”å¦‚æœºæˆ¿æ–­ç‚¹ï¼Œæœºæˆ¿ä¹‹é—´ç½‘ç»œæ•…éšœç­‰ç­‰ã€‚</p>
<p>BMQ çš„å¤šæœºæˆ¿éƒ¨ç½²ï¼šProxy â€”&gt; Broker â€”&gt; Meta â€”&gt; HDFS</p>
<h4 id="38-bmq-é«˜çº§ç‰¹æ€§"><a class="markdownIt-Anchor" href="#38-bmq-é«˜çº§ç‰¹æ€§"></a> 3.8 BMQ - é«˜çº§ç‰¹æ€§</h4>
<p>æ³³é“ â€”&gt; Databus â€”&gt; Mirror â€”&gt; Index â€”&gt; Parquet</p>
<h4 id="39-æ³³é“æ¶ˆæ¯"><a class="markdownIt-Anchor" href="#39-æ³³é“æ¶ˆæ¯"></a> 3.9 æ³³é“æ¶ˆæ¯</h4>
<p>å¼€å‘æµç¨‹ï¼šå¼€å‘ â€”&gt; BOE â€”&gt; PPE â€”&gt; Prod</p>
<p>BOEï¼šBytedance Offline Environmentï¼Œæ˜¯ä¸€å¥—å®Œå…¨ç‹¬ç«‹çš„çº¿ä¸‹æœºæˆ¿ç¯å¢ƒ</p>
<p>PPEï¼šProduct Preview Environmentï¼Œå³äº§å“é¢„è§ˆç¯å¢ƒ</p>
<p>BOE æµ‹è¯•ï¼šå¤šä¸ªäººåŒæ—¶æµ‹è¯•ï¼Œéœ€è¦ç­‰å¾…ä¸Šä¸€ä¸ªäººæµ‹è¯•å®Œæˆã€‚æ¯å¤šä¸€ä¸ªæµ‹è¯•äººå‘˜ï¼Œéƒ½éœ€è¦é‡æ–°æ­å»ºä¸€ä¸ªç›¸åŒé…ç½®çš„ Topicï¼Œé€ æˆäººåŠ›å’Œèµ„æºçš„æµªè´¹ã€‚</p>
<p>PPE éªŒè¯ï¼šå¯¹äº PPE çš„æ¶ˆè´¹è€…æ¥è¯´ï¼Œèµ„æºæ²¡æœ‰ç”Ÿäº§ç¯å¢ƒå¤šï¼Œæ‰€ä»¥æ— æ³•æ‰¿å—ç”Ÿäº§ç¯å¢ƒçš„æµé‡ã€‚è§£å†³ä¸»å¹²æ³³é“æµé‡éš”ç¦»é—®é¢˜ä»¥åŠæ³³é“èµ„æºé‡å¤åˆ›å»ºé—®é¢˜ã€‚</p>
<h4 id="310-databus"><a class="markdownIt-Anchor" href="#310-databus"></a> 3.10 Databus</h4>
<p>ç›´æ¥ä½¿ç”¨åŸç”Ÿ SDK çš„é—®é¢˜</p>
<ol>
<li>å®¢æˆ·ç«¯é…ç½®è¾ƒä¸ºå¤æ‚</li>
<li>ä¸æ”¯æŒåŠ¨æ€é…ç½®ï¼Œæ›´æ”¹é…ç½®éœ€è¦åœæ‰æœåŠ¡</li>
<li>å¯¹äº latency ä¸æ˜¯å¾ˆæ•æ„Ÿçš„ä¸šåŠ¡ï¼Œbatch æ•ˆæœä¸ä½³</li>
</ol>
<p>ä½¿ç”¨Databus çš„ä¼˜ç‚¹</p>
<ol>
<li>ç®€åŒ–æ¶ˆæ¯é˜Ÿåˆ—å®¢æˆ·ç«¯å¤æ‚åº¦</li>
<li>è§£è€¦ä¸šåŠ¡ä¸ Topic</li>
<li>ç¼“è§£é›†ç¾¤å‹åŠ›ï¼Œæé«˜åå</li>
</ol>
<h4 id="311-mirror"><a class="markdownIt-Anchor" href="#311-mirror"></a> 3.11 Mirror</h4>
<p>æ€è€ƒï¼šæ˜¯å¦å¯ä»¥é€šè¿‡å¤šæœºæˆ¿éƒ¨ç½²çš„æ–¹å¼ï¼Œè§£å†³è·¨ Region è¯»å†™çš„é—®é¢˜ï¼Ÿ</p>
<p>ä½¿ç”¨ Mirror é€šè¿‡æœ€ç»ˆä¸€è‡´çš„æ–¹å¼ï¼Œè§£å†³è·¨ Region è¯»å†™é—®é¢˜ã€‚</p>
<h4 id="312-index"><a class="markdownIt-Anchor" href="#312-index"></a> 3.12 Index</h4>
<p>æ€è€ƒï¼šå¦‚ä½•é€šè¿‡å†™å…¥çš„ LogIdã€UserId æˆ–è€…å…¶ä»–çš„ä¸šåŠ¡å­—æ®µè¿›è¡Œæ¶ˆæ¯çš„æŸ¥è¯¢ï¼Ÿ</p>
<p>ç›´æ¥åœ¨ BMQ ä¸­å°†æ•°æ®ç»“æ„åŒ–ï¼Œé…ç½®ç´¢å¼• DDLï¼Œå¼‚æ­¥æ„å»ºç´¢å¼•åï¼Œé€šè¿‡ Index Query æœåŠ¡è¯»å‡ºæ•°æ®ã€‚</p>
<h4 id="313-parquet"><a class="markdownIt-Anchor" href="#313-parquet"></a> 3.13 Parquet</h4>
<p>Apache Parquet æ˜¯ Hadoop ç”Ÿæ€åœˆä¸­ä¸€ç§æ–°å‹åˆ—å¼å­˜å‚¨æ ¼å¼ï¼Œå®ƒå¯ä»¥å…¼å®¹ Hadoop ç”Ÿæ€åœˆä¸­å¤§å¤šæ•°è®¡ç®—æ¡†æ¶ï¼ˆHadoopã€Sparkç­‰ï¼‰ï¼Œè¢«å¤šç§æŸ¥è¯¢å¼•æ“æ”¯æŒï¼ˆHiveã€Impalaã€Drill ç­‰ï¼‰ã€‚</p>
<ul>
<li>
<p>æœ‰è¡Œå¼å­˜å‚¨å’Œåˆ—å¼å­˜å‚¨</p>
</li>
<li>
<p>ç›´æ¥åœ¨ BMQ ä¸­å°†æ•°æ®ç»“æ„åŒ–ï¼Œé€šè¿‡ Parquet Engineï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–¹å¼æ„å»º Parquet æ ¼å¼æ–‡ä»¶</p>
</li>
</ul>
<h4 id="å°ç»“"><a class="markdownIt-Anchor" href="#å°ç»“"></a> å°ç»“</h4>
<ol>
<li>BMQ çš„æ¡†æ¶æ¨¡å‹ï¼ˆè§£å†³Kafka å­˜åœ¨çš„é—®é¢˜ï¼‰</li>
<li>BMQ çš„è¯»å†™æµç¨‹ï¼ˆFailover æœºåˆ¶ï¼Œå†™å…¥çŠ¶æ€æœºï¼‰</li>
<li>BMQ é«˜çº§ç‰¹æ€§ï¼ˆæ³³é“ã€Databusã€Mirrorã€Indexã€Parquetï¼‰</li>
</ol>
<h3 id="4æ¶ˆæ¯é˜Ÿåˆ—-rocketmq"><a class="markdownIt-Anchor" href="#4æ¶ˆæ¯é˜Ÿåˆ—-rocketmq"></a> 4.æ¶ˆæ¯é˜Ÿåˆ— - RocketMQ</h3>
<p>ä½¿ç”¨åœºæ™¯ï¼šé’ˆå¯¹ç”µå•†ä¸šåŠ¡çº¿ï¼Œå…¶ä¸šåŠ¡æ¶‰åŠå¹¿æ³›ï¼Œå¦‚æ³¨å†Œã€è®¢å•ã€åº“å­˜ã€ç‰©æµç­‰ï¼›åŒæ—¶ï¼Œä¹Ÿä¼šæ¶‰åŠè®¸å¤šä¸šåŠ¡å³°å€¼æ—¶åˆ»ï¼Œå¦‚ç§’æ€æ´»åŠ¨ã€å‘¨å¹´åº†ã€å®šæœŸä¼˜æƒ ç­‰ã€‚</p>
<h4 id="41-rocketmq-åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#41-rocketmq-åŸºæœ¬æ¦‚å¿µ"></a> 4.1 RocketMQ åŸºæœ¬æ¦‚å¿µ</h4>
<table>
<thead>
<tr>
<th style="text-align:center">åç§°</th>
<th style="text-align:center">Kafka</th>
<th style="text-align:center">RocketMQ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">é€»è¾‘é˜Ÿåˆ—</td>
<td style="text-align:center">Topic</td>
<td style="text-align:center">Topic</td>
</tr>
<tr>
<td style="text-align:center">æ¶ˆæ¯ä½“</td>
<td style="text-align:center">Message</td>
<td style="text-align:center">Message</td>
</tr>
<tr>
<td style="text-align:center">æ ‡ç­¾</td>
<td style="text-align:center">æ— </td>
<td style="text-align:center">Tag</td>
</tr>
<tr>
<td style="text-align:center">åˆ†åŒº</td>
<td style="text-align:center">Partition</td>
<td style="text-align:center">Consumer Queue</td>
</tr>
<tr>
<td style="text-align:center">ç”Ÿäº§è€…</td>
<td style="text-align:center">Producer</td>
<td style="text-align:center">Producer</td>
</tr>
<tr>
<td style="text-align:center">ç”Ÿäº§è€…é›†ç¾¤</td>
<td style="text-align:center">æ— </td>
<td style="text-align:center">Producer Group</td>
</tr>
<tr>
<td style="text-align:center">æ¶ˆè´¹è€…</td>
<td style="text-align:center">Consumer</td>
<td style="text-align:center">Consumer</td>
</tr>
<tr>
<td style="text-align:center">æ¶ˆè´¹è€…é›†ç¾¤</td>
<td style="text-align:center">Consumer Group</td>
<td style="text-align:center">Consumer Group</td>
</tr>
<tr>
<td style="text-align:center">é›†ç¾¤æ§åˆ¶å™¨</td>
<td style="text-align:center">Controller</td>
<td style="text-align:center">Nameserver</td>
</tr>
</tbody>
</table>
<p>Producerï¼ŒConsumerï¼ŒBrokerè¿™ä¸‰ä¸ªéƒ¨åˆ†ï¼ŒKafka å’Œ RocketMQ æ˜¯ä¸€æ ·çš„ï¼Œè€Œ Kafka ä¸­çš„ Partition æ¦‚å¿µåœ¨è¿™é‡Œå«åš Consumer Queueã€‚</p>
<h4 id="42-rocketmq-æ¶æ„"><a class="markdownIt-Anchor" href="#42-rocketmq-æ¶æ„"></a> 4.2 RocketMQ æ¶æ„</h4>
<ul>
<li>
<p>æ•°æ®æµä¹Ÿæ˜¯é€šè¿‡ Producer å‘é€ç»™ Broker é›†ç¾¤ï¼Œå†ç”± Consumer è¿›è¡Œæ¶ˆè´¹</p>
</li>
<li>
<p>Broker èŠ‚ç‚¹æœ‰ Master å’Œ Slave çš„æ¦‚å¿µ</p>
</li>
<li>
<p>NameServer ä¸ºé›†ç¾¤æä¾›è½»é‡çº§æœåŠ¡å‘ç°å’Œè·¯ç”±</p>
</li>
</ul>
<h4 id="43-å­˜å‚¨æ¨¡å‹"><a class="markdownIt-Anchor" href="#43-å­˜å‚¨æ¨¡å‹"></a> 4.3 å­˜å‚¨æ¨¡å‹</h4>
<p>å¯¹äºä¸€ä¸ª Broker æ¥è¯´æ‰€æœ‰çš„æ¶ˆæ¯çš„ä¼š append åˆ°ä¸€ä¸ª CommitLog ä¸Šé¢ï¼Œç„¶åæŒ‰ç…§ä¸åŒçš„ Queueï¼Œé‡æ–° Dispatch åˆ°ä¸åŒçš„ Consumer ä¸­ï¼Œè¿™æ · Consumer å°±å¯ä»¥æŒ‰ç…§ Queue è¿›è¡Œæ‹‰å–æ¶ˆè´¹</p>
<p>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„ Consumer Queue æ‰€å­˜å‚¨çš„å¹¶ä¸æ˜¯çœŸå®çš„æ•°æ®ï¼ŒçœŸå®çš„æ•°æ®å…¶å®åªå­˜åœ¨ CommitLog ä¸­ï¼Œè¿™é‡Œå­˜çš„ä»…ä»…æ˜¯è¿™ä¸ª Queue æ‰€æœ‰æ¶ˆæ¯åœ¨ CommitLog ä¸Šé¢çš„ä½ç½®ï¼Œç›¸å½“äºæ˜¯è¿™ä¸ª Queue çš„ä¸€ä¸ªå¯†é›†ç´¢å¼•</p>
<h4 id="44-rocketmq-é«˜çº§ç‰¹æ€§"><a class="markdownIt-Anchor" href="#44-rocketmq-é«˜çº§ç‰¹æ€§"></a> 4.4 RocketMQ - é«˜çº§ç‰¹æ€§</h4>
<p>äº‹åŠ¡åœºæ™¯ï¼šäº‹åŠ¡æ¶ˆæ¯</p>
<p>å»¶è¿Ÿå‘é€ï¼šå»¶è¿Ÿæ¶ˆæ¯</p>
<p>å¤„ç†å¤±è´¥ï¼šæ¶ˆè´¹é‡è¯•å’Œæ­»ä¿¡é˜Ÿåˆ—</p>
<p>å…·ä½“å‚è€ƒ<a class="link"   href="https://rocketmq.apache.org/zh/" >RocketMQ ä¸­æ–‡å®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="å°ç»“-2"><a class="markdownIt-Anchor" href="#å°ç»“-2"></a> å°ç»“</h4>
<ol>
<li>RocketMQ çš„åŸºæœ¬æ¦‚å¿µï¼ˆQueueã€Tagï¼‰</li>
<li>RocketMQ çš„åº•å±‚åŸç†ï¼ˆæ¶æ„æ¨¡å‹ã€å­˜å‚¨æ¨¡å‹ï¼‰</li>
<li>RocketMQ çš„é«˜çº§ç‰¹æ€§ï¼ˆäº‹åŠ¡æ¶ˆæ¯ã€é‡è¯•å’Œæ­»ä¿¡é˜Ÿåˆ—ï¼Œå»¶è¿Ÿé˜Ÿåˆ—ï¼‰</li>
</ol>
<h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3>
<ul>
<li>å‰ä¸–ä»Šç”Ÿï¼šæ¶ˆæ¯é˜Ÿåˆ—çš„å‘å±•å†ç¨‹</li>
<li>Kafkaï¼šåŸºæœ¬æ¦‚å¿µã€æ¶æ„è®¾è®¡ã€åº•å±‚åŸç†ã€æ¶æ„ç¼ºç‚¹</li>
<li>BMQï¼šæ¶æ„è®¾è®¡ã€åº•å±‚åŸç†ã€ä¸ Kafka æ¯”è¾ƒã€é«˜çº§ç‰¹æ€§</li>
<li>RocketMQï¼šæ¶æ„è®¾è®¡ã€åº•å±‚åŸç†ã€é«˜çº§ç‰¹æ€§</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/68052232" >å†è¿‡åŠå°æ—¶ï¼Œä½ å°±èƒ½æ˜ç™½kafkaçš„å·¥ä½œåŸç†äº† <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.cnblogs.com/listenfwind/p/12662968.html" >è¯¦ç»†è§£ækafkaä¹‹ kafkaæ¶ˆè´¹è€…ç»„ä¸é‡å¹³è¡¡æœºåˆ¶ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://rocketmq.apache.org/zh/" >RocketMQ ä¸­æ–‡å®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>å­˜å‚¨çš„æœ¬è´¨ - çŠ¶æ€</title>
    <url>/2023/02/22/golang-day15/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7199279293755146297" >å­˜å‚¨çš„æœ¬è´¨ - çŠ¶æ€ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹å­˜å‚¨çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="å­˜å‚¨çš„æœ¬è´¨-çŠ¶æ€"><a class="markdownIt-Anchor" href="#å­˜å‚¨çš„æœ¬è´¨-çŠ¶æ€"></a> å­˜å‚¨çš„æœ¬è´¨ - çŠ¶æ€</h2>
<h3 id="1ç»å…¸æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#1ç»å…¸æ¡ˆä¾‹"></a> 1.ç»å…¸æ¡ˆä¾‹</h3>
<ul>
<li>æ•°æ®çš„äº§ç”Ÿï¼šæ³¨å†Œè´¦å·ç­‰</li>
<li>æ•°æ®çš„æµåŠ¨ï¼šä»å®¢æˆ·ç«¯åˆ°åç«¯æœåŠ¡å™¨ï¼Œåç«¯æœåŠ¡å™¨åˆ°æ•°æ®åº“ï¼Œå†åˆ°å…¶ä»–ç³»ç»Ÿ</li>
<li>æ•°æ®çš„æŒä¹…åŒ–ï¼šæ ¡éªŒæ•°æ®çš„åˆæ³•æ€§ï¼Œä¿®æ”¹å†…å­˜ï¼Œå†™å…¥å­˜å‚¨ä»‹è´¨</li>
<li>æ½œåœ¨çš„é—®é¢˜
<ul>
<li>æ•°æ®åº“å¦‚ä½•ä¿è¯æ•°æ®ä¸ä¸¢å¤±</li>
<li>æ•°æ®åº“å¦‚ä½•æ”¯æŒå¤šäººåŒæ—¶ä¿®æ”¹</li>
<li>å…¶ä»–çš„å­˜å‚¨ç³»ç»Ÿ</li>
<li>å¦‚ä½•å¤„ç†é™¤ç»“æ„åŒ–æ•°æ®ä»¥å¤–çš„æ•°æ®</li>
<li>æ“ä½œæ•°æ®åº“çš„æ–¹å¼ï¼Œä½¿ç”¨ä»€ä¹ˆç¼–ç¨‹è¯­è¨€</li>
</ul>
</li>
</ul>
<h3 id="2å­˜å‚¨å’Œæ•°æ®åº“ç®€ä»‹"><a class="markdownIt-Anchor" href="#2å­˜å‚¨å’Œæ•°æ®åº“ç®€ä»‹"></a> 2.å­˜å‚¨å’Œæ•°æ®åº“ç®€ä»‹</h3>
<h4 id="21-å­˜å‚¨ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#21-å­˜å‚¨ç³»ç»Ÿ"></a> 2.1 å­˜å‚¨ç³»ç»Ÿ</h4>
<h5 id="ç³»ç»Ÿæ¦‚è§ˆ"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿæ¦‚è§ˆ"></a> ç³»ç»Ÿæ¦‚è§ˆ</h5>
<p>ä»€ä¹ˆæ˜¯å­˜å‚¨ç³»ç»Ÿï¼Ÿ</p>
<p>ä¸€ä¸ªæä¾›äº†è¯»å†™ã€æ§åˆ¶ç±»æ¥å£ï¼Œèƒ½å¤Ÿå®‰å…¨æœ‰æ•ˆåœ°æŠŠæ•°æ®æŒä¹…åŒ–çš„è½¯ä»¶ï¼Œå°±å¯ä»¥ç§°ä¸ºå­˜å‚¨ç³»ç»Ÿã€‚</p>
<p>å­˜å‚¨ç³»ç»Ÿçš„ç‰¹å¾</p>
<ul>
<li>ä½œä¸ºåç«¯è½¯ä»¶çš„åº•åº§ï¼Œæ€§èƒ½æ•æ„Ÿ</li>
<li>å­˜å‚¨ç³»ç»Ÿè½¯ä»¶æ¶æ„ï¼Œå®¹æ˜“å—ç¡¬ä»¶å½±å“</li>
<li>å­˜å‚¨ç³»ç»Ÿä»£ç ï¼Œæ—¢â€œç®€å•â€åˆâ€œå¤æ‚â€</li>
</ul>
<h5 id="å­˜å‚¨å™¨å±‚çº§ç»“æ„"><a class="markdownIt-Anchor" href="#å­˜å‚¨å™¨å±‚çº§ç»“æ„"></a> å­˜å‚¨å™¨å±‚çº§ç»“æ„</h5>
<p>å‚è€ƒ<a class="link"   href="https://www.cnblogs.com/RadiumGalaxy/p/17122372.html" >https://www.cnblogs.com/RadiumGalaxy/p/17122372.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="æ•°æ®ä»åº”ç”¨åˆ°å­˜å‚¨ä»‹è´¨"><a class="markdownIt-Anchor" href="#æ•°æ®ä»åº”ç”¨åˆ°å­˜å‚¨ä»‹è´¨"></a> æ•°æ®ä»åº”ç”¨åˆ°å­˜å‚¨ä»‹è´¨</h5>
<ul>
<li>ç¼“å­˜ï¼šå¾ˆé‡è¦ï¼Œè´¯ç©¿æ•´ä¸ªå­˜å‚¨ä½“ç³»</li>
<li>æ‹·è´ï¼šå¾ˆæ˜‚è´µï¼Œåº”è¯¥å°½é‡å‡å°‘</li>
<li>ç¡¬ä»¶è®¾å¤‡å¤šç§å¤šæ ·ï¼Œéœ€è¦æœ‰æŠ½è±¡ç»Ÿä¸€çš„æ¥å…¥å±‚</li>
</ul>
<h5 id="raid-æŠ€æœ¯"><a class="markdownIt-Anchor" href="#raid-æŠ€æœ¯"></a> RAID æŠ€æœ¯</h5>
<p>å•æœºå­˜å‚¨ç³»ç»Ÿå¦‚ä½•åšåˆ°é«˜æ€§èƒ½ã€é«˜æ€§ä»·æ¯”ã€é«˜å¯é æ€§ï¼Ÿ</p>
<p><strong>R</strong>edundant <strong>A</strong>rray of <strong>I</strong>nexpensive <strong>D</strong>isks</p>
<p>RAID å‡ºç°çš„èƒŒæ™¯</p>
<ul>
<li>å•å—å¤§å®¹é‡ç£ç›˜çš„ä»·æ ¼ &gt; å¤šå—å°å®¹é‡ç£ç›˜</li>
<li>å•å—ç£ç›˜çš„å†™å…¥æ€§èƒ½ &lt; å¤šå—ç£ç›˜çš„å¹¶å‘å†™å…¥æ€§èƒ½</li>
<li>å•å—ç£ç›˜çš„å®¹é”™èƒ½åŠ›æœ‰é™ï¼Œä¸å¤Ÿå®‰å…¨</li>
</ul>
<p>RAID 0</p>
<ul>
<li>å¤šå—ç£ç›˜ç®€å•ç»„åˆ</li>
<li>æ•°æ®æ¡å¸¦åŒ–å­˜å‚¨ï¼Œæé«˜ç£ç›˜å¸¦å®½</li>
<li>æ²¡æœ‰é¢å¤–çš„å®¹é”™è®¾è®¡</li>
</ul>
<p>RAID 1</p>
<ul>
<li>ä¸€å—ç£ç›˜å¯¹åº”ä¸€å—é¢å¤–é•œåƒç›˜</li>
<li>çœŸå®ç©ºé—´åˆ©ç”¨ç‡ä»… 50%</li>
<li>å®¹é”™èƒ½åŠ›å¼º</li>
</ul>
<p>RAID 0 + 1</p>
<ul>
<li>ç»“åˆäº† RAID 0 å’Œ RAID 1</li>
<li>çœŸå®ç©ºé—´åˆ©ç”¨ç‡ä»… 50%</li>
<li>å®¹é”™èƒ½åŠ›å¼ºï¼Œå†™å…¥å¸¦å®½å¥½</li>
</ul>
<h4 id="22-æ•°æ®åº“"><a class="markdownIt-Anchor" href="#22-æ•°æ®åº“"></a> 2.2 æ•°æ®åº“</h4>
<p>å…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“</p>
<h5 id="æ¦‚è§ˆ"><a class="markdownIt-Anchor" href="#æ¦‚è§ˆ"></a> æ¦‚è§ˆ</h5>
<p>å…³ç³»ï¼ˆRelationï¼‰</p>
<ul>
<li>Edgar.F.Codd äº1970 å¹´æå‡ºâ€œå…³ç³»æ¨¡å‹â€</li>
<li>å…³ç³» = é›†åˆ = ä»»æ„å…ƒç´ ç»„æˆçš„è‹¥å¹²æœ‰åºå¶å¯¹ï¼Œåæ˜ äº†äº‹ç‰©ä¹‹é—´çš„å…³ç³»</li>
<li>å…³ç³»ä»£æ•° = å¯¹å…³ç³»ä½œè¿ç®—çš„æŠ½è±¡æŸ¥è¯¢è¯­è¨€ï¼Œå¦‚äº¤ã€å¹¶ã€ç¬›å¡å„¿ç§¯ç­‰</li>
<li>SQL = ä¸€ç§ DSL = æ–¹ä¾¿äººç±»é˜…è¯»çš„å…³ç³»ä»£æ•°è¡¨è¾¾å½¢å¼</li>
</ul>
<h5 id="å…³ç³»å‹æ•°æ®åº“ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#å…³ç³»å‹æ•°æ®åº“ç‰¹ç‚¹"></a> å…³ç³»å‹æ•°æ®åº“ç‰¹ç‚¹</h5>
<p>å…³ç³»å‹æ•°æ®åº“æ˜¯å­˜å‚¨ç³»ç»Ÿï¼Œä½†æ˜¯åœ¨å­˜å‚¨ç³»ç»Ÿä¹‹å¤–ï¼Œåˆå‘å±•å‡ºå…¶ä»–åŠŸèƒ½</p>
<ul>
<li>ç»“æ„åŒ–æ•°æ®å‹å¥½</li>
<li>æ”¯æŒäº‹åŠ¡ï¼ˆACIDï¼‰</li>
<li>æ”¯æŒå¤æ‚æŸ¥è¯¢è¯­å¥</li>
</ul>
<h5 id="éå…³ç³»å‹æ•°æ®åº“ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#éå…³ç³»å‹æ•°æ®åº“ç‰¹ç‚¹"></a> éå…³ç³»å‹æ•°æ®åº“ç‰¹ç‚¹</h5>
<p>éå…³ç³»å‹æ•°æ®åº“ä¹Ÿæ˜¯å­˜å‚¨ç³»ç»Ÿï¼Œä½†æ˜¯ä¸€èˆ¬ä¸è¦æ±‚ä¸¥æ ¼çš„ç»“æ„åŒ–</p>
<ul>
<li>åŠç»“æ„åŒ–æ•°æ®å‹å¥½</li>
<li>å¯èƒ½æ”¯æŒäº‹åŠ¡ï¼ˆACIDï¼‰</li>
<li>å¯èƒ½æ”¯æŒå¤æ‚æŸ¥è¯¢è¯­å¥</li>
</ul>
<h4 id="23-æ•°æ®åº“-vs-ç»å…¸å­˜å‚¨"><a class="markdownIt-Anchor" href="#23-æ•°æ®åº“-vs-ç»å…¸å­˜å‚¨"></a> 2.3 æ•°æ®åº“ vs ç»å…¸å­˜å‚¨</h4>
<h5 id="ç»“æ„åŒ–æ•°æ®ç®¡ç†"><a class="markdownIt-Anchor" href="#ç»“æ„åŒ–æ•°æ®ç®¡ç†"></a> ç»“æ„åŒ–æ•°æ®ç®¡ç†</h5>
<ul>
<li>å†™å…¥å…³ç³»å‹æ•°æ®åº“ï¼Œä»¥è¡¨å½¢å¼ç®¡ç†</li>
<li>å†™å…¥æ–‡ä»¶ï¼Œè‡ªè¡Œå®šä¹‰ç®¡ç†ç»“æ„</li>
</ul>
<h5 id="äº‹åŠ¡èƒ½åŠ›"><a class="markdownIt-Anchor" href="#äº‹åŠ¡èƒ½åŠ›"></a> äº‹åŠ¡èƒ½åŠ›</h5>
<p>æ•°æ®åº“å…·æœ‰æ”¯æŒäº‹åŠ¡çš„ä¼˜è¶Šæ€§ï¼Œäº‹åŠ¡å…·æœ‰</p>
<ul>
<li>Atomicityï¼š äº‹åŠ¡å†…çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œ</li>
<li>Consistencyï¼šäº‹åŠ¡æ‰§è¡Œå‰åï¼Œæ•°æ®çŠ¶æ€æ˜¯ä¸€è‡´çš„</li>
<li>Isolationï¼šå¯ä»¥éš”ç¦»å¤šä¸ªå¹¶å‘äº‹åŠ¡ï¼Œé¿å…å½±å“</li>
<li>Durabilityï¼šäº‹åŠ¡ä¸€æ—¦æäº¤æˆåŠŸï¼Œæ•°æ®ä¿è¯æŒä¹…æ€§</li>
</ul>
<h5 id="å¤æ‚æŸ¥è¯¢èƒ½åŠ›"><a class="markdownIt-Anchor" href="#å¤æ‚æŸ¥è¯¢èƒ½åŠ›"></a> å¤æ‚æŸ¥è¯¢èƒ½åŠ›</h5>
<p>å†™å…¥æ•°æ®åè¿›è¡Œå¾ˆå¤æ‚çš„æŸ¥è¯¢</p>
<ul>
<li>æ•°æ®åº“æŸ¥è¯¢çµæ´»ã€ç®€æ´</li>
<li>æ–‡ä»¶æŸ¥è¯¢åƒµåŒ–ã€å¤æ‚</li>
</ul>
<h4 id="24-æ•°æ®åº“ä½¿ç”¨æ–¹å¼"><a class="markdownIt-Anchor" href="#24-æ•°æ®åº“ä½¿ç”¨æ–¹å¼"></a> 2.4 æ•°æ®åº“ä½¿ç”¨æ–¹å¼</h4>
<p>Everything is Domain Specific Languageï¼Œmaybe SQL</p>
<p>SQL æ“ä½œæ•°æ®ï¼šInsertã€Updateã€Selectã€Deleteã€Whereå­å¥ã€Group byã€Order by</p>
<p>SQL å®šä¹‰æ•°æ®ï¼šCreateã€Alter â€¦</p>
<h3 id="ä¸»æµäº§å“å‰–æ"><a class="markdownIt-Anchor" href="#ä¸»æµäº§å“å‰–æ"></a> ä¸»æµäº§å“å‰–æ</h3>
<h4 id="31-å•æœºå­˜å‚¨"><a class="markdownIt-Anchor" href="#31-å•æœºå­˜å‚¨"></a> 3.1 å•æœºå­˜å‚¨</h4>
<h5 id="æ¦‚è§ˆ-2"><a class="markdownIt-Anchor" href="#æ¦‚è§ˆ-2"></a> æ¦‚è§ˆ</h5>
<p>å•æœºå­˜å‚¨ = å•ä¸ªè®¡ç®—æœºèŠ‚ç‚¹ä¸Šçš„å­˜å‚¨è½¯ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬ä¸æ¶‰åŠç½‘ç»œäº¤äº’</p>
<p>æœ‰æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå’Œ key-value å­˜å‚¨</p>
<h5 id="æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ"></a> æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ</h5>
<p>Linux ç»å…¸å“²å­¦ï¼šä¸€åˆ‡çš†æ–‡ä»¶</p>
<p>æ–‡ä»¶ç³»ç»Ÿçš„ç®¡ç†å•å…ƒï¼šæ–‡ä»¶</p>
<p>æ–‡ä»¶ç³»ç»Ÿæ¥å£ï¼šæ–‡ä»¶ç³»ç»Ÿç¹å¤šï¼Œå¦‚ ext2/3/4ï¼Œsysfsï¼Œrootfs ç­‰ï¼Œä½†éƒ½éµå¾ª VFS çš„ç»Ÿä¸€æŠ½è±¡æ¥å£</p>
<p>Linux æ–‡ä»¶ç³»ç»Ÿçš„ä¸¤å¤§æ•°æ®ç»“æ„ï¼šIndex Node å’Œ Directory Entry</p>
<ul>
<li>
<p>Index Node</p>
<p>è®°å½•æ–‡ä»¶å…ƒæ•°æ®ï¼Œå¦‚ idã€å¤§å°ã€æƒé™ã€ç¡¬ç›˜ä½ç½®ç­‰ã€‚</p>
<p>inode æ˜¯æ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼Œä¼šè¢«å­˜å‚¨åˆ°ç£ç›˜ä¸Šã€‚</p>
<p>inode çš„æ€»æ•°åœ¨æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿæ—¶å°±å›ºå®šäº†ã€‚</p>
</li>
<li>
<p>Directory Entry</p>
<p>è®°å½•æ–‡ä»¶åã€inode æŒ‡é’ˆã€å±‚çº§å…³ç³»ï¼ˆparentï¼‰ç­‰ã€‚</p>
<p>dentry æ˜¯å†…å­˜ç»“æ„ï¼Œä¸ inode çš„å…³ç³»æ˜¯ Nï¼š1ï¼ˆhardlink çš„å®ç°ï¼‰</p>
</li>
</ul>
<h5 id="key-value-å­˜å‚¨"><a class="markdownIt-Anchor" href="#key-value-å­˜å‚¨"></a> key-value å­˜å‚¨</h5>
<p>å¸¸è§ä½¿ç”¨æ–¹å¼ï¼šput(k, v) å’Œ get(k)</p>
<p>å¸¸è§æ•°æ®ç»“æ„ï¼šLSM-Treeï¼ŒæŸç§ç¨‹åº¦ä¸Šç‰ºç‰²è¯»å†™æ€§èƒ½ï¼Œè¿½æ±‚å†™å…¥æ€§èƒ½</p>
<p>å…¸å‹äº§å“ï¼šRocksDB ï¼Œæ›´å¤šä¿¡æ¯å‚è€ƒ<a class="link"   href="http://rocksdb.org.cn/" >RocksDB ä¸­æ–‡å®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="32-åˆ†å¸ƒå¼å­˜å‚¨"><a class="markdownIt-Anchor" href="#32-åˆ†å¸ƒå¼å­˜å‚¨"></a> 3.2 åˆ†å¸ƒå¼å­˜å‚¨</h4>
<h5 id="æ¦‚è§ˆ-3"><a class="markdownIt-Anchor" href="#æ¦‚è§ˆ-3"></a> æ¦‚è§ˆ</h5>
<p>åˆ†å¸ƒå¼å­˜å‚¨ = åœ¨å•æœºå­˜å‚¨åŸºç¡€ä¸Šå®ç°äº†åˆ†å¸ƒå¼åè®®ï¼Œæ¶‰åŠå¤§é‡ç½‘ç»œäº¤äº’</p>
<p>æœ‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå’Œåˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨</p>
<h5 id="hdfs"><a class="markdownIt-Anchor" href="#hdfs"></a> HDFS</h5>
<p>HDFSï¼šå¤§æ•°æ®æ—¶ä»£çš„åŸºçŸ³</p>
<p>æ—¶ä»£èƒŒæ™¯ï¼šä¸“ç”¨çš„é«˜çº§ç¡¬ä»¶å¾ˆè´µï¼ŒåŒæ—¶æ•°æ®å­˜å‚¨é‡å¾ˆå¤§ï¼Œè¦æ±‚è¶…é«˜åå</p>
<p>HDFS æ ¸å¿ƒç‰¹ç‚¹</p>
<ul>
<li>æ”¯æŒæµ·é‡æ•°æ®å­˜å‚¨</li>
<li>é«˜å®¹é”™æ€§</li>
<li>å¼± POSIX è¯­ä¹‰</li>
<li>ä½¿ç”¨æ™®é€š x86 æœåŠ¡å™¨ï¼Œæ€§ä»·æ¯”é«˜</li>
</ul>
<h5 id="ceph"><a class="markdownIt-Anchor" href="#ceph"></a> Ceph</h5>
<p>Ceph æ ¸å¿ƒç‰¹ç‚¹</p>
<ul>
<li>ä¸€å¥—ç³»ç»Ÿæ”¯æŒå¯¹è±¡æ¥å£ã€å—æ¥å£ã€æ–‡ä»¶æ¥å£ï¼Œä½†æ˜¯ä¸€åˆ‡çš†å¯¹è±¡</li>
<li>æ•°æ®å†™å…¥é‡‡ç”¨ä¸»å¤‡å¤åˆ¶æ¨¡å‹</li>
<li>æ•°æ®åˆ†å¸ƒæ¨¡å‹é‡‡ç”¨ CRUSH ç®—æ³•ï¼ˆHASH + æƒé‡ + éšæœºæŠ½ç­¾ï¼‰</li>
</ul>
<h4 id="33-å•æœºæ•°æ®åº“"><a class="markdownIt-Anchor" href="#33-å•æœºæ•°æ®åº“"></a> 3.3 å•æœºæ•°æ®åº“</h4>
<h5 id="æ¦‚è§ˆ-4"><a class="markdownIt-Anchor" href="#æ¦‚è§ˆ-4"></a> æ¦‚è§ˆ</h5>
<p>å•æœºæ•°æ®åº“ = å•ä¸ªè®¡ç®—æœºèŠ‚ç‚¹ä¸Šçš„æ•°æ®åº“ç³»ç»Ÿ</p>
<p>äº‹åŠ¡åœ¨å•æœºå†…æ‰§è¡Œï¼Œä¹Ÿå¯èƒ½é€šè¿‡ç½‘ç»œäº¤äº’å®ç°åˆ†å¸ƒå¼äº‹åŠ¡</p>
<p>æœ‰å…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“</p>
<h5 id="å…³ç³»å‹æ•°æ®åº“"><a class="markdownIt-Anchor" href="#å…³ç³»å‹æ•°æ®åº“"></a> å…³ç³»å‹æ•°æ®åº“</h5>
<p>å•†ä¸šäº§å“ Oracle æœ€ä¸ºå¹¿æ³›ä½¿ç”¨ï¼Œå¼€æºäº§å“ MySQL å’Œ PostgreSQL æœ€å—æ¬¢è¿ã€‚</p>
<p>å…³ç³»å‹æ•°æ®åº“çš„é€šç”¨ç»„ä»¶</p>
<ul>
<li>Query Engineï¼šè´Ÿè´£è§£æ queryï¼Œç”ŸæˆæŸ¥è¯¢è®¡åˆ’</li>
<li>Txn Managerï¼šè´Ÿè´£äº‹åŠ¡å¹¶å‘ç®¡ç†</li>
<li>Lock Managerï¼šè´Ÿè´£é”ç›¸å…³çš„ç­–ç•¥</li>
<li>Storage Engineï¼šè´Ÿè´£ç»„ç»‡å†…å­˜/ç£ç›˜æ•°æ®ç»“æ„</li>
<li>Replicationï¼šè´Ÿè´£ä¸»å¤‡åŒæ­¥</li>
</ul>
<p>å…³é”®å†…å­˜æ•°æ®ç»“æ„ï¼šB-Treeã€BÂ±Treeã€LRUList ç­‰</p>
<p>å…³é”®ç£ç›˜æ•°æ®ç»“æ„ï¼šWriteAheadLogï¼ˆRedoLogï¼‰ã€Page</p>
<h5 id="éå…³ç³»å‹æ•°æ®åº“"><a class="markdownIt-Anchor" href="#éå…³ç³»å‹æ•°æ®åº“"></a> éå…³ç³»å‹æ•°æ®åº“</h5>
<p>æœ€ä¸»æµçš„æ˜¯ MongoDBã€Redisã€Elasticsearch è¿™ä¸‰ä¸ªã€‚</p>
<ul>
<li>å…³ç³»å‹æ•°æ®åº“ä¸€èˆ¬ç›´æ¥ä½¿ç”¨ SQL äº¤äº’ï¼Œè€Œéå…³ç³»å‹æ•°æ®åº“äº¤äº’æ–¹å¼å„ä¸ç›¸åŒã€‚</li>
<li>éå…³ç³»å‹æ•°æ®åº“çš„æ•°æ®ç»“æ„å¤šç§å¤šæ ·ï¼Œæ²¡æœ‰å…³ç³»çº¦æŸï¼Œschema ç›¸å¯¹çµæ´»ã€‚</li>
<li>æ— è®ºæ˜¯å…³ç³»å‹æ•°æ®åº“è¿˜æ˜¯éå…³ç³»å‹æ•°æ®åº“ï¼Œç›®å‰éƒ½åœ¨å°è¯•æ”¯æŒ SQL(å­é›†)å’Œâ€œäº‹åŠ¡â€ã€‚</li>
</ul>
<h5 id="elasticsearch"><a class="markdownIt-Anchor" href="#elasticsearch"></a> Elasticsearch</h5>
<ul>
<li>é¢å‘æ–‡æ¡£å­˜å‚¨</li>
<li>æ–‡æ¡£å¯åºåˆ—åŒ–æˆ JSONï¼Œæ”¯æŒåµŒå¥—</li>
<li>å­˜åœ¨ indexï¼Œindex = æ–‡æ¡£çš„é›†åˆ</li>
<li>å­˜å‚¨å’Œæ„å»ºç´¢å¼•èƒ½åŠ›ä¾èµ– Lucene å¼•æ“</li>
<li>å®ç°äº†å¤§é‡æœç´¢æ•°æ®ç»“æ„å’Œç®—æ³•</li>
<li>æ”¯æŒ RESTFUL APIï¼Œä¹Ÿæ”¯æŒå¼± SQL äº¤äº’</li>
</ul>
<p>æ›´å¤šä¿¡æ¯å‚è€ƒ<a class="link"   href="https://elasticsearch.bookhub.tech/getting_started/" >Elasticsearch ä¸­æ–‡æ–‡æ¡£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="mongodb"><a class="markdownIt-Anchor" href="#mongodb"></a> MongoDB</h5>
<ul>
<li>é¢å‘æ–‡æ¡£å­˜å‚¨</li>
<li>æ–‡æ¡£å¯åºåˆ—åŒ–æˆ JSON/BSONï¼Œæ”¯æŒåµŒå¥—</li>
<li>å­˜åœ¨ collectionï¼Œcollection = æ–‡æ¡£çš„é›†åˆ</li>
<li>å­˜å‚¨å’Œæ„å»ºç´¢å¼•èƒ½åŠ›ä¾èµ– wiredTiger å¼•æ“</li>
<li>4.0 åå¼€å§‹æ”¯æŒäº‹åŠ¡ï¼ˆå¤šæ–‡æ¡£ã€è·¨åˆ†ç‰‡å¤šæ–‡æ¡£ç­‰ï¼‰</li>
<li>å¸¸ç”¨ client/SDK äº¤äº’ï¼Œå¯é€šè¿‡æ’ä»¶è½¬è¯‘æ”¯æŒå¼± SQL</li>
</ul>
<p>æ›´å¤šä¿¡æ¯å‚è€ƒ<a class="link"   href="https://docs.mongoing.com/" >MongoDB ä¸­æ–‡æ–‡æ¡£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="redis"><a class="markdownIt-Anchor" href="#redis"></a> Redis</h5>
<ul>
<li>æ•°æ®ç»“æ„ä¸°å¯Œï¼ˆhash è¡¨ã€setã€zsetã€listï¼‰</li>
<li>C è¯­è¨€å®ç°ï¼Œè¶…é«˜æ€§èƒ½</li>
<li>ä¸»è¦åŸºäºå†…å­˜ï¼Œä½†æ”¯æŒ AOF/RDB æŒä¹…åŒ–</li>
<li>å¸¸ç”¨ redies-cli/å¤šè¯­è¨€ SDK äº¤äº’</li>
</ul>
<p>ç‰¹åˆ«çš„ï¼ŒElasticsearch ç›¸æ¯” RDBMSï¼ŒES å¤©ç„¶æ”¯æŒæ¨¡ç³Šæœç´¢ï¼Œè¿˜èƒ½è‡ªåŠ¨ç®—å‡ºå…³è”ç¨‹åº¦ã€‚</p>
<h4 id="34-åˆ†å¸ƒå¼æ•°æ®åº“"><a class="markdownIt-Anchor" href="#34-åˆ†å¸ƒå¼æ•°æ®åº“"></a> 3.4 åˆ†å¸ƒå¼æ•°æ®åº“</h4>
<p>ä»å•æœºæ•°æ®åº“åˆ°åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå•æœºæ•°æ®åº“æ‰€é¢å¯¹çš„é—®é¢˜å’ŒæŒ‘æˆ˜ï¼Œä»¥åŠåˆ†å¸ƒå¼æ¶æ„çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h5 id="è§£å†³å®¹é‡é—®é¢˜"><a class="markdownIt-Anchor" href="#è§£å†³å®¹é‡é—®é¢˜"></a> è§£å†³å®¹é‡é—®é¢˜</h5>
<ul>
<li>å•ç‚¹å®¹é‡æœ‰é™ï¼Œå—ç¡¬ä»¶æ¡ä»¶é™åˆ¶</li>
<li>å­˜å‚¨èŠ‚ç‚¹æ± åŒ–ï¼ŒåŠ¨æ€æ‰©ç¼©å®¹</li>
</ul>
<h5 id="è§£å†³å¼¹æ€§é—®é¢˜"><a class="markdownIt-Anchor" href="#è§£å†³å¼¹æ€§é—®é¢˜"></a> è§£å†³å¼¹æ€§é—®é¢˜</h5>
<ul>
<li>
<p>å•æœºæ‰©å®¹æ¬è¿å…¨é‡æ•°æ®ï¼Œè€—æ—¶å¤§ï¼Œç¼©å®¹ Disk é—®é¢˜éš¾ä»¥è§£å†³</p>
</li>
<li>
<p>é€šè¿‡åˆ†å¸ƒå¼çµæ´»æ‰©ç¼©å®¹è§£å†³ CPU èµ„æºç´§å¼ é—®é¢˜</p>
</li>
</ul>
<h5 id="è§£å†³æ€§ä»·æ¯”é—®é¢˜"><a class="markdownIt-Anchor" href="#è§£å†³æ€§ä»·æ¯”é—®é¢˜"></a> è§£å†³æ€§ä»·æ¯”é—®é¢˜</h5>
<ul>
<li>å•æœºå†™æ•°æ®ï¼Œå®¹é‡ä¸å¤Ÿï¼Œä½† CPU åˆ©ç”¨ç‡ä½ä¸‹</li>
<li>æ‰©å®¹åˆ°é«˜è§„æ ¼å•æœºï¼Œæ»¡è¶³äº†å®¹é‡éœ€æ±‚ï¼Œä½† CPU æµªè´¹æ›´ä¸¥é‡</li>
<li>é€šè¿‡åˆ†å¸ƒå¼ä½¿ç”¨å…±äº«å­˜å‚¨æ± ï¼Œä¸éœ€è¦æ‰©å®¹ CPU</li>
</ul>
<h5 id="more-to-do"><a class="markdownIt-Anchor" href="#more-to-do"></a> More to Do</h5>
<ul>
<li>å•å†™ vs å¤šå†™</li>
<li>ä»ç£ç›˜å¼¹æ€§åˆ°å†…å­˜å¼¹æ€§</li>
<li>åˆ†å¸ƒå¼äº‹åŠ¡åŒ–</li>
</ul>
<h3 id="4æ–°æŠ€æœ¯æ¼”è¿›"><a class="markdownIt-Anchor" href="#4æ–°æŠ€æœ¯æ¼”è¿›"></a> 4.æ–°æŠ€æœ¯æ¼”è¿›</h3>
<h4 id="41-æ¦‚è§ˆ"><a class="markdownIt-Anchor" href="#41-æ¦‚è§ˆ"></a> 4.1 æ¦‚è§ˆ</h4>
<ul>
<li>
<p>è½¯ä»¶æ¶æ„å˜æ›´</p>
<p>Bypass OS kernel</p>
</li>
<li>
<p>AI å¢å¼º</p>
<p>æ™ºèƒ½å­˜å‚¨æ ¼å¼è½¬æ¢</p>
</li>
<li>
<p>æ–°ç¡¬ä»¶é©å‘½</p>
<ul>
<li>å­˜å‚¨ä»‹è´¨å˜æ›´</li>
<li>è®¡ç®—å•å…ƒå˜æ›´</li>
<li>ç½‘ç»œç¡¬ä»¶å˜æ›´</li>
</ul>
</li>
</ul>
<h4 id="42-spdk"><a class="markdownIt-Anchor" href="#42-spdk"></a> 4.2 SPDK</h4>
<p>Bypass OS kernel å·²ç»æˆä¸ºä¸€ç§è¶‹åŠ¿</p>
<p>SPDKï¼šStorage Performance Development Kit</p>
<p>Kernel Space â€”&gt; User Space</p>
<ul>
<li>é¿å… syscall å¸¦æ¥çš„æ€§èƒ½æŸè€—ï¼Œç›´æ¥ä»ç”¨æˆ·æ€è®¿é—®ç£ç›˜</li>
</ul>
<p>ä¸­æ–­ â€”&gt; è½®è¯¢</p>
<ul>
<li>ç£ç›˜æ€§èƒ½æé«˜åï¼Œä¸­æ–­æ¬¡æ•°éšä¹‹ä¸Šå‡ï¼Œä¸åˆ©äº IO æ€§èƒ½</li>
<li>SPDK poller å¯ä»¥ç»‘å®šç‰¹å®šçš„ CPU æ ¸ä¸æ–­è½®è¯¢ï¼Œå‡å°‘ CSï¼Œæé«˜æ€§èƒ½</li>
</ul>
<p>æ— é”æ•°æ®ç»“æ„</p>
<ul>
<li>ä½¿ç”¨ Lock-free queueï¼Œé™ä½å¹¶å‘æ—¶çš„åŒæ­¥å¼€é”€</li>
</ul>
<h4 id="43-ai-å’Œ-storage"><a class="markdownIt-Anchor" href="#43-ai-å’Œ-storage"></a> 4.3 AI å’Œ Storage</h4>
<p>AI é¢†åŸŸç›¸å…³æŠ€æœ¯ï¼Œå¦‚ Machine Learning åœ¨å¾ˆå¤šé¢†åŸŸï¼Œå¦‚æ¨èã€é£æ§ã€è§†è§‰é¢†åŸŸè¯æ˜äº†æœ‰æ•ˆæ€§ã€‚</p>
<h4 id="44-é«˜æ€§èƒ½ç¡¬ä»¶"><a class="markdownIt-Anchor" href="#44-é«˜æ€§èƒ½ç¡¬ä»¶"></a> 4.4 é«˜æ€§èƒ½ç¡¬ä»¶</h4>
<h5 id="rdma-ç½‘ç»œ"><a class="markdownIt-Anchor" href="#rdma-ç½‘ç»œ"></a> RDMA ç½‘ç»œ</h5>
<ul>
<li>ä¼ ç»Ÿçš„ç½‘ç»œåè®®æ ˆï¼Œéœ€è¦åŸºäºå¤šå±‚ç½‘ç»œåè®®å¤„ç†æ•°æ®åŒ…ï¼Œå­˜åœ¨ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åˆ‡æ¢ï¼Œè¶³å¤Ÿé€šç”¨ä½†æ€§èƒ½ä¸æ˜¯æœ€ä½³</li>
<li>RDMA æ˜¯ kernel bypass çš„æµæ´¾ï¼Œä¸ç»è¿‡ä¼ ç»Ÿçš„ç½‘ç»œåè®®æ ˆï¼Œå¯ä»¥æŠŠç”¨æˆ·æ€è™šæ‹Ÿå†…å­˜æ˜ å°„ç»™ç½‘å¡ï¼Œå‡å°‘æ‹·è´å¼€é”€ï¼Œå‡å°‘ CPU å¼€é”€</li>
</ul>
<h5 id="persistent-memory"><a class="markdownIt-Anchor" href="#persistent-memory"></a> Persistent Memory</h5>
<p>åœ¨ NVMe SSD å’Œ Main Memory é—´æœ‰ä¸€ç§å…¨æ–°çš„å­˜å‚¨äº§å“ï¼šPersistent Memory</p>
<ul>
<li>IO æ—¶å»¶ä»‹äº SSD å’Œ Memory ä¹‹é—´ï¼Œçº¦ç™¾çº³ç§’é‡çº§</li>
<li>å¯ä»¥ç”¨ä½œæ˜“å¤±æ€§å†…å­˜ï¼ˆmemory modeï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨ä½œæŒä¹…åŒ–ä»‹è´¨ï¼ˆapp-directï¼‰</li>
</ul>
<h5 id="å¯ç¼–ç¨‹äº¤æ¢æœº"><a class="markdownIt-Anchor" href="#å¯ç¼–ç¨‹äº¤æ¢æœº"></a> å¯ç¼–ç¨‹äº¤æ¢æœº</h5>
<p>P4 Switchï¼Œé…æœ‰ç¼–è¯‘å™¨ã€è®¡ç®—å•å…ƒã€DRAMï¼Œå¯ä»¥åœ¨äº¤æ¢æœºå±‚å¯¹ç½‘ç»œåŒ…åšè®¡ç®—é€»è¾‘ã€‚åœ¨æ•°æ®åº“åœºæ™¯ä¸‹ï¼Œå¯ä»¥å®ç°ç¼“å­˜ä¸€è‡´æ€§åè®®ç­‰</p>
<h5 id="cpugpudpu"><a class="markdownIt-Anchor" href="#cpugpudpu"></a> CPU/GPU/DPU</h5>
<ul>
<li>CPUï¼šä» multi-core èµ°å‘ many-core</li>
<li>GPUï¼šå¼ºå¤§çš„ç®—åŠ›å’Œè¶Šæ¥è¶Šå¤§çš„æ˜¾å­˜ç©ºé—´</li>
<li>DPUï¼šå¼‚æ„è®¡ç®—ï¼Œå‡è½» CPU çš„workload</li>
</ul>
<h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3>
<h4 id="å­˜å‚¨ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#å­˜å‚¨ç³»ç»Ÿ"></a> å­˜å‚¨ç³»ç»Ÿ</h4>
<ul>
<li>å—å­˜å‚¨ï¼šå­˜å‚¨è½¯ä»¶æ ˆé‡Œçš„åº•å±‚ç³»ç»Ÿï¼Œæ¥å£è¿‡äºæœ´ç´ </li>
<li>æ–‡ä»¶å­˜å‚¨ï¼šæ—¥å¸¸ä½¿ç”¨æœ€å¹¿æ³›çš„å­˜å‚¨ç³»ç»Ÿï¼Œæ¥å£ååˆ†å‹å¥½ï¼Œå®ç°å½¢å¼å¤šç§å¤šæ ·</li>
<li>å¯¹è±¡å­˜å‚¨ï¼šå…¬æœ‰äº‘ä¸Šçš„ä¸»æµäº§å“ï¼Œimmutable è¯­ä¹‰åŠ æŒ</li>
<li>key-value å­˜å‚¨ï¼šå½¢å¼æœ€çµæ´»ï¼Œå­˜åœ¨å¤§é‡çš„å¼€æº/é»‘ç›’äº§å“</li>
</ul>
<h4 id="æ•°æ®åº“ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#æ•°æ®åº“ç³»ç»Ÿ"></a> æ•°æ®åº“ç³»ç»Ÿ</h4>
<ul>
<li>å…³ç³»å‹æ•°æ®åº“ï¼šåŸºäºå…³ç³»å’Œå…³ç³»ä»£æ•°æ„å»ºçš„ï¼Œä¸€èˆ¬æ”¯æŒäº‹åŠ¡å’Œ SQL è®¿é—®ï¼Œä½¿ç”¨ä½“éªŒå‹å¥½çš„å­˜å‚¨äº§å“</li>
<li>éå…³ç³»å‹æ•°æ®åº“ï¼šç»“æ„çµæ´»ï¼Œè®¿é—®æ–¹å¼çµæ´»ï¼Œé’ˆå¯¹ä¸åŒåœºæ™¯æœ‰ä¸åŒçš„é’ˆå¯¹æ€§äº§å“</li>
</ul>
<h4 id="åˆ†å¸ƒå¼æ¶æ„"><a class="markdownIt-Anchor" href="#åˆ†å¸ƒå¼æ¶æ„"></a> åˆ†å¸ƒå¼æ¶æ„</h4>
<ul>
<li>æ•°æ®åˆ†å¸ƒç­–ç•¥ï¼šå†³å®šäº†æ•°æ®å¦‚ä½•åˆ†å¸ƒåˆ°é›†ç¾¤é‡Œçš„å¤šä¸ªç‰©ç†èŠ‚ç‚¹ï¼Œæ˜¯å¦å‡åŒ€ï¼Œæ˜¯å¦èƒ½å®ç°é«˜æ€§èƒ½</li>
<li>æ•°æ®å¤åˆ¶åè®®ï¼šå½±å“ IO è·¯å¾„çš„æ€§èƒ½ã€æœºå™¨æ•…éšœåœºæ™¯çš„å¤„ç†æ–¹å¼</li>
<li>åˆ†å¸ƒå¼äº‹åŠ¡ç®—æ³•ï¼šå¤šä¸ªæ•°æ®åº“èŠ‚ç‚¹ååŒä¿éšœä¸€ä¸ªäº‹åŠ¡çš„ ACID ç‰¹æ€§çš„ç®—æ³•ï¼Œé€šå¸¸åŸºäº 2pc çš„æ€æƒ³è®¾è®¡</li>
</ul>
<p>åœ¨å­˜å‚¨å’Œæ•°æ®åº“é¢†åŸŸï¼Œç¡¬ä»¶åæ¨è½¯ä»¶å˜é©ååˆ†å¸¸è§</p>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://blog.51cto.com/quantfabric/2594168" >Kernel Bypass <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="http://rocksdb.org.cn/" >RocksDB ä¸­æ–‡å®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://elasticsearch.bookhub.tech/getting_started/" >Elasticsearch ä¸­æ–‡æ–‡æ¡£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://docs.mongoing.com/" >MongoDB ä¸­æ–‡æ–‡æ¡£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥æµ…å‡º RPC æ¡†æ¶</title>
    <url>/2023/02/10/golang-day14/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7198526201221660729" >æ·±å…¥æµ…å‡º RPC æ¡†æ¶ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹ RPC æ¡†æ¶çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="æ·±å…¥æµ…å‡º-rpc-æ¡†æ¶"><a class="markdownIt-Anchor" href="#æ·±å…¥æµ…å‡º-rpc-æ¡†æ¶"></a> æ·±å…¥æµ…å‡º RPC æ¡†æ¶</h2>
<h3 id="1åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#1åŸºæœ¬æ¦‚å¿µ"></a> 1.åŸºæœ¬æ¦‚å¿µ</h3>
<h4 id="11-æœ¬åœ°å‡½æ•°è°ƒç”¨"><a class="markdownIt-Anchor" href="#11-æœ¬åœ°å‡½æ•°è°ƒç”¨"></a> 1.1 æœ¬åœ°å‡½æ•°è°ƒç”¨</h4>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span></span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">3</span></span><br><span class="line">    result := calculate(a, b)</span><br><span class="line">    fmt.Println(result)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calculate</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    z := x * y</span><br><span class="line">    <span class="keyword">return</span> z</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<ol>
<li>å°† a å’Œ b å‹æ ˆ</li>
<li>é€šè¿‡å‡½æ•°æŒ‡é’ˆæ‰¾åˆ° calculate å‡½æ•°ï¼Œè¿›å…¥å‡½æ•°å–å‡ºæ ˆä¸­çš„å€¼ 2 å’Œ 3ï¼Œå°†å…¶èµ‹äºˆ x å’Œ y</li>
<li>è®¡ç®— x * yï¼Œå¹¶å°†ç»“æœå­˜åœ¨ z ä¸­</li>
<li>å°† z çš„å€¼å‹æ ˆï¼Œç„¶åä» calculate è¿”å›</li>
<li>ä»æ ˆä¸­å–å‡º z è¿”å›å€¼ï¼Œå¹¶èµ‹å€¼ç»™ result</li>
</ol>
<p>ä»¥ä¸Šæ­¥éª¤åªæ˜¯ä¸ºäº†è¯´æ˜åŸç†ã€‚äº‹å®ä¸Šç¼–è¯‘å™¨ç»å¸¸ä¼šåšä¼˜åŒ–ï¼Œå¯¹äºå‚æ•°å’Œè¿”å›å€¼å°‘çš„æƒ…å†µä¼šç›´æ¥å°†å…¶å­˜æ”¾åœ¨å¯„å­˜å™¨ï¼Œè€Œä¸éœ€è¦å‹æ ˆå¼¹æ ˆçš„è¿‡ç¨‹ï¼Œç”šè‡³éƒ½ä¸éœ€è¦è°ƒç”¨callï¼Œè€Œç›´æ¥åšinlineæ“ä½œã€‚</p>
<h4 id="12-è¿œç¨‹å‡½æ•°è°ƒç”¨rpc-remote-procedure-calls"><a class="markdownIt-Anchor" href="#12-è¿œç¨‹å‡½æ•°è°ƒç”¨rpc-remote-procedure-calls"></a> 1.2 è¿œç¨‹å‡½æ•°è°ƒç”¨ï¼ˆRPC â€” Remote Procedure Callsï¼‰</h4>
<p>RPC éœ€è¦è§£å†³çš„é—®é¢˜</p>
<ol>
<li>å‡½æ•°æ˜ å°„</li>
<li>æ•°æ®è½¬æ¢æˆå­—èŠ‚æµ</li>
<li>ç½‘ç»œä¼ è¾“</li>
</ol>
<p>åœ¨æœ¬åœ°è°ƒç”¨ä¸­ï¼Œå‡½æ•°ä½“æ˜¯ç›´æ¥é€šè¿‡å‡½æ•°æŒ‡é’ˆæ¥æŒ‡å®šçš„ï¼Œæˆ‘ä»¬è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨å®ƒç›¸åº”çš„å‡½æ•°æŒ‡é’ˆã€‚ä½†æ˜¯åœ¨è¿œç¨‹è°ƒç”¨ä¸­ï¼Œå‡½æ•°æŒ‡é’ˆæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºä¸¤ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ã€‚æ‰€æœ‰å‡½æ•°éƒ½æœ‰è‡ªå·±çš„ä¸€ä¸ªIDï¼Œåœ¨åš RPC æ—¶éœ€è¦é™„ä¸Šè¿™ä¸ª IDï¼Œè¿˜éœ€è¦ä¸€ä¸ª ID å’Œå‡½æ•°çš„å¯¹ç…§å…³ç³»è¡¨ï¼Œé€šè¿‡ ID æ‰¾åˆ°å¯¹åº”çš„å‡½æ•°å¹¶æ‰§è¡Œã€‚</p>
<h4 id="13-rpc-æ¦‚å¿µæ¨¡å‹"><a class="markdownIt-Anchor" href="#13-rpc-æ¦‚å¿µæ¨¡å‹"></a> 1.3 RPC æ¦‚å¿µæ¨¡å‹</h4>
<p>1984 å¹´ Nelson  å‘è¡¨çš„è®ºæ–‡ã€ŠImplementing Remote Procedure Callsã€‹ä¸­æå‡ºäº† RPC çš„è¿‡ç¨‹ç”± 5 ä¸ªæ¨¡å‹ç»„æˆï¼ŒUserã€User-Stubã€RPC-Runtimeã€Server-Stubã€Serverã€‚</p>
<h4 id="14-ä¸€æ¬¡rpc-çš„å®Œæ•´è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#14-ä¸€æ¬¡rpc-çš„å®Œæ•´è¿‡ç¨‹"></a> 1.4 ä¸€æ¬¡RPC çš„å®Œæ•´è¿‡ç¨‹</h4>
<h5 id="idlinterface-description-languageæ–‡ä»¶"><a class="markdownIt-Anchor" href="#idlinterface-description-languageæ–‡ä»¶"></a> IDLï¼ˆInterface description languageï¼‰æ–‡ä»¶</h5>
<p>IDL é€šè¿‡ä¸€ç§ä¸­ç«‹çš„æ–¹å¼æ¥æè¿°æ¥å£ï¼Œä½¿å¾—åœ¨ä¸åŒå¹³å°ä¸Šè¿è¡Œçš„å¯¹è±¡å’Œç”¨ä¸åŒè¯­è¨€ç¼–å†™çš„ç¨‹åºå¯ä»¥ç›¸äº’é€šä¿¡ã€‚</p>
<h5 id="ç”Ÿæˆä»£ç "><a class="markdownIt-Anchor" href="#ç”Ÿæˆä»£ç "></a> ç”Ÿæˆä»£ç </h5>
<p>é€šè¿‡ç¼–è¯‘å™¨å·¥å…·æŠŠ IDL æ–‡ä»¶è½¬æ¢æˆè¯­è¨€å¯¹åº”çš„é™æ€åº“ã€‚</p>
<h5 id="ç¼–è§£ç "><a class="markdownIt-Anchor" href="#ç¼–è§£ç "></a> ç¼–è§£ç </h5>
<p>ä»å†…å­˜ä¸­è¡¨ç¤ºåˆ°å­—èŠ‚åºåˆ—çš„è½¬æ¢ç§°ä¸ºç¼–ç ï¼Œåä¹‹ç§°ä¸ºè§£ç ï¼Œä¹Ÿå¸¸å«åšåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</p>
<h5 id="é€šä¿¡åè®®"><a class="markdownIt-Anchor" href="#é€šä¿¡åè®®"></a> é€šä¿¡åè®®</h5>
<p>è§„èŒƒäº†æ•°æ®åœ¨ç½‘ç»œä¸­çš„ä¼ è¾“å†…å®¹å’Œæ ¼å¼ã€‚é™¤å¿…é¡»çš„è¯·æ±‚/å“åº”æ•°æ®å¤–ï¼Œé€šå¸¸è¿˜ä¼šåŒ…å«é¢å¤–çš„å…ƒæ•°æ®</p>
<h5 id="ç½‘ç»œä¼ è¾“"><a class="markdownIt-Anchor" href="#ç½‘ç»œä¼ è¾“"></a> ç½‘ç»œä¼ è¾“</h5>
<p>é€šå¸¸æ˜¯åŸºäºæˆç†Ÿçš„ç½‘ç»œåº“èµ° TCP/UDP ä¼ è¾“ã€‚</p>
<h4 id="15-rpc-çš„ä¼˜åŠ¿"><a class="markdownIt-Anchor" href="#15-rpc-çš„ä¼˜åŠ¿"></a> 1.5 RPC çš„ä¼˜åŠ¿</h4>
<ol>
<li>å•ä¸€èŒè´£ï¼Œæœ‰åˆ©äºåˆ†å·¥åä½œå’Œè¿ç»´å¼€å‘ã€‚å¼€å‘ï¼ˆé‡‡ç”¨ä¸åŒçš„è¯­è¨€ï¼‰ã€éƒ¨ç½²ä»¥åŠè¿ç»´ï¼ˆä¸Šçº¿ç‹¬ç«‹ï¼‰éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚</li>
<li>å¯æ‰©å±•æ€§å¼ºï¼Œèµ„æºä½¿ç”¨ç‡æ›´é«˜ã€‚ä¾‹å¦‚å‹åŠ›è¿‡å¤§æ—¶å¯ä»¥ç‹¬ç«‹æ‰©å……èµ„æºï¼Œåº•å±‚åŸºç¡€æœåŠ¡å¯ä»¥å¤ç”¨ï¼ŒèŠ‚çœèµ„æºã€‚</li>
<li>æ•…éšœéš”ç¦»ï¼ŒæœåŠ¡çš„æ•´ä½“å¯é æ€§æ›´é«˜ã€‚æŸä¸ªæ¨¡å—å‘ç”Ÿæ•…éšœï¼Œä¸ä¼šå½±å“æ•´ä½“çš„å¯é æ€§ã€‚</li>
</ol>
<h4 id="16-rpc-å¸¦æ¥çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#16-rpc-å¸¦æ¥çš„é—®é¢˜"></a> 1.6 RPC å¸¦æ¥çš„é—®é¢˜</h4>
<ol>
<li>æœåŠ¡å®•æœºï¼Œå¦‚ä½•å¤„ç†</li>
<li>åœ¨è°ƒç”¨è¿‡ç¨‹ä¸­å‘ç”Ÿç½‘ç»œå¼‚å¸¸ï¼Œå¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯è¾¾æ€§</li>
<li>è¯·æ±‚é‡çªå¢å¯¼è‡´æœåŠ¡æ— æ³•åŠæ—¶å¤„ç†ï¼Œæœ‰å“ªäº›åº”å¯¹æªæ–½</li>
</ol>
<h4 id="å°ç»“"><a class="markdownIt-Anchor" href="#å°ç»“"></a> å°ç»“</h4>
<ol>
<li>æœ¬åœ°å‡½æ•°è°ƒç”¨å’Œ RPC è°ƒç”¨çš„åŒºåˆ«ï¼šå‡½æ•°æ˜ å°„ã€æ•°æ®è½¬æ¢æˆå­—èŠ‚æµã€ç½‘ç»œä¼ è¾“</li>
<li>RPC çš„æ¦‚å¿µæ¨¡å‹ï¼šUserã€User-Stubã€RPC-Runtimeã€Server-Stubã€Server</li>
<li>ä¸€æ¬¡ RPC çš„å®Œæ•´è¿‡ç¨‹ï¼ŒRPC çš„åŸºæœ¬æ¦‚å¿µå®šä¹‰</li>
<li>RPC å¸¦æ¥å¥½å¤„çš„åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸å°‘æ–°çš„é—®é¢˜ï¼Œè¿™äº›é—®é¢˜ç”± RPC æ¡†æ¶æ¥è§£å†³</li>
</ol>
<h3 id="2åˆ†å±‚è®¾è®¡ä»¥-apache-thrift-ä¸ºä¾‹"><a class="markdownIt-Anchor" href="#2åˆ†å±‚è®¾è®¡ä»¥-apache-thrift-ä¸ºä¾‹"></a> 2.åˆ†å±‚è®¾è®¡ï¼ˆä»¥ Apache Thrift ä¸ºä¾‹ï¼‰</h3>
<h4 id="21-apache-thrift"><a class="markdownIt-Anchor" href="#21-apache-thrift"></a> 2.1 Apache Thrift</h4>
<p>åˆ†ä¸ºæœåŠ¡ç«¯ Server å’Œ å®¢æˆ·ç«¯ Client</p>
<ul>
<li>Codeï¼šå¼€å‘è€…è‡ªå·±ç¼–å†™çš„ä¸šåŠ¡é€»è¾‘ä»£ç </li>
</ul>
<h4 id="22-ç¼–è§£ç å±‚"><a class="markdownIt-Anchor" href="#22-ç¼–è§£ç å±‚"></a> 2.2 ç¼–è§£ç å±‚</h4>
<ul>
<li>Service.Processor å’Œ read/writeï¼šé€šè¿‡ä»£ç ç”Ÿæˆå·¥å…·æŠŠ IDL æ–‡ä»¶ è½¬æ¢æˆä¸åŒè¯­è¨€å¯¹åº”çš„ lib ä»£ç ï¼Œé‡Œé¢å°è£…äº†ç¼–è§£ç é€»è¾‘</li>
<li>TProtocalï¼šæ¡†æ¶çš„ç¼–ç å±‚</li>
</ul>
<h4 id="23-ç¼–è§£ç å±‚-ç”Ÿæˆä»£ç "><a class="markdownIt-Anchor" href="#23-ç¼–è§£ç å±‚-ç”Ÿæˆä»£ç "></a> 2.3 ç¼–è§£ç å±‚ â€” ç”Ÿæˆä»£ç </h4>
<p>Client å’Œ Server ä¾èµ–åŒä¸€ä»½ IDL æ–‡ä»¶ï¼Œç”Ÿæˆä¸åŒè¯­è¨€çš„ CodeGenã€‚</p>
<h4 id="24-ç¼–è§£ç å±‚-æ•°æ®æ ¼å¼"><a class="markdownIt-Anchor" href="#24-ç¼–è§£ç å±‚-æ•°æ®æ ¼å¼"></a> 2.4 ç¼–è§£ç å±‚ â€” æ•°æ®æ ¼å¼</h4>
<ul>
<li>
<p>è¯­è¨€ç‰¹å®šçš„ç¼–ç æ ¼å¼</p>
<p>è®¸å¤šç¼–ç¨‹è¯­è¨€éƒ½å†…å»ºäº†å°†å†…å­˜å¯¹è±¡ç¼–ç ä¸ºå­—èŠ‚åºåˆ—çš„æ”¯æŒï¼Œä¾‹å¦‚ Java æœ‰ <code>java.io.Serializable</code>ã€‚</p>
<p>è¿™ç§ç¼–ç å½¢å¼å¥½å¤„æ˜¯éå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥ç”¨å¾ˆå°‘çš„é¢å¤–ä»£ç å®ç°å†…å­˜å¯¹è±¡çš„ä¿å­˜ä¸æ¢å¤ï¼Œè¿™ç±»ç¼–ç é€šå¸¸ä¸ç‰¹å®šçš„ç¼–ç¨‹è¯­è¨€æ·±åº¦ç»‘å®šï¼Œå…¶ä»–è¯­è¨€å¾ˆéš¾è¯»å–è¿™ç§æ•°æ®ã€‚å¦‚æœä»¥è¿™ç±»ç¼–ç å­˜å‚¨æˆ–ä¼ è¾“æ•°æ®ï¼Œé‚£å°±å’Œè¿™é—¨è¯­è¨€ç»‘å®šåœ¨ä¸€èµ·ã€‚å®‰å…¨å’Œå…¼å®¹æ€§ä¹Ÿæ˜¯é—®é¢˜ã€‚</p>
</li>
<li>
<p>æ–‡æœ¬æ ¼å¼</p>
<p>JSONã€XMLã€CSV ç­‰æ–‡æœ¬æ ¼å¼ï¼Œå…·æœ‰äººç±»å¯è¯»æ€§ã€‚</p>
<p>æ•°å­—çš„ç¼–ç å¤šæœ‰æ­§ä¹‰ä¹‹å¤„ï¼Œæ¯”å¦‚ XML å’Œ CSV ä¸èƒ½åŒºåˆ†æ•°å­—å’Œå­—ç¬¦ä¸²ã€‚</p>
<p>JSON è™½ç„¶åŒºåˆ†å­—ç¬¦ä¸²å’Œæ•°å­—ï¼Œä½†æ˜¯ä¸åŒºåˆ†æ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œè€Œä¸”ä¸èƒ½æŒ‡å®šç²¾åº¦ï¼Œå¤„ç†å¤§é‡æ•°æ®æ—¶ï¼Œè¿™ä¸ªé—®é¢˜æ›´åŠ ä¸¥é‡ï¼›æ²¡æœ‰å¼ºåˆ¶æ¨¡å‹çº¦æŸï¼Œå®é™…æ“ä½œä¸­å¾€å¾€åªèƒ½é‡‡ç”¨æ–‡æ¡£æ–¹å¼æ¥è¿›è¡Œçº¦å®šï¼Œè¿™å¯èƒ½ä¼šç»™è°ƒè¯•å¸¦æ¥ä¸€äº›ä¸ä¾¿ã€‚ ç”±äºJSONåœ¨ä¸€äº›è¯­è¨€ä¸­çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–éœ€è¦é‡‡ç”¨åå°„æœºåˆ¶ï¼Œæ‰€ä»¥åœ¨æ€§èƒ½æ–¹é¢æ¯”è¾ƒå·®ã€‚</p>
</li>
<li>
<p>äºŒè¿›åˆ¶ç¼–ç </p>
<p>å…·å¤‡è·¨è¯­è¨€å’Œé«˜æ€§èƒ½ç­‰ä¼˜ç‚¹ï¼Œå¸¸è§çš„æœ‰ Thrift çš„ BinaryProtocolï¼ŒProtobuf ç­‰ï¼Œå®ç°å¯ä»¥æœ‰å¾ˆå¤šç§ï¼ŒTLV ç¼–ç å’Œ Varint ç¼–ç ç­‰ã€‚</p>
</li>
</ul>
<h4 id="25-ç¼–è§£ç å±‚-äºŒè¿›åˆ¶ç¼–ç "><a class="markdownIt-Anchor" href="#25-ç¼–è§£ç å±‚-äºŒè¿›åˆ¶ç¼–ç "></a> 2.5 ç¼–è§£ç å±‚ â€” äºŒè¿›åˆ¶ç¼–ç </h4>
<p>TLV ç¼–ç </p>
<ul>
<li>Tagï¼šæ ‡ç­¾ï¼Œå¯ä»¥ç†è§£ä¸ºç±»å‹</li>
<li>Lengthï¼šé•¿åº¦</li>
<li>Valueï¼šå€¼ï¼ŒValue ä¹Ÿå¯ä»¥æ˜¯ä¸ª TLV åµŒå¥—ç»“æ„</li>
</ul>
<p>IDL æºä»£ç </p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct Person &#123;</span><br><span class="line">    1: required string		 userName,</span><br><span class="line">    2: optional i64	         favoriteNumber,</span><br><span class="line">    3: optional list&lt;string&gt; interests </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è½¬æ¢æˆç¼–ç ï¼Œä»¥ Thrift BinaryProtocol ä¸ºä¾‹ï¼Œä¸‹é¢çš„äºŒè¿›åˆ¶ç¼–ç è½¬æ¢ä¸ºåå…­è¿›åˆ¶è¡¨ç¤ºï¼Œæ–¹ä¾¿è§‚å¯Ÿ</p>
<p><strong>ç¬¬ä¸€ä¸ªå­—æ®µ userName å¯¹åº”çš„ç¼–ç </strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">type 11(string)</th>
<th style="text-align:center">field tag(1)</th>
<th style="text-align:center">length(6)</th>
<th style="text-align:center">value(Martin)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0b</td>
<td style="text-align:center">00 01</td>
<td style="text-align:center">00 00 00 06</td>
<td style="text-align:center">4d 61 72 69 6e</td>
</tr>
</tbody>
</table>
<p><strong>ç¬¬äºŒä¸ªå­—æ®µ favoriteNumber å¯¹åº”çš„ç¼–ç </strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">type 10(i64)</th>
<th style="text-align:center">field tag(2)</th>
<th style="text-align:center">value(1337)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0a</td>
<td style="text-align:center">00 02</td>
<td style="text-align:center">00 00 00 00 00 00 05 39</td>
</tr>
</tbody>
</table>
<p><strong>ç¬¬ä¸‰ä¸ªå­—æ®µ interests å¯¹åº”çš„ç¼–ç </strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">type 15(list)</th>
<th style="text-align:center">field tag(3)</th>
<th style="text-align:center">item type11(string)</th>
<th style="text-align:center">list items(2)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0f</td>
<td style="text-align:center">00 03</td>
<td style="text-align:center">0b</td>
<td style="text-align:center">00 00 00 02</td>
</tr>
</tbody>
</table>
<p>å‡è®¾å…¶ä¸­æœ‰ä¸¤ä¸ªå€¼ daydreaming å’Œ hackingï¼Œå…¶å¯¹åº”çš„ç¼–ç å¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th style="text-align:center">length</th>
<th style="text-align:center">value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">00 00 00 0b</td>
<td style="text-align:center">64 61 79 64 72 65 61 6d 69 6e 67</td>
</tr>
<tr>
<td style="text-align:center">00 00 00 07</td>
<td style="text-align:center">68 61 63 6b 69 6e 67</td>
</tr>
</tbody>
</table>
<p>æœ€åå†ç”¨ <code>00</code> ç¼–ç ä½œä¸ºç»“å°¾ã€‚è¿™é‡Œæ‰“åŒ…åå‹ç¼©å…± 59 ä¸ªå­—èŠ‚ã€‚</p>
<p>TLV ç¼–ç ç»“æ„æ¸…æ™°ç®€å•ï¼Œå¹¶ä¸”æ‰©å±•æ€§è¾ƒå¥½ï¼Œä½†æ˜¯ç”±äºå¢åŠ äº† Type å’Œ Length ä¸¤ä¸ªå†—ä½™ä¿¡æ¯ï¼Œæœ‰é¢å¤–çš„å†…å­˜å¼€é”€ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§éƒ¨åˆ†å­—æ®µéƒ½æ˜¯åŸºæœ¬ç±»å‹çš„æƒ…å†µä¸‹æœ‰ä¸å°çš„ç©ºé—´æµªè´¹ã€‚</p>
<h4 id="26-ç¼–è§£ç å±‚-é€‰å‹"><a class="markdownIt-Anchor" href="#26-ç¼–è§£ç å±‚-é€‰å‹"></a> 2.6 ç¼–è§£ç å±‚ â€” é€‰å‹</h4>
<ul>
<li>
<p>å…¼å®¹æ€§ï¼šæ”¯æŒè‡ªåŠ¨å¢åŠ æ–°çš„å­—æ®µï¼Œè€Œä¸ä¼šå½±å“è€çš„æœåŠ¡ï¼Œè¿™å°†æé«˜ç³»ç»Ÿçš„çµæ´»åº¦ã€‚</p>
<blockquote>
<p>å…¼å®¹æ€§ï¼š</p>
<p>ç§»åŠ¨äº’è”æ—¶ä»£ï¼Œä¸šåŠ¡ç³»ç»Ÿéœ€æ±‚çš„æ›´æ–°å‘¨æœŸå˜å¾—æ›´å¿«ï¼Œæ–°çš„éœ€æ±‚ä¸æ–­æ¶Œç°ï¼Œè€Œè€çš„ç³»ç»Ÿè¿˜æ˜¯éœ€è¦ç»§ç»­ç»´æŠ¤ã€‚å¦‚æœåºåˆ—åŒ–åè®®å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ï¼Œæ”¯æŒè‡ªåŠ¨å¢åŠ æ–°çš„ä¸šåŠ¡å­—æ®µï¼Œè€Œä¸å½±å“è€çš„æœåŠ¡ï¼Œè¿™å°†å¤§å¤§æä¾›ç³»ç»Ÿçš„çµæ´»åº¦ã€‚</p>
</blockquote>
</li>
<li>
<p>é€šç”¨æ€§ï¼šæ”¯æŒè·¨å¹³å°ã€è·¨è¯­è¨€ã€‚</p>
<blockquote>
<p>é€šç”¨æ€§æœ‰ä¸¤ä¸ªå±‚é¢çš„æ„ä¹‰ï¼š</p>
<p>ç¬¬ä¸€ã€æŠ€æœ¯å±‚é¢ï¼Œåºåˆ—åŒ–åè®®æ˜¯å¦æ”¯æŒè·¨å¹³å°ã€è·¨è¯­è¨€ã€‚å¦‚æœä¸æ”¯æŒï¼Œåœ¨æŠ€æœ¯å±‚é¢ä¸Šçš„é€šç”¨æ€§å°±å¤§å¤§é™ä½äº†ã€‚</p>
<p>ç¬¬äºŒã€æµè¡Œç¨‹åº¦ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–éœ€è¦å¤šæ–¹å‚ä¸ï¼Œå¾ˆå°‘äººä½¿ç”¨çš„åè®®å¾€å¾€æ„å‘³ç€æ˜‚è´µçš„å­¦ä¹ æˆæœ¬ï¼›å¦ä¸€æ–¹é¢ï¼Œæµè¡Œåº¦ä½çš„åè®®ï¼Œå¾€å¾€ç¼ºä¹ç¨³å®šè€Œæˆç†Ÿçš„è·¨è¯­è¨€ã€è·¨å¹³å°çš„å…¬å…±åŒ…ã€‚</p>
</blockquote>
</li>
<li>
<p>æ€§èƒ½ï¼šä»ç©ºé—´å’Œæ—¶é—´ä¸¤ä¸ªç»´åº¦æ¥è€ƒè™‘ï¼Œå³ç¼–ç åæ•°æ®å¤§å°å’Œç¼–ç è€—è´¹æ—¶é•¿ã€‚</p>
<blockquote>
<p>æ€§èƒ½ï¼š</p>
<p>ç¬¬ä¸€ã€ç©ºé—´å¼€é”€ï¼ˆVerbosityï¼‰ï¼Œ åºåˆ—åŒ–éœ€è¦åœ¨åŸæœ‰çš„æ•°æ®ä¸ŠåŠ ä¸Šæè¿°å­—æ®µï¼Œä»¥ä¸ºååºåˆ—åŒ–è§£æä¹‹ç”¨ã€‚å¦‚æœåºåˆ—åŒ–è¿‡ç¨‹å¼•å…¥çš„é¢å¤–å¼€é”€è¿‡é«˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿‡å¤§çš„ç½‘ç»œï¼Œç£ç›˜ç­‰å„æ–¹é¢çš„å‹åŠ›ã€‚å¯¹äºæµ·é‡åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œæ•°æ®é‡å¾€å¾€ä»¥TBä¸ºå•ä½ï¼Œå·¨å¤§çš„çš„é¢å¤–ç©ºé—´å¼€é”€æ„å‘³ç€é«˜æ˜‚çš„æˆæœ¬ã€‚</p>
<p>ç¬¬äºŒã€æ—¶é—´å¼€é”€ï¼ˆComplexityï¼‰ï¼Œå¤æ‚çš„åºåˆ—åŒ–åè®®ä¼šå¯¼è‡´è¾ƒé•¿çš„è§£ææ—¶é—´ï¼Œè¿™å¯èƒ½ä¼šä½¿å¾—åºåˆ—åŒ–å’Œååºåˆ—åŒ–é˜¶æ®µæˆä¸ºæ•´ä¸ªç³»ç»Ÿçš„ç“¶é¢ˆã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="27-åè®®å±‚"><a class="markdownIt-Anchor" href="#27-åè®®å±‚"></a> 2.7 åè®®å±‚</h4>
<ul>
<li>TTransportï¼šæ¡†æ¶çš„åè®®å±‚</li>
</ul>
<h4 id="28-åè®®å±‚-æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#28-åè®®å±‚-æ¦‚å¿µ"></a> 2.8 åè®®å±‚ â€” æ¦‚å¿µ</h4>
<p>åè®®æ˜¯åŒæ–¹ç¡®å®šçš„äº¤æµè¯­ä¹‰ã€‚æ¯”å¦‚ï¼Œè®¾è®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¼ è¾“çš„åè®®ï¼Œå®ƒå…è®¸å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸ªåè®®å¾ˆç®€å•ï¼Œé¦–å…ˆå‘é€ä¸€ä¸ª4å­—èŠ‚çš„æ¶ˆæ¯æ€»é•¿åº¦ï¼Œç„¶åå†å‘é€1å­—èŠ‚çš„å­—ç¬¦é›† charset é•¿åº¦ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ¶ˆæ¯çš„ payloadï¼Œå­—ç¬¦é›†åç§°å’Œå­—ç¬¦ä¸²æ­£æ–‡ã€‚</p>
<ul>
<li>
<p>ç‰¹æ®Šç»“æŸç¬¦ï¼šä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ä½œä¸ºæ¯ä¸ªåè®®å•å…ƒç»“æŸçš„æ ‡è¯†ã€‚</p>
<blockquote>
<p>å¯¹äºä¸€ä¸ªåè®®å•å…ƒå¿…é¡»è¦å…¨éƒ¨è¯»å…¥æ‰èƒ½å¤Ÿè¿›è¡Œå¤„ç†ï¼Œé™¤æ­¤ä¹‹å¤–å¿…é¡»è¦é˜²æ­¢ç”¨æˆ·ä¼ è¾“çš„æ•°æ®ä¸èƒ½åŒç»“æŸç¬¦ç›¸åŒï¼Œå¦åˆ™å°±ä¼šå‡ºç°ç´Šä¹±</p>
<p>HTTP åè®®å¤´å°±æ˜¯ä»¥å›è½¦(CR)åŠ æ¢è¡Œ(LF)ç¬¦å·åºåˆ—ç»“å°¾</p>
</blockquote>
</li>
<li>
<p>å˜é•¿åè®®ï¼šä»¥å®šé•¿åŠ ä¸å®šé•¿çš„éƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­å®šé•¿çš„éƒ¨åˆ†éœ€è¦æè¿°ä¸å®šé•¿çš„å†…å®¹é•¿åº¦ã€‚</p>
<blockquote>
<p>ä¸€èˆ¬éƒ½æ˜¯è‡ªå®šä¹‰åè®®ï¼Œæœ‰ header å’Œ payload ç»„æˆï¼Œç”±å®šé•¿åŠ ä¸å®šé•¿çš„éƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­å®šé•¿çš„éƒ¨åˆ†éœ€è¦æè¿°ä¸å®šé•¿çš„å†…å®¹é•¿åº¦ï¼Œä½¿ç”¨æ¯”è¾ƒå¹¿æ³›</p>
</blockquote>
</li>
</ul>
<h4 id="29-åè®®å±‚-åè®®æ„é€ "><a class="markdownIt-Anchor" href="#29-åè®®å±‚-åè®®æ„é€ "></a> 2.9 åè®®å±‚ â€” åè®®æ„é€ </h4>
<ul>
<li>
<p>Lengthï¼š32bitsï¼ŒåŒ…æ‹¬æ•°æ®åŒ…å‰©ä½™éƒ¨åˆ†çš„å­—èŠ‚å¤§å°ï¼Œä¸åŒ…å«è‡ªèº«é•¿åº¦æ•°æ®åŒ…çš„å¤§å°</p>
</li>
<li>
<p>Header Magicï¼š16bitsï¼Œå€¼ä¸º 0x1000ï¼Œç”¨äºæ ‡è¯†ç‰ˆæœ¬ä¿¡æ¯ï¼Œåè®®è§£ææ—¶å¿«é€Ÿæ ¡éªŒ</p>
</li>
<li>
<p>Flagsï¼š16bitsï¼Œä¸ºé¢„ç•™å­—æ®µï¼Œæš‚æœªä½¿ç”¨ï¼Œé»˜è®¤å€¼ä¸º 0x0000</p>
</li>
<li>
<p>Sequence Numberï¼š32bitsï¼Œè¡¨ç¤ºæ•°æ®åŒ…çš„ seqIDï¼Œå¯ç”¨äºå¤šè·¯å¤ç”¨ï¼Œæœ€å¥½ç¡®ä¿å•ä¸ªè¿æ¥å†…é€’å¢</p>
</li>
<li>
<p>Header Sizeï¼š16bitsï¼Œç­‰äºå¤´éƒ¨é•¿åº¦å­—èŠ‚æ•°/4ï¼Œå¤´éƒ¨é•¿åº¦è®¡ç®—ä»ç¬¬14ä¸ªå­—èŠ‚å¼€å§‹è®¡ç®—ï¼Œä¸€ç›´åˆ° PAYLOAD å‰ï¼ˆå¤‡æ³¨ï¼šheader çš„æœ€å¤§é•¿åº¦ä¸º 64Kï¼‰</p>
</li>
<li>
<p>Protocol IDï¼šuint8 ç¼–ç ï¼Œç¼–è§£ç æ–¹å¼æœ‰ Binary å’Œ Compact ä¸¤ç§ã€‚</p>
<blockquote>
<p>uint8 ç¼–ç ï¼Œå–å€¼æœ‰ï¼š</p>
<p>Protocol ID Binary = 0</p>
<p>Protocol ID Compact = 2</p>
</blockquote>
</li>
<li>
<p>Number Transformsï¼šuint8 ç¼–ç ï¼Œè¡¨ç¤º Transform ä¸ªæ•°ã€‚</p>
</li>
<li>
<p>Transform IDï¼šuint8 ç¼–ç ï¼Œè¡¨ç¤ºå‹ç¼©æ–¹å¼ï¼Œå¦‚ zlib å’Œ snappy</p>
</li>
<li>
<p>Info IDï¼šuint8 ç¼–ç ï¼Œç”¨äºä¼ é€’ä¸€äº›å®šåˆ¶çš„ meta ä¿¡æ¯</p>
</li>
<li>
<p>Payloadï¼šæ¶ˆæ¯ä½“</p>
</li>
</ul>
<h4 id="210-åè®®å±‚-åè®®è§£æ"><a class="markdownIt-Anchor" href="#210-åè®®å±‚-åè®®è§£æ"></a> 2.10 åè®®å±‚ â€” åè®®è§£æ</h4>
<p>â€” Peek â€”&gt; Magic Number â€” Peek â€”&gt; Playload Codec â€” Decode â€”&gt; Payload</p>
<h4 id="211-ç½‘ç»œé€šä¿¡å±‚"><a class="markdownIt-Anchor" href="#211-ç½‘ç»œé€šä¿¡å±‚"></a> 2.11 ç½‘ç»œé€šä¿¡å±‚</h4>
<ul>
<li>Network IOï¼šæ¡†æ¶çš„ç½‘ç»œé€šä¿¡å±‚</li>
</ul>
<h4 id="212-ç½‘ç»œé€šä¿¡å±‚-sockets-api"><a class="markdownIt-Anchor" href="#212-ç½‘ç»œé€šä¿¡å±‚-sockets-api"></a> 2.12 ç½‘ç»œé€šä¿¡å±‚ â€” Sockets API</h4>
<ul>
<li>
<p>å¥—æ¥å­—ï¼ˆSocketï¼‰ç¼–ç¨‹<strong>æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å¼</strong>ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œä½¿ç”¨å’Œæ“ä½œå¥—æ¥å­—æ¥åˆ›å»ºè½¯ä»¶ä¹‹é—´çš„è¿æ¥ã€‚ å¥—æ¥å­—ç”¨äºè¿æ¥ä¸åŒè®¡ç®—æœºä¹‹é—´æˆ–åŒä¸€å°è®¡ç®—æœºå†…çš„è½¯ä»¶ï¼Œä»¥ä¾¿ç¨‹åºå¯ä»¥å…±äº«æ•°æ®ã€‚ å¥—æ¥å­—ç¼–ç¨‹å¯ç”¨äºå³æ—¶æ¶ˆæ¯ã€Internetæµè§ˆå™¨ï¼Œæ–‡ä»¶å…±äº«ç¨‹åºï¼Œä»¥åŠå¼ºåˆ¶è®¡ç®—æœºè¿æ¥åˆ°ç³»ç»Ÿçš„ä»»ä½•ç¨‹åºã€‚</p>
</li>
<li>
<p>å¥—æ¥å­—ç¼–ç¨‹ä¸­çš„å®¢æˆ·ç«¯å¿…é¡»çŸ¥é“ä¸¤ä¸ªä¿¡æ¯ï¼šæœåŠ¡å™¨çš„ IP åœ°å€ï¼Œä»¥åŠç«¯å£å·ã€‚</p>
</li>
<li>
<p>socket å‡½æ•°åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—ï¼Œbind å°†ä¸€ä¸ªå¥—æ¥å­—ç»‘å®šåˆ°ä¸€ä¸ªåœ°å€ä¸Šã€‚listen ç›‘å¬è¿›æ¥çš„è¿æ¥ã€‚</p>
</li>
<li>
<p>backlog çš„å«ä¹‰æœ‰ç‚¹å¤æ‚ï¼Œè¿™é‡Œå…ˆç®€å•çš„æè¿°ï¼šæŒ‡å®šæŒ‚èµ·çš„è¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ï¼Œå½“å®¢æˆ·ç«¯è¿æ¥çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨å¯èƒ½æ­£åœ¨å¤„ç†å…¶ä»–é€»è¾‘è€Œæœªè°ƒç”¨accept æ¥å—è¿æ¥ï¼Œæ­¤æ—¶ä¼šå¯¼è‡´è¿™ä¸ªè¿æ¥è¢«æŒ‚èµ·ï¼Œå†…æ ¸ç»´æŠ¤æŒ‚èµ·çš„è¿æ¥é˜Ÿåˆ—ï¼Œbacklog åˆ™æŒ‡å®šè¿™ä¸ªé˜Ÿåˆ—çš„é•¿åº¦ã€‚accept å‡½æ•°ä»é˜Ÿåˆ—ä¸­å–å‡ºè¿æ¥è¯·æ±‚å¹¶æ¥æ”¶å®ƒï¼Œç„¶åè¿™ä¸ªè¿æ¥å°±ä»æŒ‚èµ·é˜Ÿåˆ—ç§»é™¤ã€‚å¦‚æœé˜Ÿåˆ—æœªæ»¡ï¼Œå®¢æˆ·ç«¯è°ƒç”¨ connect é©¬ä¸ŠæˆåŠŸï¼Œå¦‚æœæ»¡äº†å¯èƒ½ä¼šé˜»å¡ç­‰å¾…é˜Ÿåˆ—æœªæ»¡ï¼ˆå®é™…ä¸Šåœ¨Linuxä¸­æµ‹è¯•å¹¶ä¸æ˜¯è¿™æ ·çš„ç»“æœï¼‰ã€‚Linux çš„ backlog é»˜è®¤æ˜¯128ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹ŸæŒ‡å®šä¸º 128 å³å¯ã€‚</p>
</li>
<li>
<p>connect å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·è¿æ¥ï¼Œaccept æ¥æ”¶ä¸€ä¸ªè¿æ¥è¯·æ±‚ï¼Œå¦‚æœæ²¡æœ‰è¿æ¥åˆ™ä¼šä¸€ç›´é˜»å¡ç›´åˆ°æœ‰è¿æ¥è¿›æ¥ã€‚å¾—åˆ°å®¢æˆ·ç«¯çš„ fd ä¹‹åï¼Œå°±å¯ä»¥è°ƒç”¨ readï¼Œwrite å‡½æ•°å’Œå®¢æˆ·ç«¯é€šè®¯ï¼Œè¯»å†™æ–¹å¼å’Œå…¶ä»– I/O ç±»ä¼¼ã€‚</p>
</li>
<li>
<p>read ä» fd è¯»æ•°æ®ï¼Œsocket é»˜è®¤æ˜¯é˜»å¡æ¨¡å¼çš„ï¼Œå¦‚æœå¯¹æ–¹æ²¡æœ‰å†™æ•°æ®ï¼Œread ä¼šä¸€ç›´é˜»å¡ç€ã€‚</p>
</li>
<li>
<p>write åœ¨ fd å†™æ•°æ®ï¼Œsocket é»˜è®¤æ˜¯é˜»å¡æ¨¡å¼çš„ï¼Œå¦‚æœå¯¹æ–¹æ²¡æœ‰å†™æ•°æ®ï¼Œwrite ä¼šä¸€ç›´é˜»å¡ç€ã€‚</p>
</li>
<li>
<p>socket å…³é—­å¥—æ¥å­—ï¼Œå½“å¦ä¸€ç«¯ socket å…³é—­åï¼Œè¿™ä¸€ç«¯è¯»å†™çš„æƒ…å†µï¼š</p>
<ul>
<li>å°è¯•å»è¯»ä¼šå¾—åˆ°ä¸€ä¸ª EOFï¼Œå¹¶è¿”å› 0ã€‚</li>
<li>å°è¯•å»å†™ä¼šè§¦å‘ä¸€ä¸ªSIGPIPEä¿¡å·ï¼Œå¹¶è¿”å› -1 å’Œ errno=EPIPEï¼ŒSIGPIPE çš„é»˜è®¤è¡Œä¸ºæ˜¯ç»ˆæ­¢ç¨‹åºï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬åº”è¯¥å¿½ç•¥è¿™ä¸ªä¿¡å·ï¼Œé¿å…ç¨‹åºç»ˆæ­¢ã€‚ å¦‚æœè¿™ä¸€ç«¯ä¸å»è¯»å†™ï¼Œæˆ‘ä»¬å¯èƒ½æ²¡æœ‰åŠæ³•çŸ¥é“å¯¹ç«¯çš„ socket æ˜¯å¦å…³é—­ã€‚</li>
</ul>
</li>
</ul>
<h4 id="213-ç½‘ç»œé€šä¿¡å±‚-ç½‘ç»œåº“"><a class="markdownIt-Anchor" href="#213-ç½‘ç»œé€šä¿¡å±‚-ç½‘ç»œåº“"></a> 2.13 ç½‘ç»œé€šä¿¡å±‚ â€” ç½‘ç»œåº“</h4>
<ul>
<li>æä¾›æ˜“ç”¨ API
<ul>
<li>å°è£…åº•å±‚ Socket API</li>
<li>è¿æ¥ç®¡ç†å’Œäº‹ä»¶åˆ†å‘</li>
</ul>
</li>
<li>åŠŸèƒ½
<ul>
<li>åè®®æ”¯æŒï¼štcpã€udp å’Œ uds ç­‰</li>
<li>ä¼˜é›…é€€å‡ºã€å¼‚å¸¸å¤„ç†ç­‰</li>
</ul>
</li>
<li>æ€§èƒ½
<ul>
<li>åº”ç”¨å±‚ buffer å‡å°‘ copy</li>
<li>é«˜æ€§èƒ½å®šæ—¶å™¨ã€å¯¹è±¡æ± ç­‰</li>
</ul>
</li>
</ul>
<h4 id="å°ç»“-2"><a class="markdownIt-Anchor" href="#å°ç»“-2"></a> å°ç»“</h4>
<ol>
<li>RPC æ¡†æ¶ä¸»è¦æ ¸å¿ƒæœ‰ä¸‰å±‚ï¼šç¼–è§£ç å±‚ã€åè®®å±‚å’Œç½‘ç»œé€šä¿¡å±‚</li>
<li>äºŒè¿›åˆ¶ç¼–è§£ç çš„å®ç°åŸç†å’Œé€‰å‹è¦ç‚¹</li>
<li>åè®®çš„ä¸€èˆ¬æ„é€ ï¼Œä»¥åŠæ¡†æ¶åè®®è§£æçš„åŸºæœ¬æµç¨‹</li>
<li>Socket API çš„è°ƒç”¨æµç¨‹ï¼Œä»¥åŠé€‰å‹ç½‘ç»œåº“æ—¶è¦è€ƒè™‘çš„æ ¸å¿ƒæŒ‡æ ‡</li>
</ol>
<h3 id="3å…³é”®æŒ‡æ ‡"><a class="markdownIt-Anchor" href="#3å…³é”®æŒ‡æ ‡"></a> 3.å…³é”®æŒ‡æ ‡</h3>
<h4 id="31-ç¨³å®šæ€§-ä¿éšœç­–ç•¥"><a class="markdownIt-Anchor" href="#31-ç¨³å®šæ€§-ä¿éšœç­–ç•¥"></a> 3.1 ç¨³å®šæ€§ â€” ä¿éšœç­–ç•¥</h4>
<ul>
<li>
<p>ç†”æ–­ï¼šä¿æŠ¤è°ƒç”¨æ–¹ï¼Œé˜²æ­¢è¢«è°ƒç”¨çš„æœåŠ¡å‡ºç°é—®é¢˜è€Œå½±å“åˆ°æ•´ä¸ªé“¾è·¯</p>
<blockquote>
<p>ä¸€ä¸ªæœåŠ¡ A è°ƒç”¨æœåŠ¡ B æ—¶ï¼ŒæœåŠ¡ B çš„ä¸šåŠ¡é€»è¾‘åˆè°ƒç”¨äº†æœåŠ¡ Cï¼Œè€Œè¿™æ—¶æœåŠ¡ C å“åº”è¶…æ—¶äº†ï¼Œç”±äºæœåŠ¡ B ä¾èµ–æœåŠ¡ Cï¼ŒC è¶…æ—¶ç›´æ¥å¯¼è‡´ B çš„ä¸šåŠ¡é€»è¾‘ä¸€ç›´ç­‰å¾…ï¼Œè€Œè¿™ä¸ªæ—¶å€™æœåŠ¡ A ç»§ç»­é¢‘ç¹åœ°è°ƒç”¨æœåŠ¡ Bï¼ŒæœåŠ¡ B å°±å¯èƒ½ä¼šå› ä¸ºå †ç§¯å¤§é‡çš„è¯·æ±‚è€Œå¯¼è‡´æœåŠ¡å®•æœºï¼Œç”±æ­¤å°±å¯¼è‡´äº†æœåŠ¡é›ªå´©çš„é—®é¢˜</p>
</blockquote>
</li>
<li>
<p>é™æµï¼šä¿æŠ¤è¢«è°ƒç”¨æ–¹ï¼Œé˜²æ­¢å¤§æµé‡æŠŠæœåŠ¡å‹å®</p>
<blockquote>
<p>å½“è°ƒç”¨ç«¯å‘é€è¯·æ±‚è¿‡æ¥æ—¶ï¼ŒæœåŠ¡ç«¯åœ¨æ‰§è¡Œä¸šåŠ¡é€»è¾‘ä¹‹å‰å…ˆæ‰§è¡Œæ£€æŸ¥é™æµé€»è¾‘ï¼Œå¦‚æœå‘ç°è®¿é—®é‡è¿‡å¤§å¹¶ä¸”è¶…å‡ºäº†é™æµæ¡ä»¶ï¼Œå°±è®©æœåŠ¡ç«¯ç›´æ¥é™çº§å¤„ç†æˆ–è€…è¿”å›ç»™è°ƒç”¨æ–¹ä¸€ä¸ªé™æµå¼‚å¸¸</p>
</blockquote>
</li>
<li>
<p>è¶…æ—¶æ§åˆ¶ï¼šé¿å…èµ„æºæµªè´¹åœ¨ä¸å¯ç”¨èŠ‚ç‚¹ä¸Š</p>
<blockquote>
<p>å½“ä¸‹æ¸¸çš„æœåŠ¡å› ä¸ºæŸç§åŸå› å“åº”è¿‡æ…¢ï¼Œä¸‹æ¸¸æœåŠ¡ä¸»åŠ¨åœæ‰ä¸€äº›ä¸å¤ªé‡è¦çš„ä¸šåŠ¡ï¼Œé‡Šæ”¾å‡ºæœåŠ¡å™¨èµ„æºï¼Œé¿å…æµªè´¹èµ„æº</p>
</blockquote>
</li>
</ul>
<p>ä»æŸç§ç¨‹åº¦ä¸Šè®²è¶…æ—¶ã€é™æµå’Œç†”æ–­ä¹Ÿæ˜¯ä¸€ç§æœåŠ¡é™çº§çš„æ‰‹æ®µ</p>
<h4 id="32-ç¨³å®šæ€§-è¯·æ±‚æˆåŠŸç‡"><a class="markdownIt-Anchor" href="#32-ç¨³å®šæ€§-è¯·æ±‚æˆåŠŸç‡"></a> 3.2 ç¨³å®šæ€§ â€” è¯·æ±‚æˆåŠŸç‡</h4>
<ul>
<li>è´Ÿè½½å‡è¡¡</li>
<li>é‡è¯•</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼Œé‡è¯•æœ‰æ”¾å¤§æ•…éšœçš„é£é™©ï¼Œé‡è¯•ä¼šç›´æ¥åŠ å¤§ä¸‹æ¸¸çš„è´Ÿè½½ã€‚</p>
<p>å‡è®¾ A æœåŠ¡è°ƒç”¨ B æœåŠ¡ï¼Œé‡è¯•æ¬¡æ•°è®¾ç½®ä¸º rï¼ˆåŒ…æ‹¬é¦–æ¬¡è¯·æ±‚ï¼‰ï¼Œå½“ B é«˜è´Ÿè½½æ—¶å¾ˆå¯èƒ½è°ƒç”¨ä¸æˆåŠŸï¼Œè¿™æ—¶ A è°ƒç”¨å¤±è´¥é‡è¯• B ï¼ŒB æœåŠ¡çš„è¢«è°ƒç”¨é‡å¿«é€Ÿå¢å¤§ï¼Œæœ€åæƒ…å†µä¸‹å¯èƒ½æ”¾å¤§åˆ° r å€ï¼Œä¸ä»…ä¸èƒ½è¯·æ±‚æˆåŠŸï¼Œè¿˜å¯èƒ½å¯¼è‡´ B çš„è´Ÿè½½ç»§ç»­å‡é«˜ï¼Œç”šè‡³ç›´æ¥æ‰“æŒ‚ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢é‡è¯•é£æš´ï¼Œéœ€è¦é™åˆ¶å•ç‚¹é‡è¯•å’Œé™åˆ¶é“¾è·¯é‡è¯•</p>
</blockquote>
<h4 id="33-ç¨³å®šæ€§-é•¿å°¾è¯·æ±‚"><a class="markdownIt-Anchor" href="#33-ç¨³å®šæ€§-é•¿å°¾è¯·æ±‚"></a> 3.3 ç¨³å®šæ€§ â€” é•¿å°¾è¯·æ±‚</h4>
<p>é•¿å°¾è¯·æ±‚ä¸€èˆ¬æ˜¯æŒ‡æ˜æ˜¾é«˜äºå‡å€¼çš„é‚£éƒ¨åˆ†å æ¯”è¾ƒå°çš„è¯·æ±‚ã€‚</p>
<blockquote>
<p>ä¸šç•Œå…³äºå»¶è¿Ÿæœ‰ä¸€ä¸ªå¸¸ç”¨çš„P99æ ‡å‡†ï¼Œ P99 å•ä¸ªè¯·æ±‚å“åº”è€—æ—¶ä»å°åˆ°å¤§æ’åˆ—ï¼Œé¡ºåºå¤„äº99%ä½ç½®çš„å€¼å³ä¸ºP99 å€¼ï¼Œé‚£åé¢è¿™ 1%å°±å¯ä»¥è®¤ä¸ºæ˜¯é•¿å°¾è¯·æ±‚ã€‚</p>
</blockquote>
<p>åœ¨è¾ƒå¤æ‚çš„ç³»ç»Ÿä¸­ï¼Œé•¿å°¾å»¶æ—¶æ€»æ˜¯ä¼šå­˜åœ¨ã€‚é€ æˆè¿™ä¸ªçš„åŸå› éå¸¸å¤šï¼Œå¸¸è§çš„æœ‰ç½‘ç»œæŠ–åŠ¨ï¼ŒGCï¼Œç³»ç»Ÿè°ƒåº¦ã€‚å¯ä»¥ä½¿ç”¨ Backup Request çš„æœºåˆ¶æ¥å‡å°‘å»¶æ—¶ã€‚</p>
<blockquote>
<p>æˆ‘ä»¬é¢„å…ˆè®¾å®šä¸€ä¸ªé˜ˆå€¼ t3ï¼ˆæ¯”è¶…æ—¶æ—¶é—´å°ï¼Œé€šå¸¸å»ºè®®æ˜¯ RPC è¯·æ±‚å»¶æ—¶çš„ pct99 ï¼‰ï¼Œå½“ Req1 å‘å‡ºå»åè¶…è¿‡ t3 æ—¶é—´éƒ½æ²¡æœ‰è¿”å›ï¼Œé‚£æˆ‘ä»¬ç›´æ¥å‘èµ·é‡è¯•è¯·æ±‚ Req2 ï¼Œè¿™æ ·ç›¸å½“äºåŒæ—¶æœ‰ä¸¤ä¸ªè¯·æ±‚è¿è¡Œã€‚ç„¶åç­‰å¾…è¯·æ±‚è¿”å›ï¼Œåªè¦ Resp1 æˆ–è€… Resp2 ä»»æ„ä¸€ä¸ªè¿”å›æˆåŠŸçš„ç»“æœï¼Œå°±å¯ä»¥ç«‹å³ç»“æŸè¿™æ¬¡è¯·æ±‚ï¼Œè¿™æ ·æ•´ä½“çš„è€—æ—¶å°±æ˜¯ t4 ï¼Œå®ƒè¡¨ç¤ºä»ç¬¬ä¸€ä¸ªè¯·æ±‚å‘å‡ºåˆ°ç¬¬ä¸€ä¸ªæˆåŠŸç»“æœè¿”å›ä¹‹é—´çš„æ—¶é—´ï¼Œç›¸æ¯”äºç­‰å¾…è¶…æ—¶åå†å‘å‡ºè¯·æ±‚ï¼Œè¿™ç§æœºåˆ¶èƒ½å¤§å¤§å‡å°‘æ•´ä½“å»¶æ—¶ã€‚</p>
</blockquote>
<h4 id="34-ç¨³å®šæ€§-æ³¨å†Œä¸­é—´ä»¶"><a class="markdownIt-Anchor" href="#34-ç¨³å®šæ€§-æ³¨å†Œä¸­é—´ä»¶"></a> 3.4 ç¨³å®šæ€§ â€” æ³¨å†Œä¸­é—´ä»¶</h4>
<p>Kitex æ¡†æ¶ä¸­çš„ Client å’Œ Server åˆ›å»ºæ¥å£å‡é‡‡ç”¨ Option æ¨¡å¼ï¼Œæä¾›äº†æå¤§çš„çµæ´»æ€§ï¼Œå¾ˆæ–¹ä¾¿å°±èƒ½æ³¨å…¥è¿™äº›ç¨³å®šæ€§ç­–ç•¥ã€‚</p>
<h4 id="35-æ˜“ç”¨æ€§"><a class="markdownIt-Anchor" href="#35-æ˜“ç”¨æ€§"></a> 3.5 æ˜“ç”¨æ€§</h4>
<ul>
<li>å¼€ç®±å³ç”¨ï¼šåˆç†çš„é»˜è®¤å‚æ•°é€‰é¡¹ã€ä¸°å¯Œçš„æ–‡æ¡£ã€‚</li>
<li>å‘¨è¾¹å·¥å…·ï¼šç”Ÿæˆä»£ç å·¥å…·ã€è„šæ‰‹æ¶å·¥å…·</li>
<li>ç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œå·¥å…·
<ul>
<li>ç”ŸæˆæœåŠ¡ä»£ç è„šæ‰‹æ¶</li>
<li>æ”¯æŒ protobuf å’Œ thrift</li>
<li>å†…ç½®åŠŸèƒ½ä¸°å¯Œçš„é€‰é¡¹</li>
<li>æ”¯æŒè‡ªå®šä¹‰çš„ç”Ÿæˆä»£ç æ’ä»¶</li>
</ul>
</li>
</ul>
<p>Kitex ä½¿ç”¨ Suite æ¥æ‰“åŒ…è‡ªå®šä¹‰çš„åŠŸèƒ½ï¼Œæä¾› â€ä¸€é”®é…ç½®åŸºç¡€ä¾èµ–â€œ çš„ä¼˜åŠ¿ã€‚</p>
<h4 id="36-æ‰©å±•æ€§"><a class="markdownIt-Anchor" href="#36-æ‰©å±•æ€§"></a> 3.6 æ‰©å±•æ€§</h4>
<ul>
<li>Middleware</li>
<li>Option</li>
<li>ç¼–è§£ç å±‚</li>
<li>åè®®å±‚</li>
<li>ç½‘ç»œä¼ è¾“å±‚</li>
<li>ä»£ç ç”Ÿæˆå·¥å…·æ’ä»¶æ‰©å±•</li>
</ul>
<blockquote>
<p>ä¸€æ¬¡è¯·æ±‚å‘èµ·é¦–å…ˆä¼šç»è¿‡æ²»ç†å±‚é¢ï¼Œæ²»ç†ç›¸å…³çš„é€»è¾‘è¢«å°è£…åœ¨ middleware ä¸­ï¼Œè¿™äº› middleware ä¼šè¢«æ„é€ æˆä¸€ä¸ªæœ‰åºè°ƒç”¨é“¾ï¼Œé€ä¸ªæ‰§è¡Œï¼Œæ¯”å¦‚æœåŠ¡å‘ç°ã€è·¯ç”±ã€è´Ÿè½½å‡è¡¡ã€è¶…æ—¶æ§åˆ¶ç­‰ï¼Œmw æ‰§è¡Œåå°±ä¼šè¿›å…¥åˆ° remote æ¨¡å—ï¼Œå®Œæˆä¸è¿œç«¯çš„é€šä¿¡</p>
</blockquote>
<h4 id="37-è§‚æµ‹æ€§"><a class="markdownIt-Anchor" href="#37-è§‚æµ‹æ€§"></a> 3.7 è§‚æµ‹æ€§</h4>
<ul>
<li>Log æ—¥å¿—ã€Metrics æŒ‡æ ‡ã€Trace é“¾è·¯</li>
<li>å†…ç½®è§‚æµ‹æ€§æœåŠ¡</li>
</ul>
<blockquote>
<p>é™¤äº†ä¼ ç»Ÿçš„ Logã€Metricã€Trace ä¸‰ä»¶å¥—ä¹‹å¤–ï¼Œå¯¹äºæ¡†æ¶æ¥è¯´å¯èƒ½è¿˜ä¸å¤Ÿï¼Œè¿˜æœ‰äº›æ¡†æ¶è‡ªèº«çŠ¶æ€éœ€è¦æš´éœ²å‡ºæ¥ï¼Œä¾‹å¦‚å½“å‰çš„ç¯å¢ƒå˜é‡ã€é…ç½®ã€Client/Serveråˆå§‹åŒ–å‚æ•°ã€ç¼“å­˜ä¿¡æ¯ç­‰</p>
</blockquote>
<h4 id="38-é«˜æ€§èƒ½"><a class="markdownIt-Anchor" href="#38-é«˜æ€§èƒ½"></a> 3.8 é«˜æ€§èƒ½</h4>
<p>åœºæ™¯</p>
<ul>
<li>å•æœºã€é›†ç¾¤</li>
<li>å•è¿æ¥ã€å¤šè¿æ¥</li>
<li>å•/å¤š clientã€å•/å¤š server</li>
<li>ä¸åŒå¤§å°çš„è¯·æ±‚åŒ…</li>
<li>ä¸åŒè¯·æ±‚ç±»å‹ï¼Œä¾‹å¦‚ pingpongã€streaming ç­‰ï¼Œå‚è€ƒ<a class="link"   href="https://www.cloudwego.io/zh/docs/kitex/tutorials/basic-feature/message_type/" >æ¶ˆæ¯ç±»å‹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
<p>ç›®æ ‡</p>
<ul>
<li>é«˜åå</li>
<li>ä½å»¶è¿Ÿ</li>
</ul>
<blockquote>
<p>è¿™é‡Œåˆ†ä¸¤ä¸ªç»´åº¦ï¼Œé«˜æ€§èƒ½æ„å‘³ç€é«˜ååå’Œä½å»¶è¿Ÿï¼Œä¸¤è€…éƒ½å¾ˆé‡è¦ï¼Œç”šè‡³å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ä½å»¶è¿Ÿæ›´é‡è¦ã€‚</p>
</blockquote>
<p>æ‰‹æ®µ</p>
<ul>
<li>è¿æ¥æ± </li>
<li>å¤šè·¯å¤ç”¨</li>
<li>é«˜æ€§èƒ½ç¼–è§£ç åè®®</li>
<li>é«˜æ€§èƒ½ç½‘ç»œåº“</li>
</ul>
<p>å¤šè·¯å¤ç”¨å¯ä»¥å¤§å¤§å‡å°‘äº†è¿æ¥å¸¦æ¥çš„èµ„æºæ¶ˆè€—ï¼Œå¹¶ä¸”æå‡äº†æœåŠ¡ç«¯æ€§èƒ½ã€‚</p>
<blockquote>
<p>è¿æ¥å¤šè·¯å¤ç”¨å’Œéè¿æ¥å¤šè·¯å¤ç”¨</p>
<p>è°ƒç”¨ç«¯å‘æœåŠ¡ç«¯çš„ä¸€ä¸ªèŠ‚ç‚¹å‘é€è¯·æ±‚ï¼Œå¹¶å‘åœºæ™¯ä¸‹ï¼Œå¦‚æœæ˜¯éè¿æ¥å¤šè·¯å¤ç”¨ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½ä¼šæŒæœ‰ä¸€ä¸ªè¿æ¥ï¼Œç›´åˆ°è¯·æ±‚ç»“æŸè¿æ¥æ‰ä¼šè¢«å…³é—­æˆ–è€…æ”¾å…¥è¿æ¥æ± å¤ç”¨ï¼Œå¹¶å‘é‡ä¸è¿æ¥æ•°æ˜¯å¯¹ç­‰çš„å…³ç³»ã€‚ è€Œä½¿ç”¨è¿æ¥å¤šè·¯å¤ç”¨ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½å¯ä»¥åœ¨ä¸€ä¸ªè¿æ¥ä¸Šå®Œæˆï¼Œå¯ä»¥æ˜æ˜¾çœ‹åˆ°è¿æ¥èµ„æºåˆ©ç”¨ä¸Šçš„å·®å¼‚</p>
</blockquote>
<h4 id="å°ç»“-3"><a class="markdownIt-Anchor" href="#å°ç»“-3"></a> å°ç»“</h4>
<ol>
<li>æ¡†æ¶é€šè¿‡ä¸­é—´ä»¶æ¥æ³¨å…¥å„ç§æœåŠ¡æ²»ç†ç­–ç•¥ï¼Œä¿éšœæœåŠ¡çš„ç¨³å®šæ€§</li>
<li>é€šè¿‡åˆç†çš„é»˜è®¤é…ç½®å’Œæ–¹ä¾¿çš„å‘½ä»¤è¡Œå·¥å…·å¯ä»¥æå‡æ¡†æ¶çš„æ˜“ç”¨æ€§</li>
<li>æ¡†æ¶åº”å½“æä¾›ä¸°å¯Œçš„æ‰©å±•ç‚¹ï¼Œä¾‹å¦‚æ ¸å¿ƒçš„ä¼ è¾“å±‚å’Œåè®®å±‚</li>
<li>è§‚æµ‹æ€§é™¤äº†ä¼ ç»Ÿçš„ Logã€Metrics å’Œ Trace ä¹‹å¤–ï¼Œå†…ç½®çŠ¶æ€æš´éœ²æœåŠ¡ä¹Ÿå¾ˆæœ‰å¿…è¦</li>
<li>æ€§èƒ½å¯ä»¥ä»å¤šä¸ªå±‚é¢å»ä¼˜åŒ–ï¼Œä¾‹å¦‚é€‰æ‹©é«˜æ€§èƒ½çš„ç¼–è§£ç åè®®å’Œç½‘ç»œåº“</li>
</ol>
<p><font color='red'>ä»¥ä¸‹æ˜¯å†…éƒ¨å¼€å‘è€…çš„åˆ†äº«ï¼Œä¹Ÿæ•´ç†åœ¨äº†é’è®­è¥æ´»åŠ¨å­¦ä¹ ç¬”è®°ä¸­ï¼Œå¦‚æœ‰ä¾µæƒè¯·è”ç³»ç¬”è€…åˆ é™¤</font></p>
<h3 id="4ä¼ä¸šå®è·µ"><a class="markdownIt-Anchor" href="#4ä¼ä¸šå®è·µ"></a> 4.ä¼ä¸šå®è·µ</h3>
<h4 id="41-æ•´ä½“æ¶æ„-kitex"><a class="markdownIt-Anchor" href="#41-æ•´ä½“æ¶æ„-kitex"></a> 4.1 æ•´ä½“æ¶æ„ â€” Kitex</h4>
<ul>
<li>
<p>Kitex Coreï¼šæ ¸å¿ƒç»„ä»¶</p>
<blockquote>
<p>core æ˜¯ Kitexçš„çš„ä¸»å¹²é€»è¾‘ï¼Œå®šä¹‰äº†æ¡†æ¶çš„å±‚æ¬¡ç»“æ„ã€æ¥å£ï¼Œè¿˜æœ‰æ¥å£çš„é»˜è®¤å®ç°ï¼Œclient å’Œ server æ˜¯å¯¹ç”¨æˆ·æš´éœ²çš„ï¼Œclient/server option çš„é…ç½®éƒ½æ˜¯åœ¨è¿™ä¸¤ä¸ªpackageä¸­æä¾›çš„ã€‚è¿˜æœ‰client/server çš„åˆå§‹åŒ–ï¼Œåœ¨ kitex_gen ç”Ÿæˆä»£ç æ—¶ï¼Œç”¨åˆ°çš„ client.go å’Œ server.goï¼Œåœ¨åˆå§‹åŒ– client æ—¶è°ƒç”¨çš„æ˜¯ kitex_gen ä¸­çš„æ–¹æ³•ï¼Œå…¶å®è§‚å¯Ÿ kitex_gen ä¸‹ service package çš„ä»£ç å°±çŸ¥é“è¿™æ˜¯å¯¹  client/server çš„å°è£…ã€‚</p>
<p>client/server ä¸‹çš„æ˜¯æ¡†æ¶æ²»ç†å±‚é¢çš„åŠŸèƒ½æ¨¡å—å’Œäº¤äº’å…ƒä¿¡æ¯ï¼Œremote æ˜¯ä¸å¯¹ç«¯äº¤äº’çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ç¼–è§£ç å’Œç½‘ç»œé€šä¿¡ã€‚</p>
</blockquote>
</li>
<li>
<p>Kitex Bytedï¼šä¸ä¼ä¸šå†…éƒ¨åŸºç¡€è®¾æ–½åŸºç¡€</p>
<blockquote>
<p>byted æ˜¯å¯¹å­—èŠ‚å†…éƒ¨çš„æ‰©å±•ï¼Œé›†æˆäº†å†…éƒ¨çš„äºŒæ–¹åº“è¿˜æœ‰ä¸å­—èŠ‚ç›¸å…³çš„éé€šç”¨çš„å®ç°ï¼Œbyted éƒ¨åˆ†æ˜¯åœ¨ç”Ÿæˆä»£ç ä¸­åˆå§‹åŒ– client å’Œ server æ—¶é€šè¿‡ suite é›†æˆè¿›æ¥çš„ï¼Œè¿™æ ·å®ç°çš„å¥½å¤„æ˜¯ä¸å­—èŠ‚çš„å†…éƒ¨ç‰¹æ€§è§£è€¦ï¼Œæ–¹ä¾¿åç»­å¼€æºæ‹†åˆ†ã€‚</p>
</blockquote>
</li>
<li>
<p>Kitex Toolï¼šä»£ç ç”Ÿæˆå·¥å…·</p>
<blockquote>
<p>tool åˆ™æ˜¯ä¸ç”Ÿæˆä»£ç ç›¸å…³çš„å®ç°ï¼Œç”Ÿæˆä»£ç å·¥å…·å°±æ˜¯ç¼–è¯‘è¿™ä¸ªåŒ…å¾—åˆ°çš„ï¼Œé‡Œé¢åŒ…æ‹¬ idl è§£æã€æ ¡éªŒã€ä»£ç ç”Ÿæˆã€æ’ä»¶æ”¯æŒã€è‡ªæ›´æ–°ç­‰ï¼Œæœªæ¥ç”Ÿæˆä»£ç é€»è¾‘è¿˜ä¼šåšä¸€äº›æ‹†åˆ†ï¼Œä¾¿äºç»™ç”¨æˆ·æä¾›æ›´å‹å¥½çš„æ‰©å±•</p>
</blockquote>
</li>
<li>
<p>Kitex å®˜æ–¹ä»“åº“<a class="link"   href="https://github.com/cloudwego/kitex" >https://github.com/cloudwego/kitex <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ul>
<h4 id="42-è‡ªç ”ç½‘ç»œåº“-èƒŒæ™¯"><a class="markdownIt-Anchor" href="#42-è‡ªç ”ç½‘ç»œåº“-èƒŒæ™¯"></a> 4.2 è‡ªç ”ç½‘ç»œåº“ â€” èƒŒæ™¯</h4>
<ul>
<li>
<p>åŸç”Ÿåº“æ— æ³•æ„ŸçŸ¥è¿æ¥çŠ¶æ€</p>
<p>åœ¨ä½¿ç”¨è¿æ¥æ± æ—¶ï¼Œæ± ä¸­å­˜åœ¨å¤±æ•ˆè¿æ¥ï¼Œå½±å“è¿æ¥æ± çš„å¤ç”¨ã€‚</p>
</li>
<li>
<p>åŸç”Ÿåº“å­˜åœ¨ goroutine æš´æ¶¨çš„é£é™©</p>
<p>ä¸€ä¸ªè¿æ¥ä¸€ä¸ª goroutine çš„æ¨¡å¼ï¼Œç”±äºè¿æ¥åˆ©ç”¨ç‡ä½ä¸‹ï¼Œå­˜åœ¨å¤§é‡ goroutine å ç”¨è°ƒåº¦å¼€é”€ï¼Œå½±å“æ€§èƒ½ã€‚</p>
<blockquote>
<ol>
<li>Go Net ä½¿ç”¨ Epoll ET ï¼ŒNetpoll ä½¿ç”¨ LTã€‚</li>
<li>Netpoll åœ¨å¤§åŒ…åœºæ™¯ä¸‹ä¼šå ç”¨æ›´å¤šçš„å†…å­˜ã€‚</li>
<li>Go Net åªæœ‰ä¸€ä¸ª Epoll äº‹ä»¶å¾ªç¯ï¼ˆå› ä¸º ET æ¨¡å¼è¢«å”¤é†’çš„å°‘ï¼Œä¸”äº‹ä»¶å¾ªç¯å†…æ— éœ€è´Ÿè´£è¯»å†™ï¼Œæ‰€ä»¥å¹²çš„æ´»å°‘ï¼‰ï¼Œè€Œ Netpoll å…è®¸æœ‰å¤šä¸ªäº‹ä»¶å¾ªç¯ï¼ˆå¾ªç¯å†…éœ€è¦è´Ÿè´£è¯»å†™ï¼Œå¹²çš„æ´»å¤šï¼Œè¯»å†™è¶Šé‡ï¼Œè¶Šéœ€è¦å¼€æ›´å¤š Loopsï¼‰ã€‚</li>
<li>Go Net ä¸€ä¸ªè¿æ¥ä¸€ä¸ª Goroutineï¼ŒNetpoll è¿æ¥æ•°å’Œ Goroutine æ•°é‡æ²¡æœ‰å…³ç³»ï¼Œå’Œè¯·æ±‚æ•°æœ‰ä¸€å®šå…³ç³»ï¼Œä½†æ˜¯æœ‰ Gopool é‡ç”¨ã€‚</li>
<li>Go Net ä¸æ”¯æŒ Zero Copyï¼Œç”šè‡³äºå¦‚æœç”¨æˆ·æƒ³è¦å®ç° BufferdConnection è¿™ç±»ç¼“å­˜è¯»å–ï¼Œè¿˜ä¼šäº§ç”ŸäºŒæ¬¡æ‹·è´ã€‚Netpoll æ”¯æŒç®¡ç†ä¸€ä¸ª Buffer æ± ç›´æ¥äº¤ç»™ç”¨æˆ·ï¼Œä¸”ä¸Šå±‚ç”¨æˆ·å¯ä»¥ä¸ä½¿ç”¨ Read(p []byte) æ¥å£è€Œä½¿ç”¨ç‰¹å®šé›¶æ‹·è´è¯»å–æ¥å£å¯¹ Buffer è¿›è¡Œç®¡ç†ï¼Œå®ç°é›¶æ‹·è´èƒ½åŠ›çš„ä¼ é€’ã€‚</li>
</ol>
</blockquote>
</li>
</ul>
<h4 id="43-è‡ªç ”ç½‘ç»œåº“-netpoll"><a class="markdownIt-Anchor" href="#43-è‡ªç ”ç½‘ç»œåº“-netpoll"></a> 4.3 è‡ªç ”ç½‘ç»œåº“ â€” Netpoll</h4>
<ol>
<li>
<p>go net æ— æ³•æ£€æµ‹è¿æ¥å¯¹ç«¯å…³é—­ï¼ˆæ— æ³•æ„ŸçŸ¥è¿æ¥çŠ¶æ€ï¼‰</p>
<ol>
<li>åœ¨ä½¿ç”¨é•¿è¿æ¥æ± æ—¶ï¼Œæ± ä¸­å­˜åœ¨å¤±æ•ˆè¿æ¥ï¼Œä¸¥é‡å½±å“äº†è¿æ¥æ± çš„ä½¿ç”¨å’Œæ•ˆç‡ã€‚</li>
<li>å¸Œæœ›é€šè¿‡å¼•å…¥ epoll ä¸»åŠ¨ç›‘å¬æœºåˆ¶ï¼Œæ„ŸçŸ¥è¿æ¥çŠ¶æ€ã€‚</li>
</ol>
<p>è§£å†³æ— æ³•æ„ŸçŸ¥è¿æ¥é—®é¢˜</p>
</li>
<li>
<p>go net ç¼ºä¹å¯¹åç¨‹æ•°é‡çš„ç®¡ç†</p>
<ol>
<li>
<p>Kitex é‡‡å–ä¸€ä¸ªè¿æ¥ä¸€ä¸ª goroutine æ¨¡å¼ï¼Œç”±äºè¿æ¥åˆ©ç”¨ç‡ä½ï¼ŒæœåŠ¡å­˜åœ¨è¾ƒå¤šæ— ç”¨çš„ goroutineï¼Œå ç”¨è°ƒåº¦å¼€é”€ï¼Œå½±å“æ€§èƒ½ã€‚</p>
</li>
<li>
<p>å¸Œæœ›å»ºç«‹åç¨‹æ± ï¼Œæå‡æ€§èƒ½ã€‚</p>
<p>netpoll åŸºäº epollï¼ŒåŒæ—¶é‡‡ç”¨ Reactor æ¨¡å‹ï¼Œå¯¹äºæœåŠ¡ç«¯åˆ™æ˜¯ä¸»ä» Reactor æ¨¡å‹ï¼ŒæœåŠ¡ç«¯çš„ ä¸»reactor ç”¨äºæ¥å—è°ƒç”¨ç«¯çš„è¿æ¥ï¼Œç„¶åå°†å»ºç«‹å¥½çš„è¿æ¥æ³¨å†Œåˆ°æŸä¸ª ä»Reactor ä¸Šï¼Œ ä»Reactor è´Ÿè´£ç›‘å¬è¿æ¥ä¸Šçš„è¯»å†™äº‹ä»¶ï¼Œç„¶åå°†è¯»å†™äº‹ä»¶åˆ†å‘åˆ°åç¨‹æ± é‡Œè¿›è¡Œå¤„ç†ã€‚</p>
</li>
</ol>
<p>è§£å†³ goroutine æš´æ¶¨çš„é£é™©</p>
</li>
<li>
<p>æå‡æ€§èƒ½</p>
<p>ä¸ºäº†æå‡æ€§èƒ½ï¼Œå¼•å…¥äº† Nocopy Bufferï¼Œå‘ä¸Šå±‚æä¾› NoCopy çš„è°ƒç”¨æ¥å£ï¼Œç¼–è§£ç å±‚é¢é›¶æ‹·è´</p>
</li>
</ol>
<h4 id="44-æ‰©å±•æ€§è®¾è®¡"><a class="markdownIt-Anchor" href="#44-æ‰©å±•æ€§è®¾è®¡"></a> 4.4 æ‰©å±•æ€§è®¾è®¡</h4>
<p>æ”¯æŒå¤šåè®®ï¼Œä¹Ÿæ”¯æŒçµæ´»çš„è‡ªå®šä¹‰åè®®æ‰©å±•</p>
<blockquote>
<p>kitex æ”¯æŒå¤šåè®®çš„å¹¶ä¸”ä¹Ÿæ˜¯å¯æ‰©å±•çš„ï¼Œäº¤äº’æ–¹å¼ä¸Šå‰é¢å·²ç»è¯´è¿‡æ”¯æŒping-pongã€streamingã€oneway</p>
<p>ç¼–è§£ç æ”¯æŒ thriftã€Protobuf åº”ç”¨å±‚åè®®æ”¯æŒ TTHeaderã€Http2ã€ä¹Ÿæ”¯æŒè£¸çš„ thrift åè®®</p>
<p>ä¼ è¾“å±‚ç›®å‰æ”¯æŒ TCPï¼Œæœªæ¥è€ƒè™‘æ”¯æŒ UDPã€kernel-bypass çš„ RDMA</p>
<p>æ¡†æ¶å†…éƒ¨ä¸å¼ºä¾èµ–ä»»ä½•åè®®å’Œç½‘ç»œæ¨¡å—ï¼Œå¯ä»¥åŸºäºæ¥å£æ‰©å±•ï¼Œåœ¨ä¼ è¾“å±‚ä¸Šåˆ™å¯ä»¥é›†æˆå…¶ä»–åº“è¿›è¡Œæ‰©å±•ã€‚</p>
<p>ç›®å‰é›†æˆçš„æœ‰è‡ªç ”çš„ Netpollï¼ŒåŸºäº netpoll å®ç°çš„ http2 åº“ï¼Œç”¨äº mesh åœºæ™¯é€šè¿‡å…±äº«å†…å­˜é«˜æ•ˆé€šä¿¡çš„ shm-ipcï¼Œä»¥åä¹Ÿå¯ä»¥å¢åŠ å¯¹ RDMA æ”¯æŒçš„æ‰©å±•</p>
</blockquote>
<h4 id="45-æ€§èƒ½ä¼˜åŒ–-ç½‘ç»œåº“ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#45-æ€§èƒ½ä¼˜åŒ–-ç½‘ç»œåº“ä¼˜åŒ–"></a> 4.5 æ€§èƒ½ä¼˜åŒ– â€” ç½‘ç»œåº“ä¼˜åŒ–</h4>
<ul>
<li>è°ƒåº¦ä¼˜åŒ–
<ul>
<li>epoll_wait åœ¨è°ƒåº¦ä¸Šçš„æ§åˆ¶</li>
<li>gopool é‡ç”¨ gorutine é™ä½åŒæ—¶è¿è¡Œåç¨‹æ•°</li>
</ul>
</li>
<li>LinkBuffer
<ul>
<li>è¯»å†™å¹¶è¡Œæ— é”ï¼Œæ”¯æŒ nocopy çš„æµå¼è¯»å†™</li>
<li>é«˜æ•ˆæ‰©ç¼©å®¹</li>
<li>Nocopy Buffer æ± åŒ–ï¼Œå‡å°‘ GC</li>
</ul>
</li>
<li>Pool
<ul>
<li>å¼•å…¥å†…å­˜æ± å’Œå¯¹è±¡æ± ï¼Œå‡å°‘ GC å¼€é”€</li>
</ul>
</li>
</ul>
<h4 id="46-æ€§èƒ½ä¼˜åŒ–-ç¼–è§£ç ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#46-æ€§èƒ½ä¼˜åŒ–-ç¼–è§£ç ä¼˜åŒ–"></a> 4.6 æ€§èƒ½ä¼˜åŒ– â€” ç¼–è§£ç ä¼˜åŒ–</h4>
<ul>
<li>Codegen
<ul>
<li>é¢„è®¡ç®—å¹¶é¢„åˆ†é…å†…å­˜ï¼Œå‡å°‘å†…å­˜æ“ä½œæ¬¡æ•°ï¼ŒåŒ…æ‹¬å†…å­˜åˆ†é…å’Œæ‹·è´</li>
<li>Inline å†…è”å‡å°‘å‡½æ•°è°ƒç”¨æ¬¡æ•°å’Œé¿å…ä¸å¿…è¦çš„åå°„æ“ä½œç­‰</li>
<li>è‡ªç ” Go è¯­è¨€å®ç°çš„ Thrift IDL è§£æå’Œä»£ç ç”Ÿæˆå™¨ï¼Œæ”¯æŒå®Œå–„çš„ Thrift IDL è¯­æ³•å’Œè¯­ä¹‰æ£€æŸ¥ï¼Œå¹¶æ”¯æŒæ’ä»¶æœºåˆ¶ - Thriftgo</li>
<li>Thriftgo å®˜æ–¹ä»“åº“<a class="link"   href="https://github.com/cloudwego/thriftgo" >https://github.com/cloudwego/thriftgo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
</li>
<li>JIT
<ul>
<li>ä½¿ç”¨ JIT ç¼–è¯‘æŠ€æœ¯æ”¹å–„ç”¨æˆ·ä½“éªŒçš„åŒæ—¶å¸¦æ¥æ›´å¼ºçš„ç¼–è§£ç æ€§èƒ½ï¼Œå‡è½»ç”¨æˆ·ç»´æŠ¤ç”Ÿæˆä»£ç çš„è´Ÿæ‹…</li>
<li>åŸºäº JIT ç¼–è¯‘æŠ€æœ¯çš„é«˜æ€§èƒ½åŠ¨æ€ Thrift ç¼–è§£ç å™¨ - Frugal</li>
<li>Frugal å®˜æ–¹ä»“åº“<a class="link"   href="https://github.com/cloudwego/frugal" >https://github.com/cloudwego/frugal <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
</li>
</ul>
<blockquote>
<p>åºåˆ—åŒ–å’Œååºåˆ—çš„æ€§èƒ½ä¼˜åŒ–ä»å¤§çš„æ–¹é¢æ¥çœ‹å¯ä»¥ä»æ—¶é—´å’Œç©ºé—´ä¸¤ä¸ªç»´åº¦è¿›è¡Œä¼˜åŒ–ã€‚ä»å…¼å®¹å·²æœ‰çš„ Binary åè®®æ¥çœ‹ï¼Œç©ºé—´ä¸Šçš„ä¼˜åŒ–ä¼¼ä¹ä¸å¤ªå¯è¡Œï¼Œåªèƒ½ä»æ—¶é—´ç»´åº¦è¿›è¡Œä¼˜åŒ–ï¼ŒåŒ…æ‹¬ä¸‹é¢çš„å‡ ç‚¹ï¼š</p>
<p>ä»£ç ç”Ÿæˆ code-gen çš„ä¼˜ç‚¹æ˜¯åº“å¼€å‘è€…å®ç°èµ·æ¥ç›¸å¯¹ç®€å•ï¼Œç¼ºç‚¹æ˜¯å¢åŠ ä¸šåŠ¡ä»£ç çš„ç»´æŠ¤æˆæœ¬å’Œå±€é™æ€§ã€‚</p>
<p>JITç¼–è¯‘ï¼ˆjust-in-time compilationï¼‰ç‹­ä¹‰æ¥è¯´æ˜¯å½“æŸæ®µä»£ç å³å°†ç¬¬ä¸€æ¬¡è¢«æ‰§è¡Œæ—¶è¿›è¡Œç¼–è¯‘ï¼Œå› è€Œå«â€œå³æ—¶ç¼–è¯‘â€ã€‚</p>
<p>å³æ—¶ç¼–è¯‘ JIT åˆ™å°†ç¼–è¯‘è¿‡ç¨‹ç§»åˆ°äº†ç¨‹åºçš„åŠ è½½ï¼ˆæˆ–é¦–æ¬¡è§£æï¼‰é˜¶æ®µï¼Œå¯ä»¥ä¸€æ¬¡æ€§ç¼–è¯‘ç”Ÿæˆå¯¹åº”çš„ codec å¹¶é«˜æ•ˆæ‰§è¡Œï¼Œç›®å‰å†…éƒ¨å¼€å‘äººå‘˜æ­£åœ¨å°è¯•ï¼Œå‹æµ‹æ•°æ®è¡¨æ˜æ€§èƒ½æ”¶ç›Šè¿˜æ˜¯æŒºä¸é”™çš„ï¼Œç›®çš„æ˜¯ä¸æŸå¤±æ€§èƒ½çš„å‰æä¸‹ï¼Œå‡è½»ç”¨æˆ·çš„ç»´æŠ¤è´Ÿæ‹…ç”Ÿæˆä»£ç çš„è´Ÿæ‹…ã€‚</p>
</blockquote>
<h4 id="47-åˆå¹¶éƒ¨ç½²"><a class="markdownIt-Anchor" href="#47-åˆå¹¶éƒ¨ç½²"></a> 4.7 åˆå¹¶éƒ¨ç½²</h4>
<p>å¾®æœåŠ¡è¿‡å¾®ï¼Œä¼ è¾“å’Œåºåˆ—åŒ–å¼€é”€è¶Šæ¥è¶Šå¤§ã€‚å¯ä»¥å°†äº²å’Œæ€§å¼ºçš„æœåŠ¡å®ä¾‹å°½å¯èƒ½è°ƒåº¦åˆ°åŒä¸€ä¸ªç‰©ç†æœºï¼Œè¿œç¨‹ RPC è°ƒç”¨ä¼˜åŒ–ä¸ºæœ¬åœ° IPC è°ƒç”¨ã€‚</p>
<ul>
<li>ä¸­å¿ƒåŒ–çš„éƒ¨ç½²è°ƒåº¦å’Œæµé‡æ§åˆ¶</li>
<li>åŸºäºå…±äº«å†…å­˜çš„é€šä¿¡åè®®</li>
<li>å®šåˆ¶åŒ–çš„æœåŠ¡å‘ç°å’Œè¿æ¥æ± å®ç°</li>
<li>å®šåˆ¶åŒ–çš„æœåŠ¡å¯åŠ¨å’Œç›‘å¬é€»è¾‘</li>
</ul>
<h4 id="å°ç»“-4"><a class="markdownIt-Anchor" href="#å°ç»“-4"></a> å°ç»“</h4>
<ol>
<li>ä»‹ç»äº† Kitex çš„æ•´ä½“æ¶æ„</li>
<li>ä»‹ç»äº†è‡ªç ”ç½‘ç»œåº“ Netpoll çš„èƒŒæ™¯å’Œä¼˜åŠ¿</li>
<li>ä»æ‰©å±•æ€§å’Œæ€§èƒ½ä¼˜åŒ–ä¸¤ä¸ªæ–¹é¢åˆ†äº«ç›¸å…³å®è·µ</li>
<li>ä»‹ç»äº†ä¼ä¸šå†…éƒ¨æ­£åœ¨å°è¯•çš„æ–°çš„å¾®æœåŠ¡å½¢æ€ï¼šåˆå¹¶éƒ¨ç½²</li>
</ol>
<h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3>
<ol>
<li>ä»æœ¬åœ°å‡½æ•°è°ƒç”¨å¼•å‡º RPC çš„åŸºæœ¬æ¦‚å¿µ</li>
<li>é‡ç‚¹è¯´æ˜äº† RPC æ¡†æ¶æ ¸å¿ƒçš„ä¸‰å±‚ï¼Œç¼–è§£ç å±‚ã€åè®®å±‚å’Œç½‘ç»œå±‚</li>
<li>å›´ç»• RPC æ¡†æ¶çš„æ ¸å¿ƒæŒ‡æ ‡ï¼Œä¾‹å¦‚ç¨³å®šæ€§ã€å¯æ‰©å±•æ€§å’Œé«˜æ€§èƒ½ç­‰ï¼Œå±•å¼€è¯´æ˜ç›¸å…³çš„çŸ¥è¯†</li>
<li>åˆ†äº«äº†å­—èŠ‚è·³åŠ¨é«˜æ€§èƒ½ RPC æ¡†æ¶ Kitex çš„ç›¸å…³å®è·µ</li>
</ol>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://juejin.cn/post/6844903622380093447" >Apache Thriftç³»åˆ—è¯¦è§£(ä¸€) - æ¦‚è¿°ä¸å…¥é—¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/84250836" >è¯¦è§£varintç¼–ç åŸç† <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/566312289" >å‡ æ¬¾ä¸»æµçš„å‹ç¼©ç®—æ³•å¯¹æ¯”Zlib,snappy,lz4 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://blog.csdn.net/DataFlux/article/details/125259244" >å¯è§‚æµ‹æ€§çš„ä¸‰å¤§æ”¯æŸ±ï¼šMetricsã€Traceã€Log <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.cloudwego.io/zh/docs/kitex/tutorials/basic-feature/message_type/" >æ¶ˆæ¯ç±»å‹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±å…¥ç†è§£ RDBMS</title>
    <url>/2023/02/22/golang-day16/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7202607329400291385" >æ·±å…¥ç†è§£ RDBMS | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹ RDBMS çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="æ·±å…¥ç†è§£-rdbms"><a class="markdownIt-Anchor" href="#æ·±å…¥ç†è§£-rdbms"></a> æ·±å…¥ç†è§£ RDBMS</h2>
<h3 id="1ç»å…¸æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#1ç»å…¸æ¡ˆä¾‹"></a> 1.ç»å…¸æ¡ˆä¾‹</h3>
<h4 id="11-çº¢åŒ…é›¨"><a class="markdownIt-Anchor" href="#11-çº¢åŒ…é›¨"></a> 1.1 çº¢åŒ…é›¨</h4>
<p>çº¢åŒ…çš„å‘é€ä¸æ¥æ”¶</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> account_table <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">-</span> <span class="string">&#x27;çº¢åŒ…&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;æ´»åŠ¨ä¸»åŠæ–¹&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> account_table <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">+</span> <span class="string">&#x27;çº¢åŒ…&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;æ´»åŠ¨ç”¨æˆ·&#x27;</span>;</span><br></pre></td></tr></table></figure></div>
<h4 id="12-rdbms-äº‹åŠ¡-acid"><a class="markdownIt-Anchor" href="#12-rdbms-äº‹åŠ¡-acid"></a> 1.2 RDBMS äº‹åŠ¡ ACID</h4>
<ul>
<li>
<p>äº‹åŠ¡ï¼ˆTransactionï¼‰ï¼šæ˜¯ç”±ä¸€ç»„ SQL è¯­å¥ç»„æˆçš„ä¸€ä¸ªç¨‹åºæ‰§è¡Œå•å…ƒï¼ˆUnitï¼‰ï¼Œå®ƒéœ€è¦æ»¡è¶³ ACID ç‰¹æ€§ã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">begin</span>;</span><br><span class="line"><span class="keyword">update</span> account_table <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">-</span> <span class="string">&#x27;çº¢åŒ…&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;æ´»åŠ¨ä¸»åŠæ–¹&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> account_table <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">+</span> <span class="string">&#x27;çº¢åŒ…&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;æ´»åŠ¨ç”¨æˆ·&#x27;</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure></div>
<blockquote>
<p>ä¸¤æ¡æ›´æ–°æ“ä½œä¸å†æ˜¯ç‹¬ç«‹çš„ï¼Œè€Œæ˜¯å½¢æˆäº†ä¸€ä¸ªæ•´ä½“ï¼Œè¿™ä¸ªæ•´ä½“ç§°ä¸ºä¸€ä¸ªäº‹åŠ¡ã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="13-acid"><a class="markdownIt-Anchor" href="#13-acid"></a> 1.3 ACID</h4>
<ul>
<li>åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯å†åˆ†å‰²çš„å·¥ä½œå•å…ƒï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿï¼Œè¦ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚</li>
<li>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šæ•°æ®åº“äº‹åŠ¡ä¸èƒ½ç ´åå…³ç³»æ•°æ®çš„å®Œæ•´æ€§ä»¥åŠä¸šåŠ¡é€»è¾‘ä¸Šçš„ä¸€è‡´æ€§ã€‚</li>
<li>éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¤šä¸ªäº‹åŠ¡å¹¶å‘è®¿é—®æ—¶ï¼Œäº‹åŠ¡ä¹‹é—´æ˜¯éš”ç¦»çš„ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸åº”è¯¥å½±å“å…¶å®ƒäº‹åŠ¡è¿è¡Œæ•ˆæœã€‚</li>
<li>æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šåœ¨äº‹åŠ¡å®Œæˆä»¥åï¼Œè¯¥äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€ä½œçš„æ›´æ”¹ä¾¿æŒä¹…çš„ä¿å­˜åœ¨æ•°æ®åº“ä¹‹ä¸­ï¼Œæ— æ³•è¢«å›æ»šã€‚</li>
</ul>
<h4 id="14-çº¢åŒ…é›¨-ä¸-acid"><a class="markdownIt-Anchor" href="#14-çº¢åŒ…é›¨-ä¸-acid"></a> 1.4 çº¢åŒ…é›¨ ä¸ ACID</h4>
<ul>
<li>
<p>Case 1ï¼šæ´»åŠ¨ä¸»åŠæ–¹æ‰£æ¬¾å‘é€çº¢åŒ…ï¼Œä½†æ˜¯æœåŠ¡å™¨æŒ‚äº†ï¼Œæ´»åŠ¨ç”¨æˆ·æœªèƒ½æ”¶åˆ°çº¢åŒ…â€¦</p>
<p>åŸå­æ€§ Atomicityï¼šä¸¤ä¸ªæ“ä½œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ï¼Œä¸å­˜åœ¨ä¸­é—´çŠ¶æ€ã€‚</p>
</li>
<li>
<p>Case 2ï¼šæ´»åŠ¨ä¸»åŠæ–¹è´¦æˆ·åªæœ‰ 0.5 ä¸ªäº¿ï¼Œä½†æ˜¯æ‰£å‡ 1 ä¸ªäº¿çš„æ“ä½œæˆåŠŸäº†â€¦</p>
<p>ä¸€è‡´æ€§Consistencyï¼šæ¯ä¸ªæ“ä½œéƒ½å¿…é¡»æ˜¯åˆæ³•çš„ï¼Œè´¦æˆ·ä¿¡æ¯åº”è¯¥ä»ä¸€ä¸ªæœ‰æ•ˆçš„çŠ¶æ€å˜ä¸ºå¦ä¸€ä¸ªæœ‰æ•ˆçš„çŠ¶æ€ã€‚</p>
</li>
<li>
<p>Case 3ï¼šç”¨æˆ·å‚åŠ äº†å¤šä¸ªçº¢åŒ…æ´»åŠ¨å„è‡ªè·å¾—äº†ä¸€ä¸ªäº¿ï¼Œä¸¤ä¸ªè½¬è´¦åŒæ—¶è¿›è¡Œï¼Œå‡è®¾éƒ½æ˜¯ä»é›¶å¼€å§‹æ›´æ–°ç”¨æˆ·çš„è´¦æˆ·ä½™é¢ï¼Œæœ€ç»ˆç”¨æˆ·åªå¾—åˆ°äº†ä¸€ä¸ªäº¿â€¦</p>
<p>éš”ç¦»æ€§Isolationï¼šä¸¤ä¸ªæ“ä½œåœ¨å¯¹åŒä¸€ä¸ªè´¦æˆ·å¹¶å‘è¿›è¡Œæ“ä½œæ—¶ï¼Œåº”è¯¥æ˜¯ç›¸äº’ä¸å½±å“çš„ï¼Œè¡¨ç°ä¸ºä¸²è¡Œæ“ä½œã€‚</p>
</li>
<li>
<p>Case 4ï¼šçº¢åŒ…æ”¶å‘æˆåŠŸåï¼Œä½†æ˜¯è¿˜æ²¡å†™åˆ°ç£ç›˜ä¸Šï¼ŒæœåŠ¡å™¨å°±æŒ‚äº†â€¦</p>
<p>æŒä¹…æ€§Durabilityï¼šæ“ä½œæ›´æ–°æˆåŠŸä¹‹åï¼Œæ›´æ–°çš„ç»“æœåº”è¯¥æ˜¯æ°¸ä¹…æ€§çš„ä¿ç•™ä¸‹æ¥ï¼Œä¸ä¼šå› ä¸ºå®•æœºç­‰é—®é¢˜è€Œä¸¢å¤±ã€‚</p>
</li>
</ul>
<h4 id="15-çº¢åŒ…é›¨-ä¸-é«˜å¹¶å‘"><a class="markdownIt-Anchor" href="#15-çº¢åŒ…é›¨-ä¸-é«˜å¹¶å‘"></a> 1.5 çº¢åŒ…é›¨ ä¸ é«˜å¹¶å‘</h4>
<ul>
<li>
<p>Case 5ï¼šå‡è®¾10äº¿äººåŒæ—¶å¼€å§‹æŠ¢çº¢åŒ…ï¼Œæ¯ç§’å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå¯èƒ½éœ€è¦å‡ åå¹´æ—¶é—´æ‰èƒ½å®Œæˆâ€¦</p>
<p>é«˜å¹¶å‘ Concurrencyï¼šå¦‚æœæ¯ç§’èƒ½å¤Ÿå¤„ç†1000ä¸‡ä¸ªè¯·æ±‚ï¼Œé‚£ä¹ˆåªéœ€è¦å‡ åˆ†é’Ÿã€‚</p>
</li>
</ul>
<h4 id="16-çº¢åŒ…é›¨-ä¸-é«˜å¯é "><a class="markdownIt-Anchor" href="#16-çº¢åŒ…é›¨-ä¸-é«˜å¯é "></a> 1.6 çº¢åŒ…é›¨ ä¸ é«˜å¯é </h4>
<ul>
<li>
<p>Case 6ï¼šåœ¨ç”¨æˆ·ç¾¤ä½“æœ€æ´»è·ƒçš„æ—¶é—´æ®µï¼ŒæœåŠ¡å™¨æŒ‚äº†ï¼ŒèŠ±è´¹äº†å¤§é‡æ—¶é—´ä¿®å¤ï¼Œç­‰ä¿®å¤å¥½äº†ç”¨æˆ·éƒ½èµ°äº†ï¼Œå£ç¢‘å˜å·®â€¦</p>
<p>é«˜å¯é ã€é«˜å¯ç”¨ High Reliability/Availability</p>
</li>
</ul>
<h3 id="2å‘å±•å†å²"><a class="markdownIt-Anchor" href="#2å‘å±•å†å²"></a> 2.å‘å±•å†å²</h3>
<h4 id="21-å‰-dbms-æ—¶ä»£-äººå·¥ç®¡ç†"><a class="markdownIt-Anchor" href="#21-å‰-dbms-æ—¶ä»£-äººå·¥ç®¡ç†"></a> 2.1 å‰ DBMS æ—¶ä»£ â€” äººå·¥ç®¡ç†</h4>
<p>åœ¨ç°ä»£è®¡ç®—æœºå‘æ˜å‡ºæ¥ä»¥å‰ï¼Œé€šè¿‡äººå·¥çš„æ–¹å¼è¿›è¡Œæ•°æ®è®°å½•å’Œç®¡ç†</p>
<ul>
<li>ç»“ç»³è®°äº‹ã€æ¸…ä»£é’±åº„è´¦æœ¬ã€1890å¹´äººå£æ™®æŸ¥çš„éœåˆ—ç‘æ–¯å¼æ‰“å­”æœº</li>
<li>æ•ˆç‡å¤ªä½</li>
</ul>
<h4 id="22-å‰-dbms-æ—¶ä»£-æ–‡ä»¶ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#22-å‰-dbms-æ—¶ä»£-æ–‡ä»¶ç³»ç»Ÿ"></a> 2.2 å‰ DBMS æ—¶ä»£ â€” æ–‡ä»¶ç³»ç»Ÿ</h4>
<p>1950å¹´ï¼Œç°ä»£è®¡ç®—æœºçš„é›å½¢åŸºæœ¬å‡ºç°ã€‚1956å¹´ IBM å‘å¸ƒäº†ç¬¬ä¸€ä¸ªç£ç›˜é©±åŠ¨å™¨ â€”â€” Model 305 RAMACï¼Œä»æ­¤æ•°æ®å­˜å‚¨è¿›å…¥äº†ç£ç›˜æ—¶ä»£ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ•°æ®ç®¡ç†ç›´æ¥é€šè¿‡æ–‡ä»¶ç³»ç»Ÿæ¥å®ç°ã€‚</p>
<blockquote>
<p>ä»å†™åˆ°çº¸ä¸Šå˜æˆäº†å†™åˆ°æ–‡ä»¶é‡Œï¼Œæ¢äº†ä¸ªé©¬ç”²ã€‚</p>
</blockquote>
<h4 id="23-dbms-æ—¶ä»£"><a class="markdownIt-Anchor" href="#23-dbms-æ—¶ä»£"></a> 2.3 DBMS æ—¶ä»£</h4>
<p>1960å¹´ï¼Œä¼ ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿå·²ç»ä¸èƒ½æ»¡è¶³äººä»¬çš„éœ€è¦ï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰åº”è¿è€Œç”Ÿã€‚</p>
<p>DBMSï¼šæŒ‰ç…§æŸç§æ•°æ®æ¨¡å‹æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“ã€‚</p>
<p>é€šå¸¸æŒ‰ç…§æ•°æ®æ¨¡å‹çš„ç‰¹ç‚¹å°†ä¼ ç»Ÿæ•°æ®åº“ç³»ç»Ÿåˆ†ä¸ºç½‘çŠ¶æ•°æ®åº“ã€å±‚æ¬¡æ•°æ®åº“å’Œå…³ç³»æ•°æ®åº“ä¸‰ç±»ã€‚</p>
<blockquote>
<p>ä¼ ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿéš¾ä»¥åº”å¯¹æ•°æ®å¢é•¿çš„æŒ‘æˆ˜,ä¹Ÿæ— æ³•æ»¡è¶³å¤šç”¨æˆ·å…±äº«æ•°æ®å’Œå¿«é€Ÿæ£€ç´¢æ•°æ®çš„éœ€æ±‚ã€‚</p>
<p>å±‚æ¬¡å‹ã€ç½‘çŠ¶å‹å’Œå…³ç³»å‹æ•°æ®åº“åˆ’åˆ†çš„åŸåˆ™æ˜¯æ•°æ®ä¹‹é—´çš„è”ç³»æ–¹å¼ã€‚</p>
<p>å±‚æ¬¡æ•°æ®åº“æ˜¯æŒ‰è®°å½•æ¥å­˜å–æ•°æ®çš„ï¼›</p>
<p>ç½‘çŠ¶æ•°æ®åº“æ˜¯é‡‡ç”¨ç½‘çŠ¶åŸç†å’Œæ–¹æ³•æ¥å­˜å‚¨æ•°æ®ï¼›</p>
<p>å…³ç³»å‹æ•°æ®åº“æ˜¯ä»¥è¡Œå’Œåˆ—çš„å½¢å¼å­˜å‚¨æ•°æ®ã€‚</p>
</blockquote>
<h5 id="231-dbms-æ•°æ®æ¨¡å‹-ç½‘çŠ¶æ¨¡å‹"><a class="markdownIt-Anchor" href="#231-dbms-æ•°æ®æ¨¡å‹-ç½‘çŠ¶æ¨¡å‹"></a> 2.3.1 DBMS æ•°æ®æ¨¡å‹ â€” ç½‘çŠ¶æ¨¡å‹</h5>
<p>ç½‘çŠ¶æ•°æ®åº“æ‰€åŸºäºçš„ç½‘çŠ¶æ•°æ®æ¨¡å‹å»ºç«‹çš„æ•°æ®ä¹‹é—´çš„è”ç³»ï¼Œèƒ½åæ˜ ç°å®ä¸–ç•Œä¸­ä¿¡æ¯çš„å…³ç³»ï¼Œæ˜¯è®¸å¤šç©ºé—´å¯¹è±¡çš„è‡ªç„¶è¡¨è¾¾å½¢å¼ã€‚</p>
<p>1964å¹´ï¼Œä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªæ•°æ®åº“ç³»ç»Ÿâ€”â€”é›†æˆæ•°æ®å­˜å‚¨ï¼ˆIntegrated Data Storageï¼ŒIDSï¼‰è¯ç”Ÿäºé€šç”¨ç”µæ°”å…¬å¸ã€‚IDSæ˜¯ä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªç½‘çŠ¶æ•°æ®åº“ï¼Œå¥ å®šäº†æ•°æ®åº“å‘å±•çš„åŸºç¡€ï¼Œåœ¨å½“æ—¶å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ã€‚</p>
<p>åœ¨1970å¹´ï¼Œç½‘çŠ¶æ•°æ®åº“ç³»ç»Ÿååˆ†æµè¡Œï¼Œåœ¨æ•°æ®åº“ç³»ç»Ÿäº§å“ä¸­å æ®ä¸»å¯¼åœ°ä½ã€‚</p>
<blockquote>
<p>ç½‘çŠ¶æ•°æ®æ¨¡å‹æ˜¯ä»¥è®°å½•ç±»å‹ä¸ºç»“ç‚¹çš„ç½‘ç»œç»“æ„ï¼Œå³ä¸€ä¸ªç»“ç‚¹å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸‹çº§ç»“ç‚¹ï¼Œä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªä¸Šçº§ç»“ç‚¹ï¼Œä¸¤ä¸ªç»“ç‚¹ä¹‹é—´ç”šè‡³å¯ä»¥æœ‰å¤šç§è”ç³»ï¼Œä¾‹å¦‚â€œæ•™å¸ˆâ€ä¸â€œè¯¾ç¨‹â€ä¸¤ä¸ªè®°å½•ç±»å‹ï¼Œå¯ä»¥æœ‰â€œä»»è¯¾â€å’Œâ€œè¾…å¯¼â€ä¸¤ç§è”ç³»ï¼Œç§°ä¹‹ä¸ºå¤åˆé“¾ã€‚</p>
<p>ä¸¤ä¸ªè®°å½•ç±»å‹ä¹‹é—´çš„å€¼å¯ä»¥æ˜¯å¤šå¯¹å¤šçš„è”ç³»ï¼Œä¾‹å¦‚ä¸€é—¨è¯¾ç¨‹è¢«å¤šä¸ªå­¦ç”Ÿä¿®è¯»ï¼Œä¸€ä¸ªå­¦ç”Ÿé€‰ä¿®å¤šé—¨è¯¾ç¨‹ã€‚</p>
</blockquote>
<h5 id="232-dbms-æ•°æ®æ¨¡å‹-å±‚æ¬¡æ¨¡å‹"><a class="markdownIt-Anchor" href="#232-dbms-æ•°æ®æ¨¡å‹-å±‚æ¬¡æ¨¡å‹"></a> 2.3.2 DBMS æ•°æ®æ¨¡å‹ â€” å±‚æ¬¡æ¨¡å‹</h5>
<p>1968å¹´ï¼Œä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªå±‚æ¬¡æ•°æ®åº“â€”â€”ä¿¡æ¯ç®¡ç†ç³»ç»Ÿï¼ˆInformation Management Systemï¼ŒIMSï¼‰è¯ç”Ÿäº IBM å…¬å¸ï¼Œè¿™ä¹Ÿæ˜¯ä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªå¤§å‹å•†ç”¨çš„æ•°æ®åº“ç³»ç»Ÿã€‚å±‚æ¬¡æ•°æ®æ¨¡å‹ï¼Œå³ä½¿ç”¨æ ‘å½¢ç»“æ„æ¥æè¿°å®ä½“åŠå…¶ç›¸äº’å…³ç³»çš„æ•°æ®æ¨¡å‹ã€‚</p>
<blockquote>
<p>å±‚æ¬¡æ•°æ®åº“å°±æ˜¯æ ‘ç»“æ„ã€‚æ¯æ£µæ ‘éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå…¶ä½™çš„èŠ‚ç‚¹éƒ½æ˜¯éæ ¹èŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªè®°å½•ç±»å‹å¯¹åº”ä¸å®ä½“çš„æ¦‚å¿µï¼Œè®°å½•ç±»å‹çš„å„ä¸ªå­—æ®µå¯¹åº”å®ä½“çš„å„ä¸ªå±æ€§ã€‚å„ä¸ªè®°å½•ç±»å‹åŠå…¶å­—æ®µéƒ½å¿…é¡»è®°å½•ã€‚</p>
</blockquote>
<h5 id="233-dbms-æ•°æ®æ¨¡å‹-å…³ç³»æ¨¡å‹"><a class="markdownIt-Anchor" href="#233-dbms-æ•°æ®æ¨¡å‹-å…³ç³»æ¨¡å‹"></a> 2.3.3 DBMS æ•°æ®æ¨¡å‹ â€” å…³ç³»æ¨¡å‹</h5>
<p>1970å¹´ï¼ŒIBM çš„ç ”ç©¶å‘˜ E.F.Codd åšå£«å‘è¡¨äº†ä¸€ç¯‡åä¸º â€œ<a class="link"   href="https://www.seas.upenn.edu/~zives/03f/cis550/codd.pdf" >A Relational Model of Data for  Large Shared Data Banks <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>â€ çš„è®ºæ–‡ï¼Œæå‡ºäº†å…³ç³»æ¨¡å‹çš„æ¦‚å¿µï¼Œå¥ å®šäº†å…³ç³»æ¨¡å‹çš„ç†è®ºåŸºç¡€ã€‚1970å¹´ Oracle é¦–æ¬¡å°†å…³ç³»å‹æ•°æ®åº“å•†ä¸šåŒ–ï¼Œåç»­ DB2ï¼ŒSAP Sysbase ASEï¼Œand Informix ç­‰çŸ¥åæ•°æ®åº“äº§å“ä¹Ÿçº·çº·é¢ä¸–ã€‚</p>
<blockquote>
<p>ä½¿ç”¨è¡¨æ ¼è¡¨ç¤ºå®ä½“å’Œå®ä½“ä¹‹é—´å…³ç³»çš„æ•°æ®æ¨¡å‹ç§°ä¹‹ä¸ºå…³ç³»æ•°æ®æ¨¡å‹ã€‚</p>
<p>å…³ç³»æ•°æ®æ¨¡å‹ä¸­ï¼Œæ— è®ºæ˜¯æ˜¯å®ä½“ã€è¿˜æ˜¯å®ä½“ä¹‹é—´çš„è”ç³»éƒ½è¢«æ˜ å°„æˆç»Ÿä¸€çš„å…³ç³»ï¼Œä¸€å¼ äºŒç»´è¡¨ã€‚</p>
<p>åœ¨å…³ç³»æ¨¡å‹ä¸­ï¼Œæ“ä½œçš„å¯¹è±¡å’Œç»“æœéƒ½æ˜¯ä¸€å¼ äºŒç»´è¡¨ï¼Œå®ƒç”±è¡Œå’Œåˆ—ç»„æˆï¼› å…³ç³»å‹æ•°æ®åº“å¯ç”¨äºè¡¨ç¤ºå®ä½“ä¹‹é—´çš„å¤šå¯¹å¤šçš„å…³ç³»ï¼Œåªæ˜¯æ­¤æ—¶è¦å€ŸåŠ©ç¬¬ä¸‰ä¸ªå…³ç³»â€”è¡¨ï¼Œæ¥å®ç°å¤šå¯¹å¤šçš„å…³ç³»ã€‚</p>
</blockquote>
<h4 id="24-dbms-æ•°æ®æ¨¡å‹"><a class="markdownIt-Anchor" href="#24-dbms-æ•°æ®æ¨¡å‹"></a> 2.4 DBMS æ•°æ®æ¨¡å‹</h4>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">ç½‘çŠ¶æ¨¡å‹</th>
<th style="text-align:center">å±‚æ¬¡æ¨¡å‹</th>
<th style="text-align:center">å…³ç³»æ¨¡å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ä¼˜åŠ¿</td>
<td style="text-align:center">èƒ½ç›´æ¥æè¿°ç°å®ä¸–ç•Œï¼Œå­˜å–æ•ˆç‡é«˜</td>
<td style="text-align:center">ç»“æ„ç®€å•ï¼ŒæŸ¥è¯¢æ•ˆç‡é«˜ï¼Œå¯ä»¥æä¾›è¾ƒå¥½çš„å®Œæ•´æ€§æ”¯æŒ</td>
<td style="text-align:center">å®ä½“åŠå®ä½“é—´çš„è”ç³»éƒ½é€šè¿‡äºŒç»´ç»“æ„è¡¨ç¤ºï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¡¨ç¤º M:N å…³ç³»ï¼Œæ•°æ®è®¿é—®è·¯å¾„å¯¹ç”¨æˆ·é€æ˜</td>
</tr>
<tr>
<td style="text-align:center">åŠ£åŠ¿</td>
<td style="text-align:center">ç»“æ„å¤æ‚ï¼Œç”¨æˆ·ä¸æ˜“ä½¿ç”¨ï¼Œè®¿é—®ç¨‹åºè®¾è®¡å¤æ‚</td>
<td style="text-align:center">æ— æ³•è¡¨ç¤º M:N çš„å…³ç³»ï¼Œæ’å…¥ã€åˆ é™¤é™åˆ¶å¤šï¼Œéå†å­èŠ‚ç‚¹å¿…é¡»ç»è¿‡çˆ¶èŠ‚ç‚¹ï¼Œè®¿é—®ç¨‹åºè®¾è®¡å¤æ‚</td>
<td style="text-align:center">å…³è”æŸ¥è¯¢æ•ˆç‡ä¸å¤Ÿé«˜ï¼Œå…³ç³»å¿…é¡»è§„èŒƒåŒ–</td>
</tr>
</tbody>
</table>
<blockquote>
<p>1974å¹´ACMç‰µå¤´ç»„ç»‡äº†ä¸€æ¬¡ç ”è®¨ä¼šï¼Œä¼šä¸Šå¼€å±•äº†ä¸€åœºåˆ†åˆ«ä»¥Coddå’ŒBachmanä¸ºé¦–çš„æ”¯æŒå’Œåå¯¹å…³ç³»æ•°æ®åº“ä¸¤æ´¾ä¹‹é—´çš„è¾©è®ºã€‚è¿™æ¬¡è‘—åçš„è¾©è®ºæ¨åŠ¨äº†å…³ç³»æ•°æ®åº“çš„å‘å±•ï¼Œä½¿å…¶æœ€ç»ˆæˆä¸ºç°ä»£æ•°æ®åº“äº§å“çš„ä¸»æµã€‚</p>
</blockquote>
<h4 id="25-sql-è¯­è¨€"><a class="markdownIt-Anchor" href="#25-sql-è¯­è¨€"></a> 2.5 SQL è¯­è¨€</h4>
<p>1974å¹´ IBM çš„ Ray Boyce å’Œ Don Chamberlin å°† Codd å…³ç³»æ•°æ®åº“çš„12æ¡å‡†åˆ™çš„æ•°å­¦å®šä¹‰ä»¥ç®€å•çš„å…³é”®å­—è¯­æ³•è¡¨ç°å‡ºæ¥ï¼Œé‡Œç¨‹ç¢‘å¼åœ°æå‡ºäº† SQLï¼ˆStructured Query Languageï¼‰è¯­è¨€ã€‚</p>
<ul>
<li>è¯­æ³•é£æ ¼æ¥è¿‘è‡ªç„¶è¯­è¨€</li>
<li>é«˜åº¦éè¿‡ç¨‹åŒ–</li>
<li>é¢å‘é›†åˆçš„æ“ä½œæ–¹å¼</li>
<li>è¯­è¨€ç®€æ´ï¼Œæ˜“å­¦æ˜“ç”¨</li>
</ul>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> account_table <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">-</span> <span class="string">&#x27;çº¢åŒ…&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;æ´»åŠ¨ä¸»åŠæ–¹&#x27;</span>;</span><br></pre></td></tr></table></figure></div>
<p>ä¸Šé¢è¿™æ¡ SQL è¯­å¥æ‰§è¡Œçš„æµç¨‹</p>
<ol>
<li>Find account_table</li>
<li>Search accunt_tabke and compare name to â€˜æ´»åŠ¨ä¸»åŠæ–¹â€™</li>
<li>Calculate balance - â€˜çº¢åŒ…â€™</li>
<li>Write new balance to account_table</li>
</ol>
<blockquote>
<p>é«˜åº¦éè¿‡ç¨‹åŒ–</p>
<p>éå…³ç³»æ•°æ®æ¨¡å‹çš„æ•°æ®æ“çºµè¯­è¨€æ˜¯é¢å‘è¿‡ç¨‹çš„è¯­è¨€ï¼Œç”¨å…¶å®Œæˆç”¨æˆ·è¯·æ±‚æ—¶ï¼Œå¿…é¡»æŒ‡å®šå­˜å–è·¯å¾„ã€‚è€Œç”¨SQLè¿›è¡Œæ•°æ®æ“ä½œï¼Œç”¨æˆ·åªéœ€æå‡ºâ€œåšä»€ä¹ˆâ€ï¼Œè€Œä¸å¿…æŒ‡æ˜â€œæ€ä¹ˆåšâ€ï¼Œå› æ­¤ç”¨æˆ·æ— é¡»äº†è§£å­˜å–è·¯å¾„ï¼Œå­˜å–è·¯å¾„çš„é€‰æ‹©ä»¥åŠSQLè¯­å¥çš„æ“ä½œè¿‡ç¨‹ç”±ç³»ç»Ÿè‡ªåŠ¨å®Œæˆã€‚è¿™ä¸ä½†å¤§å¤§å‡è½»äº†ç”¨æˆ·è´Ÿæ‹…ï¼Œè€Œä¸”æœ‰åˆ©äºæé«˜æ•°æ®ç‹¬ç«‹æ€§ã€‚</p>
<p>é¢å‘é›†åˆçš„æ“ä½œæ–¹å¼</p>
<p>SQLé‡‡ç”¨é›†åˆæ“ä½œæ–¹å¼ï¼Œä¸ä»…æŸ¥æ‰¾ç»“æœå¯ä»¥æ˜¯å…ƒç»„çš„é›†åˆï¼Œè€Œä¸”ä¸€æ¬¡æ’å…¥ã€åˆ é™¤ã€æ›´æ–°æ“ä½œçš„å¯¹è±¡ä¹Ÿå¯ä»¥æ˜¯å…ƒç»„çš„é›†åˆã€‚</p>
<p>è¯­è¨€ç®€æ´ï¼Œæ˜“å­¦æ˜“ç”¨</p>
<p>SQLåŠŸèƒ½æå¼ºï¼Œä½†ç”±äºè®¾è®¡å·§å¦™ï¼Œè¯­è¨€ååˆ†ç®€æ´ï¼Œå®Œæˆæ•°æ®å®šä¹‰ã€æ•°æ®æ“çºµã€æ•°æ®æ§åˆ¶çš„æ ¸å¿ƒåŠŸèƒ½åªç”¨äº†9ä¸ªåŠ¨è¯: CREATEã€ ALTERã€DROPã€ SELECTã€ INSERTã€ UPDATEã€ DELETEã€GRANTã€ REVOKEã€‚ä¸”SQLè¯­è¨€è¯­æ³•ç®€å•ï¼Œæ¥è¿‘è‹±è¯­å£è¯­ï¼Œå› æ­¤å®¹æ˜“å­¦ä¹ ï¼Œä¹Ÿå®¹æ˜“ä½¿ç”¨ã€‚</p>
</blockquote>
<h3 id="3å…³é”®æŠ€æœ¯"><a class="markdownIt-Anchor" href="#3å…³é”®æŠ€æœ¯"></a> 3.å…³é”®æŠ€æœ¯</h3>
<h4 id="31-ä¸€æ¡-sql-çš„ä¸€ç”Ÿ"><a class="markdownIt-Anchor" href="#31-ä¸€æ¡-sql-çš„ä¸€ç”Ÿ"></a> 3.1 ä¸€æ¡ SQL çš„ä¸€ç”Ÿ</h4>
<ul>
<li>SQLå¼•æ“
<ul>
<li>æŸ¥è¯¢è§£æï¼šSQL è¯­è¨€æ¥è¿‘è‡ªç„¶è¯­è¨€ï¼Œå…¥é—¨å®¹æ˜“ã€‚ä½†æ˜¯å„ç§å…³é”®å­—ã€æ“ä½œç¬¦ç»„åˆèµ·æ¥ï¼Œå¯ä»¥è¡¨è¾¾ä¸°å¯Œçš„è¯­æ„ã€‚å› æ­¤æƒ³è¦å¤„ç†SQLå‘½ä»¤ï¼Œé¦–å…ˆå°†æ–‡æœ¬è§£ææˆç»“æ„åŒ–æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æŠ½è±¡è¯­æ³•æ ‘ ï¼ˆASTï¼‰ã€‚</li>
<li>æŸ¥è¯¢ä¼˜åŒ–ï¼šSQL æ˜¯ä¸€é—¨è¡¨æ„çš„è¯­è¨€ï¼Œåªæ˜¯è¯´ã€è¦åšä»€ä¹ˆã€ï¼Œè€Œä¸è¯´ã€æ€ä¹ˆåšã€ã€‚æ‰€ä»¥éœ€è¦ä¸€äº›å¤æ‚çš„é€»è¾‘é€‰æ‹©ã€å¦‚ä½•æ‹¿æ•°æ®ã€ï¼Œä¹Ÿå°±æ˜¯é€‰æ‹©ä¸€ä¸ªå¥½çš„æŸ¥è¯¢è®¡åˆ’ã€‚ä¼˜åŒ–å™¨çš„ä½œç”¨æ ¹æ®ASTä¼˜åŒ–äº§ç”Ÿæœ€ä¼˜æ‰§è¡Œè®¡åˆ’ï¼ˆPlan Treeï¼‰ã€‚</li>
<li>æŸ¥è¯¢æ‰§è¡Œï¼šæ ¹æ®æŸ¥è¯¢è®¡åˆ’ï¼Œå®Œæˆæ•°æ®è¯»å–ã€å¤„ç†ã€å†™å…¥ç­‰æ“ä½œã€‚</li>
</ul>
</li>
<li>äº‹åŠ¡å¼•æ“ï¼šå¤„ç†äº‹åŠ¡ä¸€è‡´æ€§ã€å¹¶å‘ã€è¯»å†™éš”ç¦»ç­‰</li>
<li>å­˜å‚¨å¼•æ“ï¼šå†…å­˜ä¸­çš„æ•°æ®ç¼“å­˜åŒºã€æ•°æ®æ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶</li>
</ul>
<h4 id="32-sql-å¼•æ“"><a class="markdownIt-Anchor" href="#32-sql-å¼•æ“"></a> 3.2 SQL å¼•æ“</h4>
<h5 id="è§£æå™¨-parser"><a class="markdownIt-Anchor" href="#è§£æå™¨-parser"></a> è§£æå™¨ Parser</h5>
<p>è§£æå™¨ï¼ˆParserï¼‰ä¸€èˆ¬åˆ†ä¸ºè¯æ³•åˆ†æï¼ˆLexical analysisï¼‰ã€è¯­æ³•åˆ†æï¼ˆSyntax analysisï¼‰ã€è¯­ä¹‰åˆ†æï¼ˆSemantic analyzerï¼‰ç­‰æ­¥éª¤ã€‚</p>
<blockquote>
<p>æ‰€æœ‰çš„ä»£ç åœ¨æ‰§è¡Œä¹‹å‰ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªè§£æç¼–è¯‘çš„è¿‡ç¨‹ï¼Œå·®å¼‚ç‚¹æ— éåœ¨äºæ˜¯é™æ€è§£æç¼–è¯‘è¿˜æ˜¯åŠ¨æ€çš„ã€‚</p>
<p>SQLè¯­è¨€ä¹Ÿç±»ä¼¼ï¼Œåœ¨SQLæŸ¥è¯¢æ‰§è¡Œå‰çš„ç¬¬ä¸€æ­¥å°±æ˜¯æŸ¥è¯¢è§£æã€‚</p>
<p>è¯æ³•åˆ†æï¼šå°†ä¸€æ¡SQLè¯­å¥å¯¹åº”çš„å­—ç¬¦ä¸²åˆ†å‰²ä¸ºä¸€ä¸ªä¸ªtokenï¼Œè¿™äº›tokenå¯ä»¥ç®€å•åˆ†ç±»ã€‚</p>
<p>è¯­æ³•åˆ†æï¼šæŠŠè¯æ³•åˆ†æçš„ç»“æœè½¬ä¸ºè¯­æ³•æ ‘ã€‚æ ¹æ®tockenåºåˆ—åŒ¹é…ä¸åŒçš„è¯­æ³•è§„åˆ™ï¼Œæ¯”å¦‚è¿™é‡ŒåŒ¹é…çš„æ˜¯updateè¯­æ³•è§„åˆ™ï¼Œç±»ä¼¼çš„è¿˜æœ‰insertã€deleteã€selectã€createã€dropç­‰ç­‰è¯­æ³•è§„åˆ™ã€‚æ ¹æ®è¯­æ³•è§„åˆ™åŒ¹é…SQLè¯­å¥ä¸­çš„å…³é”®å­—ï¼Œæœ€ç»ˆè¾“å‡ºä¸€ä¸ªç»“æ„åŒ–çš„æ•°æ®ç»“æ„ã€‚</p>
<p>è¯­ä¹‰åˆ†æï¼šå¯¹è¯­æ³•æ ‘ä¸­çš„ä¿¡æ¯è¿›è¡Œåˆæ³•æ€§æ ¡éªŒã€‚</p>
</blockquote>
<h5 id="ä¼˜åŒ–å™¨-optimizer"><a class="markdownIt-Anchor" href="#ä¼˜åŒ–å™¨-optimizer"></a> ä¼˜åŒ–å™¨ Optimizer</h5>
<p><strong>åŸºäºè§„åˆ™çš„ä¼˜åŒ–ï¼ˆRBO Rule Optimizerï¼‰</strong></p>
<blockquote>
<p>æ¯”å¦‚å¯¼èˆªåœ°å›¾å“ªæ¡è·¯çº¿çº¢ç»¿ç¯æœ€å°‘å°±é€‰æ‹©å“ªæ¡ã€‚</p>
</blockquote>
<ul>
<li>
<p>æ¡ä»¶åŒ–ç®€</p>
<p>ä¾‹å¦‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line">a<span class="operator">=</span><span class="number">5</span> <span class="keyword">and</span> b<span class="operator">&gt;</span>a</span><br><span class="line">a<span class="operator">&gt;</span><span class="number">5</span> <span class="keyword">and</span> a <span class="operator">&lt;</span> b <span class="keyword">and</span> b<span class="operator">=</span><span class="number">1</span></span><br></pre></td></tr></table></figure></div>
<p>å¯åˆ†åˆ«åŒ–ç®€ä¸º</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line">a<span class="operator">=</span><span class="number">5</span> <span class="keyword">and</span> b<span class="operator">&gt;</span><span class="number">5</span></span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>è¡¨è¿æ¥ä¼˜åŒ–ï¼šæ€»æ˜¯å°è¡¨å…ˆè¿›è¡Œè¿æ¥</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> A,B,C <span class="keyword">where</span> A.a1 <span class="operator">=</span> B.b1 <span class="keyword">and</span> A.a1 <span class="operator">=</span> C.b1</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>Scan ä¼˜åŒ–</p>
<ul>
<li>å”¯ä¸€ç´¢å¼•</li>
<li>æ™®é€šç´¢å¼•</li>
<li>å…¨è¡¨æ‰«æ</li>
</ul>
</li>
</ul>
<p>æ•°æ®åº“ç´¢å¼•ï¼šæ˜¯æ•°æ®åº“ä¸­è¾…åŠ©æ•°æ®ç»“æ„ï¼Œä»¥ååŠ©å¿«é€ŸæŸ¥è¯¢ã€æ›´æ–°æ•°æ®åº“è¡¨ä¸­æ•°æ®ã€‚ç›®å‰æ•°æ®åº“ä¸­æœ€å¸¸ç”¨çš„ç´¢å¼•æ˜¯é€šè¿‡ B+æ ‘ å®ç°çš„ã€‚</p>
<p><strong>åŸºäºä»£ä»·çš„ä¼˜åŒ–ï¼ˆCBO Cost Base Optimizerï¼‰</strong></p>
<p>ä¸€ä¸ªæŸ¥è¯¢æœ‰å¤šç§æ‰§è¡Œæ–¹æ¡ˆï¼ŒCBO ä¼šé€‰æ‹©å…¶ä¸­ä»£ä»·æœ€ä½çš„æ–¹æ¡ˆå»çœŸæ­£çš„æ‰§è¡Œã€‚</p>
<blockquote>
<p>ä»€ä¹ˆæ˜¯ä»£ä»·ï¼Ÿ</p>
<p>åˆ°è¾¾ä¸€ä¸ªç›®çš„åœ°ï¼Œæœ‰ä¸åŒçš„è·¯çº¿ï¼Œé€‰æ‹©ä¸åŒçš„è·¯çº¿æœ‰ä¸åŒçš„ä»£ä»·ã€‚è¿™é‡Œçš„ä»£ä»·å¯èƒ½æ˜¯æ—¶é—´ï¼Œä¹Ÿå¯èƒ½æ˜¯è·¯ç¨‹ã€‚æ¯”å¦‚èµ¶æ—¶é—´çš„æ—¶å€™ï¼Œå°±ä¼šé€‰æ‹©æ—¶é—´æœ€çŸ­çš„ã€‚å¦‚æœæ—¶é—´æ²¡é‚£ä¹ˆèµ¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½é€‰æ‹©è·¯ç¨‹æœ€çŸ­çš„ã€‚</p>
<p>å¯¹äºæ•°æ®åº“ä¹Ÿæ˜¯è¿™æ ·ï¼Œä¸€ä¸ªæŸ¥è¯¢æœ‰ä¸åŒçš„æ‰§è¡Œæ–¹æ¡ˆã€‚</p>
<p>é‚£å¯¹äºæ•°æ®åº“è€Œè¨€ï¼Œä»€ä¹ˆæ˜¯ä¸€æ¡SQLæ‰§è¡Œçš„ä»£ä»·å‘¢ï¼Ÿ</p>
<p>å…¶å®ï¼Œå¯¹äºç”¨æˆ·åªèƒ½æ„ŸçŸ¥åˆ°æŸ¥è¯¢æ—¶é—´è¿™ä¸ªä»£ä»·ï¼Œåº•å±‚ç”¨äº†å¤šå°‘èµ„æºä»–æ˜¯ä¸åœ¨ä¹çš„ã€‚ä½†æ˜¯åœ¨å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå°±å¾—è€ƒè™‘èµ„æºæ¶ˆè€—äº†ï¼Œè¿™ä¸ªç”¨æˆ·çš„æŸ¥è¯¢å ç”¨çš„èµ„æºå¤šäº†ï¼Œå…¶ä»–ç”¨æˆ·çš„èµ„æºå°±å°‘äº†ã€‚æ‰€ä»¥èµ„æºä¹Ÿæ˜¯å¿…é¡»è€ƒè™‘çš„ä¸€ç‚¹ã€‚</p>
<p>å¯¹äº InnoDB å­˜å‚¨å¼•æ“æ¥è¯´ï¼Œå…¨è¡¨æ‰«æçš„æ„æ€å°±æ˜¯æŠŠèšç°‡ç´¢å¼•ä¸­çš„è®°å½•éƒ½ä¾æ¬¡å’Œç»™å®šçš„æœç´¢æ¡ä»¶åšä¸€ä¸‹æ¯”è¾ƒï¼ŒæŠŠç¬¦åˆæœç´¢æ¡ä»¶çš„è®°å½•åŠ å…¥åˆ°ç»“æœé›†ï¼Œæ‰€ä»¥éœ€è¦å°†èšç°‡ç´¢å¼•å¯¹åº”çš„é¡µé¢åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶åå†æ£€æµ‹è®°å½•æ˜¯å¦ç¬¦åˆæœç´¢æ¡ä»¶ã€‚</p>
<p>å¯¹äºä½¿ç”¨äºŒçº§ç´¢å¼• + å›è¡¨æ–¹å¼çš„æŸ¥è¯¢ï¼Œæ¶‰åŠ MySQL çš„å¤§æ•°è®¡ç®—è¿™ç§æŸ¥è¯¢çš„æˆæœ¬ä¾èµ–ä¸¤ä¸ªæ–¹é¢çš„æ•°æ®ï¼šèŒƒå›´åŒºé—´æ•°é‡ï¼Œéœ€è¦å›è¡¨æ•°æ®é‡</p>
</blockquote>
<h5 id="æ‰§è¡Œå™¨-executor"><a class="markdownIt-Anchor" href="#æ‰§è¡Œå™¨-executor"></a> æ‰§è¡Œå™¨ Executor</h5>
<p><strong>ç«å±±æ¨¡å‹</strong></p>
<ul>
<li>
<p>æ¯ä¸ª Operator è°ƒç”¨ Next æ“ä½œï¼Œè®¿é—®ä¸‹å±‚ Operatorï¼Œè·å¾—ä¸‹å±‚ Operator è¿”å›çš„ä¸€è¡Œæ•°æ®ï¼Œç»è¿‡è®¡ç®—ä¹‹åï¼Œå°†è¿™è¡Œæ•°æ®è¿”å›ç»™ä¸Šå±‚ã€‚</p>
</li>
<li>
<p>ä¼˜ç‚¹ï¼šæ¯ä¸ªç®—å­ä¹‹é—´ç‹¬ç«‹æŠ½è±¡å®ç°ï¼Œç›¸äº’ä¹‹é—´æ²¡æœ‰è€¦åˆï¼Œé€»è¾‘ç»“æ„ç®€å•ã€‚</p>
</li>
<li>
<p>ç¼ºç‚¹ï¼šæ¯è®¡ç®—ä¸€æ¡æ•°æ®æœ‰å¤šæ¬¡å‡½æ•°è°ƒç”¨å¼€é”€ï¼Œå¯¼è‡´ CPU æ•ˆç‡ä¸é«˜ã€‚</p>
</li>
<li>
<p>ä»¥ Plan Tree ä¸ºåŸºç¡€ï¼Œè°ƒç”¨å…³ç³»æ˜¯ç”±æ ¹åˆ°å¶ï¼Œæ•°æ®æµæ˜¯ä»å¶åˆ°æ ¹ã€‚</p>
</li>
</ul>
<p><strong>å‘é‡åŒ–</strong></p>
<ul>
<li>æ¯ä¸ª Operator æ¯æ¬¡æ“ä½œè®¡ç®—çš„ä¸å†æ˜¯ä¸€è¡Œæ•°æ®ï¼Œè€Œæ˜¯ä¸€æ‰¹æ•°æ®ï¼ˆBatch Nè¡Œæ•°æ®ï¼‰ï¼Œè®¡ç®—å®Œæˆåå‘ä¸Šå±‚ç®—å­è¿”å›ä¸€ä¸ª Batchã€‚</li>
<li>ä¼˜ç‚¹
<ul>
<li>å‡½æ•°è°ƒç”¨æ¬¡æ•°é™ä½ä¸º 1/N</li>
<li>CPU cache å‘½ä¸­ç‡æ›´é«˜</li>
<li>å¯ä»¥åˆ©ç”¨ CPU æä¾›çš„ SIMDï¼ˆSingle Instruction Multi Dataï¼‰æœºåˆ¶</li>
</ul>
</li>
<li>å‘é‡åŒ–æ‰§è¡Œæ›´é€‚åˆäºå¤§æ‰¹é‡æ•°æ®å¤„ç†ï¼Œå¯¹äºå¾ˆå¤šå•è¡Œæ•°æ®å¤„ç†å¹¶æ²¡æœ‰ä¼˜åŠ¿ã€‚è€Œä¸”å¾€å¾€æ­é…åˆ—å¼å­˜å‚¨ä½¿ç”¨ã€‚</li>
</ul>
<p><strong>ç¼–è¯‘æ‰§è¡Œ</strong></p>
<ul>
<li>
<p>å°†æ‰€ä»¥çš„æ“ä½œå°è£…åˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œå‡½æ•°çš„è°ƒç”¨çš„ä»£ä»·ä¹Ÿèƒ½å¤§å¹…åº¦é™ä½ã€‚</p>
</li>
<li>
<p>ä¸€ä¸ªé—®é¢˜ï¼šç”¨æˆ·ç¼–å†™çš„ SQL å„å¼å„æ ·ï¼Œå¦‚ä½•å¯¹æ¯ä¸€æ¡ SQL è¯­å¥å°è£…ï¼Ÿ</p>
<p>ä½¿ç”¨ LLVM åŠ¨æ€ç¼–è¯‘æ‰§è¡ŒæŠ€æœ¯</p>
<blockquote>
<p>ä»£ç ç”Ÿæˆä¹‹åæ•°æ®åº“è¿è¡Œæ—¶ä»ç„¶æ˜¯ä¸€ä¸ª for å¾ªç¯ï¼Œåªä¸è¿‡è¿™ä¸ªå¾ªç¯å†…éƒ¨çš„ä»£ç ä»ç®€å•çš„ä¸€ä¸ªè™šå‡½æ•°è°ƒç”¨plan.next()å±•å¼€æˆäº†ä¸€ç³»åˆ—å…·ä½“çš„è¿ç®—é€»è¾‘ï¼Œè¿™æ ·æ•°æ®å°±ä¸ç”¨åœ¨å„ä¸ª operator ä¹‹é—´è¿›è¡Œä¼ é€’ï¼Œè€Œä¸”æœ‰äº›æ•°æ®è¿˜å¯ä»¥ç›´æ¥è¢«å­˜æ”¾åœ¨å¯„å­˜å™¨ä¸­ï¼Œè¿›ä¸€æ­¥æå‡ç³»ç»Ÿæ€§èƒ½ã€‚æ•´ä¸ªæ“ä½œæœ‰ç‚¹åƒinline å‡½æ•°ï¼ŒæŠŠæ‰€æœ‰çš„æ“ä½œinlineåˆ°ä¸€ä¸ªå‡½æ•°ä¸­å»ã€‚</p>
<p>LLVMåŠ¨æ€ç¼–è¯‘æ‰§è¡ŒæŠ€æœ¯ï¼Œæ ¹æ®ä¼˜åŒ–å™¨äº§ç”Ÿçš„è®¡åˆ’ï¼ŒåŠ¨æ€çš„ç”Ÿæˆæ‰§è¡Œä»£ç ã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="33-å­˜å‚¨å¼•æ“"><a class="markdownIt-Anchor" href="#33-å­˜å‚¨å¼•æ“"></a> 3.3 å­˜å‚¨å¼•æ“</h4>
<h5 id="innodb"><a class="markdownIt-Anchor" href="#innodb"></a> InnoDB</h5>
<p>In-Memory</p>
<ul>
<li>Buffer Pool</li>
<li>Change Buffer</li>
<li>Adaptive Hash Index</li>
<li>Log Buffer</li>
</ul>
<p>On-Disk</p>
<ul>
<li>System Tablespace(ibdata1)</li>
<li>General Tablespaces(xxx.ibd)</li>
<li>Undo Tablespaces(xxx.ibu)</li>
<li>Temporary Tablespaces(xxx.ibt)</li>
<li>Redo Log(ib_logfileN)</li>
</ul>
<p>æ›´å¤šä¿¡æ¯å‚è€ƒ<a class="link"   href="https://dev.mysql.com/doc/refman/8.0/en/innodb-architecture.html" >https://dev.mysql.com/doc/refman/8.0/en/innodb-architecture.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="buffer-pool"><a class="markdownIt-Anchor" href="#buffer-pool"></a> Buffer Pool</h5>
<p>Buffer Pool ä¸­æœ‰å¤šä¸ª Instanceï¼Œè€Œæ¯ä¸ª Instance ä¸­æœ‰å¤šä¸ª chunkã€‚</p>
<ul>
<li>
<p>MySQLä¸­æ¯ä¸ªchunkçš„å¤§å°ä¸€èˆ¬ä¸º128Mï¼Œæ¯ä¸ªblockå¯¹åº”ä¸€ä¸ªpageï¼Œä¸€ä¸ªchunkä¸‹é¢æœ‰8192ä¸ªblockã€‚è¿™æ ·å¯ä»¥é¿å…å†…å­˜ç¢ç‰‡åŒ–ã€‚</p>
</li>
<li>
<p>åˆ†æˆå¤šä¸ªinstanceï¼Œå¯ä»¥æœ‰æ•ˆé¿å…å¹¶å‘å†²çªã€‚</p>
</li>
<li>
<p>Page id % instance numå¾—åˆ°å®ƒå±äºå“ªä¸ªinstanceã€‚</p>
</li>
</ul>
<blockquote>
<p>å½“buffer poolé‡Œçš„é¡µé¢éƒ½è¢«ä½¿ç”¨ä¹‹åï¼Œå†éœ€è¦æ¢å­˜å…¶ä»–é¡µé¢æ€ä¹ˆåŠï¼Ÿæ·˜æ±°å·²æœ‰çš„é¡µé¢ã€‚</p>
<p>åŸºäºä»€ä¹ˆè§„åˆ™æ·˜æ±°ï¼Ÿæ·˜æ±°é‚£ä¸ªæœ€è¿‘ä¸€æ®µæ—¶é—´æœ€å°‘è¢«è®¿é—®è¿‡çš„ç¼“å­˜é¡µï¼Œè¿™ç§æ€æƒ³å°±æ˜¯å…¸å‹çš„ LRU ç®—æ³•ã€‚</p>
<p>æ™®é€šçš„LRUç®—æ³•å­˜åœ¨ç¼ºé™·ï¼Œè€ƒè™‘åˆ°éœ€è¦æ‰«æ100GBçš„è¡¨ï¼Œè€Œbuffer poolåªæœ‰1GBï¼Œè¿™æ ·å°±ä¼šå› ä¸ºå…¨è¡¨æ‰«æçš„æ•°æ®é‡å¤§ï¼Œéœ€è¦æ·˜æ±°çš„ç¼“å­˜é¡µå¤šï¼Œå¯¼è‡´åœ¨æ·˜æ±°çš„è¿‡ç¨‹ä¸­ï¼Œææœ‰å¯èƒ½å°†éœ€è¦é¢‘ç¹ä½¿ç”¨åˆ°çš„ç¼“å­˜é¡µç»™æ·˜æ±°äº†ï¼Œè€Œæ”¾è¿›æ¥çš„æ–°æ•°æ®å´æ˜¯ä½¿ç”¨é¢‘ç‡å¾ˆä½çš„æ•°æ®ã€‚</p>
<p>MySQL æ²¡æœ‰ç›´æ¥ä½¿ç”¨ LRU ç®—æ³•ï¼Œè€Œæ˜¯åœ¨ LRU ç®—æ³•ä¸Šè¿›è¡Œäº†ä¼˜åŒ–ã€‚</p>
<p>MySQL çš„ä¼˜åŒ–æ€è·¯å°±æ˜¯ï¼šå¯¹æ•°æ®è¿›è¡Œå†·çƒ­åˆ†ç¦»ï¼Œå°† LRU é“¾è¡¨åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†ç”¨æ¥å­˜æ”¾å†·æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åˆšä»ç£ç›˜è¯»è¿›æ¥çš„æ•°æ®ï¼Œå¦ä¸€éƒ¨åˆ†ç”¨æ¥å­˜æ”¾çƒ­ç‚¹æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ç»å¸¸è¢«è®¿é—®åˆ°æ•°æ®ã€‚</p>
<p>å½“ä»ç£ç›˜è¯»å–æ•°æ®é¡µåï¼Œä¼šå…ˆå°†æ•°æ®é¡µå­˜æ”¾åˆ° LRU é“¾è¡¨å†·æ•°æ®åŒºçš„å¤´éƒ¨ï¼Œå¦‚æœè¿™äº›ç¼“å­˜é¡µåœ¨ 1 ç§’ä¹‹åè¢«è®¿é—®ï¼Œé‚£ä¹ˆå°±å°†ç¼“å­˜é¡µç§»åŠ¨åˆ°çƒ­æ•°æ®åŒºçš„å¤´éƒ¨ï¼›å¦‚æœæ˜¯ 1 ç§’ä¹‹å†…è¢«è®¿é—®ï¼Œåˆ™ä¸ä¼šç§»åŠ¨ï¼Œç¼“å­˜é¡µä»ç„¶å¤„äºå†·æ•°æ®åŒºä¸­ã€‚</p>
<p>æ·˜æ±°æ—¶ï¼Œé¦–å…ˆæ·˜æ±°å†·æ•°æ®åŒºã€‚</p>
</blockquote>
<p>æ›´å¤šä¿¡æ¯å‚è€ƒ<a class="link"   href="https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html" >https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="page"><a class="markdownIt-Anchor" href="#page"></a> Page</h5>
<table>
<thead>
<tr>
<th style="text-align:center">å˜é•¿å­—æ®µåˆ—è¡¨</th>
<th style="text-align:center">NULL å€¼æ ‡å¿—ä½</th>
<th style="text-align:center">Header</th>
<th style="text-align:center">row_id</th>
<th style="text-align:center">trx_id</th>
<th style="text-align:center">roll_ptr</th>
<th style="text-align:center">Col1</th>
<th style="text-align:center">Col2</th>
<th>Col3</th>
<th style="text-align:center">â€¦</th>
<th style="text-align:center">ColN</th>
</tr>
</thead>
</table>
<p>Header</p>
<ul>
<li>delete_maskï¼šæ ‡è¯†æ­¤æ¡æ•°æ®æ˜¯å¦è¢«åˆ é™¤ã€‚</li>
<li>next_recordï¼šä¸‹ä¸€æ¡æ•°æ®çš„ä½ç½®ã€‚</li>
<li>record_typeï¼šè¡¨ç¤ºå½“å‰è®°å½•çš„ç±»å‹ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">Page Header(120B)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">User Records</td>
</tr>
<tr>
<td style="text-align:center">Free Space</td>
</tr>
<tr>
<td style="text-align:center">Page Directory</td>
</tr>
<tr>
<td style="text-align:center">FIL Trailer(8B)</td>
</tr>
</tbody>
</table>
<p>å…¶ä¸­ User Records åœ¨é¡µé¢ä¸Šå®é™…æ˜¯æ— åºçš„ï¼Œé€šè¿‡ä¸€ä¸ªå•å‘é“¾è¡¨è¿æ¥ã€‚</p>
<h5 id="b-tree"><a class="markdownIt-Anchor" href="#b-tree"></a> B+ Tree</h5>
<ul>
<li>
<p>é¡µé¢å†…</p>
<p>é¡µç›®å½•ä¸­ä½¿ç”¨äºŒåˆ†æ³•å¿«é€Ÿå®šä½åˆ°å¯¹åº”çš„æ§½ï¼Œç„¶åå†éå†è¯¥æ§½å¯¹åº”åˆ†ç»„ä¸­çš„è®°å½•å³å¯å¿«é€Ÿæ‰¾åˆ°æŒ‡å®šçš„è®°å½•ã€‚</p>
</li>
<li>
<p>ä»æ ¹åˆ°å¶ï¼šä¸­é—´èŠ‚ç‚¹å­˜å‚¨</p>
</li>
<li>
<p>ç‚¹æŸ¥</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">2000</span>;</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>èŒƒå›´æŸ¥è¯¢</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">table</span> <span class="keyword">where</span> id <span class="operator">&gt;</span> <span class="number">2000</span>;</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<h4 id="34-äº‹åŠ¡å¼•æ“"><a class="markdownIt-Anchor" href="#34-äº‹åŠ¡å¼•æ“"></a> 3.4 äº‹åŠ¡å¼•æ“</h4>
<h5 id="atomicity-ä¸-undo-log"><a class="markdownIt-Anchor" href="#atomicity-ä¸-undo-log"></a> Atomicity ä¸ Undo Log</h5>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">begin</span>;</span><br><span class="line"><span class="keyword">update</span> account_table <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">-</span> <span class="string">&#x27;çº¢åŒ…&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;æ´»åŠ¨ä¸»åŠæ–¹&#x27;</span>;</span><br><span class="line"><span class="keyword">update</span> account_table <span class="keyword">set</span> balance <span class="operator">=</span> balance <span class="operator">+</span> <span class="string">&#x27;çº¢åŒ…&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;æ´»åŠ¨ç”¨æˆ·&#x27;</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure></div>
<p>å¦‚ä½•å°†æ•°æ®åº“å›é€€åˆ°ä¿®æ”¹ä¹‹å‰çš„çŠ¶æ€ï¼Ÿ</p>
<p>ä½¿ç”¨ Undo Logã€‚</p>
<p>Undo Log æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯æ•°æ®çš„å¢é‡å˜åŒ–ã€‚åˆ©ç”¨ Undo Log å¯ä»¥è¿›è¡Œäº‹åŠ¡å›æ»šï¼Œä»è€Œä¿è¯äº‹åŠ¡çš„åŸå­æ€§ã€‚åŒæ—¶ä¹Ÿå®ç°äº†å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰ï¼Œè§£å†³è¯»å†™å†²çªå’Œä¸€è‡´æ€§è¯»çš„é—®é¢˜ã€‚</p>
<p>åœ¨æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ä¸­ï¼ŒUndo ä¹Ÿä¼šç”Ÿæˆç›¸åæ“ä½œçš„ SQL è¯­å¥ã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> users(id,name)<span class="keyword">value</span>(<span class="number">1</span>,cat);</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> users <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>; # undo</span><br><span class="line"><span class="keyword">update</span> users <span class="keyword">set</span> name <span class="operator">=</span> <span class="string">&#x27;dog&#x27;</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">update</span> users <span class="keyword">set</span> name <span class="operator">=</span> <span class="string">&#x27;cat&#x27;</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>; # undo</span><br></pre></td></tr></table></figure></div>
<blockquote>
<p>åŸå­æ€§ï¼šä¸€ä¸ªäº‹åŠ¡ï¼ˆtransactionï¼‰ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«æ¢å¤ï¼ˆRollbackï¼‰åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ã€‚</p>
<p>éœ€è¦è®°å½•æ•°æ®ä¿®æ”¹å‰çš„çŠ¶æ€ï¼Œä¸€è¾¹åœ¨äº‹åŠ¡å¤±è´¥æ—¶è¿›è¡Œå›æ»šã€‚</p>
<p>undo logæ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯æ•°æ®çš„å¢é‡å˜åŒ–ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¿è¯äº‹åŠ¡çš„åŸå­æ€§å’Œäº‹åŠ¡å¹¶å‘æ§åˆ¶ã€‚å¯ä»¥ç”¨äºäº‹åŠ¡å›æ»šï¼Œä»¥åŠæä¾›å¤šç‰ˆæœ¬æœºåˆ¶ï¼ˆMVCCï¼‰ï¼Œè§£å†³è¯»å†™å†²çªå’Œä¸€è‡´æ€§è¯»çš„é—®é¢˜ã€‚</p>
</blockquote>
<h5 id="isolation-ä¸-é”"><a class="markdownIt-Anchor" href="#isolation-ä¸-é”"></a> Isolation ä¸ é”</h5>
<p>Isolationï¼ˆéš”ç¦»æ€§ï¼‰ï¼šæ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ï¼Œéš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚</p>
<p>å¦‚æœå¤šä¸ªå¹¶å‘äº‹åŠ¡è®¿é—®åŒä¸€è¡Œè®°å½•ï¼Œå°±éœ€è¦é”æœºåˆ¶æ¥ä¿è¯äº†ã€‚</p>
<p>è¯»å†™æ˜¯å¦å†²çªï¼Ÿè¯»å†™äº’ä¸é˜»å¡ï¼ŒMVCCæœºåˆ¶ã€‚</p>
<h5 id="isolation-ä¸-mvcc"><a class="markdownIt-Anchor" href="#isolation-ä¸-mvcc"></a> Isolation ä¸ MVCC</h5>
<p>MVCC çš„æ„ä¹‰</p>
<ul>
<li>è¯»å†™äº’ä¸é˜»å¡</li>
<li>é™ä½æ­»é”æ¦‚ç‡</li>
<li>å®ç°ä¸€è‡´æ€§è¯»</li>
</ul>
<p>Undo Log åœ¨ MVCC ä¸­çš„ä½œç”¨</p>
<ul>
<li>æ¯ä¸ªäº‹åŠ¡éƒ½æœ‰ä¸€ä¸ªå•å¢çš„äº‹åŠ¡ ID</li>
<li>æ•°æ®é¡µçš„è¡Œè®°å½•ä¸­åŒ…å«äº† DB_ROW_IDï¼ŒDB_TRX_IDï¼ŒDB_ROLL_PTR</li>
<li>DB_ROLL_PTR å°†æ•°æ®è¡Œçš„æ‰€æœ‰å¿«ç…§è®°å½•éƒ½é€šè¿‡é“¾è¡¨çš„ç»“æ„ä¸²è”äº†èµ·æ¥</li>
</ul>
<blockquote>
<p>è„è¯»ï¼šäº‹åŠ¡è¿˜æ²¡æäº¤ä¹‹å‰ï¼Œå®ƒå¯¹æ•°æ®åšçš„ä¿®æ”¹ï¼Œä¸åº”è¯¥è¢«å…¶ä»–äººçœ‹åˆ°ã€‚</p>
</blockquote>
<h5 id="durability-ä¸-redo-log"><a class="markdownIt-Anchor" href="#durability-ä¸-redo-log"></a> Durability ä¸ Redo Log</h5>
<p>å¦‚ä½•ä¿è¯äº‹åŠ¡ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹æ°¸ä¹…çš„ä¿å­˜ï¼Ÿ</p>
<p>æ–¹æ¡ˆä¸€ï¼šäº‹åŠ¡æäº¤å‰é¡µé¢å†™ç›˜ï¼Œä¼šå¯¼è‡´éšæœº IO å†™æ”¾å¤§ã€‚</p>
<p>æ–¹æ¡ˆäºŒï¼šWALï¼ˆWrite-ahead loggingï¼‰</p>
<p>redo log æ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯é¡µé¢çš„å˜åŒ–ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¿è¯äº‹åŠ¡æŒä¹…åŒ–ã€‚å¦‚æœæ•°æ®å†™å…¥ç£ç›˜å‰å‘ç”Ÿæ•…éšœï¼Œé‡å¯ MySQL åä¼šæ ¹æ® redo log é‡åšã€‚</p>
<blockquote>
<p>æŒä¹…åŒ–ï¼šäº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p>
<p>WALï¼šä¿®æ”¹å¹¶ä¸ç›´æ¥å†™å…¥åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œè€Œæ˜¯å†™å…¥åˆ°å¦å¤–ä¸€ä¸ªç§°ä¸º WAL çš„æ–‡ä»¶ä¸­ï¼›å¦‚æœäº‹åŠ¡å¤±è´¥ï¼ŒWAL ä¸­çš„è®°å½•ä¼šè¢«å¿½ç•¥ï¼Œæ’¤é”€ä¿®æ”¹ï¼›å¦‚æœäº‹åŠ¡æˆåŠŸï¼Œå®ƒå°†åœ¨éšåçš„æŸä¸ªæ—¶é—´è¢«å†™å›åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œæäº¤ä¿®æ”¹ã€‚ ä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>åªè®°å½•å¢é‡å˜åŒ–ï¼Œæ²¡æœ‰å†™æ”¾å¤§</p>
</li>
<li>
<p>Append onlyï¼Œæ²¡æœ‰éšæœºIO</p>
</li>
</ul>
</blockquote>
<h3 id="4ä¼ä¸šå®è·µ"><a class="markdownIt-Anchor" href="#4ä¼ä¸šå®è·µ"></a> 4.ä¼ä¸šå®è·µ</h3>
<h4 id="41-çº¢åŒ…é›¨æŒ‘æˆ˜"><a class="markdownIt-Anchor" href="#41-çº¢åŒ…é›¨æŒ‘æˆ˜"></a> 4.1 çº¢åŒ…é›¨æŒ‘æˆ˜</h4>
<p><strong>æƒ…æ™¯æ¨¡æ‹Ÿ</strong></p>
<p>æ´»åŠ¨ç»Ÿè®¡</p>
<ul>
<li>å…±è®¡å‘æ”¾çº¢åŒ…20äº¿å…ƒ</li>
<li>æ€»è®¡å‘æ”¾å¡åˆ¸24äº¿å¼ </li>
<li>èŠ‚æ—¥çº¢åŒ…è¡¥è´´12.9äº¿</li>
</ul>
<p>æµé‡ç»Ÿè®¡</p>
<ul>
<li>æ´»åŠ¨é’±åŒ…ï¼š400w/s</li>
<li>å‘çº¢åŒ…ï¼š300w/s</li>
<li>å‘å¥–åˆ¸ï¼š400w/s</li>
</ul>
<p>æµé‡å¤§ã€æµé‡çªå¢ã€ç¨³å®šæ€§</p>
<h4 id="42-å¤§æµé‡-sharding"><a class="markdownIt-Anchor" href="#42-å¤§æµé‡-sharding"></a> 4.2 å¤§æµé‡ â€” Sharding</h4>
<p>é—®é¢˜èƒŒæ™¯</p>
<ul>
<li>å•èŠ‚ç‚¹å†™å®¹æ˜“æˆä¸ºç“¶é¢ˆ</li>
<li>å•æœºæ•°æ®å®¹é‡ä¸Šé™ä¸å¤Ÿ</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>ä¸šåŠ¡æ•°æ®è¿›è¡Œæ°´å¹³æ‹†åˆ†</li>
<li>ä»£ç†å±‚è¿›è¡Œåˆ†ç‰‡è·¯ç”±</li>
</ul>
<p>å®æ–½æ•ˆæœ</p>
<ul>
<li>æ•°æ®åº“å†™å…¥æ€§èƒ½çº¿æ€§æ‰©å±•</li>
<li>æ•°æ®åº“å®¹é‡çº¿æ€§æ‰©å±•</li>
</ul>
<p>å½“æ•°æ®åº“ä¸­çš„æ•°æ®é‡è¶Šæ¥è¶Šå¤§æ—¶ï¼Œä¸è®ºæ˜¯è¯»è¿˜æ˜¯å†™ï¼Œå‹åŠ›éƒ½ä¼šå˜å¾—è¶Šæ¥è¶Šå¤§ã€‚è™½ç„¶ä¸Šé¢çš„æ–¹æ¡ˆå¯ä»¥æ‰©å±•è¯»èŠ‚ç‚¹ï¼Œä½†æ˜¯å¯¹äºå†™æµé‡å¢åŠ ï¼Œä»¥åŠæ•°æ®é‡çš„å¢åŠ å´æ²¡æœ‰åŠæ³•ã€‚</p>
<h4 id="43-æµé‡çªå¢-æ‰©å®¹"><a class="markdownIt-Anchor" href="#43-æµé‡çªå¢-æ‰©å®¹"></a> 4.3 æµé‡çªå¢ â€” æ‰©å®¹</h4>
<p>é—®é¢˜èƒŒæ™¯</p>
<ul>
<li>æ´»åŠ¨æµé‡ä¸Šæ¶¨</li>
<li>é›†ç¾¤æ€§èƒ½ä¸æ»¡è¶³è¦æ±‚</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>æ‰©å®¹ DB ç‰©ç†èŠ‚ç‚¹æ•°é‡</li>
<li>åˆ©ç”¨å½±å­è¡¨è¿›è¡Œå‹æµ‹</li>
</ul>
<p>å®æ–½æ•ˆæœ</p>
<ul>
<li>æ•°æ®åº“é›†ç¾¤æä¾›æ›´é«˜çš„åå</li>
<li>ä¿è¯é›†ç¾¤å¯ä»¥æ‰¿æ‹…é¢„æœŸæµé‡</li>
</ul>
<h4 id="44-æµé‡çªå¢-ä»£ç†è¿æ¥æ± "><a class="markdownIt-Anchor" href="#44-æµé‡çªå¢-ä»£ç†è¿æ¥æ± "></a> 4.4 æµé‡çªå¢ â€” ä»£ç†è¿æ¥æ± </h4>
<p>é—®é¢˜èƒŒæ™¯</p>
<ul>
<li>çªå¢æµé‡å¯¼è‡´å¤§é‡å»ºè”</li>
<li>å¤§é‡å»ºè”å¯¼è‡´è´Ÿè½½å˜å¤§ï¼Œå»¶æ—¶ä¸Šå‡</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>ä¸šåŠ¡ä¾§é¢„çƒ­è¿æ¥æ± </li>
<li>ä»£ç†ä¾§é¢„çƒ­è¿æ¥æ± </li>
<li>ä»£ç†ä¾§æ”¯æŒè¿æ¥é˜Ÿåˆ—</li>
</ul>
<p>å®æ–½æ•ˆæœ</p>
<ul>
<li>é¿å… DB å› çªå¢æµé‡æŒ‚æ‰</li>
<li>é¿å…ä»£ç†å’Œ DB å› å¤§é‡å»ºè”æŒ‚æ‰</li>
</ul>
<h4 id="45-ç¨³å®šæ€§å’Œå¯é æ€§"><a class="markdownIt-Anchor" href="#45-ç¨³å®šæ€§å’Œå¯é æ€§"></a> 4.5 ç¨³å®šæ€§å’Œå¯é æ€§</h4>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦é«˜å¯ç”¨ï¼Ÿ</p>
<p>æ¶æ„äº‹æ•…ï¼š<s>ç¨‹åºå‘˜åˆ åº“è·‘è·¯</s></p>
<p>å¶ç„¶äº‹æ•…ï¼šä¸€ä¸ªæœºæˆ¿æ–­ç”µã€æ–­ç½‘ï¼Œ æŸæ–½å·¥é˜Ÿæ–½å·¥çš„æ—¶å€™æŒ–æ˜æœºæŠŠæŸæ¸¸æˆå…¬å¸çš„å…‰çº¤æŒ–æ–­äº†ï¼Œä¸€ä¸‹åˆçš„æ—¶é—´ï¼Œä¿å®ˆä¼°è®¡æŸå¤±ä¸€ä¸ªäº¿ã€‚</p>
</blockquote>
<h5 id="451-3az-é«˜å¯ç”¨"><a class="markdownIt-Anchor" href="#451-3az-é«˜å¯ç”¨"></a> 4.5.1 3AZ é«˜å¯ç”¨</h5>
<p><strong>ä¸‰æœºæˆ¿éƒ¨ç½²</strong></p>
<ul>
<li>æœºæˆ¿çº§åˆ«å®¹ç¾</li>
<li>æœºæˆ¿çº§åˆ«æµé‡è°ƒåº¦</li>
</ul>
<p><strong>proxy</strong></p>
<ul>
<li>è¯»å†™åˆ†ç¦»ï¼Œåˆ†åº“åˆ†è¡¨</li>
<li>é™æµï¼Œæµé‡è°ƒåº¦</li>
</ul>
<p><strong>ç›‘æ§æŠ¥è­¦</strong></p>
<ul>
<li>å®æ—¶ç›‘æ§é›†ç¾¤è¿è¡ŒçŠ¶æ€</li>
<li>æå‰ä¸ŠæŠ¥é›†ç¾¤é£é™©</li>
</ul>
<p><strong>HA</strong></p>
<ul>
<li>High</li>
<li>Avaliability</li>
<li>å®æ—¶ç›‘æ§ DB è¿è¡ŒçŠ¶æ€</li>
<li>å®•æœºå¿«é€Ÿåˆ‡æ¢</li>
</ul>
<blockquote>
<p>BinLogï¼šbinlogæ˜¯mysqlç”¨æ¥è®°å½•æ•°æ®åº“è¡¨ç»“æ„å˜æ›´ä»¥åŠè¡¨æ•°æ®ä¿®æ”¹çš„çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼Œå®ƒåªä¼šè®°å½•è¡¨çš„å˜æ›´æ“ä½œï¼Œä½†ä¸ä¼šè®°å½•selectå’Œshowè¿™ç§æŸ¥è¯¢æ“ä½œã€‚</p>
<p>æ•°æ®æ¢å¤ï¼šè¯¯åˆ æ•°æ®ä¹‹åå¯ä»¥é€šè¿‡mysqlbinlogå·¥å…·æ¢å¤æ•°æ®</p>
<p>ä¸»ä»å¤åˆ¶ï¼šä¸»åº“å°†binlogä¼ ç»™ä»åº“ï¼Œä»åº“æ¥æ”¶åˆ°ä¹‹åè¯»å–å†…å®¹å†™å…¥ä»åº“ï¼Œå®ç°ä¸»åº“å’Œä»åº“æ•°æ®ä¸€è‡´æ€§</p>
<p>å®¡è®¡ï¼šå¯ä»¥é€šè¿‡äºŒè¿›åˆ¶æ—¥å¿—ä¸­çš„ä¿¡æ¯è¿›è¡Œå®¡è®¡ï¼Œåˆ¤æ–­æ˜¯å¦å¯¹æ•°æ®åº“è¿›è¡Œæ³¨å…¥æ”»å‡»</p>
</blockquote>
<h5 id="452-ha-ç®¡ç†"><a class="markdownIt-Anchor" href="#452-ha-ç®¡ç†"></a> 4.5.2 HA ç®¡ç†</h5>
<p>é—®é¢˜èƒŒæ™¯</p>
<ul>
<li>DB æ‰€åœ¨æœºå™¨å¼‚å¸¸å®•æœº</li>
<li>DB èŠ‚ç‚¹å¼‚å¸¸å®•æœº</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>HA æœåŠ¡ç›‘ç®¡ã€åˆ‡æ¢å®•æœºèŠ‚ç‚¹</li>
<li>ä»£ç†æ”¯æŒé…ç½®çƒ­åŠ è½½</li>
<li>ä»£ç†è‡ªåŠ¨å±è”½å®•æœºè¯»èŠ‚ç‚¹</li>
</ul>
<p>å®æ–½æ•ˆæœ</p>
<ul>
<li>è¯»èŠ‚ç‚¹å®•æœºç§’çº§æ¢å¤</li>
<li>å†™èŠ‚ç‚¹å®•æœº 30s å†…æ¢å¤</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/219516250" >SQL ä¼˜åŒ–ä¹‹ç«å±±æ¨¡å‹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://dev.mysql.com/doc/refman/8.0/en/innodb-architecture.html" >Innodb å­˜å‚¨å¼•æ“ | MySQL å®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>RDBMS</tag>
      </tags>
  </entry>
  <entry>
    <title>Redis</title>
    <url>/2023/02/22/golang-day17/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7202945024749092923" >Redis | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹ Redis çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="redis"><a class="markdownIt-Anchor" href="#redis"></a> Redis</h2>
<h3 id="1redis-æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#1redis-æ˜¯ä»€ä¹ˆ"></a> 1.Redis æ˜¯ä»€ä¹ˆ</h3>
<h4 id="ä¸ºä»€ä¹ˆéœ€è¦-redis"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦-redis"></a> ä¸ºä»€ä¹ˆéœ€è¦ Redis</h4>
<ul>
<li>æ•°æ®ä»å•è¡¨ï¼Œæ¼”è¿›å‡ºäº†åˆ†åº“åˆ†è¡¨</li>
<li>MySQL ä»å•æœºæ¼”è¿›å‡ºäº†é›†ç¾¤
<ul>
<li>æ•°æ®é‡å¢é•¿</li>
<li>è¯»å†™æ•°æ®å‹åŠ›çš„ä¸æ–­å¢åŠ </li>
</ul>
</li>
<li>æ•°æ®åˆ†å†·çƒ­
<ul>
<li>çƒ­æ•°æ®ï¼šç»å¸¸è¢«è®¿é—®åˆ°çš„æ•°æ®</li>
</ul>
</li>
<li>å°†çƒ­æ•°æ®å­˜å‚¨åˆ°å†…å­˜ä¸­</li>
</ul>
<h4 id="redis-åŸºæœ¬å·¥ä½œåŸç†"><a class="markdownIt-Anchor" href="#redis-åŸºæœ¬å·¥ä½œåŸç†"></a> Redis åŸºæœ¬å·¥ä½œåŸç†</h4>
<ul>
<li>æ•°æ®ä»å†…å­˜ä¸­è¯»å†™</li>
<li>æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šé˜²æ­¢é‡å¯æ•°æ®ä¸¢å¤±
<ul>
<li>å¢é‡æ•°æ®ä¿å­˜åˆ° AOF æ–‡ä»¶ä¸­</li>
<li>å…¨é‡æ•°æ®ä¿å­˜åˆ° RDB æ–‡ä»¶ä¸­</li>
</ul>
</li>
<li>å•çº¿ç¨‹å¤„ç†æ‰€æœ‰æ“ä½œå‘½ä»¤</li>
</ul>
<h3 id="2redis-åº”ç”¨æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#2redis-åº”ç”¨æ¡ˆä¾‹"></a> 2.Redis åº”ç”¨æ¡ˆä¾‹</h3>
<h4 id="æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#æ¡ˆä¾‹"></a> æ¡ˆä¾‹</h4>
<p><strong>1.è¿ç»­ç­¾åˆ°</strong></p>
<p>app æ¯æ—¥ç­¾åˆ°ï¼Œå¦‚æœæ–­ç­¾ï¼Œè¿ç»­ç­¾åˆ°è®¡æ•°å°†å½’ 0ã€‚</p>
<p>è¿ç»­ç­¾åˆ°çš„è¦æ±‚ï¼šæ¯å¤©å¿…é¡»åœ¨ 23:59 å‰ç­¾åˆ°</p>
<ul>
<li>Keyï¼šuuidâ€¦</li>
<li>valueï¼š252</li>
<li>expireAtï¼š24:00</li>
</ul>
<p><strong>String æ•°æ®ç»“æ„</strong></p>
<ul>
<li>å¯ä»¥å­˜å‚¨å­—ç¬¦ä¸²ã€æ•°å­—ã€äºŒè¿›åˆ¶æ•°æ®</li>
<li>é€šå¸¸å’Œ expire é…åˆä½¿ç”¨</li>
<li>åœºæ™¯ï¼šå­˜å‚¨è®¡æ•°ã€Session</li>
</ul>
<p><strong>2.æ¶ˆæ¯é€šçŸ¥</strong></p>
<p>ç”¨ list ä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—</p>
<ul>
<li>
<p>ä½¿ç”¨åœºæ™¯ï¼šæ¶ˆæ¯é€šçŸ¥</p>
<blockquote>
<p>ä¾‹å¦‚å½“æ–‡ç« æ›´æ–°æ—¶ï¼Œå°†æ›´æ–°åçš„æ–‡ç« æ¨é€åˆ° ESï¼Œç”¨æˆ·å°±èƒ½æœç´¢åˆ°æœ€æ–°çš„æ–‡ç« æ•°æ®ã€‚</p>
</blockquote>
</li>
</ul>
<p><strong>List æ•°æ®ç»“æ„ Quicklist</strong></p>
<p>Quicklist ç”±ä¸€ä¸ªåŒå‘é“¾è¡¨å’Œ listpack å®ç°</p>
<p><strong>3.è®¡æ•°</strong></p>
<p>ä¸€ä¸ªç”¨æˆ·æœ‰å¤šé¡¹è®¡æ•°éœ€æ±‚ï¼Œå¯é€šè¿‡ hash ç»“æ„å­˜å‚¨</p>
<p><strong>Hash æ•°æ®ç»“æ„ dict</strong></p>
<ul>
<li>rehashï¼šrehash æ“ä½œæ˜¯å°† ht[0] ä¸­çš„æ•°æ®ï¼Œå…¨éƒ¨è¿ç§»åˆ° ht[1] ä¸­ã€‚æ•°æ®é‡å°çš„åœºæ™¯ä¸‹ï¼Œç›´æ¥å°†æ•°æ®ä» ht[0] æ‹·è´åˆ° ht[1] é€Ÿåº¦æ˜¯è¾ƒå¿«çš„ã€‚æ•°æ®é‡å¤§çš„åœºæ™¯ï¼Œä¾‹å¦‚å­˜æœ‰ä¸Šç™¾ä¸‡çš„ KV æ—¶ï¼Œè¿ç§»è¿‡ç¨‹å°†ä¼šæ˜æ˜¾é˜»å¡ç”¨æˆ·è¯·æ±‚ã€‚</li>
<li>æ¸è¿›å¼ rehashï¼šä¸ºé¿å…å‡ºç°è¿™ç§æƒ…å†µï¼Œä½¿ç”¨äº† rehash æ–¹æ¡ˆã€‚åŸºæœ¬åŸç†å°±æ˜¯ï¼Œæ¯æ¬¡ç”¨æˆ·è®¿é—®æ—¶éƒ½ä¼šè¿ç§»å°‘é‡æ•°æ®ã€‚å°†æ•´ä¸ªè¿ç§»è¿‡ç¨‹ï¼Œå¹³æ‘Šåˆ°æ‰€æœ‰çš„è®¿é—®è¯·æ±‚è¿‡ç¨‹ä¸­ã€‚</li>
</ul>
<p><strong>4.æ’è¡Œæ¦œ</strong></p>
<p>ç§¯åˆ†å˜åŒ–æ—¶ï¼Œæ’åè¦å®æ—¶å˜æ›´</p>
<p><strong>zset æ•°æ®ç»“æ„ zskiplist</strong></p>
<ul>
<li>ç»“åˆ dict åï¼Œå¯å®ç°é€šè¿‡ key æ“ä½œè·³è¡¨çš„åŠŸèƒ½</li>
</ul>
<p><strong>5.é™æµ</strong></p>
<ul>
<li>
<p>è¦æ±‚1ç§’å†…æ”¾è¡Œçš„è¯·æ±‚ä¸º Nï¼Œè¶…è¿‡ N åˆ™ç¦æ­¢è®¿é—®</p>
</li>
<li>
<p>Keyï¼šcomment_freq_limit_1671356046</p>
<p>å¯¹è¿™ä¸ª Key è°ƒç”¨ incrï¼Œè¶…è¿‡é™åˆ¶ N åˆ™ç¦æ­¢è®¿é—®</p>
<p>1671356046 æ˜¯å½“å‰æ—¶é—´æˆ³</p>
</li>
</ul>
<p><strong>6.åˆ†å¸ƒå¼é”</strong></p>
<p>å¹¶å‘åœºæ™¯ï¼šè¦æ±‚ä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªåç¨‹æ‰§è¡Œã€‚æ‰§è¡Œå®Œæˆåï¼Œå…¶å®ƒç­‰å¾…ä¸­çš„åç¨‹æ‰èƒ½æ‰§è¡Œã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ Redis çš„ setnx å®ç°ï¼Œåˆ©ç”¨äº†ä¸¤ä¸ªç‰¹æ€§</p>
<ul>
<li>Redis æ˜¯å•çº¿ç¨‹æ‰§è¡Œå‘½ä»¤</li>
<li>setnx åªæœ‰æœªè®¾ç½®è¿‡æ‰èƒ½æ‰§è¡ŒæˆåŠŸ</li>
</ul>
<h3 id="3redis-ä½¿ç”¨æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#3redis-ä½¿ç”¨æ³¨æ„äº‹é¡¹"></a> 3.Redis ä½¿ç”¨æ³¨æ„äº‹é¡¹</h3>
<h4 id="31-å¤§-key-çƒ­-key"><a class="markdownIt-Anchor" href="#31-å¤§-key-çƒ­-key"></a> 3.1 å¤§ Keyã€çƒ­ Key</h4>
<p><strong>å¤§ Key çš„å®šä¹‰</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">æ•°æ®ç±»å‹</th>
<th style="text-align:center">å¤§ Key æ ‡å‡†</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">String ç±»å‹</td>
<td style="text-align:center">value çš„å­—èŠ‚æ•°å¤§äº 10KB å³ä¸ºå¤§Key</td>
</tr>
<tr>
<td style="text-align:center">Hash/Set/Zset/list ç­‰å¤æ‚æ•°æ®ç»“æ„ç±»å‹</td>
<td style="text-align:center">å…ƒç´ ä¸ªæ•°å¤§äº5000ä¸ªæˆ–æ€» value å­—èŠ‚æ•°å¤§äº 10MB å³ä¸ºå¤§Key</td>
</tr>
</tbody>
</table>
<p><strong>å¤§ Key çš„å±å®³</strong></p>
<ul>
<li>è¯»å–æˆæœ¬é«˜</li>
<li>å®¹æ˜“å¯¼è‡´æ…¢æŸ¥è¯¢ï¼ˆè¿‡æœŸã€åˆ é™¤ï¼‰</li>
<li>ä¸»ä»å¤åˆ¶å¼‚å¸¸ï¼ŒæœåŠ¡é˜»å¡ï¼Œæ— æ³•æ­£å¸¸å“åº”è¯·æ±‚</li>
</ul>
<p><strong>ä¸šåŠ¡ä¾§ä½¿ç”¨å¤§ Key çš„è¡¨ç°</strong></p>
<ul>
<li>è¯·æ±‚ Redis è¶…æ—¶æŠ¥é”™</li>
</ul>
<p><strong>æ¶ˆé™¤å¤§ Key çš„æ–¹æ³•</strong></p>
<ol>
<li>
<p>æ‹†åˆ†</p>
<p>å°†å¤§ Key æ‹†åˆ†æˆä¸ºå° Keyã€‚ä¾‹å¦‚ä¸€ä¸ª String æ‹†åˆ†æˆå¤šä¸ª String</p>
</li>
<li>
<p>å‹ç¼©</p>
<p>å°† value å‹ç¼©åå†™å…¥ redisï¼Œè¯»å–æ—¶è§£å‹åå†ä½¿ç”¨ã€‚å‹ç¼©ç®—æ³•å¯ä»¥æ˜¯ gzipã€snappyã€lz4 ç­‰ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå‹ç¼©ç®—æ³•å‹ç¼©ç‡é«˜ï¼Œåˆ™è§£å‹è€—æ—¶å°±é•¿ã€‚éœ€è¦å¯¹å®é™…æ•°æ®è¿›è¡Œæµ‹è¯•åï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ç®—æ³•ã€‚å¦‚æœå­˜å‚¨çš„æ˜¯ JSON å­—ç¬¦ä¸²ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ MessagePack è¿›è¡Œåºåˆ—åŒ–ã€‚</p>
</li>
<li>
<p>é›†åˆç±»ç»“æ„ hashã€listã€setã€zset</p>
<ol>
<li>æ‹†åˆ†ï¼šå¯ä»¥ç”¨ hash å–ä½™ï¼Œä½æ©ç çš„æ–¹å¼å†³å®šæ”¾åœ¨å“ªä¸ª key ä¸­ã€‚</li>
<li>åŒºåˆ†å†·çƒ­ï¼šå¦‚æ¦œå•åˆ—è¡¨åœºæ™¯ä½¿ç”¨zsetï¼Œåªç¼“å­˜å‰10é¡µæ•°æ®ï¼Œåç»­æ•°æ®èµ°dbã€‚</li>
</ol>
</li>
</ol>
<p><strong>çƒ­ Key çš„å®šä¹‰</strong></p>
<p>ç”¨æˆ·è®¿é—®ä¸€ä¸ª Key çš„ QPS ç‰¹åˆ«é«˜ï¼Œå¯¼è‡´ Server å®ä¾‹å‡ºç° CPU è´Ÿè½½çªå¢æˆ–è€…ä¸å‡çš„æƒ…å†µã€‚</p>
<p>çƒ­ Key æ²¡æœ‰æ˜ç¡®çš„æ ‡å‡†ï¼ŒQPS è¶…è¿‡500å°±æœ‰å¯èƒ½è¢«è¯†åˆ«ä¸ºçƒ­ Keyã€‚</p>
<p><strong>è§£å†³çƒ­ Key çš„æ–¹æ³•</strong></p>
<ol>
<li>
<p>è®¾ç½® Localcache</p>
<p>åœ¨è®¿é—® Redis ä¹‹å‰ï¼Œåœ¨ä¸šåŠ¡æœåŠ¡ä¾§è®¾ç½® Localcacheï¼Œé™ä½è®¿é—® Redis çš„QPSã€‚LocalCache ä¸­ç¼“å­˜è¿‡æœŸæˆ–æœªå‘½ä¸­ï¼Œåˆ™ä» Redis ä¸­å°†æ•°æ®æ›´æ–°åˆ° LocalCacheã€‚Java çš„ Guavaã€Golang çš„ Bigcache å°±æ˜¯è¿™ç±» LocalCacheã€‚</p>
</li>
<li>
<p>æ‹†åˆ†</p>
<p>å°† key: value è¿™ä¸€ä¸ªçƒ­ Key å¤åˆ¶å†™å…¥å¤šä»½ï¼Œä¾‹å¦‚ key1: valueï¼›key2: valueï¼Œè®¿é—®çš„æ—¶å€™è®¿é—®å¤šä¸ª keyï¼Œä½† value æ˜¯åŒä¸€ä¸ªï¼Œä»¥æ­¤å°†qps åˆ†æ•£åˆ°ä¸åŒå®ä¾‹ä¸Šï¼Œé™ä½è´Ÿè½½ã€‚ä»£ä»·æ˜¯æ›´æ–°æ—¶éœ€è¦æ›´æ–°å¤šä¸ª keyï¼Œå­˜åœ¨æ•°æ®çŸ­æš‚ä¸ä¸€è‡´çš„é£é™©ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ Redis ä»£ç†çš„çƒ­ Key æ‰¿è½½èƒ½åŠ›</p>
<p>å­—èŠ‚è·³åŠ¨å›¢é˜Ÿçš„ Redis è®¿é—®ä»£ç†å°±å…·å¤‡çƒ­ Key æ‰¿è½½èƒ½åŠ›ã€‚æœ¬è´¨ä¸Šæ˜¯ç»“åˆäº†â€œçƒ­ Key å‘ç°â€ã€â€œLocalCacheâ€ä¸¤ä¸ªåŠŸèƒ½</p>
</li>
</ol>
<h4 id="32-æ…¢æŸ¥è¯¢åœºæ™¯"><a class="markdownIt-Anchor" href="#32-æ…¢æŸ¥è¯¢åœºæ™¯"></a> 3.2 æ…¢æŸ¥è¯¢åœºæ™¯</h4>
<p><strong>å®¹æ˜“å¯¼è‡´ redis æ…¢æŸ¥è¯¢çš„æ“ä½œ</strong></p>
<ol>
<li>
<p>æ‰¹é‡æ“ä½œä¸€æ¬¡æ€§ä¼ å…¥è¿‡å¤šçš„ key/valueï¼Œå¦‚ mset/hmset/sadd/zadd ç­‰ O(n) æ“ä½œ</p>
<blockquote>
<p>å»ºè®®å•æ‰¹æ¬¡ä¸è¦è¶…è¿‡100ï¼Œè¶…è¿‡100ä¹‹åæ€§èƒ½ä¸‹é™æ˜æ˜¾ã€‚</p>
</blockquote>
</li>
<li>
<p>zset å¤§éƒ¨åˆ†å‘½ä»¤éƒ½æ˜¯  O(log(n)) ï¼Œå½“å¤§å°è¶…è¿‡5kä»¥ä¸Šæ—¶ï¼Œç®€å•çš„ zadd/zrem ä¹Ÿå¯èƒ½å¯¼è‡´æ…¢æŸ¥è¯¢</p>
</li>
<li>
<p>æ“ä½œçš„å•ä¸ª value è¿‡å¤§ï¼Œè¶…è¿‡ 10KBï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦é¿å…ä½¿ç”¨å¤§ Key</p>
</li>
<li>
<p>å¯¹å¤§ Key çš„ delete/expire æ“ä½œä¹Ÿå¯èƒ½å¯¼è‡´æ…¢æŸ¥è¯¢ï¼ŒRedis4.0ä¹‹å‰ä¸æ”¯æŒå¼‚æ­¥åˆ é™¤unlinkï¼Œå¤§ Key åˆ é™¤ä¼šé˜»å¡ Redis</p>
</li>
</ol>
<h4 id="33-ç¼“å­˜ç©¿é€-ç¼“å­˜é›ªå´©"><a class="markdownIt-Anchor" href="#33-ç¼“å­˜ç©¿é€-ç¼“å­˜é›ªå´©"></a> 3.3 ç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©</h4>
<p>ç¼“å­˜ç©¿é€ï¼šçƒ­ç‚¹æ•°æ®æŸ¥è¯¢ç»•è¿‡ç¼“å­˜ï¼Œç›´æ¥æŸ¥è¯¢æ•°æ®åº“</p>
<p>ç¼“å­˜é›ªå´©ï¼šå¤§é‡ç¼“å­˜åŒæ—¶è¿‡æœŸ</p>
<p><strong>ç¼“å­˜ç©¿é€ã€é›ªå´©çš„å±å®³</strong></p>
<ol>
<li>
<p>æŸ¥è¯¢ä¸€ä¸ªä¸€å®šä¸å­˜åœ¨çš„æ•°æ®</p>
<p>é€šå¸¸ä¸ä¼šç¼“å­˜ä¸å­˜åœ¨çš„æ•°æ®ï¼Œè¿™ç±»æŸ¥è¯¢è¯·æ±‚éƒ½ä¼šç›´æ¥æ‰“åˆ°dbï¼Œå¦‚æœæœ‰ç³»ç»Ÿbugæˆ–äººä¸ºæ”»å‡»ï¼Œé‚£ä¹ˆå®¹æ˜“å¯¼è‡´dbå“åº”æ…¢ç”šè‡³å®•æœºã€‚</p>
</li>
<li>
<p>ç¼“å­˜è¿‡æœŸæ—¶</p>
<p>åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä¸€ä¸ªçƒ­ key å¦‚æœè¿‡æœŸï¼Œä¼šæœ‰å¤§é‡è¯·æ±‚åŒæ—¶å‡»ç©¿è‡³dbï¼Œå®¹æ˜“å½±å“dbæ€§èƒ½å’Œç¨³å®šã€‚</p>
<p>åŒä¸€æ—¶é—´æœ‰å¤§é‡keyé›†ä¸­è¿‡æœŸæ—¶ï¼Œä¹Ÿä¼šå¯¼è‡´å¤§é‡è¯·æ±‚è½åˆ°dbä¸Šï¼Œå¯¼è‡´æŸ¥è¯¢å˜æ…¢ï¼Œç”šè‡³å‡ºç°dbæ— æ³•å“åº”æ–°çš„æŸ¥è¯¢ã€‚</p>
</li>
</ol>
<p><strong>å¦‚ä½•å‡å°‘ç¼“å­˜ç©¿é€</strong></p>
<ol>
<li>
<p>ç¼“å­˜ç©ºå€¼</p>
<p>å¦‚ä¸€ä¸ªä¸å­˜åœ¨çš„userIDï¼Œè¿™ä¸ªidåœ¨ç¼“å­˜å’Œæ•°æ®åº“ä¸­éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å¯ä»¥ç¼“å­˜ä¸€ä¸ªç©ºå€¼ï¼Œä¸‹æ¬¡å†æŸ¥è¯¢ç¼“å­˜ç›´æ¥è¿”å›ç©ºå€¼ã€‚</p>
</li>
<li>
<p>å¸ƒéš†è¿‡æ»¤å™¨</p>
<p>é€šè¿‡ bloom filter ç®—æ³•æ¥å­˜å‚¨åˆæ³• Keyï¼Œå¾—ç›Šäºè¯¥ç®—æ³•è¶…é«˜çš„å‹ç¼©ç‡ï¼Œåªéœ€å æœ‰æå°çš„ç©ºé—´å°±èƒ½å­˜å‚¨å¤§é‡ key å€¼ã€‚</p>
</li>
</ol>
<p><strong>å¦‚ä½•é¿å…ç¼“å­˜é›ªå´©</strong></p>
<ol>
<li>
<p>ç¼“å­˜ç©ºå€¼</p>
<p>å°†ç¼“å­˜å¤±æ•ˆæ—¶é—´åˆ†æ•£å¼€ï¼Œæ¯”å¦‚åœ¨åŸæœ‰çš„å¤±æ•ˆæ—¶é—´åŸºç¡€ä¸Šå¢åŠ ä¸€ä¸ªéšæœºå€¼ï¼Œä¾‹å¦‚ä¸åŒKeyè¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥è®¾ç½®ä¸º10åˆ†1ç§’è¿‡æœŸï¼Œ10åˆ†23ç§’è¿‡æœŸï¼Œ10åˆ†8ç§’è¿‡æœŸã€‚å•ä½ç§’éƒ¨åˆ†å°±æ˜¯éšæœºæ—¶é—´ï¼Œè¿™æ ·è¿‡æœŸæ—¶é—´å°±åˆ†æ•£äº†ã€‚</p>
<p>å¯¹äºçƒ­ç‚¹æ•°æ®ï¼Œè¿‡æœŸæ—¶é—´å°½é‡è®¾ç½®å¾—é•¿ä¸€äº›ï¼Œå†·é—¨çš„æ•°æ®å¯ä»¥ç›¸å¯¹è®¾ç½®è¿‡æœŸæ—¶é—´çŸ­ä¸€äº›ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ç¼“å­˜é›†ç¾¤ï¼Œé¿å…å•æœºå®•æœºé€ æˆçš„ç¼“å­˜é›ªå´©ã€‚</p>
</li>
</ol>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Go å·¥ç¨‹è¿›é˜¶</title>
    <url>/2023/01/26/golang-day2/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7193685237723824187" >golangå·¥ç¨‹è¿›é˜¶ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹golangå·¥ç¨‹å¼€å‘çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="è¯­è¨€è¿›é˜¶"><a class="markdownIt-Anchor" href="#è¯­è¨€è¿›é˜¶"></a> è¯­è¨€è¿›é˜¶</h2>
<h3 id="1å¹¶å‘-vs-å¹¶è¡Œ"><a class="markdownIt-Anchor" href="#1å¹¶å‘-vs-å¹¶è¡Œ"></a> 1.å¹¶å‘ VS å¹¶è¡Œ</h3>
<ul>
<li>å¹¶å‘ï¼šå¤šçº¿ç¨‹ç¨‹åºåœ¨ä¸€ä¸ªæ ¸çš„CPUä¸Šè¿è¡Œ</li>
<li>å¹¶è¡Œï¼šå¤šçº¿ç¨‹ç¨‹åºåœ¨å¤šä¸ªæ ¸çš„CPUä¸Šè¿è¡Œ</li>
</ul>
<p>goè¯­è¨€å¯ä»¥å……åˆ†å‘æŒ¥å¤šæ ¸ä¼˜åŠ¿ï¼Œé«˜æ•ˆè¿è¡Œ</p>
<h4 id="11-goroutine"><a class="markdownIt-Anchor" href="#11-goroutine"></a> 1.1 Goroutine</h4>
<ul>
<li>çº¿ç¨‹ï¼šç”¨æˆ·æ€ï¼Œè½»é‡çº§çº¿ç¨‹ï¼Œæ ˆMBçº§åˆ«</li>
<li>åç¨‹ï¼šå†…æ ¸æ€ï¼Œçº¿ç¨‹è·‘å¤šä¸ªåç¨‹ï¼Œæ ˆKBçº§åˆ«</li>
</ul>
<p><strong>å…³äºç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åŒºåˆ«</strong></p>
<p>ç”¨æˆ·æ€å’Œå†…æ ¸æ€æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸¤ç§è¿è¡Œçº§åˆ«ã€‚</p>
<p>å½“ç¨‹åºè¿è¡Œåœ¨3çº§ç‰¹æƒçº§ä¸Šæ—¶ï¼Œå°±å¯ä»¥ç§°ä¹‹ä¸ºè¿è¡Œåœ¨ç”¨æˆ·æ€ï¼Œè¿™æ˜¯æœ€ä½ç‰¹æƒçº§ï¼Œæ˜¯æ™®é€šç”¨æˆ·è¿›ç¨‹è¿è¡Œçš„ç‰¹æƒçº§ï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·ç›´æ¥é¢å¯¹çš„ç¨‹åºéƒ½æ˜¯è¿è¡Œåœ¨ç”¨æˆ·æ€ã€‚</p>
<p>å½“ç¨‹åºè¿è¡Œåœ¨0çº§ç‰¹æƒçº§ä¸Šæ—¶ï¼Œå°±å¯ä»¥ç§°ä¹‹ä¸ºè¿è¡Œåœ¨å†…æ ¸æ€ã€‚</p>
<p>è¿è¡Œåœ¨ç”¨æˆ·æ€ä¸‹çš„ç¨‹åºä¸èƒ½ç›´æ¥è®¿é—®æ“ä½œç³»ç»Ÿå†…æ ¸æ•°æ®ç»“æ„å’Œç¨‹åºã€‚ç”¨æˆ·æ€ä¸‹çš„ç¨‹åºåœ¨å…¶éœ€è¦æ“ä½œç³»ç»Ÿå¸®åŠ©å®ŒæˆæŸäº›å®ƒæ²¡æœ‰æƒé™å’Œèƒ½åŠ›å®Œæˆçš„å·¥ä½œæ—¶å°±ä¼šåˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œæ¯”å¦‚æ“ä½œç¡¬ä»¶ã€‚</p>
<p>è¿™ä¸¤ç§çŠ¶æ€çš„ä¸»è¦å·®åˆ«æ˜¯</p>
<ul>
<li>å¤„äºç”¨æˆ·æ€æ‰§è¡Œæ—¶ï¼Œè¿›ç¨‹æ‰€èƒ½è®¿é—®çš„å†…å­˜ç©ºé—´å’Œå¯¹è±¡å—åˆ°é™åˆ¶ï¼Œå…¶å¤„äºå ç”¨çš„å¤„ç†å™¨æ˜¯å¯è¢«æŠ¢å çš„</li>
<li>å¤„äºå†…æ ¸æ€æ‰§è¡Œæ—¶ï¼Œèƒ½å¤Ÿè®¿é—®ä½¿ç”¨çš„å†…å­˜ç©ºé—´å’Œå¯¹è±¡ï¼Œä¸”æ‰€å æœ‰çš„å¤„ç†å™¨æ˜¯ä¸å…è®¸è¢«æŠ¢å çš„</li>
</ul>
<p><strong>å¿«é€Ÿæ‰“å°</strong></p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hello</span><span class="params">(i <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="built_in">println</span>(<span class="string">&quot;hello goroutine: &quot;</span> + fmt.Sprint(i))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HelloGoRoutine</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(j <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">            hello(j)</span><br><span class="line">        &#125;(i)</span><br><span class="line">    &#125;</span><br><span class="line">    time.Sleep(time.Second)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="12-csp"><a class="markdownIt-Anchor" href="#12-csp"></a> 1.2 CSP</h4>
<p>CSP(Communicating Sequential Processes)æ˜¯ä¸€ç§å¹¶å‘æ¨¡å‹ã€‚åœ¨goè¯­è¨€ä¸­æå€¡é€šè¿‡é€šä¿¡å…±äº«å†…å­˜è€Œä¸æ˜¯é€šè¿‡å…±äº«å†…å­˜è€Œå®ç°é€šä¿¡ï¼ˆåƒJavaã€C++ã€Pythonç­‰éƒ½æ˜¯é€šè¿‡å…±äº«å†…å­˜æ¥å®ç°é€šä¿¡ï¼‰ï¼Œgoè¯­è¨€é€šè¿‡goroutineå’Œchannelå®ç°é€šè¿‡é€šä¿¡å…±äº«å†…å­˜ï¼Œè¿™æ˜¯goè¯­è¨€çš„ç‹¬ç‰¹ä¼˜åŠ¿ã€‚</p>
<h4 id="13-channel"><a class="markdownIt-Anchor" href="#13-channel"></a> 1.3 Channel</h4>
<p>é€šé“channelæ˜¯ç”¨æ¥ä¼ é€’æ•°æ®çš„ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚é€šé“å¯ç”¨äºä¸¤ä¸ªgoroutineä¹‹é—´é€šè¿‡ä¼ é€’ä¸€ä¸ªæŒ‡å®šç±»å‹çš„å€¼æ¥åŒæ­¥è¿è¡Œå’Œé€šè®¯ã€‚æ“ä½œç¬¦&lt;-ç”¨äºæŒ‡å®šé€šé“çš„æ–¹å‘ï¼Œå‘é€æˆ–æ¥æ”¶ã€‚å¦‚æœæœªæŒ‡å®šæ–¹å‘ï¼Œåˆ™ä¸ºåŒå‘é€šé“ã€‚</p>
<p>åˆ›å»ºé€šé“ï¼Œé€šé“åˆ†ä¸ºæ— ç¼“å†²é€šé“å’Œæœ‰ç¼“å†²é€šé“ï¼Œåœ¨åˆ›å»ºæ—¶æŒ‡å®šå‚æ•°å³å¯ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>) <span class="comment">//æ— ç¼“å†²é€šé“</span></span><br><span class="line">buf := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">100</span>) <span class="comment">//æœ‰ç¼“å†²é€šé“,ç¼“å†²åŒºå¤§å°ä¸º100</span></span><br></pre></td></tr></table></figure></div>
<p>é€šé“çš„åŸºæœ¬ä½¿ç”¨</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">ch &lt;- v    <span class="comment">//æŠŠvå‘é€åˆ°é€šé“ch</span></span><br><span class="line">v := &lt;- ch <span class="comment">//ä»é€šé“chæ¥æ”¶æ•°æ®,å¹¶èµ‹å€¼ç»™v</span></span><br></pre></td></tr></table></figure></div>
<p>ä¸€ä¸ªç¤ºä¾‹</p>
<ul>
<li>
<p>ä¸€ä¸ªå­åç¨‹å‘é€0~9æ•°å­—</p>
</li>
<li>
<p>å¦ä¸€ä¸ªå­åç¨‹è®¡ç®—è¾“å…¥æ•°å­—çš„å¹³æ–¹</p>
</li>
<li>
<p>ä¸»åç¨‹è¾“å‡ºç»“æœ</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">CalSqrt</span><span class="params">()</span></span> &#123;</span><br><span class="line">    src := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    dest := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">defer</span> <span class="built_in">close</span>(src)</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">            src &lt;- i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">defer</span> <span class="built_in">close</span>(dest)</span><br><span class="line">        <span class="keyword">for</span> i := <span class="keyword">range</span> src &#123;</span><br><span class="line">            dest &lt;- i * i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> dest &#123;</span><br><span class="line">        <span class="built_in">println</span>(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<h4 id="14-å¹¶å‘å®‰å…¨-lock"><a class="markdownIt-Anchor" href="#14-å¹¶å‘å®‰å…¨-lock"></a> 1.4 å¹¶å‘å®‰å…¨ Lock</h4>
<p>å¯¹å˜é‡æ‰§è¡Œå¤§é‡é‡å¤æ“ä½œï¼Œä½¿ç”¨å¤šä¸ªåç¨‹å¹¶å‘æ‰§è¡Œï¼Œåˆ©ç”¨é”æ¥ä¿è¯æœ€ç»ˆç»“æœçš„æ­£ç¡®æ€§</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	x    <span class="type">int64</span></span><br><span class="line">    lock sync.Mutex</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addWithLock</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2000</span>; i++ &#123;</span><br><span class="line">        lock.Lock()</span><br><span class="line">        x += <span class="number">1</span></span><br><span class="line">        lock.Unlock()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">()</span></span> &#123;</span><br><span class="line">    x = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> addWithLock()</span><br><span class="line">    &#125;</span><br><span class="line">    time.Sleep(time.Second)</span><br><span class="line">    <span class="built_in">println</span>(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="15-waitgroup"><a class="markdownIt-Anchor" href="#15-waitgroup"></a> 1.5 WaitGroup</h4>
<p>waitgroupæ˜¯goè¯­è¨€åº”ç”¨å¼€å‘è¿‡ç¨‹ä¸­ç»å¸¸ä½¿ç”¨çš„å¹¶å‘æ§åˆ¶æŠ€æœ¯ã€‚å…¶å†…éƒ¨é€šè¿‡ä¸€ä¸ªè®¡æ•°å™¨æ¥ç»Ÿè®¡åç¨‹ï¼Œè¿™ä¸ªè®¡æ•°å™¨çš„å€¼éœ€è¦åœ¨å¯åŠ¨åç¨‹ä¹‹å‰ç”¨Addæ–¹æ³•åˆå§‹åŒ–ï¼Œåœ¨ç»“æŸä¸€ä¸ªåç¨‹çš„æ—¶å€™ä½¿ç”¨Doneæ–¹æ³•å°†è®¡æ•°å™¨-1</p>
<p>å½“å¼€å¯ä¸€ä¸ªåç¨‹æ—¶ï¼Œè®¡æ•°å™¨+1ï¼›å½“ä¸€ä¸ªåç¨‹æ‰§è¡Œå®Œæ—¶ï¼Œè®¡æ•°å™¨-1ï¼›ä¸»çº¿ç¨‹ä¼šä¸€ç›´é˜»å¡ç›´åˆ°è®¡æ•°å™¨ä¸º0ã€‚</p>
<p>æ”¹é€ å‰é¢çš„åç¨‹å¿«é€Ÿæ‰“å°çš„ç¤ºä¾‹ï¼Œä½¿ç”¨waitgroupå®ç°åç¨‹çš„åŒæ­¥é˜»å¡ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GoWait</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">    wg.Add(<span class="number">5</span>)  <span class="comment">//å…ˆåˆå§‹åŒ–è®¡æ•°å™¨å†å¯åŠ¨åç¨‹</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(j <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">            <span class="keyword">defer</span> wg.Done()</span><br><span class="line">            hello(j) <span class="comment">//helloå‡½æ•°å‚è€ƒå‰é¢çš„ä¾‹å­</span></span><br><span class="line">        &#125;(i)</span><br><span class="line">    &#125;</span><br><span class="line">    wg.Wait()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h2 id="ä¾èµ–ç®¡ç†"><a class="markdownIt-Anchor" href="#ä¾èµ–ç®¡ç†"></a> ä¾èµ–ç®¡ç†</h2>
<p>goè¯­è¨€ä¾èµ–ç®¡ç†çš„æ¼”è¿›è·¯çº¿å’Œgo moduleå®è·µã€‚</p>
<p>ä¾èµ–æŒ‡å„ç§å¼€å‘åŒ…æˆ–è€…åº“ï¼Œåˆ©ç”¨å·²ç»å°è£…å¥½çš„ã€ç»è¿‡éªŒè¯çš„å¼€å‘ç»„ä»¶æˆ–å·¥å…·ï¼Œèƒ½å¤Ÿå¤§å¤§æå‡å¼€å‘æ•ˆç‡ã€‚</p>
<p>å¯¹äºç®€å•çš„ç¨‹åºæ¥è¯´ï¼Œåªéœ€è¦ä¾èµ–åŸç”Ÿçš„SDKå³å¯ã€‚å¯¹äºå®é™…å·¥ç¨‹æ¥è¯´ï¼Œæ›´å¤šçš„æ˜¯å…³æ³¨ä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œæ¶‰åŠæ¡†æ¶ã€æ—¥å¿—ã€é©±åŠ¨driverä»¥åŠcollectionç­‰ä¸€ç³»åˆ—ä¾èµ–éƒ½ä¼šé€šè¿‡sdkçš„æ–¹å¼å¼•å…¥ï¼Œå› æ­¤å°±éœ€è¦å¯¹ä¾èµ–åŒ…è¿›è¡Œç®¡ç†ã€‚</p>
<p>goä¾èµ–ç®¡ç†çš„æ¼”è¿›ä¸»è¦ç»å†äº†3ä¸ªé˜¶æ®µï¼Œä»GOPATHåˆ°Go Vendorå†åˆ°ç›®å‰è¢«å¹¿æ³›åº”ç”¨çš„Go Moduleã€‚ä¸»è¦å›´ç»•å®ç°ä¸¤ä¸ªç›®æ ‡æ¥è¿­ä»£å‘å±•</p>
<ul>
<li>ä¸åŒç¯å¢ƒï¼ˆé¡¹ç›®ï¼‰ä¾èµ–çš„ç‰ˆæœ¬ä¸åŒ</li>
<li>æ§åˆ¶ä¾èµ–åº“çš„ç‰ˆæœ¬</li>
</ul>
<h3 id="gopath"><a class="markdownIt-Anchor" href="#gopath"></a> GOPATH</h3>
<p>GOPATHæ˜¯goè¯­è¨€æ”¯æŒçš„ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œæ˜¯goé¡¹ç›®çš„å·¥ä½œåŒºã€‚æ ¹ç›®å½•æœ‰ä»¥ä¸‹ç»“æ„</p>
<ul>
<li>srcï¼šå­˜æ”¾goé¡¹ç›®çš„æºç </li>
<li>pkgï¼šå­˜æ”¾ç¼–è¯‘çš„ä¸­é—´äº§ç‰©ï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦</li>
<li>binï¼šå­˜åœ¨goé¡¹ç›®ç¼–è¯‘ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶</li>
</ul>
<p><strong>GOPATHçš„å¼Šç«¯</strong></p>
<p>GOPATHæ— æ³•å®ç°packageçš„å¤šç‰ˆæœ¬æ§åˆ¶ã€‚åŒä¸€ä¸ªpkgï¼Œå­˜åœ¨ä¸¤ä¸ªç‰ˆæœ¬ï¼Œæœ‰ä¸¤ä¸ªé¡¹ç›®ä¾èµ–ä¸åŒçš„ç‰ˆæœ¬ï¼Œä½†æ˜¯srcä¸‹åªèƒ½å­˜æ”¾ä¸€ä¸ªç‰ˆæœ¬ï¼Œé‚£ä¹ˆå°±æ— æ³•ä¿è¯ä¸¤ä¸ªç‰ˆæœ¬çš„é¡¹ç›®éƒ½èƒ½é€šè¿‡ç¼–è¯‘ã€‚å°±æ˜¯è¯´åœ¨GOPATHç®¡ç†æ¨¡å¼ä¸‹ï¼Œå¦‚æœå¤šä¸ªé¡¹ç›®ä¾èµ–åŒä¸€ä¸ªåº“ï¼Œåˆ™è¯¥åº“åªèƒ½æ˜¯åŒä¸€ä»½ä»£ç ï¼Œæ— æ³•å®ç°å¤šä¸ªé¡¹ç›®ä¾èµ–åŒä¸€ä¸ªåº“çš„ä¸åŒç‰ˆæœ¬ã€‚äºæ˜¯Go Vendoråº”è¿è€Œç”Ÿã€‚</p>
<h3 id="go-vendor"><a class="markdownIt-Anchor" href="#go-vendor"></a> Go Vendor</h3>
<p>Go Vendoråœ¨GOPATHçš„åŸºç¡€ä¸Šå¢åŠ äº†vendorç›®å½•ï¼Œç”¨äºå­˜æ”¾å½“å‰é¡¹ç›®ä¾èµ–çš„å‰¯æœ¬ã€‚åœ¨Vendoræœºåˆ¶ä¸‹ï¼Œå¦‚æœå½“å‰ç›®å½•å­˜åœ¨vendorç›®å½•ï¼Œåˆ™ä¼šä¼˜å…ˆä½¿ç”¨è¯¥ç›®å½•ä¸‹çš„ä¾èµ–ï¼Œå¦‚æœä¾èµ–ä¸å­˜åœ¨ï¼Œå†ä»GOPATHä¸­å¯»æ‰¾ã€‚è¿™æ ·ï¼Œé€šè¿‡æ¯ä¸ªé¡¹ç›®å¼•å…¥ä¸€ä»½ä¾èµ–å‰¯æœ¬ï¼Œè§£å†³äº†å¤šä¸ªé¡¹ç›®éœ€è¦åŒä¸€ä¸ªpackageä¾èµ–çš„å†²çªé—®é¢˜ã€‚ä½†æ˜¯vendoræ— æ³•å¾ˆå¥½è§£å†³ä¾èµ–åŒ…ç‰ˆæœ¬å˜åŠ¨é—®é¢˜å’Œä¸€ä¸ªé¡¹ç›®ä¾èµ–åŒä¸€ä¸ªåŒ…çš„ä¸åŒç‰ˆæœ¬çš„é—®é¢˜ã€‚å®è´¨ä¸Šï¼Œvendorå¹¶ä¸èƒ½å¾ˆæ¸…æ™°åœ°æ ‡è¯†ä¾èµ–çš„ç‰ˆæœ¬æ¦‚å¿µï¼Œæ— æ³•æ§åˆ¶ä¾èµ–çš„ç‰ˆæœ¬ï¼Œæ›´æ–°é¡¹ç›®åˆå¯èƒ½å¯¼è‡´ä¾èµ–å†²çªã€ç¼–è¯‘å‡ºé”™ã€‚äºæ˜¯åˆè¯ç”Ÿäº†Go Moduleã€‚</p>
<h3 id="go-module"><a class="markdownIt-Anchor" href="#go-module"></a> Go Module</h3>
<p>Go Moduleæ˜¯goè¯­è¨€å®˜æ–¹æ¨å‡ºçš„ä¾èµ–ç®¡ç†ç³»ç»Ÿï¼Œè§£å†³äº†ä¹‹å‰ä¾èµ–ç®¡ç†ç³»ç»Ÿå­˜åœ¨çš„è¯¸å¤šé—®é¢˜ã€‚Go Moduleåœ¨goè¯­è¨€1.11ç‰ˆæœ¬å¼€å§‹å¼•å…¥ï¼Œåœ¨goè¯­è¨€1.16ç‰ˆæœ¬é»˜è®¤å¼€å¯ã€‚ä¹ æƒ¯ä¸Šå°†Go Moduleç§°ä¸ºgo modã€‚</p>
<ul>
<li>é€šè¿‡go.modæ–‡ä»¶ç®¡ç†ä¾èµ–åŒ…ç‰ˆæœ¬</li>
<li>é€šè¿‡go get/go modæŒ‡ä»¤å·¥å…·ç®¡ç†ä¾èµ–åŒ…</li>
</ul>
<p>go modæœ€ç»ˆç›®æ ‡æ˜¯å®šä¹‰ç‰ˆæœ¬è§„åˆ™å’Œç®¡ç†é¡¹ç›®ä¾èµ–å…³ç³»ã€‚ï¼ˆç›¸å½“äºJavaä¸­çš„Mavenï¼‰</p>
<h3 id="ä¾èµ–ç®¡ç†ä¸‰è¦ç´ "><a class="markdownIt-Anchor" href="#ä¾èµ–ç®¡ç†ä¸‰è¦ç´ "></a> ä¾èµ–ç®¡ç†ä¸‰è¦ç´ </h3>
<table>
<thead>
<tr>
<th style="text-align:center">è¦ç´ </th>
<th style="text-align:center">å¯¹åº”å·¥å…·</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">é…ç½®æ–‡ä»¶ï¼Œæè¿°ä¾èµ–</td>
<td style="text-align:center">go.mod</td>
</tr>
<tr>
<td style="text-align:center">ä¸­å¿ƒä»“åº“ç®¡ç†ä¾èµ–åº“</td>
<td style="text-align:center">Proxy</td>
</tr>
<tr>
<td style="text-align:center">æœ¬åœ°å·¥å…·</td>
<td style="text-align:center">go get / go mod</td>
</tr>
</tbody>
</table>
<h3 id="ä¾èµ–é…ç½®go-mod"><a class="markdownIt-Anchor" href="#ä¾èµ–é…ç½®go-mod"></a> ä¾èµ–é…ç½®â€”â€”go mod</h3>
<p>ä½¿ç”¨æ¨¡å—è·¯å¾„æ¥æ ‡è¯†ä¸€ä¸ªæ¨¡å—ï¼Œä»æ¨¡å—è·¯å¾„æ‰¾åˆ°è¯¥æ¨¡å—ï¼Œå¦‚æœæ˜¯githubå‰ç¼€åˆ™è¡¨ç¤ºå¯ä»¥ä»githubä»“åº“ä¸­æ‰¾åˆ°è¯¥æ¨¡å—ï¼Œä¾èµ–åŒ…çš„æºä»£ç ç”±githubæ‰˜ç®¡ï¼Œå¦‚æœé¡¹ç›®çš„å­åŒ…éœ€è¦è¢«å•ç‹¬å¼•ç”¨ï¼Œåˆ™é€šè¿‡å•ç‹¬çš„init go.modæ–‡ä»¶è¿›è¡Œç®¡ç†ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">module example/project/app <span class="comment">//ä¾èµ–ç®¡ç†åŸºæœ¬å•å…ƒ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> <span class="number">1.16</span> <span class="comment">//åŸç”Ÿsdkç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line">require (</span><br><span class="line">    <span class="comment">// å•å…ƒä¾èµ–</span></span><br><span class="line">    <span class="comment">// ä¾èµ–æ ‡è¯†:æ¨¡å—è·¯å¾„+ç‰ˆæœ¬</span></span><br><span class="line">	example/lib1 v1<span class="number">.0</span><span class="number">.2</span></span><br><span class="line">    example/lib2 v1<span class="number">.0</span><span class="number">.0</span></span><br><span class="line">    ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>
<h3 id="ä¾èµ–é…ç½®version"><a class="markdownIt-Anchor" href="#ä¾èµ–é…ç½®version"></a> ä¾èµ–é…ç½®â€”â€”version</h3>
<p>GOPATHå’ŒGo Vendoréƒ½æ˜¯æºç å‰¯æœ¬å½¢å¼çš„ä¾èµ–ï¼Œæ²¡æœ‰ç‰ˆæœ¬è§„åˆ™çš„æ¦‚å¿µï¼Œè€Œgo modä¸ºäº†æ–¹ä¾¿ç®¡ç†å®šä¹‰äº†ç‰ˆæœ¬è§„åˆ™ï¼Œåˆ†ä¸ºè¯­ä¹‰åŒ–ç‰ˆæœ¬å’ŒåŸºäºcommitçš„ä¼ªç‰ˆæœ¬ã€‚</p>
<ul>
<li>
<p>è¯­ä¹‰åŒ–ç‰ˆæœ¬æœ‰ä¸‰ä¸ªéƒ¨åˆ†<code>$&#123;MAJOR&#125;.$&#123;MINOR&#125;.$&#123;PATCH&#125;</code>ï¼Œå¦‚v1.3.0ï¼Œv2.3.0</p>
<p>ä¸åŒçš„MAJORç‰ˆæœ¬è¡¨ç¤ºæ˜¯ä¸å…¼å®¹çš„APIï¼Œæ‰€ä»¥å³ä½¿æ˜¯åŒä¸€ä¸ªåº“ï¼ŒMAJORç‰ˆæœ¬ä¸åŒä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯ä¸åŒçš„æ¨¡å—ã€‚</p>
<p>MINORç‰ˆæœ¬é€šå¸¸æ˜¯æ–°å¢å‡½æ•°æˆ–åŠŸèƒ½ï¼Œå‘åå…¼å®¹ã€‚</p>
<p>PATCHç‰ˆæœ¬ä¸€èˆ¬æ˜¯ä¿®å¤bugã€‚</p>
</li>
<li>
<p>åŸºäºcommitçš„ä¼ªç‰ˆæœ¬ä¹Ÿæœ‰ä¸‰ä¸ªéƒ¨åˆ†<code>vX.0.0-yyyymmddhhmmss-abcdefgh1234</code></p>
<p>åŸºç¡€ç‰ˆæœ¬å‰ç¼€å’Œè¯­ä¹‰åŒ–ç‰ˆæœ¬æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>æ—¶é—´æˆ³ï¼Œä¹Ÿå°±æ˜¯æäº¤commitçš„æ—¶é—´ã€‚</p>
<p>æœ€åæ˜¯æ ¡éªŒç ï¼ŒåŒ…å«12ä½çš„å“ˆå¸Œå‰ç¼€ã€‚æ¯æ¬¡commitågoéƒ½ä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªä¼ªç‰ˆæœ¬å·ã€‚</p>
</li>
</ul>
<h3 id="ä¾èµ–é…ç½®indirect"><a class="markdownIt-Anchor" href="#ä¾èµ–é…ç½®indirect"></a> ä¾èµ–é…ç½®â€”â€”indirect</h3>
<p>ä¾èµ–å•å…ƒä¸­çš„ç‰¹æ®Šæ ‡è¯†ç¬¦ï¼Œindirectåç¼€ï¼Œè¡¨ç¤ºgo.modå¯¹åº”çš„å½“å‰æ¨¡å—æ²¡æœ‰ç›´æ¥å¯¼å…¥è¯¥ä¾èµ–æ¨¡å—çš„åŒ…ï¼Œä¹Ÿå°±æ˜¯é—´æ¥ä¾èµ–ã€‚</p>
<h3 id="ä¾èµ–é…ç½®incompatible"><a class="markdownIt-Anchor" href="#ä¾èµ–é…ç½®incompatible"></a> ä¾èµ–é…ç½®â€”â€”incompatible</h3>
<p>åœ¨ä¸»ç‰ˆæœ¬ä¸ºv2åŠä»¥ä¸Šçš„æ¨¡å—åé¢ä¼šæœ‰+incompatibleåç¼€ï¼Œè¿™è®©go modèƒ½å¤ŸæŒ‰ç…§ä¸åŒçš„æ¨¡å—æ¥å¤„ç†åŒä¸€ä¸ªé¡¹ç›®ä¸åŒä¸»ç‰ˆæœ¬çš„ä¾èµ–ã€‚ç”±äºgo modæ˜¯åœ¨go1.11ç‰ˆæœ¬æ‰å¼€å§‹å¼•å…¥ï¼Œåœ¨è¿™ä¸ªæ›´æ–°ä¹‹å‰å·²ç»æœ‰ä¸€äº›ä»“åº“æ‰“ä¸Šäº†v2æˆ–è€…æ›´é«˜çš„ç‰ˆæœ¬tagã€‚ä¸ºäº†å…¼å®¹è¿™éƒ¨åˆ†ä»“åº“ï¼Œå¯¹äºæ²¡æœ‰go.modæ–‡ä»¶ä¸”MAJORä¸»ç‰ˆæœ¬åœ¨v2åŠä»¥ä¸Šçš„ä¾èµ–ï¼Œä¼šåœ¨ç‰ˆæœ¬å·åé¢åŠ ä¸Š<code>+incompatible</code>çš„åç¼€ï¼Œè¡¨ç¤ºå¯èƒ½å­˜åœ¨ä¸å…¼å®¹çš„æºä»£ç ã€‚</p>
<h3 id="ä¾èµ–é…ç½®ä¾èµ–å›¾"><a class="markdownIt-Anchor" href="#ä¾èµ–é…ç½®ä¾èµ–å›¾"></a> ä¾èµ–é…ç½®â€”â€”ä¾èµ–å›¾</h3>
<p>å¦‚æœä¸€ä¸ªä¸»é¡¹ç›®ä¾èµ–Aã€Bä¸¤ä¸ªé¡¹ç›®ï¼ŒAã€Båˆ†åˆ«ä¾èµ–Cé¡¹ç›®v1.3ã€v1.4çš„ä¸¤ä¸ªç‰ˆæœ¬ï¼Œåˆ™æœ€ç»ˆç¼–è¯‘æ—¶æ‰€ä½¿ç”¨çš„Cé¡¹ç›®ç‰ˆæœ¬ä¸ºæœ€ä½çš„å…¼å®¹ç‰ˆæœ¬ï¼Œå³v1.4ã€‚</p>
<h3 id="ä¾èµ–åˆ†å‘å›æº"><a class="markdownIt-Anchor" href="#ä¾èµ–åˆ†å‘å›æº"></a> ä¾èµ–åˆ†å‘â€”â€”å›æº</h3>
<p>ä¾èµ–åˆ†å‘ï¼Œä¹Ÿå°±æ˜¯æŒ‡go modä»å“ªé‡Œä¸‹è½½ï¼Œå¦‚ä½•ä¸‹è½½ã€‚</p>
<p>Go Modulesç³»ç»Ÿä¸­å®šä¹‰çš„ä¾èµ–æœ€ç»ˆå¯ä»¥å¯¹åº”åˆ°å¤šç‰ˆæœ¬ä»£ç ç®¡ç†ç³»ç»Ÿä¸­æŸä¸€é¡¹ç›®çš„ç‰¹å®šæäº¤æˆ–ç‰ˆæœ¬ï¼Œè¿™æ ·çš„è¯ï¼Œå¯¹äºgo.modä¸­å®šä¹‰çš„ä¾èµ–ï¼Œåˆ™ç›´æ¥å¯ä»¥ä»å¯¹åº”ä»“åº“ä¸­ä¸‹è½½æŒ‡å®šè½¯ä»¶ä¾èµ–ï¼Œä»è€Œå®Œæˆä¾èµ–åˆ†å‘ã€‚</p>
<p>ä½†ç›´æ¥ä½¿ç”¨ç‰ˆæœ¬ç®¡ç†ä»“åº“ä¸‹è½½ä¾èµ–ï¼Œå­˜åœ¨è¯¸å¤šé—®é¢˜</p>
<ul>
<li>æ— æ³•ä¿è¯æ„å»ºç¡®å®šæ€§ï¼Œè½¯ä»¶ä½œè€…å¯ä»¥ç›´æ¥åœ¨ä»£ç å¹³å° å¢åŠ /ä¿®æ”¹/åˆ é™¤ è½¯ä»¶ç‰ˆæœ¬ï¼Œå¯¼è‡´ä¸‹æ¬¡æ„å»ºæ—¶ä½¿ç”¨å¦å¤–ç‰ˆæœ¬çš„ä¾èµ–æˆ–è€…æ‰¾ä¸åˆ°ä¾èµ–ç‰ˆæœ¬ã€‚</li>
<li>æ— æ³•ä¿è¯ä¾èµ–å¯ç”¨æ€§ï¼Œä¾èµ–è½¯ä»¶ä½œè€…å¯ä»¥ç›´æ¥åœ¨ä»£ç å¹³å°åˆ é™¤è½¯ä»¶ï¼Œå¯¼è‡´ä¾èµ–ä¸å¯ç”¨ã€‚</li>
<li>å¢åŠ ç¬¬ä¸‰æ–¹å‹åŠ›ï¼Œæ¯æ¬¡ä»ç¬¬ä¸‰æ–¹ä»£ç æ‰˜ç®¡å¹³å°ä¸‹è½½ä¾èµ–æ—¶éƒ½ä¼šå¢åŠ ç¬¬ä¸‰æ–¹ä»£ç æ‰˜ç®¡å¹³å°çš„å‹åŠ›ã€‚</li>
</ul>
<h3 id="ä¾èµ–åˆ†å‘proxy"><a class="markdownIt-Anchor" href="#ä¾èµ–åˆ†å‘proxy"></a> ä¾èµ–åˆ†å‘â€”â€”Proxy</h3>
<p>Go Proxyå°±æ˜¯è§£å†³ä¸Šè¿°çš„ä¾èµ–åˆ†å‘é—®é¢˜ã€‚Go Proxyæ˜¯ä¸€ä¸ªæœåŠ¡ç«™ç‚¹ï¼Œå®ƒä¼šç¼“å­˜æºç«™ä¸­çš„è½¯ä»¶å†…å®¹ï¼Œç¼“å­˜çš„è½¯ä»¶ç‰ˆæœ¬ä¸ä¼šæ”¹å˜ï¼Œå¹¶ä¸”åœ¨æºç«™è½¯ä»¶åˆ é™¤ä¹‹åä¾ç„¶èƒ½å¤Ÿä¸‹è½½ï¼Œä»è€Œå®ç°äº†immutabilityï¼ˆä¸å˜æ€§ï¼‰å’Œavailableï¼ˆå¯ç”¨çš„ï¼‰çš„ä¾èµ–åˆ†å‘ã€‚</p>
<p>ä½¿ç”¨Go Proxyä¹‹åï¼Œæ„å»ºæ—¶ä¼šç›´æ¥ä»Go Proxyç«™ç‚¹æ‹‰å–ä¾èµ–ã€‚</p>
<h3 id="ä¾èµ–åˆ†å‘å˜é‡-goproxy"><a class="markdownIt-Anchor" href="#ä¾èµ–åˆ†å‘å˜é‡-goproxy"></a> ä¾èµ–åˆ†å‘â€”â€”å˜é‡ GOPROXY</h3>
<p>Go Modulesé€šè¿‡GOPROXYç¯å¢ƒå˜é‡ä½¿ç”¨Go ProxyæœåŠ¡ã€‚GOPROXYæ˜¯ä¸€ä¸ªGo Proxyç«™ç‚¹URLåˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨&quot;direct&quot;è¡¨ç¤ºæºç«™ã€‚</p>
<p>ç¤ºä¾‹é…ç½®</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">GOPROXY=<span class="string">&quot;https://proxy1.cn, https://proxy2.cn, direct&quot;</span></span><br></pre></td></tr></table></figure></div>
<p>å¯¹äºä»¥ä¸Šé…ç½®ï¼Œæ•´ä½“çš„ä¾èµ–å¯»å€è·¯å¾„ä¼šå…ˆä»proxy1ä¸‹è½½ï¼Œå¦‚æœproxy1ä¸å­˜åœ¨ï¼Œå†ä»proxy2å¯»æ‰¾ï¼Œå¦‚æœproxy2ä¸å­˜åœ¨ï¼Œåˆ™å›æºåˆ°æºç«™ç›´æ¥ä¸‹è½½ä¾èµ–ï¼Œå¹¶ç¼“å­˜åˆ°proxyç«™ç‚¹ä¸­ã€‚</p>
<h3 id="å·¥å…·go-get"><a class="markdownIt-Anchor" href="#å·¥å…·go-get"></a> å·¥å…·â€”â€”go get</h3>
<p>go getæ˜¯Go Moduleçš„ä¸¤ä¸ªé‡è¦å·¥å…·ä¹‹ä¸€ã€‚</p>
<p>go getä½¿ç”¨å‘½ä»¤</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go get example.org/pkg...</span><br></pre></td></tr></table></figure></div>
<p>ä»¥ä¸Šå‘½ä»¤åé¢æ¥ä¸åŒçš„æŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤å…·æœ‰ä¸åŒçš„ä½œç”¨</p>
<table>
<thead>
<tr>
<th style="text-align:center">æŒ‡ä»¤</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">@update</td>
<td style="text-align:center">é»˜è®¤</td>
</tr>
<tr>
<td style="text-align:center">@none</td>
<td style="text-align:center">åˆ é™¤ä¾èµ–</td>
</tr>
<tr>
<td style="text-align:center">@v1.1.2</td>
<td style="text-align:center">ä¸‹è½½æŒ‡å®štagç‰ˆæœ¬ï¼Œè¯­ä¹‰ç‰ˆæœ¬</td>
</tr>
<tr>
<td style="text-align:center">@23dfdd5</td>
<td style="text-align:center">ç‰¹å®šçš„commit</td>
</tr>
<tr>
<td style="text-align:center">@master</td>
<td style="text-align:center">åˆ†æ”¯çš„æœ€æ–°commit</td>
</tr>
</tbody>
</table>
<h3 id="å·¥å…·go-mod"><a class="markdownIt-Anchor" href="#å·¥å…·go-mod"></a> å·¥å…·â€”â€”go mod</h3>
<p>go modä¹Ÿæ˜¯Go Moduleä¸­çš„é‡è¦å·¥å…·ã€‚</p>
<p>go mod ä½¿ç”¨å‘½ä»¤</p>
<p>åˆå§‹åŒ–ï¼Œåˆ›å»ºgo.modæ–‡ä»¶</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go mod init</span><br></pre></td></tr></table></figure></div>
<p>ä¸‹è½½æ¨¡å—åˆ°æœ¬åœ°ç¼“å­˜</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go mod download</span><br></pre></td></tr></table></figure></div>
<p>å¢åŠ éœ€è¦çš„ä¾èµ–ï¼Œåˆ é™¤ä¸éœ€è¦çš„ä¾èµ–</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go mod tidy</span><br></pre></td></tr></table></figure></div>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå»ºè®®åœ¨å‘ä»“åº“æäº¤ä»£ç ä¹‹å‰æ‰§è¡Œ<code>go mod tidy</code>ï¼Œå¯ä»¥å‡å°‘æ„å»ºæ—¶æ— æ•ˆä¾èµ–åŒ…çš„æ‹‰å–ã€‚</p>
<p><strong>ä½¿ç”¨go modå‰çš„ä¸€äº›æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>è®¾ç½®GO111MODULE=onï¼Œè¡¨ç¤ºåªä½¿ç”¨Go Moduleè€Œä¸ä¼šä½¿ç”¨GOPATHã€‚å…·ä½“é…ç½®å‚è€ƒ<a class="link"   href="https://goproxy.cn/" >ä¸ƒç‰›äº‘ - Goproxy.cn <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li>æ¸…ç©ºIDEä¸­çš„æ‰€æœ‰çš„GOPATHã€‚go modå’ŒGOPATHä¸èƒ½å¹¶å­˜ï¼Œå¼€å¯go modä¹‹åéœ€è¦åœ¨IDEä¸­æŠŠé¡¹ç›®ä»GOPATHç§»é™¤ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºé”™ã€‚</li>
<li>åœ¨é¡¹ç›®ä¸­åˆ›å»ºgo.modæ–‡ä»¶ï¼Œå¦‚æœå·²ç»å­˜åœ¨åˆ™ä¸éœ€è¦é‡æ–°åˆ›å»ºã€‚åˆ›å»ºå®Œgo.modæ–‡ä»¶åå…ˆæ‰§è¡Œ<code>go mod tidy</code>æ¥å¢åŠ é¡¹ç›®å¯åŠ¨æ‰€éœ€çš„æœ€å°ä¾èµ–ã€‚</li>
</ul>
<h2 id="æµ‹è¯•"><a class="markdownIt-Anchor" href="#æµ‹è¯•"></a> æµ‹è¯•</h2>
<p>åœ¨å®é™…å·¥ç¨‹å¼€å‘ä¸­ï¼Œé™¤äº†ä¾èµ–ç®¡ç†ï¼Œè¿˜æœ‰å¦ä¸€ä¸ªé‡è¦æ¦‚å¿µå°±æ˜¯å•å…ƒæµ‹è¯•ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•è§„èŒƒã€Mockæµ‹è¯•ã€åŸºå‡†æµ‹è¯•ã€‚æµ‹è¯•å…³ç³»ç€ç³»ç»Ÿçš„è´¨é‡ï¼Œè´¨é‡å†³å®šçº¿ä¸Šç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜å°±ä¼šå¼•èµ·äº‹æ•…ã€‚æµ‹è¯•å°±æ˜¯ä¸ºäº†é¿å…è¿™äº›äº‹æ•…ã€‚</p>
<p>æµ‹è¯•ä¸€èˆ¬åˆ†ä¸ºå›å½’æµ‹è¯•ï¼Œé›†æˆæµ‹è¯•å’Œå•å…ƒæµ‹è¯•ã€‚å›å½’æµ‹è¯•ä¸€èˆ¬æ˜¯æ‰‹åŠ¨é€šè¿‡ç»ˆç«¯å›å½’ä¸€äº›å›ºå®šçš„ä¸»æµåœºæ™¯ï¼Œé›†æˆæµ‹è¯•æ˜¯å¯¹ç³»ç»ŸåŠŸèƒ½ç»´åº¦åšæµ‹è¯•éªŒè¯ï¼Œè€Œå•å…ƒæµ‹è¯•é˜¶æ®µï¼Œå¼€å‘è€…å¯¹å•ç‹¬çš„å‡½æ•°ã€æ¨¡å—åšåŠŸèƒ½éªŒè¯ï¼Œå±‚çº§è‡³ä¸Šè€Œä¸‹ï¼Œæµ‹è¯•æˆæœ¬é€æ¸é™ä½ï¼Œæµ‹è¯•è¦†ç›–ç‡é€æ­¥ä¸Šå‡ã€‚å› æ­¤å•å…ƒæµ‹è¯•çš„è¦†ç›–ç‡ä¸€å®šç¨‹åº¦ä¸Šå†³å®šäº†ä»£ç çš„è´¨é‡ã€‚</p>
<h3 id="å•å…ƒæµ‹è¯•"><a class="markdownIt-Anchor" href="#å•å…ƒæµ‹è¯•"></a> å•å…ƒæµ‹è¯•</h3>
<p>å•å…ƒæµ‹è¯•ä¸»è¦åŒ…æ‹¬è¾“å…¥ã€æµ‹è¯•å•å…ƒã€è¾“å‡ºï¼Œä»¥åŠæ ¡å¯¹ã€‚å•å…ƒçš„æ¦‚å¿µæ¯”è¾ƒå¹¿æ³›ï¼ŒåŒ…æ‹¬æ¥å£ã€å‡½æ•°ã€æ¨¡å—ç­‰ã€‚æœ€åçš„æ ¡å¯¹ç”¨äºä¿è¯ä»£ç çš„åŠŸèƒ½ç¬¦åˆé¢„æœŸã€‚å•å…ƒæµ‹è¯•ä¸€æ–¹é¢å¯ä»¥ä¿è¯è´¨é‡ï¼Œåœ¨æ•´ä½“è¦†ç›–ç‡è¶³å¤Ÿçš„æƒ…å†µä¸‹ï¼Œä¸€å®šç¨‹åº¦ä¸Šå³ä¿è¯äº†æ–°åŠŸèƒ½æœ¬èº«çš„æ­£ç¡®æ€§ï¼Œåˆä¿æŠ¤äº†åŸæœ‰ä»£ç çš„å®Œæ•´æ€§ï¼›å¦ä¸€æ–¹é¢å¯ä»¥æå‡æ•ˆç‡ï¼Œåœ¨ä»£ç å­˜åœ¨bugçš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å•å…ƒæµ‹è¯•ï¼Œå¯ä»¥åœ¨è¾ƒçŸ­å‘¨æœŸå†…å®šä½å’Œä¿®å¤é—®é¢˜ã€‚</p>
<h4 id="è§„åˆ™"><a class="markdownIt-Anchor" href="#è§„åˆ™"></a> è§„åˆ™</h4>
<p>å•å…ƒæµ‹è¯•çš„ä¸€äº›åŸºæœ¬è§„èŒƒ</p>
<ul>
<li>æ‰€æœ‰æµ‹è¯•æ–‡ä»¶åç§°ä»¥_test.goç»“å°¾</li>
<li>æ‰€æœ‰ç”¨äºæµ‹è¯•çš„å‡½æ•°å£°æ˜ä¸º<code>func TestXxx(t *testing.T)</code></li>
<li>åˆå§‹åŒ–é€»è¾‘æ”¾åˆ°TestMainå‡½æ•°ä¸­å®ç°</li>
</ul>
<p>è¿™æ ·å°±å¾ˆå¥½åœ°åŒºåˆ†äº†æºä»£ç å’Œæµ‹è¯•ä»£ç ã€‚</p>
<h4 id="ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹"></a> ç¤ºä¾‹</h4>
<p>æºä»£ç </p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HelloTom</span><span class="params">()</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Jerry&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æµ‹è¯•ä»£ç </p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestHelloTom</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    output := HelloTom()</span><br><span class="line">    expectOutput := <span class="string">&quot;Tom&quot;</span></span><br><span class="line">    <span class="keyword">if</span> output != expectOutput &#123;</span><br><span class="line">        t.Errorf(<span class="string">&quot;Expected %s do not match actual %s&quot;</span>, expectOutput, output)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="è¿è¡Œ"><a class="markdownIt-Anchor" href="#è¿è¡Œ"></a> è¿è¡Œ</h4>
<p>è¿è¡ŒæŸ¥çœ‹ç»“æœ</p>
<h4 id="assert"><a class="markdownIt-Anchor" href="#assert"></a> assert</h4>
<p>assertåŒ…æä¾›äº†å¯¹ä»£ç æµ‹è¯•çš„æ”¯æŒï¼Œèƒ½å¤Ÿå¿«é€Ÿæ–¹ä¾¿åœ°è¿›è¡Œä»£ç æµ‹è¯•</p>
<p>è·å–assertåŒ…ï¼Œåœ¨å½“å‰é¡¹ç›®ä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go get github.com/stretchr/testify/assert</span><br></pre></td></tr></table></figure></div>
<p>æ”¹é€ åŸæ¥çš„æµ‹è¯•ä»£ç </p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestHelloTom</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    output := HelloTom()</span><br><span class="line">    expectOutput := <span class="string">&quot;Tom&quot;</span></span><br><span class="line">    assert.Equal(t, expectOutput, output)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¿è¡ŒæŸ¥çœ‹ç»“æœï¼Œä½¿ç”¨assertæµ‹è¯•èƒ½å¤Ÿè¾“å‡ºæ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ã€‚</p>
<h4 id="è¦†ç›–ç‡"><a class="markdownIt-Anchor" href="#è¦†ç›–ç‡"></a> è¦†ç›–ç‡</h4>
<p>ä»£ç è¦†ç›–ç‡ç”¨äºè¡¡é‡ä»£ç æ˜¯å¦ç»è¿‡äº†è¶³å¤Ÿçš„æµ‹è¯•ï¼Œè¯„ä»·é¡¹ç›®çš„æµ‹è¯•æ°´å‡†ï¼Œè¯„ä¼°é¡¹ç›®æ˜¯å¦è¾¾åˆ°äº†é«˜æ°´å‡†æµ‹è¯•ç­‰çº§ã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç </strong></p>
<p>judgment.go</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">JudgePassLine</span><span class="params">(score <span class="type">int16</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> score &gt;= <span class="number">60</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>judgment_test.go</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestJudgePassLineTrue</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    isPass := JudgePassLine(<span class="number">70</span>)</span><br><span class="line">    assert.Equal(t, <span class="literal">true</span>, isPass)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæµ‹è¯•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go <span class="built_in">test</span> judgment_test.go judgment.go --cover</span><br></pre></td></tr></table></figure></div>
<p>é€šè¿‡æŒ‡å®šcoverå‚æ•°ï¼Œå¯ä»¥çœ‹åˆ°è¦†ç›–ç‡ï¼Œè¡¨ç¤ºæ‰§è¡Œåˆ°çš„ä»£ç è¡Œæ•°å å®é™…ä»£ç æ€»è¡Œæ•°ã€‚</p>
<p><strong>æå‡è¦†ç›–ç‡</strong></p>
<p>å¯ä»¥åœ¨æµ‹è¯•ä»£ç ä¸­å¢åŠ å…¶ä»–çš„æƒ…å†µï¼Œé‡æ–°æ‰§è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•ï¼Œæœ€ç»ˆä½¿è¦†ç›–ç‡è¾¾åˆ°100%</p>
<p>æ–°å¢æµ‹è¯•å‡½æ•°</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestJudgePassLineFail</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    isPass := JudgePassLine(<span class="number">50</span>)</span><br><span class="line">    assert.Equal(t, <span class="literal">false</span>, isPass)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>é‡æ–°æ‰§è¡Œæµ‹è¯•å‘½ä»¤ï¼ŒæŒ‡å®šcoverå‚æ•°ï¼ŒæŸ¥çœ‹æµ‹è¯•ç»“æœã€‚</p>
<h4 id="tips"><a class="markdownIt-Anchor" href="#tips"></a> Tips</h4>
<ul>
<li>å®é™…é¡¹ç›®ä¸­ï¼Œä¸€èˆ¬è¦æ±‚è¦†ç›–ç‡æ˜¯50%~60%ï¼Œå¯¹äºèµ„é‡‘å‹æœåŠ¡ï¼Œè¦†ç›–ç‡è¦æ±‚è¾¾åˆ°80%ä»¥ä¸Šã€‚</li>
<li>åœ¨è¿›è¡Œå•å…ƒæµ‹è¯•æ—¶ï¼Œè¦æ±‚æµ‹è¯•åˆ†æ”¯ç›¸äº’ç‹¬ç«‹ã€å…¨é¢è¦†ç›–ã€‚</li>
<li>æµ‹è¯•å•å…ƒç²’åº¦è¶³å¤Ÿå°ï¼Œå‡½æ•°èŒè´£å•ä¸€ï¼Œå³è¦æ±‚å‡½æ•°ä½“è¶³å¤Ÿå°ï¼Œè¿™æ ·èƒ½æ¯”è¾ƒç®€å•åœ°æå‡è¦†ç›–ç‡ï¼Œä¹Ÿç¬¦åˆå‡½æ•°è®¾è®¡çš„å•ä¸€èŒè´£ã€‚</li>
</ul>
<h3 id="mockæµ‹è¯•"><a class="markdownIt-Anchor" href="#mockæµ‹è¯•"></a> Mockæµ‹è¯•</h3>
<p>å·¥ç¨‹ä¸­å¤æ‚çš„é¡¹ç›®ä¸€èˆ¬ä¼šä¾èµ–Fileã€DBã€Cacheç­‰å¤–éƒ¨ä¾èµ–ï¼Œè€Œå•å…ƒæµ‹è¯•éœ€è¦ä¿è¯ç¨³å®šæ€§å’Œå¹‚ç­‰æ€§ã€‚ç¨³å®šæ€§æŒ‡ç›¸äº’éš”ç¦»ï¼Œèƒ½åœ¨ä»»ä½•æ—¶é—´ã€ä»»ä½•ç¯å¢ƒä¸‹è¿è¡Œæµ‹è¯•ï¼›å¹‚ç­‰æ˜¯æŒ‡æ¯æ¬¡æµ‹è¯•è¿è¡Œéƒ½åº”è¯¥äº§ç”Ÿä¸ä¹‹å‰ä¸€æ ·çš„ç»“æœã€‚è€Œå®ç°è¿™äº›ç›®çš„å°±éœ€è¦Mockæœºåˆ¶ã€‚</p>
<h4 id="æ–‡ä»¶å¤„ç†"><a class="markdownIt-Anchor" href="#æ–‡ä»¶å¤„ç†"></a> æ–‡ä»¶å¤„ç†</h4>
<p>å°†æµ‹è¯•æ–‡ä»¶è¿›è¡Œåˆ é™¤ï¼Œè¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡ï¼Œä½†å•å…ƒæµ‹è¯•éœ€è¦ä¾èµ–æœ¬åœ°çš„æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶è¢«ä¿®æ”¹æˆ–è€…åˆ é™¤æµ‹è¯•å°±ä¼šå¤±è´¥ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ é™¤æ–‡ä»¶çš„æµ‹è¯•æ™®é€šæƒ…å†µä¸‹åªèƒ½æµ‹è¯•ä¸€æ¬¡ã€‚ä¸ºäº†ä¿è¯æµ‹è¯•caseçš„ç¨³å®šæ€§ï¼Œéœ€è¦å¯¹åˆ é™¤æ–‡ä»¶å‡½æ•°è¿›è¡Œmockï¼Œå±è”½å¯¹æ–‡ä»¶çš„ä¾èµ–ã€‚</p>
<h4 id="å¿«é€Ÿmockå‡½æ•°"><a class="markdownIt-Anchor" href="#å¿«é€Ÿmockå‡½æ•°"></a> å¿«é€ŸMockå‡½æ•°</h4>
<p>è¿™é‡Œæä¾›äº†ä¸€ä¸ªå¼€æºçš„mockæµ‹è¯•åº“<a class="link"   href="https://github.com/bouk/monkey" >Monkey patching in Go <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œå¯ä»¥å¯¹å‡½æ•°æˆ–è€…å®ä¾‹çš„æ–¹æ³•è¿›è¡Œmockæµ‹è¯•ï¼ŒåŸç†æ˜¯åå°„å’ŒæŒ‡é’ˆèµ‹å€¼ã€‚è¿™é‡Œå¼•å…¥äº†ä¸€ä¸ªæ‰“æ¡©çš„æ¦‚å¿µï¼Œæ¡©æˆ–è€…æ¡©ä»£ç å°±æ˜¯æŒ‡ç”¨æ¥ä»£æ›¿å…³è”ä»£ç æˆ–è€…æœªå®ç°ä»£ç çš„ä»£ç ï¼Œç›®çš„ä¸»è¦æ˜¯éš”ç¦»ã€è¡¥é½ã€æ§åˆ¶ã€‚</p>
<p>å¿«é€ŸMockå‡½æ•°èƒ½ä¸ºä¸€ä¸ªå‡½æ•°æ‰“æ¡©æˆ–ä¸ºä¸€ä¸ªæ–¹æ³•æ‰“æ¡©ã€‚Monkey Patchçš„ä½œç”¨åŸŸåœ¨Runtimeï¼Œåœ¨è¿è¡Œæ—¶é€šè¿‡Goçš„unsafeåŒ…ï¼Œèƒ½å¤Ÿå°†å†…å­˜ä¸­å‡½æ•°çš„åœ°å€æ›¿æ¢ä¸ºè¿è¡Œæ—¶å‡½æ•°çš„åœ°å€ï¼Œå°†å¾…æ‰“æ¡©å‡½æ•°æˆ–æ–¹æ³•çš„å®ç°è·³è½¬åˆ°è¿è¡Œæ—¶ã€‚</p>
<h4 id="ç¤ºä¾‹-2"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-2"></a> ç¤ºä¾‹</h4>
<p>é€šè¿‡patchå¯¹ReadFirstLineè¿›è¡Œæ‰“æ¡©mockï¼Œé€šè¿‡deferå¸è½½mockï¼Œä½¿æ•´ä¸ªæµ‹è¯•å‡½æ•°è„±ç¦»äº†å¯¹æœ¬åœ°æ–‡ä»¶çš„ä¾èµ–ã€‚</p>
<p>æºä»£ç </p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadFirstLine</span><span class="params">()</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    open, err := os.Open(<span class="string">&quot;log&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> open.Close()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    scanner := bufio.NewScanner(open)</span><br><span class="line">    <span class="keyword">for</span> scanner.Scan() &#123;</span><br><span class="line">        <span class="keyword">return</span> scanner.Text()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ProcessFirstLine</span><span class="params">()</span></span> <span class="type">string</span> &#123;</span><br><span class="line">    line := ReadFirstLine()</span><br><span class="line">    destLine := strings.ReplaceAll(line, <span class="string">&quot;11&quot;</span>, <span class="string">&quot;00&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> destLine</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æµ‹è¯•ä»£ç </p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestProcessFirstLine</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    firstLine := ProcessFirstLine()</span><br><span class="line">    assert.Equal(t, <span class="string">&quot;line00&quot;</span>, firstLine)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æµ‹è¯•æ–‡ä»¶å†…å®¹</p>
<div class="highlight-container" data-rel="Txt"><figure class="iseeu highlight txt"><table><tr><td class="code"><pre><span class="line">line11</span><br><span class="line">line22</span><br><span class="line">line33</span><br><span class="line">line44</span><br><span class="line">line55</span><br></pre></td></tr></table></figure></div>
<p>monkeyçš„éƒ¨åˆ†æºä»£ç å®ç°ï¼Œä¸»è¦é€šè¿‡è¿™äº›å‡½æ•°å®ç°æ‰“æ¡©</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Patch</span><span class="params">(target, replacement <span class="keyword">interface</span>&#123;&#125;)</span></span> *PatchGuard &#123;</span><br><span class="line">    t := reflect.ValueOf(target)</span><br><span class="line">    r := reflect.ValueOf(replacement)</span><br><span class="line">    patchValue(t, r)</span><br><span class="line">    <span class="keyword">return</span> &amp;PatchGuard&#123;t, r&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Unpatch</span><span class="params">(target <span class="keyword">interface</span>&#123;&#125;)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> unpatchValue(reflect.ValueOf(target))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æ”¹é€ æµ‹è¯•ä»£ç å¢åŠ å‡½æ•°å®ç°æ‰“æ¡©ï¼Œé€šè¿‡patchå¯¹ReadFirstLineè¿›è¡Œæ‰“æ¡©mockï¼Œä½¿å…¶é»˜è®¤è¿”å›line110</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestReadFirstLineWithMock</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">	monkey.Patch(ReadFirstLine, <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">string</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;line110&quot;</span></span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="keyword">defer</span> monkey.Unpatch(ReadFirstLine)</span><br><span class="line">	line := ProcessFirstLine()</span><br><span class="line">	assert.Equal(t, <span class="string">&quot;line000&quot;</span>, line)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¿™æ ·å³ä½¿æ²¡æœ‰æœ¬åœ°æ–‡ä»¶ï¼Œä¹Ÿèƒ½å¤Ÿæ¨¡æ‹Ÿè¯»å–ã€ä¿®æ”¹æˆ–åˆ é™¤æ–‡ä»¶çš„æµ‹è¯•ã€‚</p>
<h3 id="åŸºå‡†æµ‹è¯•"><a class="markdownIt-Anchor" href="#åŸºå‡†æµ‹è¯•"></a> åŸºå‡†æµ‹è¯•</h3>
<p>goè¯­è¨€è¿˜æä¾›äº†åŸºå‡†æµ‹è¯•æ¡†æ¶ï¼ŒåŸºå‡†æµ‹è¯•æ˜¯æŒ‡æµ‹è¯•ä¸€æ®µç¨‹åºçš„è¿è¡Œæ€§èƒ½åŠè€—è´¹CPUçš„ç¨‹åº¦ã€‚åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ä»£ç æ€§èƒ½ç“¶é¢ˆï¼Œä¸ºäº†å®šä½é—®é¢˜ç»å¸¸è¦å¯¹ä»£ç åšæ€§èƒ½åˆ†æï¼Œè¿™å°±ç”¨åˆ°äº†åŸºå‡†æµ‹è¯•ã€‚</p>
<h4 id="ç¤ºä¾‹-3"><a class="markdownIt-Anchor" href="#ç¤ºä¾‹-3"></a> ç¤ºä¾‹</h4>
<p>æœåŠ¡å™¨è´Ÿè½½å‡è¡¡é—®é¢˜ã€‚</p>
<p>æºä»£ç ï¼Œå‡è®¾æœ‰10å°æœåŠ¡å™¨ï¼Œæ¯æ¬¡éšæœºé€‰æ‹©å…¶ä¸­1å°æ‰§è¡Œã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitServerIndex</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		ServerIndex[i] = i + <span class="number">100</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Select</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> ServerIndex[rand.Intn(<span class="number">10</span>)]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æµ‹è¯•ä»£ç ï¼ŒåŸºå‡†æµ‹è¯•ä»¥Benchmarkå¼€å¤´ï¼Œå‚æ•°ç±»å‹æ˜¯testing.Bï¼Œç”¨bä¸­çš„Nå€¼åå¤é€’å¢å¾ªç¯æµ‹è¯•ã€‚åŸºå‡†æµ‹è¯•å¯¹äºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹çš„é»˜è®¤æµ‹è¯•æ—¶é—´æ˜¯1ç§’ï¼Œå½“æµ‹è¯•ç”¨ä¾‹å‡½æ•°è¿”å›æ—¶è¿˜ä¸åˆ°1ç§’ï¼Œé‚£ä¹ˆtesting.Bä¸­çš„Nå€¼å°†æŒ‰1ã€2ã€5ã€10ã€20ã€50â€¦é€’å¢ï¼Œå¹¶ä»¥é€’å¢åçš„å€¼é‡æ–°è¿›è¡Œç”¨ä¾‹å‡½æ•°æµ‹è¯•ã€‚</p>
<p>ResetTimeré‡ç½®è®¡æ—¶å™¨ï¼Œåœ¨é‡ç½®ä¹‹å‰çš„åˆå§‹åŒ–æˆ–å…¶ä»–å‡†å¤‡æ“ä½œï¼Œä¸å±äºåŸºå‡†æµ‹è¯•çš„èŒƒå›´ï¼Œé€šè¿‡é€‰æ‹©é‡ç½®çš„æ—¶é—´ç‚¹æ¥è·³è¿‡ä¸å¿…è¦çš„æµ‹è¯•ã€‚</p>
<p>RunParallelæ˜¯å¤šåç¨‹å¹¶å‘æµ‹è¯•ã€‚æ‰§è¡Œä¸¤ä¸ªåŸºå‡†æµ‹è¯•ï¼Œå¯ä»¥å‘ç°ä»£ç åœ¨å¹¶å‘æƒ…å†µä¸‹å­˜åœ¨åŠ£åŒ–ï¼Œä¸»è¦åŸå› æ˜¯randåŒ…ä¸ºäº†ä¿è¯å…¨å±€çš„éšæœºæ€§å’Œå¹¶å‘å®‰å…¨ï¼Œä½¿ç”¨äº†å…¨å±€é”ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkSelect</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">	InitServerIndex()</span><br><span class="line">	b.ResetTimer()</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</span><br><span class="line">		Select()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkSelectParallel</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">	InitServerIndex()</span><br><span class="line">	b.ResetTimer()</span><br><span class="line">	b.RunParallel(<span class="function"><span class="keyword">func</span><span class="params">(pb *testing.PB)</span></span> &#123;</span><br><span class="line">		<span class="keyword">for</span> pb.Next() &#123;</span><br><span class="line">			Select()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="è¿è¡Œ-2"><a class="markdownIt-Anchor" href="#è¿è¡Œ-2"></a> è¿è¡Œ</h4>
<p>åœ¨IDEä¸­ä½¿ç”¨<code>gobench benchmark</code>é€‰é¡¹è¿›è¡Œæµ‹è¯•ï¼Œä¸è¦ç›´æ¥è¿è¡Œã€‚</p>
<h4 id="ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#ä¼˜åŒ–"></a> ä¼˜åŒ–</h4>
<p>ä¸ºäº†è§£å†³ä¸Šè¿°çš„éšæœºæ€§èƒ½ç“¶é¢ˆé—®é¢˜ï¼Œæœ‰ä¸€ä¸ªå¼€æºçš„é«˜æ€§èƒ½éšæœºæ•°æ–¹æ³•fastrandï¼Œä»“åº“åœ°å€<a class="link"   href="https://github.com/bytedance/gopkg" >bytedance/gopkg <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚ä¸»è¦æ€è·¯æ˜¯ç‰ºç‰²äº†ä¸€å®šçš„æ•°åˆ—ä¸€è‡´æ€§æ¥æ¢å–æ€§èƒ½ï¼Œåœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹é€‚ç”¨ï¼Œç›¸æ¯”åŸå§‹æ–¹æ³•çš„æ€§èƒ½æœ‰å¤§å¹…æå‡ã€‚</p>
<p>å¼•å…¥fastrand</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go get github.com/bytedance/gopkg</span><br></pre></td></tr></table></figure></div>
<p>å°†æºä»£ç ä¸­çš„randæ›¿æ¢ä¸ºfastrandå³å¯ã€‚</p>
<h2 id="é¡¹ç›®å®æˆ˜"><a class="markdownIt-Anchor" href="#é¡¹ç›®å®æˆ˜"></a> é¡¹ç›®å®æˆ˜</h2>
<p>åœ¨å¹¶å‘ç¼–ç¨‹ï¼Œä¾èµ–ç®¡ç†ä»¥åŠå•å…ƒæµ‹è¯•çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡é¡¹ç›®å®è·µæ¥ç†è§£é¡¹ç›®å¼€å‘çš„æ€è·¯å’Œæµç¨‹ï¼Œä¸»è¦åŒ…æ‹¬éœ€æ±‚è®¾è®¡ï¼Œä»£ç å¼€å‘å’Œæµ‹è¯•è¿è¡Œã€‚</p>
<h3 id="éœ€æ±‚è®¾è®¡"><a class="markdownIt-Anchor" href="#éœ€æ±‚è®¾è®¡"></a> éœ€æ±‚è®¾è®¡</h3>
<h4 id="éœ€æ±‚èƒŒæ™¯"><a class="markdownIt-Anchor" href="#éœ€æ±‚èƒŒæ™¯"></a> éœ€æ±‚èƒŒæ™¯</h4>
<p>å¼€å‘ä¸€ä¸ªç±»ä¼¼æ˜é‡‘ç¤¾åŒºçš„æœåŠ¡ç«¯å°åŠŸèƒ½ã€‚</p>
<h4 id="éœ€æ±‚æè¿°"><a class="markdownIt-Anchor" href="#éœ€æ±‚æè¿°"></a> éœ€æ±‚æè¿°</h4>
<p>ç¤¾åŒºè¯é¢˜é¡µé¢</p>
<ul>
<li>å±•ç¤ºè¯é¢˜ï¼ˆæ ‡é¢˜ã€æ–‡å­—æè¿°ï¼‰å’Œå›å¸–åˆ—è¡¨</li>
<li>æš‚ä¸è€ƒè™‘å‰ç«¯é¡µé¢å®ç°ï¼Œä»…ä»…å®ç°ä¸€ä¸ªæœ¬åœ°webæœåŠ¡</li>
<li>è¯é¢˜å’Œå›å¸–æ•°æ®ç”¨æ–‡ä»¶å­˜å‚¨</li>
</ul>
<h4 id="éœ€æ±‚ç”¨ä¾‹"><a class="markdownIt-Anchor" href="#éœ€æ±‚ç”¨ä¾‹"></a> éœ€æ±‚ç”¨ä¾‹</h4>
<p>ä¸»è¦æ¶‰åŠç”¨æˆ·æµè§ˆæ¶ˆè´¹ï¼Œé¡µé¢çš„å±•ç¤ºï¼ŒåŒ…æ‹¬è¯é¢˜å†…å®¹å’Œå›å¸–çš„åˆ—è¡¨ã€‚å¯ä»¥å…ˆæŠ½è±¡å‡ºä¸¤ä¸ªå®ä½“ï¼Œè¯é¢˜å†…å®¹å’Œå›å¸–åˆ—è¡¨ï¼Œåˆ†æå®ƒä»¬æ‰€å…·æœ‰çš„å±æ€§ä»¥åŠè”ç³»ï¼Œå®šä¹‰å‡ºç»“æ„ä½“ã€‚</p>
<h4 id="er-å›¾entity-relationship-diagram"><a class="markdownIt-Anchor" href="#er-å›¾entity-relationship-diagram"></a> ER å›¾â€”â€”Entity Relationship Diagram</h4>
<p>ERå›¾ç”¨äºæè¿°ç°å®ä¸–ç•Œçš„æ¦‚å¿µæ¨¡å‹ã€‚æœ‰äº†æ¨¡å‹å®ä½“ã€å±æ€§ä»¥åŠè”ç³»ï¼Œå°±èƒ½è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œæ€è€ƒä»£ç ç»“æ„è®¾è®¡ã€‚</p>
<p>å‚è€ƒERå›¾è®¾è®¡ï¼šTopicè¯é¢˜æœ‰idã€titileã€contentã€create_timeå››ä¸ªå±æ€§ã€‚Postå¸–å­æœ‰idã€topic_idã€contentã€create_timeå››ä¸ªå±æ€§ï¼Œå…¶ä¸­idå’Œtopic_idå’ŒTopicç›¸è”ç³»ã€‚</p>
<p>è¿™é‡Œé‡‡ç”¨å…¸å‹çš„åˆ†å±‚ç»“æ„è®¾è®¡ã€‚</p>
<h3 id="ä»£ç å¼€å‘"><a class="markdownIt-Anchor" href="#ä»£ç å¼€å‘"></a> ä»£ç å¼€å‘</h3>
<h4 id="åˆ†å±‚ç»“æ„"><a class="markdownIt-Anchor" href="#åˆ†å±‚ç»“æ„"></a> åˆ†å±‚ç»“æ„</h4>
<p>åˆ†å±‚ç»“æ„æ•´ä½“åˆ†ä¸ºä¸‰å±‚ï¼Œrepositoryæ•°æ®å±‚ï¼Œserviceé€»è¾‘å±‚ï¼Œcontrollerè§†å›¾å±‚ã€‚</p>
<ul>
<li>æ•°æ®å±‚å…³è”åº•å±‚æ•°æ®æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯modelï¼Œå°è£…å¤–éƒ¨æ•°æ®çš„å¢åˆ æ”¹æŸ¥ã€‚è¿™é‡Œçš„æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ï¼Œé€šè¿‡æ–‡ä»¶æ“ä½œæ‹‰å–è¯é¢˜ï¼Œå¸–å­æ•°æ®ã€‚</li>
<li>æ•°æ®å±‚é¢å‘é€»è¾‘å±‚ï¼Œä¹Ÿå°±æ˜¯å¯¹serviceå±‚é€æ˜ï¼Œå±è”½ä¸‹æ¸¸æ•°æ®å·®å¼‚ï¼Œå³é€»è¾‘å±‚ä¸éœ€è¦è€ƒè™‘æ•°æ®çš„æ¥æºæ˜¯æœ¬åœ°æ–‡ä»¶ã€æ•°æ®åº“è¿˜æ˜¯å¾®æœåŠ¡ç­‰ã€‚é€»è¾‘å±‚åªå¤„ç†æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œæ¥å£æ¨¡å‹ä¿æŒä¸å˜ï¼Œè®¡ç®—æ‰“åŒ…ä¸šåŠ¡å®ä½“Entityï¼Œå¯¹åº”éœ€æ±‚å¹¶ä¸Šä¼ ç»™è§†å›¾å±‚ã€‚</li>
<li>è§†å›¾å±‚controllerè´Ÿè´£å¤„ç†ä¸å¤–éƒ¨äº¤äº’çš„é€»è¾‘ï¼Œä»¥viewè§†å›¾çš„å½¢å¼è¿”å›ç»™å®¢æˆ·ç«¯ã€‚è¿™é‡Œåªè€ƒè™‘å°è£…ä¸ºjsonæ ¼å¼åŒ–çš„è¯·æ±‚ç»“æœï¼Œé€šè¿‡APIå½¢å¼è®¿é—®å³å¯ã€‚</li>
</ul>
<h4 id="ç»„ä»¶å·¥å…·"><a class="markdownIt-Anchor" href="#ç»„ä»¶å·¥å…·"></a> ç»„ä»¶å·¥å…·</h4>
<p>å¼€å‘æ¶‰åŠçš„åŸºç¡€ç»„ä»¶å·¥å…·ã€‚Ginï¼šå¼€æºçš„é«˜æ€§èƒ½go webæ¡†æ¶ï¼Œæºåœ°å€<a class="link"   href="https://github.com/gin-gonic/gin" >gin-gonic <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚è¿™é‡ŒåŸºäºginæ­å»ºwebæœåŠ¡å™¨ï¼Œæœ¬é¡¹ç›®ä¸»è¦æ¶‰åŠè·¯ç”±åˆ†å‘çš„æ¦‚å¿µï¼Œä¸æ¶‰åŠå…¶ä»–å¤æ‚æ¦‚å¿µã€‚</p>
<p>ä½¿ç”¨webæ¡†æ¶ï¼Œéœ€è¦ç”¨Go Moduleä¾èµ–ç®¡ç†ã€‚å…ˆç”¨go mod initåˆå§‹åŒ–go.modç®¡ç†é…ç½®æ–‡ä»¶ã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go mod init main</span><br><span class="line">go mod tidy</span><br></pre></td></tr></table></figure></div>
<p>ä¸‹è½½ginä¾èµ–</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go get -u github.com/gin-gonic/gin</span><br></pre></td></tr></table></figure></div>
<p>åœ¨æ¡†æ¶ä¾èµ–çš„åŸºç¡€ä¸Šï¼Œåªéœ€è¦å…³æ³¨ä¸šåŠ¡æœ¬èº«çš„å®ç°ï¼Œä»repositoryåˆ°serviceå†åˆ°controlleré€æ­¥å®ç°ã€‚</p>
<h4 id="repository"><a class="markdownIt-Anchor" href="#repository"></a> Repository</h4>
<h5 id="struct"><a class="markdownIt-Anchor" href="#struct"></a> struct</h5>
<p>æ ¹æ®ä¹‹å‰çš„ERå›¾å®šä¹‰ç»“æ„ä½“</p>
<h5 id="index"><a class="markdownIt-Anchor" href="#index"></a> index</h5>
<p>æŸ¥è¯¢æ•°æ®å¯ä»¥ä½¿ç”¨å…¨æ‰«æéå†çš„æ–¹å¼ï¼Œä½†æ˜¯æ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥è¿™é‡Œå¼•å…¥ç´¢å¼•çš„æ¦‚å¿µã€‚</p>
<p>ç´¢å¼•å°±åƒä¹¦çš„ç›®å½•ï¼Œå¯ä»¥å¿«é€ŸæŸ¥æ‰¾å®šä½åˆ°éœ€è¦çš„ç»“æœã€‚è¿™é‡Œåˆ©ç”¨mapå®ç°å†…å­˜ç´¢å¼•ï¼Œåœ¨æœåŠ¡å¯¹å¤–æš´éœ²å‰ï¼Œåˆ©ç”¨æ–‡ä»¶å…ƒæ•°æ®åˆå§‹åŒ–å…¨å±€å†…å­˜ç´¢å¼•ï¼Œå®ç°O(1)æ—¶é—´å¤æ‚åº¦çš„æŸ¥æ‰¾æ“ä½œã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	topicIndexMap <span class="keyword">map</span>[<span class="type">int64</span>]*Topic</span><br><span class="line">    postIndexMap  <span class="keyword">map</span>[<span class="type">int64</span>][]*Post</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>
<p>å…·ä½“å®ç°ï¼Œæ‰“å¼€æ–‡ä»¶ï¼ŒåŸºäºfileåˆå§‹åŒ–scannerï¼Œé€šè¿‡è¿­ä»£å™¨æ–¹å¼éå†æ•°æ®è¡Œï¼Œè½¬åŒ–ä¸ºç»“æ„ä½“å­˜å‚¨è‡³å†…å­˜mapï¼Œå®Œæˆåˆå§‹åŒ–è¯é¢˜å†…å­˜ç´¢å¼•ã€‚åŒç†å®ç°å¸–å­çš„å†…å­˜ç´¢å¼•åˆå§‹åŒ–</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">initTopicIndexMap</span><span class="params">(filePath <span class="type">string</span>)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    open, err := os.Open(filePath + <span class="string">&quot;topic&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> err</span><br><span class="line">    &#125;</span><br><span class="line">    scanner := bufio.NewScanner(open)</span><br><span class="line">    topicTmpMap := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int64</span>]*Topic)</span><br><span class="line">    <span class="keyword">for</span> scanner.Scan() &#123;</span><br><span class="line">        text := scanner.Text()</span><br><span class="line">        <span class="keyword">var</span> topic Topic</span><br><span class="line">        <span class="keyword">if</span> err := json.Unmarshal([]<span class="type">byte</span>(text), &amp;topic); err != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> err</span><br><span class="line">        &#125;</span><br><span class="line">        topicTmpMap[topic.Id] = &amp;topic</span><br><span class="line">    &#125;</span><br><span class="line">    topicIndexMap = topicTmpMap</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h5 id="æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢"></a> æŸ¥è¯¢</h5>
<p>å®ç°æŸ¥è¯¢æ“ä½œï¼Œç›´æ¥æŸ¥è¯¢keyè·å–mapä¸­çš„valueã€‚è¿™é‡Œä½¿ç”¨äº†sync.Onceï¼Œä¸»è¦é€‚ç”¨äºé«˜å¹¶å‘çš„æƒ…å†µä¸‹åªæ‰§è¡Œä¸€æ¬¡çš„åœºæ™¯ã€‚åŸºäºOnceçš„å®ç°æ¨¡å¼å°±æ˜¯å•ä¾‹æ¨¡å¼ï¼Œå‡å°‘å­˜å‚¨çš„æµªè´¹ã€‚</p>
<p>topicæŸ¥è¯¢å®ç°ï¼Œè¿™é‡Œçš„topicç»“æ„ä½“è‡ªè¡Œè®¾è®¡ã€‚åŒç†å®ç°postçš„æŸ¥è¯¢</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> TopicDao <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	topicDao  *TopicDao</span><br><span class="line">    topicOnce sync.Once</span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewTopicDaoInstance</span><span class="params">()</span></span> *TopicDao &#123;</span><br><span class="line">    topicOnce.Do(</span><br><span class="line">        <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">            topicDao = &amp;TopicDao&#123;&#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="keyword">return</span> topicDao</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(*TopicDao)</span></span> QueryTopicById(id <span class="type">int64</span>) *Topic &#123;</span><br><span class="line">    <span class="keyword">return</span> topicIndexMap[id]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="service"><a class="markdownIt-Anchor" href="#service"></a> Service</h4>
<p>å®ç°äº†repositoryå±‚ä¹‹åå°±æ˜¯serviceå±‚ã€‚</p>
<p>å®šä¹‰serviceå±‚å®ä½“</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> PageInfo <span class="keyword">struct</span> &#123;</span><br><span class="line">    Topic *repository.Topic</span><br><span class="line">    PostList []*repository.Post</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å®ç°æµç¨‹æ˜¯å‚æ•°æ ¡éªŒã€å‡†å¤‡æ•°æ®ã€ç»„è£…å®ä½“ã€‚</p>
<p>ä»£ç æµç¨‹ç¼–æ’ï¼Œé€šè¿‡erræ§åˆ¶æµç¨‹é€€å‡ºï¼Œæ­£å¸¸çš„è¯ä¼šè¿”å›é¡µé¢ä¿¡æ¯ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *QueryPageInfoFlow)</span></span> Do() (*PageInfo, <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> err := f.checkParam(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> err := f.prepareInfo(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> err := f.packPageInfo(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f.pageInfo, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>prepareInfoæ–¹æ³•å®ç°ï¼Œç”±äºè¯é¢˜å’Œå›å¸–ä¿¡æ¯çš„è·å–éƒ½éœ€è¦topicIdï¼Œè¿™å°±å¯ä»¥è€ƒè™‘å¹¶è¡Œæ‰§è¡Œï¼Œæé«˜æ•ˆç‡ã€‚å¹¶è¡Œå¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸CPUçš„èµ„æºï¼Œé™ä½æ¥å£è€—æ—¶ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *QueryPageInfoFlow)</span></span> prepareInfo() <span class="type">error</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">    wg.Add(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;...&#125; <span class="comment">//è·å–topicä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;...&#125; <span class="comment">//è·å–poståˆ—è¡¨</span></span><br><span class="line">    wg.Wait()</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="controller"><a class="markdownIt-Anchor" href="#controller"></a> Controller</h4>
<p>serviceå±‚ä¹‹åæ˜¯controllerå±‚ã€‚å®šä¹‰ä¸€ä¸ªviewå¯¹è±¡ï¼Œé€šè¿‡code msgæ‰“åŒ…ä¸šåŠ¡çŠ¶æ€ä¿¡æ¯ï¼Œç”¨dataæ‰¿è½½ä¸šåŠ¡å®ä½“ä¿¡æ¯ã€‚</p>
<p>å‚è€ƒä»£ç </p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> PageData <span class="keyword">struct</span> &#123;</span><br><span class="line">    Code <span class="type">int64</span>       <span class="string">`json:&quot;code&quot;`</span></span><br><span class="line">    Msg  <span class="type">string</span>      <span class="string">`json:&quot;msg&quot;`</span></span><br><span class="line">    Data <span class="keyword">interface</span>&#123;&#125; <span class="string">`json:&quot;data&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">QueryPageInfo</span><span class="params">(topicIdStr <span class="type">string</span>)</span></span> *PageData &#123;</span><br><span class="line">    topicId, err := strconv.ParseInt(topicIdStr, <span class="number">10</span>, <span class="number">64</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;...&#125;</span><br><span class="line">    pageInfo, err := service.QueryPageInfo(topicId)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;...&#125;</span><br><span class="line">    <span class="keyword">return</span> &amp;PageData&#123;</span><br><span class="line">        Code: <span class="number">0</span>,</span><br><span class="line">        Msg: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">        Data: <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int64</span>&#123;</span><br><span class="line">            <span class="string">&quot;post_id&quot;</span>: postId,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="router"><a class="markdownIt-Anchor" href="#router"></a> Router</h4>
<p>æœ€åæ˜¯webæœåŠ¡çš„å¼•æ“é…ç½®ï¼ŒåŒ…æ‹¬</p>
<ul>
<li>åˆå§‹åŒ–æ•°æ®ç´¢å¼•</li>
<li>åˆå§‹åŒ–å¼•æ“é…ç½®</li>
<li>æ„å»ºè·¯ç”±</li>
<li>å¯åŠ¨æœåŠ¡</li>
</ul>
<p>pathæ˜ å°„åˆ°å…·ä½“çš„controllerï¼Œé€šè¿‡pathå˜é‡ä¼ é€’è¯é¢˜idã€‚</p>
<p>å‚è€ƒå†™æ³•</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> err := Init(<span class="string">&quot;./data/&quot;</span>); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        os.Exit(<span class="number">-1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    r := gin.Default()</span><br><span class="line">    r.GET(<span class="string">&quot;/community/page/get/:id&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">        topicId := c.Param(<span class="string">&quot;id&quot;</span>)</span><br><span class="line">        data := controller.QueryPageInfo(topicId)</span><br><span class="line">        c.JSON(<span class="number">200</span>, data)</span><br><span class="line">    &#125;)</span><br><span class="line">    err := r.Run()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="æµ‹è¯•è¿è¡Œ"><a class="markdownIt-Anchor" href="#æµ‹è¯•è¿è¡Œ"></a> æµ‹è¯•è¿è¡Œ</h3>
<p>é€šè¿‡go runå‘½ä»¤è¿è¡Œæœ¬åœ°webæœåŠ¡ï¼Œmain.goæ˜¯è¿™é‡Œmainæ–¹æ³•æ‰€åœ¨çš„goæ–‡ä»¶ï¼Œæ–‡ä»¶åç§°å¯ä»¥è‡ªå®šä¹‰</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go run main.go</span><br></pre></td></tr></table></figure></div>
<p>é€šè¿‡curlå‘½ä»¤è¯·æ±‚æœåŠ¡æš´éœ²çš„æ¥å£ï¼ŒæŸ¥çœ‹ç»“æœã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">curl --location --request GET <span class="string">&quot;http://0.0.0.0:8080/community/get/1&quot;</span> | json</span><br></pre></td></tr></table></figure></div>
<p>è¿™é‡Œçš„jsonå‘½ä»¤æ˜¯é€šè¿‡nodejsçš„npmå®‰è£…çš„ï¼Œç”¨äºæ ¼å¼åŒ–curlè¾“å‡ºçš„jsonä¿¡æ¯ã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g json</span><br></pre></td></tr></table></figure></div>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<p><a class="link"   href="https://www.cnblogs.com/gizing/p/10925286.html" >ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„åŒºåˆ« - Gizing - åšå®¢å›­ (cnblogs.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://segmentfault.com/a/1190000018150987" >Go goroutineç†è§£ - golangå¼€å‘ç¬”è®° - SegmentFault æ€å¦ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.runoob.com/go/go-concurrent.html" >Go å¹¶å‘ | èœé¸Ÿæ•™ç¨‹ (runoob.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://juejin.cn/post/7181812988461252667" >æ·±å…¥ç†è§£ go sync.Waitgroup - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://blog.csdn.net/Sihang_Xie/article/details/124851399" >ã€Goè¯­è¨€å…¥é—¨ã€‘ä¸€æ–‡ææ‡‚Goè¯­è¨€çš„æœ€æ–°ä¾èµ–ç®¡ç†ï¼šgo modçš„ä½¿ç”¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Go é«˜è´¨é‡ç¼–ç¨‹ä¸æ€§èƒ½è°ƒä¼˜</title>
    <url>/2023/01/28/golang-day3/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7194132732492906551" >golangé«˜è´¨é‡ç¼–ç¨‹ä¸æ€§èƒ½è°ƒä¼˜ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹golangé«˜è´¨é‡ç¼–ç¨‹ä¸æ€§èƒ½è°ƒä¼˜çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="é«˜è´¨é‡ç¼–ç¨‹ä¸æ€§èƒ½è°ƒä¼˜å®æˆ˜"><a class="markdownIt-Anchor" href="#é«˜è´¨é‡ç¼–ç¨‹ä¸æ€§èƒ½è°ƒä¼˜å®æˆ˜"></a> é«˜è´¨é‡ç¼–ç¨‹ä¸æ€§èƒ½è°ƒä¼˜å®æˆ˜</h2>
<p>ä¸»è¦å†…å®¹</p>
<ul>
<li>å¦‚ä½•ç¼–å†™æ›´ç®€æ´æ¸…æ™°çš„ä»£ç </li>
<li>å¸¸ç”¨Goè¯­è¨€ç¨‹åºçš„ä¼˜åŒ–æ‰‹æ®µ</li>
<li>ç†Ÿæ‚‰Goç¨‹åºæ€§èƒ½åˆ†æå·¥å…·</li>
<li>äº†è§£å·¥ç¨‹ä¸­æ€§èƒ½ä¼˜åŒ–çš„åŸåˆ™å’Œæµç¨‹</li>
</ul>
<h3 id="1é«˜è´¨é‡ç¼–ç¨‹"><a class="markdownIt-Anchor" href="#1é«˜è´¨é‡ç¼–ç¨‹"></a> 1.é«˜è´¨é‡ç¼–ç¨‹</h3>
<h4 id="11-ç®€ä»‹"><a class="markdownIt-Anchor" href="#11-ç®€ä»‹"></a> 1.1 ç®€ä»‹</h4>
<p>é«˜è´¨é‡ä»£ç ï¼šç¼–å†™çš„ä»£ç èƒ½å¤Ÿè¾¾åˆ°æ­£ç¡®å¯é ã€ç®€æ´æ¸…æ™°çš„ç›®æ ‡ã€‚</p>
<ul>
<li>
<p>æ­£ç¡®æ€§ï¼šè€ƒè™‘å„ç§è¾¹ç•Œæ¡ä»¶ï¼Œèƒ½å¤Ÿå¤„ç†é”™è¯¯çš„è°ƒç”¨ã€‚</p>
</li>
<li>
<p>å¯é æ€§ï¼šå¼‚å¸¸æƒ…å†µæˆ–è€…é”™è¯¯å¤„ç†çš„ç­–ç•¥æ˜ç¡®ï¼Œä¾èµ–çš„æœåŠ¡å‡ºç°å¼‚å¸¸èƒ½å¤ŸåŠæ—¶å¤„ç†ã€‚</p>
</li>
<li>
<p>ç®€å•ï¼šé€»è¾‘ç®€å•ï¼Œåç»­è°ƒæ•´åŠŸèƒ½æˆ–æ–°å¢åŠŸèƒ½èƒ½å¤Ÿå¿«é€Ÿæ”¯æŒã€‚</p>
</li>
<li>
<p>æ¸…æ™°ï¼šå…¶ä»–äººåœ¨é˜…è¯»ä»£ç æ—¶å®¹æ˜“ç†è§£ï¼Œé‡æ„æˆ–è€…ä¿®æ”¹åŠŸèƒ½ä¸ä¼šå‡ºç°æ— æ³•é¢„æ–™çš„é—®é¢˜ã€‚</p>
</li>
</ul>
<p>ç¼–ç¨‹çš„åŸåˆ™</p>
<p><strong>ç®€å•æ€§</strong></p>
<p>æ¶ˆé™¤â€œå¤šä½™çš„å¤æ‚æ€§â€ï¼Œä»¥ç®€å•æ¸…æ™°çš„é€»è¾‘ç¼–å†™ä»£ç ã€‚å¤æ‚çš„é€»è¾‘éš¾ä»¥é‡æ„å’Œä¼˜åŒ–ï¼Œæ— æ³•æ˜ç¡®é¢„çŸ¥å…¶è°ƒæ•´é€ æˆçš„å½±å“èŒƒå›´ï¼Œä¹Ÿéš¾ä»¥åœ¨æ’æŸ¥é—®é¢˜æ—¶å®šä½ã€‚</p>
<p><strong>å¯è¯»æ€§</strong></p>
<p>ä»åæœŸæ¥çœ‹ï¼Œå¤§éƒ¨åˆ†å·¥ä½œæ˜¯å¯¹å·²æœ‰åŠŸèƒ½çš„å®Œå–„å’Œæ‰©å±•ï¼Œå¯¹åº”åŠŸèƒ½çš„ä»£ç ä¼šå­˜åœ¨å¾ˆé•¿æ—¶é—´ã€‚ç»´æŠ¤æ˜¯ä¸€ä¸ªé¡¹ç›®æœ€æ¼«é•¿çš„å‘¨æœŸï¼Œå¥½çš„å¯è¯»æ€§å¯ä»¥é™ä½ç»´æŠ¤çš„æ—¶é—´æˆæœ¬ã€‚</p>
<p><strong>ç”Ÿäº§åŠ›</strong></p>
<p>Goè¯­è¨€æœ‰ç‰¹å®šçš„ä»£ç æ ¼å¼é™åˆ¶ï¼Œç”šè‡³æœ‰ä¸“é—¨çš„å·¥å…·å¼ºåˆ¶ç»Ÿä¸€æ‰€æœ‰ä»£ç æ ¼å¼ã€‚éµå¾ªä»£ç è§„èŒƒï¼Œèƒ½å¤Ÿé¿å…å¸¸è§çš„ç¼ºé™·ä»£ç ï¼Œé™ä½åç»­è”è°ƒã€æµ‹è¯•ã€éªŒè¯ã€ä¸Šçº¿ç­‰å„ä¸ªèŠ‚ç‚¹å‡ºç°é—®é¢˜çš„æ¦‚ç‡ä»¥åŠå¿«é€Ÿæ’æŸ¥å®šä½é—®é¢˜ã€‚</p>
<h3 id="12-ç¼–ç è§„èŒƒ"><a class="markdownIt-Anchor" href="#12-ç¼–ç è§„èŒƒ"></a> 1.2 ç¼–ç è§„èŒƒ</h3>
<h4 id="121-ä»£ç æ ¼å¼"><a class="markdownIt-Anchor" href="#121-ä»£ç æ ¼å¼"></a> 1.2.1 ä»£ç æ ¼å¼</h4>
<p>æ¨èä½¿ç”¨gofmtè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œgofmtæ˜¯Goè¯­è¨€å®˜æ–¹æä¾›çš„å·¥å…·ï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ ¼å¼åŒ–GOè¯­è¨€ä»£ç ä¸ºå®˜æ–¹ç»Ÿä¸€é£æ ¼ï¼Œå¸¸è§çš„IDEéƒ½æ”¯æŒé…ç½®ã€‚</p>
<p>å¦å¤–çš„ï¼Œgoimportsä¼šå¯¹ä¾èµ–åŒ…è¿›è¡Œç®¡ç†ï¼Œè‡ªåŠ¨å¢åˆ ä¾èµ–åŒ…å¼•ç”¨ï¼ŒæŒ‰å­—æ¯æ’åºåˆ†ç±»ã€‚</p>
<h4 id="122-æ³¨é‡Š"><a class="markdownIt-Anchor" href="#122-æ³¨é‡Š"></a> 1.2.2 æ³¨é‡Š</h4>
<p>æ³¨é‡Šæœ‰ä»¥ä¸‹å››ç§ä½¿ç”¨æ–¹å¼</p>
<ul>
<li>
<p>è§£é‡Šä»£ç ä½œç”¨ã€‚</p>
<p>é€‚åˆè¯´æ˜å…¬å…±ç¬¦å·ï¼Œæ¯”å¦‚å¯¹å¤–æä¾›çš„å‡½æ•°ç”¨æ³¨é‡Šæè¿°å®ƒçš„åŠŸèƒ½å’Œç”¨é€”ï¼Œé™¤éå‡½æ•°çš„åŠŸèƒ½ç®€å•è€Œæ˜æ˜¾æ—¶ï¼Œæ‰å¯çœç•¥æ³¨é‡Šã€‚</p>
<p>å¯¹äºæ˜¾è€Œæ˜“è§çš„å†…å®¹ä¸éœ€è¦æ³¨é‡Šã€‚</p>
</li>
<li>
<p>è§£é‡Šä»£ç å¦‚ä½•å®ç°</p>
<p>é€‚åˆè¯´æ˜é€»è¾‘å®ç°è¿‡ç¨‹ï¼Œè§£é‡Šå¤æ‚çš„ä¸æ˜æ˜¾çš„é€»è¾‘ã€‚</p>
<p>ä¸è¦è§£é‡Šæ˜¾è€Œæ˜“è§çš„æµç¨‹ï¼Œé¿å…å¢åŠ å†—ä½™ä¿¡æ¯å’Œé€ æˆè¯¯è§£ã€‚</p>
</li>
<li>
<p>è§£é‡Šä»£ç å®ç°çš„åŸå› </p>
<p>é€‚åˆè§£é‡Šä»£ç çš„å¤–éƒ¨å› ç´ ï¼Œä¸ºä»€ä¹ˆéœ€è¦å®ç°è¿™ä¸ªä»£ç ï¼Œæä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè¯´æ˜è¿™æ®µä»£ç åœ¨ä¸Šä¸‹æ–‡ä¸­çš„æ„ä¹‰ã€‚</p>
</li>
<li>
<p>è§£é‡Šä»£ç å‡ºé”™çš„å¯èƒ½æƒ…å†µ</p>
<p>é€‚åˆè§£é‡Šä»£ç çš„é™åˆ¶æ¡ä»¶ï¼Œä¸€äº›æ½œåœ¨çš„é™åˆ¶æ¡ä»¶æˆ–è€…æ— æ³•å¤„ç†çš„æƒ…å†µï¼Œä¾‹å¦‚æ€§èƒ½éšæ‚£ï¼Œè¾“å…¥çš„é™åˆ¶æ¡ä»¶ï¼Œå¯èƒ½å‡ºç°çš„é”™è¯¯æƒ…å†µç­‰ã€‚ä½¿é˜…è¯»è€…åœ¨ä¸éœ€è¦äº†è§£ä»£ç å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹å¼„æ¸…é™åˆ¶æ¡ä»¶ã€‚</p>
</li>
</ul>
<p><strong>å…¬å…±ç¬¦å·å§‹ç»ˆè¦æ³¨é‡Š</strong></p>
<ul>
<li>åŒ…ä¸­å£°æ˜çš„æ¯ä¸ªå…¬å…±ç¬¦å·ï¼šå˜é‡ã€å¸¸é‡å‡½æ•°ä»¥åŠç»“æ„éƒ½éœ€è¦æ·»åŠ æ³¨é‡Š</li>
<li>ä»»ä½•æ—¢ä¸æ˜æ˜¾åˆä¸ç®€çŸ­çš„å…¬å…±åŠŸèƒ½å¿…é¡»äºˆä»¥æ³¨é‡Š</li>
<li>æ— è®ºé•¿åº¦æˆ–å¤æ‚ç¨‹åº¦å¦‚ä½•ï¼Œå¯¹åº“ä¸­çš„å‡½æ•°éƒ½å¿…é¡»è¿›è¡Œæ³¨é‡Š</li>
<li>ä¾‹å¤–æƒ…å†µï¼Œä¸éœ€è¦æ³¨é‡Šå®ç°æ¥å£çš„æ–¹æ³•ã€‚</li>
</ul>
<p>æ›´å¤šè§„èŒƒçš„æ³¨é‡Šå¯ä»¥å‚è€ƒgolangçš„å®˜æ–¹ä»“åº“æºç <a class="link"   href="https://github.com/golang/go/tree/master/src" >golang/go <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><strong>å°ç»“</strong></p>
<ul>
<li>ä»£ç æœ¬èº«åº”è¯¥æ˜¯æœ€å¥½çš„æ³¨é‡Š</li>
<li>æ³¨é‡Šåº”è¯¥æä¾›ä»£ç æœªè¡¨è¾¾å‡ºçš„ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
</ul>
<h4 id="123-å‘½åè§„èŒƒ"><a class="markdownIt-Anchor" href="#123-å‘½åè§„èŒƒ"></a> 1.2.3 å‘½åè§„èŒƒ</h4>
<p>å‘½åæ˜¯ä»£ç ç¼–å†™ä¸­æœ€å¸¸è§çš„è§„èŒƒã€‚</p>
<p><strong>variable</strong></p>
<ul>
<li>
<p>ç®€æ´èƒœäºå†—é•¿</p>
</li>
<li>
<p>ç¼©ç•¥è¯å…¨å¤§å†™ï¼Œä½†å½“å…¶ä½äºå˜é‡å¼€å¤´ä¸”ä¸éœ€è¦å¯¹å¤–æä¾›æ—¶ï¼Œä½¿ç”¨å…¨å°å†™</p>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨SeverHTTPè€Œä¸æ˜¯ServerHttpã€‚ä½¿ç”¨XMLHTTPRequestæˆ–è€…xmlHTTPRequestã€‚</p>
</li>
<li>
<p>å˜é‡è·ç¦»å…¶è¢«ä½¿ç”¨çš„åœ°æ–¹è¶Šè¿œï¼Œåˆ™éœ€è¦æºå¸¦æ›´å¤šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p>
<p>å…¨å±€å˜é‡åœ¨å…¶åå­—ä¸­éœ€è¦æ›´å¤šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä½¿å¾—åœ¨ä¸åŒçš„åœ°æ–¹å¯ä»¥è½»æ˜“è¾¨è®¤å‡ºå…¶å«ä¹‰</p>
</li>
<li>
<p>å‡ ä¹ä¸å½±å“ç†è§£çš„å˜é‡åå˜åŠ¨ï¼Œé€‰æ‹©æœ€ç®€ä»‹çš„åç§°å³å¯ã€‚</p>
</li>
<li>
<p>å…·æœ‰ç‰¹å®šå«ä¹‰çš„å˜é‡åå˜åŠ¨ï¼Œé€‰æ‹©æ„ä¹‰æœ€è´´åˆ‡çš„åç§°å³å¯ã€‚</p>
</li>
</ul>
<p><strong>function</strong></p>
<ul>
<li>
<p>å‡½æ•°åä¸æºå¸¦åŒ…åçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå› ä¸ºåŒ…åå’Œå‡½æ•°åæ€»æ˜¯æˆå¯¹å‡ºç°</p>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨time.Now()è€Œä¸æ˜¯time.NowTime()ã€‚</p>
</li>
<li>
<p>å‡½æ•°åå°½é‡ç®€çŸ­</p>
</li>
<li>
<p>å½“åä¸ºfooçš„åŒ…æŸä¸ªå‡½æ•°è¿”å›ç±»å‹ä¸ºFooæ—¶ï¼Œå¯ä»¥çœç•¥ç±»å‹ä¿¡æ¯é¿å…æ­§ä¹‰</p>
</li>
<li>
<p>å½“åä¸ºfooçš„åŒ…æŸä¸ªå‡½æ•°è¿”å›ç±»å‹ä¸ºTæ—¶ï¼ˆTä¸æ˜¯Fooï¼‰ï¼Œå¯ä»¥åœ¨å‡½æ•°åä¸­åŠ å…¥ç±»å‹ä¿¡æ¯</p>
<p>ä¾‹å¦‚ï¼ŒparseInt</p>
</li>
</ul>
<p><strong>package</strong></p>
<ul>
<li>åªç”±å°å†™å­—æ¯ç»„æˆï¼Œä¸èƒ½åŒ…å«å¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿ç­‰å­—ç¬¦</li>
<li>ç®€çŸ­å¹¶åŒ…å«ä¸€å®šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ä¾‹å¦‚schema</li>
<li>ä¸è¦ä¸æ ‡å‡†åº“åŒåã€‚ä¾‹å¦‚ä¸è¦ä½¿ç”¨syncæˆ–è€…strings</li>
</ul>
<p>ä»¥æ ‡å‡†åº“åŒ…åä¸ºä¾‹</p>
<ul>
<li>ä¸ä½¿ç”¨å¸¸ç”¨çš„å˜é‡åä½œä¸ºåŒ…åã€‚ä¾‹å¦‚ä½¿ç”¨bufioè€Œä¸æ˜¯buf</li>
<li>ä½¿ç”¨å•æ•°è€Œä¸æ˜¯å¤æ•°ã€‚ä¾‹å¦‚ä½¿ç”¨encodingè€Œä¸æ˜¯encodings</li>
<li>è°¨æ…åœ°ä½¿ç”¨ç¼©å†™ã€‚ä¾‹å¦‚ä½¿ç”¨fmtåœ¨ä¸ç ´åä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹æ¯”formatæ›´åŠ ç®€çŸ­</li>
</ul>
<p><strong>å°ç»“</strong></p>
<ul>
<li>æ ¸å¿ƒç›®æ ‡æ˜¯é™ä½é˜…è¯»ç†è§£ä»£ç çš„æˆæœ¬</li>
<li>é‡ç‚¹è€ƒè™‘ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè®¾è®¡ç®€æ´æ¸…æ™°çš„åç§°</li>
</ul>
<h4 id="124-æ§åˆ¶æµç¨‹"><a class="markdownIt-Anchor" href="#124-æ§åˆ¶æµç¨‹"></a> 1.2.4 æ§åˆ¶æµç¨‹</h4>
<p>æµç¨‹æ§åˆ¶ç»å¸¸ç”¨åˆ°çš„å°±æ˜¯if elseè¿™ç§æ¡ä»¶æ§åˆ¶è¯­å¥ã€‚</p>
<p><strong>é¿å…åµŒå¥—ï¼Œä¿æŒæ­£å¸¸æµç¨‹æ¸…æ™°</strong></p>
<p>ä¸€ä¸ªç®€å•çš„if elseï¼Œå¦‚æœä¸¤ä¸ªåˆ†æ”¯éƒ½åŒ…å«returnè¯­å¥ï¼Œåˆ™å¯ä»¥å»é™¤å†—ä½™çš„elseï¼Œæ–¹ä¾¿åç»­ç»´æŠ¤ã€‚elseä¸€èˆ¬å°±æ˜¯è¡¨ç¤ºæ­£å¸¸æµç¨‹ï¼Œå¦‚æœéœ€è¦åœ¨æ­£å¸¸æµç¨‹ä¸­æ–°å¢åˆ¤æ–­é€»è¾‘ï¼Œåˆ™å»é™¤elseå¯ä»¥é¿å…åˆ†æ”¯åµŒå¥—ã€‚</p>
<p><strong>å°½é‡ä¿æŒæ­£å¸¸ä»£ç è·¯å¾„ä¸ºæœ€å°ç¼©è¿›</strong></p>
<ul>
<li>
<p>ä¼˜å…ˆå¤„ç†é”™è¯¯æƒ…å†µæˆ–ç‰¹æ®Šæƒ…å†µï¼Œå°½æ—©è¿”å›æˆ–ç»§ç»­å¾ªç¯æ¥å‡å°‘åµŒå¥—ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨<code>err != nil</code>è€Œä¸æ˜¯<code>err == nil</code>å°±æ˜¯ä¸ºäº†ä¼˜å…ˆå¤„ç†é”™è¯¯æƒ…å†µã€‚</p>
</li>
</ul>
<p><strong>å°ç»“</strong></p>
<ul>
<li>çº¿æ€§åŸç†ï¼Œå¤„ç†é€»è¾‘å°½é‡èµ°ç›´çº¿ï¼Œé¿å…å¤æ‚çš„åµŒå¥—åˆ†æ”¯</li>
<li>æ­£å¸¸æµç¨‹ä»£ç æ²¿ç€å±å¹•å‘ä¸‹ç§»åŠ¨</li>
<li>æå‡ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§</li>
<li>æ•…éšœé—®é¢˜å¤§å¤šå‡ºç°åœ¨å¤æ‚çš„æ¡ä»¶è¯­å¥å’Œå¾ªç¯è¯­å¥ä¸­</li>
</ul>
<h4 id="125-é”™è¯¯å’Œå¼‚å¸¸å¤„ç†"><a class="markdownIt-Anchor" href="#125-é”™è¯¯å’Œå¼‚å¸¸å¤„ç†"></a> 1.2.5 é”™è¯¯å’Œå¼‚å¸¸å¤„ç†</h4>
<p><strong>ç®€å•é”™è¯¯</strong></p>
<ul>
<li>ç®€å•çš„é”™è¯¯æŒ‡çš„æ˜¯ä»…å‡ºç°ä¸€æ¬¡çš„é”™è¯¯ï¼Œä¸”åœ¨å…¶ä»–åœ°æ–¹ä¸éœ€è¦æ•è·è¯¥é”™è¯¯</li>
<li>ä¼˜å…ˆä½¿ç”¨errors.Newæ¥åˆ›å»ºåŒ¿åå˜é‡ç›´æ¥è¡¨ç¤ºç®€å•é”™è¯¯</li>
<li>å¦‚æœéœ€è¦æ ¼å¼åŒ–é”™è¯¯ä¿¡æ¯ï¼Œä½¿ç”¨fmt.Errorf</li>
</ul>
<p><strong>é”™è¯¯çš„Wrapå’ŒUnwarp</strong></p>
<ul>
<li>é”™è¯¯çš„Wrapå®é™…ä¸Šæ˜¯æä¾›äº†ä¸€ä¸ªerroråµŒå¥—å¦ä¸€ä¸ªerrorçš„èƒ½åŠ›ï¼Œä»è€Œå½¢æˆä¸€ä¸ªerrorçš„è·Ÿè¸ªé“¾</li>
<li>åœ¨fmt.Errorfä¸­ä½¿ç”¨%wå ä½ç¬¦æ¥å°†ä¸€ä¸ªé”™è¯¯å…³è”è‡³é”™è¯¯è·Ÿè¸ªé“¾ä¸­</li>
</ul>
<p><strong>é”™è¯¯åˆ¤å®š</strong></p>
<ul>
<li>åˆ¤æ–­ä¸€ä¸ªé”™è¯¯æ˜¯å¦ä¸ºç‰¹å®šé”™è¯¯ï¼Œ<a class="link"   href="http://xn--errors-vt9i248w.Is" >ä½¿ç”¨errors.Is <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li>ä¸åŒäºä½¿ç”¨==ï¼Œä½¿ç”¨è¯¥æ–¹æ³•å¯ä»¥åˆ¤æ–­é”™è¯¯é“¾ä¸Šçš„æ‰€æœ‰é”™è¯¯ä¸­æ˜¯å¦å«æœ‰ç‰¹å®šçš„é”™è¯¯</li>
<li>åœ¨é”™è¯¯é“¾ä¸Šè·å–ç‰¹å®šç§ç±»çš„é”™è¯¯ï¼Œ<a class="link"   href="http://xn--errors-vt9i248w.As" >ä½¿ç”¨errors.As <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚ä¸errors.Isä¸åŒçš„æ˜¯Asä¼šå–å‡ºè°ƒç”¨é“¾ä¸­æŒ‡å®šç±»å‹çš„é”™è¯¯ï¼Œå¹¶å°†é”™è¯¯èµ‹å€¼ç»™å®šä¹‰å¥½çš„å˜é‡ï¼Œæ–¹ä¾¿åç»­å¤„ç†</li>
</ul>
<p><strong>panic</strong></p>
<p>panicæ¯”é”™è¯¯æ›´åŠ ä¸¥é‡ï¼Œå®ƒçš„å‡ºç°è¡¨ç¤ºç¨‹åºæ— æ³•æ­£å¸¸å·¥ä½œã€‚</p>
<ul>
<li>ä¸å»ºè®®åœ¨ä¸šåŠ¡ä»£ç ä¸­ä½¿ç”¨panic</li>
<li>panicå‘ç”Ÿåä¼šå‘ä¸Šä¼ æ’­è‡³è°ƒç”¨æ ˆé¡¶ï¼Œå¦‚æœå½“å‰goroutineä¸­æ‰€æœ‰deferredå‡½æ•°éƒ½ä¸åŒ…å«recoverå°±ä¼šé€ æˆæ•´ä¸ªç¨‹åºå´©æºƒ</li>
<li>è‹¥é—®é¢˜å¯ä»¥è¢«å±è”½æˆ–è§£å†³ï¼Œå»ºè®®ä½¿ç”¨errorä»£æ›¿panic</li>
<li>ç‰¹æ®Šåœ°ï¼Œå½“ç¨‹åºå¯åŠ¨é˜¶æ®µå‘ç”Ÿä¸å¯é€†çš„é”™è¯¯æ—¶ï¼Œå¯ä»¥åœ¨initæˆ–mainå‡½æ•°ä¸­ä½¿ç”¨panic</li>
</ul>
<p><strong>recover</strong></p>
<p>panicçš„äº§ç”Ÿå¹¶ä¸åªåœ¨ç¨‹åºè¿è¡Œé˜¶æ®µã€‚å¦‚æœæ˜¯å¼•å…¥å…¶ä»–åº“æ—¶äº§ç”Ÿçš„bugè€Œå¯¼è‡´çš„panicå°±éœ€è¦ä½¿ç”¨recoverã€‚</p>
<p>æ³¨æ„recoverçš„ç”Ÿæ•ˆæ¡ä»¶</p>
<ul>
<li>recoveråªèƒ½åœ¨è¢«deferçš„å‡½æ•°ä¸­ä½¿ç”¨</li>
<li>åœ¨åµŒå¥—ä¸­æ— æ³•ç”Ÿæ•ˆ</li>
<li>åªåœ¨å½“å‰goroutineç”Ÿæ•ˆ</li>
<li>deferçš„è¯­å¥æ˜¯å…ˆè¿›åå‡º</li>
</ul>
<p>å¦‚æœéœ€è¦æ›´å¤šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¯ä»¥åœ¨recoveråç”¨logè®°å½•å½“å‰è°ƒç”¨çš„æ ˆï¼Œæ–¹ä¾¿åˆ†æå®šä½ã€‚</p>
<p><strong>å°ç»“</strong></p>
<ul>
<li>errorå°½å¯èƒ½æä¾›ç®€æ˜çš„ä¸Šä¸‹æ–‡ä¿¡æ¯é“¾ï¼Œæ–¹ä¾¿å®šä½é—®é¢˜</li>
<li>panicç”¨äºçœŸæ­£å¼‚å¸¸çš„æƒ…å†µï¼Œæ— æ³•è§„é¿</li>
<li>recoverç”Ÿæ•ˆèŒƒå›´ï¼Œåœ¨å½“å‰goroutineçš„deferredå‡½æ•°ä¸­ç”Ÿæ•ˆ</li>
</ul>
<h3 id="13-æ€§èƒ½ä¼˜åŒ–å»ºè®®"><a class="markdownIt-Anchor" href="#13-æ€§èƒ½ä¼˜åŒ–å»ºè®®"></a> 1.3 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<p><strong>ç®€ä»‹</strong></p>
<ul>
<li>æ€§èƒ½ä¼˜åŒ–çš„å‰ææ˜¯æ»¡è¶³æ­£ç¡®å¯é ã€ç®€æ´æ¸…æ™°ç­‰è´¨é‡å› ç´ </li>
<li>æ€§èƒ½ä¼˜åŒ–æ˜¯ç»¼åˆè¯„ä¼°ï¼Œæ—¶é—´æ•ˆç‡å’Œç©ºé—´æ•ˆç‡å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹ä¸èƒ½å…¼å¾—</li>
<li>é’ˆå¯¹Goè¯­è¨€ç‰¹æ€§æ¥ä»‹ç»Goç›¸å…³çš„æ€§èƒ½ä¼˜åŒ–å»ºè®®</li>
</ul>
<h4 id="131-benchmark"><a class="markdownIt-Anchor" href="#131-benchmark"></a> 1.3.1 Benchmark</h4>
<p><strong>å¦‚ä½•ä½¿ç”¨</strong></p>
<ul>
<li>æ€§èƒ½è¡¨ç°éœ€è¦å®é™…æ•°æ®è¡¡é‡</li>
<li>Goè¯­è¨€æä¾›äº†æ”¯æŒåŸºå‡†æ€§èƒ½æµ‹è¯•çš„benchmarkå·¥å…·</li>
</ul>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ€§èƒ½æµ‹è¯•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go <span class="built_in">test</span> -bench=. -benchmem</span><br></pre></td></tr></table></figure></div>
<p><strong>ç»“æœè¯´æ˜</strong></p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°å¦‚BenchmarkFib10-8å¯¹åº”è¢«æµ‹è¯•å‡½æ•°çš„åç§°ï¼Œ-8è¡¨ç¤ºGOMAXPROCSçš„å€¼ä¸º8</li>
<li>ç¬¬äºŒä¸ªå‚æ•°å¦‚1855870è¡¨ç¤ºä¸€å…±æ‰§è¡Œ1855870æ¬¡ï¼Œå³b.Nçš„å€¼</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°å¦‚602.5ns/opè¡¨ç¤ºæ¯æ¬¡æ‰§è¡ŒèŠ±è´¹602.5ns</li>
<li>ç¬¬å››ä¸ªå‚æ•°å¦‚0B/opè¡¨ç¤ºæ¯æ¬¡æ‰§è¡Œæ—¶ç”³è¯·çš„å†…å­˜ç©ºé—´å¤§å°</li>
<li>ç¬¬äº”ä¸ªå‚æ•°å¦‚0allocs/opè¡¨ç¤ºæ¯æ¬¡æ‰§è¡Œæ—¶ç”³è¯·å†…å­˜çš„æ¬¡æ•°</li>
</ul>
<h4 id="132-slice"><a class="markdownIt-Anchor" href="#132-slice"></a> 1.3.2 Slice</h4>
<p><strong>sliceé¢„åˆ†é…å†…å­˜</strong></p>
<ul>
<li>
<p>å°½å¯èƒ½åœ¨ä½¿ç”¨make()åˆå§‹åŒ–åˆ‡ç‰‡æ—¶æä¾›å®¹é‡ä¿¡æ¯</p>
</li>
<li>
<p>åˆ‡ç‰‡æœ¬è´¨æ˜¯ä¸€ä¸ªæ•°ç»„ç‰‡æ®µçš„æè¿°ï¼ŒåŒ…æ‹¬æ•°ç»„æŒ‡é’ˆã€ç‰‡æ®µçš„é•¿åº¦ã€ç‰‡æ®µçš„å®¹é‡ï¼ˆä¸æ”¹å˜å†…å­˜åˆ†é…æƒ…å†µä¸‹çš„æœ€å¤§é•¿åº¦ï¼‰</p>
</li>
<li>
<p>åˆ‡ç‰‡æ“ä½œå¹¶ä¸å¤åˆ¶åˆ‡ç‰‡æŒ‡å‘çš„å…ƒç´ </p>
</li>
<li>
<p>è€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ‡ç‰‡å¤ç”¨åŸæ¥åˆ‡ç‰‡çš„åº•å±‚æ•°ç»„</p>
<p>ä»¥åˆ‡ç‰‡çš„appendä¸ºä¾‹ï¼Œappendæ—¶æœ‰ä¸¤ç§åœºæ™¯ï¼š</p>
<p>å½“appendä¹‹åçš„é•¿åº¦å°äºç­‰äºå®¹é‡ï¼Œå°†ä¼šç›´æ¥åˆ©ç”¨åŸåº•å±‚æ•°ç»„å‰©ä½™çš„ç©ºé—´ã€‚</p>
<p>å½“appendä¹‹åçš„é•¿åº¦å¤§äºå®¹é‡ï¼Œåˆ™ä¼šåˆ†é…ä¸€å—æ›´å¤§çš„åŒºåŸŸæ¥å®¹çº³æ–°çš„åº•å±‚æ•°ç»„ã€‚</p>
</li>
</ul>
<p>å› æ­¤ï¼Œä¸ºäº†é¿å…å†…å­˜å‘ç”Ÿæ‹·è´ï¼Œå¦‚æœèƒ½å¤Ÿæ˜ç¡®æœ€ç»ˆçš„åˆ‡ç‰‡çš„å¤§å°ï¼Œé¢„å…ˆè®¾ç½®å®¹é‡çš„å€¼èƒ½å¤Ÿé¿å…é¢å¤–çš„å†…å­˜åˆ†é…ï¼Œè·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚</p>
<p><strong>å¤§å†…å­˜æœªé‡Šæ”¾é—®é¢˜</strong></p>
<p>åŸåˆ‡ç‰‡ç”±å¤§é‡çš„å…ƒç´ æ„æˆï¼Œåœ¨åŸåˆ‡ç‰‡çš„åŸºç¡€ä¸Šåˆ›å»ºåˆ‡ç‰‡åªä½¿ç”¨äº†å¾ˆå°ä¸€æ®µï¼Œä½†åº•å±‚æ•°ç»„åœ¨å†…å­˜ä¸­ä»å æ®ç€å¤§é‡ç©ºé—´ï¼Œæ— æ³•é‡Šæ”¾ã€‚</p>
<ul>
<li>åœ¨å·²æœ‰åˆ‡ç‰‡çš„åŸºç¡€ä¸Šåˆ›å»ºåˆ‡ç‰‡ï¼Œä¸ä¼šåˆ›å»ºæ–°çš„åº•å±‚æ•°ç»„</li>
<li>å¯ä»¥ä½¿ç”¨copyä»£æ›¿re-sliceï¼Œå› ä¸ºé€šè¿‡copyä¼šæŒ‡å‘ä¸€ä¸ªæ–°çš„åº•å±‚æ•°ç»„ï¼ŒåŸæ¥çš„åº•å±‚æ•°ç»„ä¸å†è¢«å¼•ç”¨ä¹‹åï¼Œå†…å­˜å°±ä¼šè¢«å›æ”¶ã€‚</li>
</ul>
<h4 id="133-map"><a class="markdownIt-Anchor" href="#133-map"></a> 1.3.3 Map</h4>
<p><strong>mapé¢„åˆ†é…å†…å­˜</strong></p>
<p>åŸç†</p>
<ul>
<li>ä¸æ–­å‘mapä¸­æ·»åŠ å…ƒç´ çš„æ“ä½œä¼šè§¦å‘mapçš„æ‰©å®¹</li>
<li>æå‰åˆ†é…å¥½ç©ºé—´å¯ä»¥å‡å°‘å†…å­˜æ‹·è´å’ŒRehashçš„æ¶ˆè€—</li>
<li>å»ºè®®æ ¹æ®å®é™…éœ€æ±‚æå‰é¢„ä¼°å¥½éœ€è¦çš„ç©ºé—´</li>
</ul>
<h4 id="134-å­—ç¬¦ä¸²å¤„ç†"><a class="markdownIt-Anchor" href="#134-å­—ç¬¦ä¸²å¤„ç†"></a> 1.3.4 å­—ç¬¦ä¸²å¤„ç†</h4>
<p><strong>ä½¿ç”¨strings.Builder</strong></p>
<ul>
<li>
<p>å¸¸è§çš„å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼å°±æ˜¯ä½¿ç”¨+å·ç›´æ¥æ‹¼æ¥æˆ–è€…ä½¿ç”¨strings.Builderçš„æ–¹æ³•æ‹¼æ¥ä»¥åŠbytes.Bufferçš„æ–¹æ³•æ‹¼æ¥</p>
</li>
<li>
<p>ä½¿ç”¨+å·æ‹¼æ¥æ€§èƒ½æœ€å·®ï¼Œstrings.Builderå’Œbytes.Bufferæ€§èƒ½ç›¸è¿‘ï¼Œstrings.Builderæ›´å¿«ã€‚</p>
<p>å½“ä½¿ç”¨+æ‹¼æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå°±éœ€è¦å¼€è¾Ÿä¸€æ®µæ–°çš„ç©ºé—´ï¼Œæ–°ç©ºé—´çš„å¤§å°æ˜¯åŸæ¥ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°ä¹‹å’Œã€‚æ‹¼æ¥ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œå†å¼€è¾Ÿä¸€æ®µæ–°ç©ºé—´ï¼Œæ–°ç©ºé—´å¤§å°æ˜¯ä¸‰ä¸ªå­—ç¬¦ä¸²å¤§å°ä¹‹å’Œï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
</li>
<li>
<p>åˆ†æ</p>
<ul>
<li>å­—ç¬¦ä¸²åœ¨Goè¯­è¨€ä¸­æ˜¯ä¸å¯å˜ç±»å‹ï¼Œå ç”¨å†…å­˜å¤§å°æ˜¯å›ºå®šçš„</li>
<li>ä½¿ç”¨+æ¯æ¬¡éƒ½ä¼šé‡æ–°åˆ†é…å†…å­˜</li>
<li>strings.Builderå’Œbytes.Bufferåº•å±‚éƒ½æ˜¯[]byteæ•°ç»„</li>
<li>Builderå’ŒBufferçš„å†…å­˜æ‰©å®¹ç­–ç•¥ï¼Œä¸éœ€è¦æ¯æ¬¡æ‹¼æ¥é‡æ–°åˆ†é…å†…å­˜</li>
</ul>
</li>
<li>
<p>Builderæ¯”Bufferå¿«çš„åŸå› </p>
<ul>
<li>bytes.Bufferè½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ—¶é‡æ–°ç”³è¯·äº†ä¸€å—ç©ºé—´</li>
<li>strings.Builderç›´æ¥å°†åº•å±‚çš„[]byteè½¬æ¢æˆäº†å­—ç¬¦ä¸²ç±»å‹è¿”å›</li>
</ul>
</li>
<li>
<p>åœ¨å·²çŸ¥å­—ç¬¦ä¸²é•¿åº¦çš„æƒ…å†µä¸‹ï¼Œè¿›ä¸€æ­¥æå‡Builderçš„æ‹¼æ¥æ€§èƒ½ï¼Œä½¿ç”¨é¢„åˆ†é…å‡å°‘åˆ†é…æ¬¡æ•°ã€‚ä¼˜åŒ–åçš„Builderåªéœ€è¦ä¸€æ¬¡å†…å­˜åˆ†é…ï¼Œè€Œä¼˜åŒ–åçš„Bufferæœ‰ä¸¤æ¬¡ã€‚</p>
</li>
</ul>
<h4 id="135-ç©ºç»“æ„ä½“"><a class="markdownIt-Anchor" href="#135-ç©ºç»“æ„ä½“"></a> 1.3.5 ç©ºç»“æ„ä½“</h4>
<p><strong>ä½¿ç”¨ç©ºç»“æ„ä½“èŠ‚çœå†…å­˜</strong></p>
<ul>
<li>
<p>ç©ºç»“æ„ä½“struct{}å®ä¾‹ä¸å æ®ä»»ä½•å†…å­˜ç©ºé—´</p>
</li>
<li>
<p>å¯åšä¸ºå„ç§åœºæ™¯ä¸‹çš„å ä½ç¬¦ä½¿ç”¨</p>
<ul>
<li>èŠ‚çœèµ„æº</li>
<li>ç©ºç»“æ„ä½“æœ¬èº«å…·å¤‡å¾ˆå¼ºçš„è¯­ä¹‰ï¼Œä¸éœ€è¦ä»»ä½•å€¼å°±èƒ½ä½œä¸ºå ä½ç¬¦</li>
</ul>
</li>
<li>
<p>Setæ–¹æ³•çš„å®ç°ï¼Œå¯ä»¥è€ƒè™‘ç”¨mapæ¥ä»£æ›¿</p>
</li>
<li>
<p>å¯¹äºè¿™ä¸ªåœºæ™¯ï¼Œåªéœ€è¦ç”¨åˆ°mapçš„é”®ï¼Œä¸éœ€è¦å€¼</p>
</li>
<li>
<p>å³ä½¿æ˜¯å°†mapçš„å€¼è®¾ç½®ä¸ºboolç±»å‹ï¼Œä¹Ÿä¼šå¤šå æ®1ä¸ªå­—èŠ‚ç©º</p>
<p>ä¸€ä¸ªå¼€æºå®ç°<a class="link"   href="https://github.com/deckarep/golang-set/blob/main/threadunsafe.go" >golang-set/threadunsafe.go <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
</li>
</ul>
<h4 id="136-atomicåŒ…"><a class="markdownIt-Anchor" href="#136-atomicåŒ…"></a> 1.3.6 atomicåŒ…</h4>
<p>å¤šçº¿ç¨‹ç¼–ç¨‹åœºæ™¯ä¸‹æ€§èƒ½ä¼˜åŒ–ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</p>
<p><strong>å¦‚ä½•ä½¿ç”¨atomicåŒ…</strong></p>
<ul>
<li>é”çš„å®ç°æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿæ¥å®ç°ï¼Œå±äºç³»ç»Ÿè°ƒç”¨</li>
<li>atomicæ“ä½œæ˜¯é€šè¿‡ç¡¬ä»¶å®ç°ï¼Œæ•ˆç‡æ¯”é”é«˜</li>
<li>sync.Mutexåº”è¯¥ç”¨æ¥ä¿æŠ¤ä¸€æ®µé€»è¾‘ï¼Œä¸ä»…ä»…ç”¨äºä¿æŠ¤ä¸€ä¸ªå˜é‡</li>
<li>å¯¹äºéæ•°å€¼æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨atomic.Valueï¼Œèƒ½æ‰¿è½½ä¸€ä¸ªinterface{}</li>
</ul>
<h4 id="å°ç»“"><a class="markdownIt-Anchor" href="#å°ç»“"></a> å°ç»“</h4>
<ul>
<li>é¿å…å¸¸è§çš„æ€§èƒ½é™·é˜±å¯ä»¥ä¿è¯å¤§éƒ¨åˆ†ç¨‹åºçš„æ€§èƒ½</li>
<li>æ™®é€šåº”ç”¨ä»£ç ï¼Œä¸è¦ä¸€å‘³åœ°è¿½æ±‚ç¨‹åºçš„æ€§èƒ½</li>
<li>è¶Šé«˜çº§çš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µè¶Šå®¹æ˜“å‡ºç°é—®é¢˜</li>
<li>åœ¨æ»¡è¶³æ­£ç¡®å¯é ã€ç®€æ´æ¸…æ™°çš„è´¨é‡è¦æ±‚çš„å‰æä¸‹æé«˜ç¨‹åºæ€§èƒ½</li>
</ul>
<h3 id="2æ€§èƒ½è°ƒä¼˜å®æˆ˜"><a class="markdownIt-Anchor" href="#2æ€§èƒ½è°ƒä¼˜å®æˆ˜"></a> 2.æ€§èƒ½è°ƒä¼˜å®æˆ˜</h3>
<h3 id="21-ç®€ä»‹"><a class="markdownIt-Anchor" href="#21-ç®€ä»‹"></a> 2.1 ç®€ä»‹</h3>
<p><strong>æ€§èƒ½è°ƒä¼˜åŸåˆ™</strong></p>
<ul>
<li>è¦ä¾é æ•°æ®è€Œä¸æ˜¯çŒœæµ‹</li>
<li>è¦å®šä½æœ€å¤§ç“¶é¢ˆè€Œä¸æ˜¯ç»†ææœ«èŠ‚</li>
<li>ä¸è¦è¿‡æ—©ä¼˜åŒ–</li>
<li>ä¸è¦è¿‡åº¦ä¼˜åŒ–</li>
</ul>
<h3 id="22-æ€§èƒ½åˆ†æå·¥å…·-pprof"><a class="markdownIt-Anchor" href="#22-æ€§èƒ½åˆ†æå·¥å…·-pprof"></a> 2.2 æ€§èƒ½åˆ†æå·¥å…· pprof</h3>
<p><strong>è¯´æ˜</strong></p>
<p>å¦‚æœæƒ³çŸ¥é“åº”ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹è€—è´¹äº†å¤šå°‘CPUã€Memoryã€‚å¯¹äºgoç¨‹åºæœ‰ä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„å·¥å…·â€”â€”pprof</p>
<h4 id="221-åŠŸèƒ½ç®€ä»‹"><a class="markdownIt-Anchor" href="#221-åŠŸèƒ½ç®€ä»‹"></a> 2.2.1 åŠŸèƒ½ç®€ä»‹</h4>
<p>pprofæ˜¯ç”¨äºå¯è§†åŒ–å’Œåˆ†ææ€§èƒ½åˆ†ææ•°æ®çš„å·¥å…·</p>
<ul>
<li>åˆ†æ-Profileï¼šç½‘é¡µã€å¯è§†åŒ–ç»ˆç«¯</li>
<li>å·¥å…·-Toolï¼šruntime/pprofã€net/http/pprof</li>
<li>é‡‡æ ·-Sampleï¼šCPUã€å †å†…å­˜-Heapã€åç¨‹-Goroutineã€é”-Mutexã€é˜»å¡-Blockã€çº¿ç¨‹åˆ›å»º-ThreadCreate</li>
<li>å±•ç¤º-Viewï¼šTopã€è°ƒç”¨å›¾-Graphã€ç«ç„°å›¾-FlameGraphã€Peekã€æºç -Sourceã€åæ±‡ç¼–-Disassemble</li>
</ul>
<h4 id="222-æ’æŸ¥å®æˆ˜"><a class="markdownIt-Anchor" href="#222-æ’æŸ¥å®æˆ˜"></a> 2.2.2 æ’æŸ¥å®æˆ˜</h4>
<p><strong>æ­å»ºpprofå®è·µé¡¹ç›®</strong></p>
<ul>
<li>
<p>é¡¹ç›®åœ°å€<a class="link"   href="https://github.com/wolfogre/go-pprof-practice" >wolfogre/go-pprof-practice: go pprof practice. <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
<li>
<p>è¯¥é¡¹ç›®æå‰åŸ‹å…¥äº†ç‚¸å¼¹ä»£ç ï¼Œèƒ½äº§ç”Ÿå¯è§‚æµ‹çš„æ€§èƒ½é—®é¢˜ã€‚windowså¯ç”¨ä»»åŠ¡ç®¡ç†å™¨æŸ¥çœ‹å†…å­˜å ç”¨æƒ…å†µï¼Œå¯åŠ¨é¡¹ç›®å‰ç¡®ä¿å†…å­˜è¶³å¤Ÿã€‚</p>
</li>
<li>
<p>é¡¹ç›®ä¸­å¼•å…¥äº†net/http/pprofåŒ…ï¼Œåœ¨å¯åŠ¨é¡¹ç›®åå¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®pprofå·¥å…·</p>
<p>mainå‡½æ•°éƒ¨åˆ†ä»£ç è¯´æ˜</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">runtime.GOMAXPROCS(<span class="number">1</span>)              <span class="comment">//é™åˆ¶CPUä½¿ç”¨æ•°</span></span><br><span class="line">runtime.SetMutexProfileFraction(<span class="number">1</span>) <span class="comment">//å¼€å¯é”è°ƒç”¨è·Ÿè¸ª</span></span><br><span class="line">runtime.SetBlockProfileRate(<span class="number">1</span>)     <span class="comment">//å¼€å¯é˜»å¡è°ƒç”¨è·Ÿè¸ª</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// å¯åŠ¨ http server</span></span><br><span class="line">    <span class="keyword">if</span> err := http.ListenAndServe(<span class="string">&quot;:6060&quot;</span>, <span class="literal">nil</span>); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Fatal(err)</span><br><span class="line">    &#125;</span><br><span class="line">    os.Exit(<span class="number">0</span>)</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<p><strong>æµè§ˆå™¨æŸ¥çœ‹æŒ‡æ ‡</strong></p>
<p>åœ¨é¡¹ç›®å¯åŠ¨æˆåŠŸåï¼Œè®¿é—®<a class="link"   href="http://localhost:6060/debug/pprof%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0pprof%E7%9A%84%E8%AE%A1%E6%95%B0%E9%A1%B5%E9%9D%A2%E3%80%82" >http://localhost:6060/debug/pprofï¼Œå¯ä»¥çœ‹åˆ°pprofçš„è®¡æ•°é¡µé¢ã€‚ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>é¡µé¢ä¸Šå±•ç¤ºäº†å¯ç”¨çš„ç¨‹åºè¿è¡Œé‡‡æ ·æ•°æ®ï¼Œåˆ†åˆ«æ˜¯</p>
<ul>
<li>allocs:å†…å­˜åˆ†é…æƒ…å†µ</li>
<li>blocks:é˜»å¡æ“ä½œæƒ…å†µ</li>
<li>cmdline:ç¨‹åºå¯åŠ¨å‘½ä»¤åŠå…¶å‚æ•°</li>
<li>goroutine:å½“å‰æ‰€æœ‰åç¨‹çš„å †æ ˆä¿¡æ¯</li>
<li>heap:å †ä¸Šå†…å­˜ä½¿ç”¨æƒ…å†µ</li>
<li>mutex:é”ç«äº‰æ“ä½œæƒ…å†µ</li>
<li>profile:CPUå ç”¨æƒ…å†µ</li>
<li>threadcreate:å½“å‰æ‰€æœ‰å¸¸è§çš„ç³»ç»Ÿçº¿ç¨‹çš„å †æ ˆä¿¡æ¯</li>
<li>trace:ç¨‹åºè¿è¡Œè·Ÿè¸ªæƒ…å†µ</li>
</ul>
<p>cmdlineå¯ä»¥æ˜¾å¼è¿è¡Œè¿›ç¨‹çš„å‘½ä»¤ï¼Œæ‰¾åˆ°é—®é¢˜æ¥æºçš„ç¨‹åºã€‚threadcreateæ¯”è¾ƒå¤æ‚ï¼Œä¸é€æ˜ã€‚traceéœ€è¦é…åˆå¦å¤–çš„å·¥å…·è§£æï¼Œè¿™é‡Œæš‚ä¸æ·±å…¥ã€‚</p>
<p>ç‚¸å¼¹ä¸»è¦åœ¨CPUã€å †å†…å­˜ã€goroutineã€é”ç«äº‰å’Œé˜»å¡æ“ä½œä¸Šï¼Œå¯ä»¥é€šè¿‡pprofå·¥å…·åˆ†æ</p>
<p><strong>CPU</strong></p>
<p>ä½¿ç”¨æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„å·¥å…·æŸ¥çœ‹CPUå ç”¨ï¼Œå‘ç°è¯¥é¡¹ç›®ç¨‹åºçš„å¼‚å¸¸å ç”¨ã€‚</p>
<p>pprofçš„é‡‡æ ·ç»“æœæ˜¯å°†ä¸€æ®µæ—¶é—´å†…çš„ä¿¡æ¯æ±‡æ€»è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥éœ€è¦è·å–è¿™ä¸ªprofileæ–‡ä»¶ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨æš´éœ²çš„æ¥å£é“¾æ¥ä¸‹è½½æ–‡ä»¶åä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨pprofå·¥å…·è¿æ¥è¿™ä¸ªæ¥å£ä¸‹è½½éœ€è¦çš„æ•°æ®ã€‚</p>
<p>ä½¿ç”¨go tool pprof + é‡‡æ ·é“¾æ¥çš„å‘½ä»¤æ¥å¯åŠ¨é‡‡æ ·ï¼Œä¾‹å¦‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go tool pprof <span class="string">&quot;http://localhost:6060/debug/pprof/profile?seconds=10&quot;</span></span><br></pre></td></tr></table></figure></div>
<p>é“¾æ¥å°±æ˜¯åˆšåˆšç‚¸å¼¹ç¨‹åºæš´éœ²å‡ºæ¥çš„æ¥å£ï¼Œé“¾æ¥ç»“å°¾çš„profileä»£è¡¨é‡‡æ ·çš„å¯¹è±¡æ˜¯CPUä½¿ç”¨ã€‚å¦‚æœåœ¨æµè§ˆå™¨é‡Œç›´æ¥æ‰“å¼€é“¾æ¥ä¼šå¯åŠ¨ä¸€ä¸ª60ç§’çš„é‡‡æ ·å¹¶åœ¨é‡‡æ ·ç»“æŸåä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°ã€‚è¿™é‡ŒåŠ ä¸Šseconds=10çš„å‚æ•°ï¼ŒæŒ‡å®šé‡‡æ ·æ—¶é—´ä¸º10ç§’ã€‚æ–‡ä»¶ä¸‹è½½ä¿å­˜çš„è·¯å¾„ä¼šåœ¨pprofç»ˆç«¯å±•ç¤ºã€‚</p>
<p>pprofç»ˆç«¯å‘½ä»¤</p>
<ul>
<li>
<p>topå‘½ä»¤ç”¨äºæŸ¥çœ‹å ç”¨èµ„æºæœ€å¤šçš„å‡½æ•°ã€‚topæœ‰ä»¥ä¸‹å‚æ•°æŒ‡æ ‡</p>
<ul>
<li>
<p>flat:å½“å‰å‡½æ•°æœ¬èº«çš„æ‰§è¡Œè€—æ—¶</p>
</li>
<li>
<p>flat%:flatå CPUæ€»æ—¶é—´çš„æ¯”ä¾‹</p>
</li>
<li>
<p>sum%:ä¸Šé¢æ¯ä¸€è¡Œflat%çš„æ€»å’Œ</p>
</li>
<li>
<p>cum:æŒ‡å½“å‰å‡½æ•°æœ¬èº«åŠ ä¸Šå…¶è°ƒç”¨å‡½æ•°çš„æ€»è€—æ—¶</p>
</li>
<li>
<p>cum%:cumå CPUæ€»æ—¶é—´çš„æ¯”ä¾‹</p>
</li>
</ul>
<p>é»˜è®¤å±•ç¤ºèµ„æºå ç”¨æœ€é«˜çš„10ä¸ªå‡½æ•°ï¼Œå¦‚æœåªéœ€è¦æŸ¥çœ‹å ç”¨æœ€é«˜çš„Nä¸ªå‡½æ•°ï¼Œåœ¨topå‘½ä»¤ååŠ ä¸Šä¸€ä¸ªæ•°å­—Nå³å¯ã€‚</p>
<p>flat=cumçš„å‡½æ•°è¯´æ˜è¯¥å‡½æ•°æ²¡æœ‰è°ƒç”¨å…¶ä»–å‡½æ•°</p>
<p>flat=0çš„å‡½æ•°è¯´æ˜è¯¥å‡½æ•°åªæœ‰å…¶ä»–å‡½æ•°çš„è°ƒç”¨</p>
<hr />
</li>
<li>
<p>listå‘½ä»¤ä¼šæ ¹æ®ç»™å‡ºçš„æ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾ä»£ç ï¼Œå¹¶æŒ‰è¡Œå±•ç¤ºå‡ºæ¯ä¸€è¡Œçš„å ç”¨</p>
<p>ä¾‹å¦‚ï¼Œåœ¨pprofç»ˆç«¯è¾“å…¥list Eatï¼Œå°±èƒ½æŸ¥çœ‹Eatå‡½æ•°æ¯è¡Œçš„å ç”¨æƒ…å†µã€‚è¿™æ ·å°±èƒ½å®šä½åˆ°å…·ä½“çš„ä»£ç ã€‚</p>
<hr />
</li>
<li>
<p>webå‘½ä»¤å¯ä»¥ç”Ÿæˆä¸€å¼ è°ƒç”¨å…³ç³»å›¾ï¼Œé»˜è®¤é€šè¿‡æµè§ˆå™¨æ‰“å¼€ã€‚è¯¥å‘½ä»¤éœ€è¦æå‰å®‰è£…Graphvizå¹¶é…ç½®ç¯å¢ƒå˜é‡æ‰èƒ½ä½¿ç”¨ã€‚å®˜ç½‘ä¸‹è½½<a class="link"   href="https://graphviz.org/download/" >Download | Graphviz <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>å›¾ä¸­é™¤äº†æ¯ä¸ªèŠ‚ç‚¹çš„èµ„æºå ç”¨ä»¥å¤–ï¼Œè¿˜ä¼šå°†å®ƒä»¬çš„è°ƒç”¨å…³ç³»æè¿°å‡ºæ¥ã€‚èµ„æºå ç”¨æœ€é«˜çš„å‡½æ•°ä¼šæ¯”è¾ƒæ˜æ˜¾åœ°å±•ç¤ºå‡ºæ¥ã€‚</p>
</li>
</ul>
<p>é€€å‡ºpprofç»ˆç«¯ï¼Œè¾“å…¥qå›è½¦å³å¯ã€‚å°†ç‚¸å¼¹ç¨‹åºç›´æ¥æ³¨é‡Šã€‚</p>
<p><strong>Heap-å †å†…å­˜</strong></p>
<p>æ³¨é‡Šé—®é¢˜ä»£ç åï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®ã€‚ç”¨ç³»ç»Ÿå·¥å…·ï¼ˆwindowsæ˜¯ä»»åŠ¡ç®¡ç†å™¨ï¼‰æŸ¥çœ‹CPUå ç”¨ï¼Œå¯ä»¥å‘ç°è¿›ç¨‹çš„å ç”¨å·²ç»é™ä¸‹æ¥äº†ã€‚ä½†è¿˜æœ‰å†…å­˜å ç”¨é—®é¢˜ï¼Œæ¥ä¸‹æ¥æ’æŸ¥å†…å­˜é—®é¢˜ã€‚</p>
<p>ä¸Šé¢æ’æŸ¥CPUé—®é¢˜æ—¶ä½¿ç”¨çš„æ˜¯pprofç»ˆç«¯ï¼Œè¿™é‡Œä½¿ç”¨å¦ä¸€ç§å±•ç¤ºæ–¹å¼ï¼Œé€šè¿‡<code>-http=:8080</code>å‚æ•°ï¼Œå¼€å¯pprofè‡ªå¸¦çš„web UIï¼Œä»¥ç½‘é¡µçš„å½¢å¼æ¥å‘ˆç°æ€§èƒ½æŒ‡æ ‡ã€‚æ³¨æ„é“¾æ¥ç»“å°¾æ˜¯heap</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go tool pprof -http=:8080 <span class="string">&quot;http://localhost:6060/debug/pprof/heap&quot;</span></span><br></pre></td></tr></table></figure></div>
<p>é€šè¿‡ä¸Šé¢çš„å‘½ä»¤å¯åŠ¨pprofå·¥å…·åï¼Œåœ¨é‡‡æ ·å®Œæˆåä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ï¼Œå±•ç¤ºå‡ºwebè§†å›¾ï¼ŒåŒæ—¶å±•ç¤ºçš„èµ„æºä½¿ç”¨ä»CPUæ—¶é—´å˜æˆäº†å†…å­˜å ç”¨ã€‚</p>
<p>é€šè¿‡é¡µé¢é¡¶ç«¯çš„Viewèœå•å¯ä»¥åˆ‡æ¢ä¸åŒçš„è§†å›¾ï¼Œåˆå§‹é»˜è®¤æ˜¯Graphè§†å›¾ã€‚Topè§†å›¾å°±ç±»ä¼¼äºç»ˆç«¯topå‘½ä»¤çš„å±•ç¤ºæ•ˆæœï¼ŒSourceè§†å›¾å°±ç±»ä¼¼äºç»ˆç«¯listå‘½ä»¤çš„å±•ç¤ºæ•ˆæœã€‚é€šè¿‡è¿™äº›è§†å›¾å¯ä»¥å¿«é€Ÿå®šä½é—®é¢˜ï¼Œæ³¨é‡Šæ‰é—®é¢˜ä»£ç ï¼Œæ‹†é™¤ç¬¬äºŒä¸ªç‚¸å¼¹ã€‚</p>
<p>é‡æ–°è¿è¡Œé¡¹ç›®ï¼ŒæŸ¥çœ‹å†…å­˜å ç”¨ï¼Œå‘ç°å†…å­˜å ç”¨ä¹Ÿå¤§å¹…ä¸‹é™ã€‚ä½†å®é™…ä¸Šå‰é¢è§£å†³çš„å†…å­˜é—®é¢˜åªæ˜¯å †å†…å­˜é‡‡æ ·çš„å››ç§æŒ‡æ ‡ä¹‹ä¸€çš„inuse_spaceã€‚å››ç§æŒ‡æ ‡å¦‚ä¸‹</p>
<ul>
<li>alloc_objects:ç¨‹åºç´¯è®¡ç”³è¯·çš„å¯¹è±¡æ•°</li>
<li>alloc_space:ç¨‹åºç´¯è®¡ç”³è¯·çš„å†…å­˜å¤§å°</li>
<li>inuse_objects:ç¨‹åºå½“å‰æŒæœ‰çš„å¯¹è±¡æ•°</li>
<li>inuse_space:ç¨‹åºå½“å‰å ç”¨çš„å†…å­˜å¤§å°</li>
</ul>
<p>é»˜è®¤å±•ç¤ºè§†å›¾å°±æ˜¯inuse_spaceè§†å›¾ï¼Œåªå±•ç¤ºå½“å‰æŒæœ‰çš„å†…å­˜ï¼Œä½†å¯¹äºå·²ç»é‡Šæ”¾çš„å†…å­˜ï¼Œinuseé‡‡æ ·ä¸ä¼šè¿›è¡Œå±•ç¤ºã€‚é€šè¿‡é¡µé¢é¡¶ç«¯çš„Sampleèœå•åˆ‡æ¢åˆ°alloc_spaceæŒ‡æ ‡ï¼Œåˆ†æallocçš„å†…å­˜é—®é¢˜ã€‚å®šä½åˆ°é—®é¢˜ä»£ç ï¼Œæ³¨é‡Šæ‰ã€‚è‡³æ­¤ï¼Œå†…å­˜éƒ¨åˆ†ç‚¸å¼¹å·²ç»è¢«å…¨éƒ¨æ¸…ç†ã€‚</p>
<p><strong>goroutineåç¨‹</strong></p>
<p>Golangæ˜¯ä¸€é—¨è‡ªå¸¦åƒåœ¾å›æ”¶çš„è¯­è¨€ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å†…å­˜æ³„éœ²æ˜¯æ²¡é‚£ä¹ˆå®¹æ˜“å‘ç”Ÿçš„ã€‚ä½†æ˜¯æœ‰ä¸€ç§ä¾‹å¤–ï¼Œgoroutineæ˜¯å¾ˆå®¹æ˜“æ³„éœ²çš„ï¼Œè¿›è€Œå¯¼è‡´å†…å­˜æ³„éœ²ã€‚æ¥ä¸‹æ¥è¿è¡Œé¡¹ç›®ï¼Œåˆ†ægoroutineä½¿ç”¨æƒ…å†µã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go tool pprof -http=:8080 <span class="string">&quot;http://localhost:6060/debug/pprof/goroutine&quot;</span></span><br></pre></td></tr></table></figure></div>
<p>goroutineä½¿ç”¨é»˜è®¤è§†å›¾ä¸æ–¹ä¾¿åˆ†æï¼Œå¯ä»¥åˆ‡æ¢åˆ°Flame Graphç«ç„°å›¾æ›´åŠ ç›´è§‚ã€‚</p>
<p>ç«ç„°å›¾çš„å±•ç¤º</p>
<ul>
<li>ç”±ä¸Šåˆ°ä¸‹è¡¨ç¤ºè°ƒç”¨é¡ºåºï¼Œå±•ç¤ºäº†å„ä¸ªå‡½æ•°è°ƒç”¨ä¹‹é—´çš„å±‚çº§å…³ç³»</li>
<li>æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå‡½æ•°ï¼Œæ¡å½¢è¶Šé•¿ä»£è¡¨å ç”¨çš„èµ„æºè¶Šå¤š</li>
<li>ç«ç„°å›¾æ˜¯åŠ¨æ€çš„ï¼Œæ”¯æŒç‚¹å‡»å—è¿›è¡Œåˆ†æ</li>
</ul>
<p>ç«ç„°å›¾æ˜¯éå¸¸å¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œåœ¨ç¨‹åºé€»è¾‘å¤æ‚çš„æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ã€‚</p>
<p>åˆ‡æ¢åˆ°Sourceè§†å›¾ï¼Œåœ¨è¯¥è§†å›¾ä¸‹æœç´¢ç«ç„°å›¾ä¸­å ç”¨æœ€é«˜çš„å‡½æ•°åç§°ã€‚å®šä½åˆ°é—®é¢˜ä»£ç ï¼Œæ³¨é‡Šæ‰ã€‚é‡æ–°å¯åŠ¨è®¿é—®pprofå¯ä»¥å‘ç°goroutineå·²ä¸‹é™åˆ°æ­£å¸¸æ°´å¹³ã€‚</p>
<p><strong>mutex-é”</strong></p>
<p>å¯åŠ¨pprofå·¥å…·</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go tool pprof -http=:8080 <span class="string">&quot;http://localhost:6060/debug/pprof/mutex&quot;</span></span><br></pre></td></tr></table></figure></div>
<p>è§‚å¯Ÿwebè§†å›¾ï¼Œåˆ†æé”æ“ä½œï¼Œåˆ‡æ¢åˆ°Sourceè§†å›¾å®šä½åˆ°å…·ä½“ä»£ç ï¼Œæ³¨é‡Šæ‰ã€‚</p>
<p><strong>block-é˜»å¡</strong></p>
<p>åœ¨ç¨‹åºä¸­ï¼Œé™¤äº†é”çš„ç«äº‰ä¼šå¯¼è‡´é˜»å¡ä»¥å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šé€»è¾‘(ä¾‹å¦‚è¯»å–ä¸€ä¸ªchannel)ä¹Ÿä¼šå¯¼è‡´é˜»å¡ã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go tool pprof -http=:8080 <span class="string">&quot;http://localhost:6060/debug/pprof/block&quot;</span></span><br></pre></td></tr></table></figure></div>
<p>åŒç†åœ¨Graphè§†å›¾ä¸­å®šä½åˆ°é—®é¢˜å‡½æ•°åï¼Œåˆ‡æ¢åˆ°Sourceè§†å›¾å®šä½åˆ°é—®é¢˜ä»£ç ï¼Œæ³¨é‡Šæ‰ã€‚</p>
<p>ä½†å®é™…ä¸Šï¼Œè¯¥ç¤ºä¾‹é¡¹ç›®åœ¨ä¹‹å‰çš„è®¡æ•°é¡µé¢ä¸Šå­˜åœ¨ä¸¤ä¸ªé˜»å¡ï¼Œä¸Šé¢åªè§£å†³äº†å…¶ä¸­ä¸€ä¸ªé˜»å¡ã€‚åªå±•ç¤ºäº†ä¸€ä¸ªé˜»å¡ï¼Œæ˜¯å› ä¸ºå¦ä¸€ä¸ªé˜»å¡æ“ä½œçš„èŠ‚ç‚¹æ€»ç”¨æ—¶å°äºæ€»æ—¶é•¿çš„åƒåˆ†ä¹‹äº”è€Œè¢«çœç•¥æ‰ã€‚è¿™æ˜¯pprofçš„è¿‡æ»¤ç­–ç•¥ï¼Œèƒ½å¤Ÿæ›´åŠ æœ‰æ•ˆåœ°çªå‡ºé‡ç‚¹é—®é¢˜ä¿¡æ¯ï¼Œè€Œçœç•¥ç›¸å¯¹æ²¡æœ‰é—®é¢˜çš„ä¿¡æ¯ã€‚å¦‚æœæ²¡æœ‰è¿‡æ»¤ç­–ç•¥çš„è¯ï¼Œå¯¹äºä¸€ä¸ªå¤æ‚çš„ç¨‹åºï¼Œå¤§é‡æ— å…³ç´§è¦çš„å†…å®¹éƒ½ä¼šå±•ç¤ºå‡ºæ¥ï¼Œä¸åˆ©äºå®šä½é—®é¢˜ã€‚</p>
<p>ç¬¬äºŒä¸ªé˜»å¡æ“ä½œï¼Œå°½ç®¡ä¸ä¼šåœ¨pprofå·¥å…·ä¸­å±•ç¤ºå‡ºæ¥ï¼Œä½†ä¹Ÿä¼šè¢«pprofè®°å½•ä¸‹æ¥ï¼Œå¯ä»¥é€šè¿‡æš´éœ²å‡ºæ¥çš„æ¥å£åœ°å€<a class="link"   href="http://localhost:6060/debug/pprof%E4%B8%AD%E7%9A%84block%E9%93%BE%E6%8E%A5%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E3%80%82%E9%80%9A%E8%BF%87%E8%AE%BF%E9%97%AE%E5%8F%AF%E4%BB%A5%E5%BE%97%E7%9F%A5%E8%BF%99%E4%B8%AA%E9%98%BB%E5%A1%9E%E6%93%8D%E4%BD%9C%E6%98%AF%E7%AC%A6%E5%90%88%E9%A2%84%E6%9C%9F%E7%9A%84%E6%AD%A3%E5%B8%B8%E6%93%8D%E4%BD%9C%E3%80%82" >http://localhost:6060/debug/pprofä¸­çš„blocké“¾æ¥ç›´æ¥è®¿é—®ã€‚é€šè¿‡è®¿é—®å¯ä»¥å¾—çŸ¥è¿™ä¸ªé˜»å¡æ“ä½œæ˜¯ç¬¦åˆé¢„æœŸçš„æ­£å¸¸æ“ä½œã€‚ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><strong>å°ç»“</strong></p>
<ul>
<li>äº”ç§ä½¿ç”¨pprofé‡‡é›†çš„å¸¸ç”¨æ€§èƒ½æŒ‡æ ‡: CPUã€å †å†…å­˜ã€Goroutineã€ é”ç«äº‰å’Œé˜»å¡;</li>
<li>ä¸¤ç§å±•ç¤ºæ–¹å¼:äº¤äº’å¼ç»ˆç«¯å’Œç½‘é¡µ;</li>
<li>å››ç§è§†å›¾: Topã€ Graphã€ æºç å’Œç«ç„°å›¾ã€‚</li>
<li>pprofé™¤äº†httpçš„è·å–æ–¹å¼ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨è¿è¡Œæ—¶è°ƒç”¨runtime/pprofåŒ…å°†æŒ‡æ ‡æ•°æ®è¾“å‡ºåˆ°æœ¬åœ°æ–‡ä»¶ã€‚</li>
<li>è§†å›¾ä¸­è¿˜æœ‰ä¸€ä¸ªæ›´åº•å±‚çš„ã€Œåæ±‡ç¼–ã€è§†å›¾ã€‚æ„Ÿå…´è¶£çš„è¯å¯è‡ªè¡Œå°è¯•ã€‚</li>
</ul>
<h4 id="223-pprofçš„é‡‡æ ·è¿‡ç¨‹å’ŒåŸç†"><a class="markdownIt-Anchor" href="#223-pprofçš„é‡‡æ ·è¿‡ç¨‹å’ŒåŸç†"></a> 2.2.3 pprofçš„é‡‡æ ·è¿‡ç¨‹å’ŒåŸç†</h4>
<p><strong>CPU</strong></p>
<ul>
<li>é‡‡æ ·å¯¹è±¡ï¼šæ‰€æœ‰å‡½æ•°è°ƒç”¨æ ˆå’Œå®ƒä»¬çš„å ç”¨æ—¶é—´</li>
<li>é‡‡æ ·ç‡ï¼š100æ¬¡/ç§’ï¼Œå›ºå®šå€¼</li>
<li>é‡‡æ ·æ—¶é—´ï¼šä»æ‰‹åŠ¨å¯åŠ¨åˆ°æ‰‹åŠ¨ç»“æŸ</li>
</ul>
<p>è¿™ä¸ªå®šæ—¶æœºåˆ¶åœ¨unixæˆ–ç±»unixç³»ç»Ÿä¸Šæ˜¯ä¾èµ–ä¿¡å·æœºåˆ¶å®ç°çš„ã€‚æ¯æ¬¡æš‚åœéƒ½ä¼šæ¥æ”¶åˆ°ä¸€ä¸ªä¿¡å·ï¼Œé€šè¿‡ç³»ç»Ÿè®¡æ—¶å™¨æ¥ä¿è¯è¿™ä¸ªä¿¡æ¯æ˜¯å›ºå®šé¢‘ç‡å‘é€çš„ã€‚</p>
<p>å¼€å§‹é‡‡æ ·â€”â€”&gt;è®¾å®šä¿¡å·å¤„ç†å‡½æ•°â€”â€”&gt;å¼€å¯å®šæ—¶å™¨</p>
<p>åœæ­¢é‡‡æ ·â€”â€”&gt;å–æ¶ˆä¿¡å·å¤„ç†å‡½æ•°â€”â€”&gt;å…³é—­å®šæ—¶å™¨</p>
<p>ä¸€å…±æœ‰ä¸‰ä¸ªç›¸å…³è§’è‰²ï¼šè¿›ç¨‹æœ¬èº«ã€æ“ä½œç³»ç»Ÿå’Œå†™ç¼“å†²ã€‚å¯åŠ¨é‡‡æ ·æ—¶ï¼Œè¿›ç¨‹å‘OSæ³¨å†Œä¸€ä¸ªå®šæ—¶å™¨</p>
<ul>
<li>
<p>æ“ä½œç³»ç»Ÿæ¯10mså‘è¿›ç¨‹å‘é€ä¸€æ¬¡SIGPROFä¿¡å·</p>
</li>
<li>
<p>è¿›ç¨‹æ¯æ¬¡æ¥æ”¶åˆ°SIGPROFä¿¡å·åå°±ä¼šå¯¹å½“å‰çš„è°ƒç”¨å †æ ˆè¿›è¡Œè®°å½•</p>
</li>
<li>
<p>ä¸æ­¤åŒæ—¶ï¼Œè¿›ç¨‹ä¼šå¯åŠ¨ä¸€ä¸ªå†™ç¼“å†²çš„goroutineï¼Œæ¯éš”100msä»è¿›ç¨‹ä¸­è¯»å–å·²ç»è®°å½•çš„å †æ ˆä¿¡æ¯ï¼Œå¹¶å†™å…¥åˆ°è¾“å‡ºæµã€‚</p>
</li>
</ul>
<p>å½“é‡‡æ ·åœæ­¢æ—¶ï¼Œè¿›ç¨‹å‘OSå–æ¶ˆå®šæ—¶å™¨ï¼Œä¸å†æ¥æ”¶ä¿¡å·ï¼Œå†™ç¼“å†²è¯»å–ä¸åˆ°æ–°çš„å †æ ˆæ—¶ï¼Œç»“æŸè¾“å‡ºã€‚</p>
<p><strong>Heap-å †å†…å­˜</strong></p>
<p>pprofçš„å†…å­˜é‡‡æ ·æ˜¯æœ‰å±€é™æ€§çš„ï¼Œå†…å­˜é‡‡æ ·åœ¨å®ç°ä¸Šä¾èµ–äº†å†…å­˜åˆ†é…å™¨çš„è®°å½•ï¼Œæ‰€ä»¥åªèƒ½è®°å½•åœ¨å †ä¸Šåˆ†é…ä¸”å‚ä¸GCçš„å†…å­˜ï¼Œä¸€äº›å…¶ä»–çš„å†…å­˜åˆ†é…ï¼Œä¾‹å¦‚è°ƒç”¨ç»“æŸå°±ä¼šå›æ”¶çš„æ ˆå†…å­˜ã€ä¸€äº›æ›´åº•å±‚ä½¿ç”¨cgoè°ƒç”¨åˆ†é…çš„å†…å­˜ï¼Œæ˜¯ä¸ä¼šè¢«å†…å­˜é‡‡æ ·è®°å½•çš„ã€‚</p>
<ul>
<li>é‡‡æ ·ç¨‹åºé€šè¿‡å†…å­˜åˆ†é…å™¨è®°å½•åœ¨å †ä¸Šåˆ†é…å’Œé‡Šæ”¾çš„å†…å­˜ï¼Œè®°å½•åˆ†é…å’Œé‡Šæ”¾çš„å¤§å°å’Œæ•°é‡</li>
<li>é‡‡æ ·ç‡ï¼šæ¯åˆ†é…512KBè®°å½•ä¸€æ¬¡ï¼Œå¯åœ¨è¿è¡Œå¼€å¤´ä¿®æ”¹ï¼Œè®¾ç½®ä¸º1åˆ™è¡¨ç¤ºæ¯æ¬¡åˆ†é…éƒ½ä¼šè®°å½•</li>
<li>é‡‡æ ·æ—¶é—´ï¼šä»ç¨‹åºè¿è¡Œå¼€å§‹åˆ°è·å–é‡‡æ ·ç»“æœæ—¶</li>
<li>é‡‡æ ·æŒ‡æ ‡ï¼šalloc_space, alloc_objects, inuse_space, inuse_objectsã€‚</li>
<li>è®¡ç®—æ–¹å¼ï¼šinuse = alloc - free</li>
</ul>
<p><strong>Goroutine-åç¨‹å’ŒThreadCreate-çº¿ç¨‹åˆ›å»º</strong></p>
<p>goroutineå’Œthreadcreateè¿™ä¸¤ä¸ªé‡‡æ ·æŒ‡æ ‡åœ¨æ¦‚å¿µä¸Šå’Œå®ç°ä¸Šéƒ½æ¯”è¾ƒç›¸ä¼¼ã€‚</p>
<ul>
<li>
<p>Goroutine</p>
<p>è®°å½•æ‰€æœ‰ç”¨æˆ·å‘èµ·ä¸”åœ¨è¿è¡Œä¸­çš„goroutineï¼ˆå³å…¥å£éruntimeå¼€å¤´çš„ï¼‰ä»¥åŠruntime.mainå‡½æ•°ä¸­çš„è°ƒç”¨æ ˆä¿¡æ¯</p>
<p>Stop The Worldâ€”â€”&gt;éå†allgåˆ‡ç‰‡â€”â€”&gt;è¾“å‡ºåˆ›å»ºgçš„å †æ ˆâ€”â€”&gt;Start The World</p>
</li>
<li>
<p>ThreadCreate</p>
<p>è®°å½•ç¨‹åºåˆ›å»ºçš„æ‰€æœ‰ç³»ç»Ÿçº¿ç¨‹çš„ä¿¡æ¯</p>
<p>Stop The Worldâ€”â€”&gt;éå†allmåˆ‡ç‰‡â€”â€”&gt;è¾“å‡ºåˆ›å»ºmçš„å †æ ˆâ€”â€”&gt;Start The World</p>
</li>
<li>
<p>å®ƒä»¬åœ¨å®ç°ä¸Šéå¸¸ç›¸ä¼¼ï¼Œéƒ½æ˜¯åœ¨Stop The Worldä¹‹åéå†æ‰€æœ‰goroutine/æ‰€æœ‰çº¿ç¨‹çš„åˆ—è¡¨(ä¸Šé¢çš„må°±æ˜¯ GMPæ¨¡å‹ä¸­çš„m,åœ¨golangä¸­å’Œçº¿ç¨‹ä¸€ä¸€å¯¹åº”ï¼‰å¹¶è¾“å‡ºå †æ ˆï¼Œæœ€åStart The Worldç»§ç»­è¿è¡Œã€‚è¿™ä¸ªé‡‡æ ·æ˜¯ç«‹åˆ»è§¦å‘çš„å…¨é‡è®°å½•ï¼Œå¯ä»¥é€šè¿‡æ¯”è¾ƒä¸¤ä¸ªæ—¶é—´ç‚¹çš„å·®å€¼æ¥å¾—åˆ°æŸä¸€æ—¶é—´æ®µçš„æŒ‡æ ‡ã€‚</p>
</li>
</ul>
<p><strong>Block-é˜»å¡å’ŒMutex-é”</strong></p>
<p>é˜»å¡å’Œé”ç«äº‰è¿™ä¸¤ç§é‡‡æ ·æŒ‡æ ‡åœ¨æµç¨‹å’ŒåŸç†ä¸Šä¹Ÿéå¸¸ç›¸ä¼¼ï¼Œè¿™ä¸¤ä¸ªé‡‡æ ·è®°å½•çš„éƒ½æ˜¯å¯¹åº”æ“ä½œå‘ç”Ÿçš„è°ƒç”¨æ ˆã€æ¬¡æ•°å’Œè€—æ—¶ï¼Œä¸è¿‡è¿™ä¸¤ä¸ªæŒ‡æ ‡çš„é‡‡æ ·ç‡å«ä¹‰å¹¶ä¸ç›¸åŒã€‚</p>
<ul>
<li>é˜»å¡æ“ä½œ
<ul>
<li>é‡‡æ ·é˜»å¡æ“ä½œçš„æ¬¡æ•°å’Œè€—æ—¶</li>
<li>é‡‡æ ·ç‡ï¼šé˜»å¡è€—æ—¶è¶…è¿‡é˜ˆå€¼æ—¶é—´çš„é˜»å¡æ“ä½œæ‰ä¼šè¢«è®°å½•ï¼Œè®¾ç½®è¿è¡Œå‚æ•°ä¸º1è¡¨ç¤ºæ¯æ¬¡æ“ä½œéƒ½ä¼šè®°å½•ã€‚</li>
</ul>
</li>
<li>é”ç«äº‰
<ul>
<li>é‡‡æ ·äº‰æŠ¢é”çš„æ¬¡æ•°å’Œè€—æ—¶</li>
<li>é‡‡æ ·ç‡ï¼šåªè®°å½•å›ºå®šæ¯”ä¾‹çš„é”æ“ä½œï¼Œè®¾ç½®è¿è¡Œå‚æ•°ä¸º1è¡¨ç¤ºæ¯æ¬¡åŠ é”éƒ½ä¼šè®°å½•ã€‚</li>
</ul>
</li>
<li>å®ƒä»¬åœ¨å®ç°ä¸Šä¹Ÿæ˜¯åŸºæœ¬ç›¸åŒçš„ï¼Œéƒ½æ˜¯ä¸€ä¸ªã€Œä¸»åŠ¨ä¸ŠæŠ¥ã€çš„è¿‡ç¨‹
<ul>
<li>åœ¨é˜»å¡æ“ä½œæˆ–é”æ“ä½œå‘ç”Ÿæ—¶ï¼Œä¼šè®¡ç®—å‡ºæ¶ˆè€—çš„æ—¶é—´ï¼Œè¿åŒè°ƒç”¨æ ˆä¸€èµ·ä¸»åŠ¨ä¸ŠæŠ¥ç»™é‡‡æ ·å™¨ï¼Œé‡‡æ ·å™¨ä¼šæ ¹æ®é‡‡æ ·ç‡å¯èƒ½ä¼šä¸¢å¼ƒä¸€äº›è®°å½•ã€‚ ä¾‹å¦‚æ—¶é—´æœªè¾¾é˜ˆå€¼æˆ–è€…æ¯”ä¾‹æœªå‘½ä¸­ã€‚</li>
<li>åœ¨é‡‡æ ·æ—¶ï¼Œé‡‡æ ·å™¨ä¼šéå†å·²ç»è®°å½•çš„ä¿¡æ¯ï¼Œç»Ÿè®¡å‡ºå…·ä½“æ“ä½œçš„æ¬¡æ•°ã€è°ƒç”¨æ ˆå’Œæ€»è€—æ—¶ã€‚å’Œå †å†…å­˜ä¸€æ ·ï¼Œ å¯ä»¥å¯¹æ¯”ä¸¤ä¸ªæ—¶é—´ç‚¹çš„å·®å€¼è®¡ç®—å‡ºè¿™æ®µæ—¶é—´å†…çš„æ“ä½œæŒ‡æ ‡ã€‚</li>
</ul>
</li>
</ul>
<h4 id="å°ç»“-2"><a class="markdownIt-Anchor" href="#å°ç»“-2"></a> å°ç»“</h4>
<ul>
<li>æŒæ¡å¸¸ç”¨pprofå·¥å…·åŠŸèƒ½</li>
<li>çµæ´»è¿ç”¨pprofå·¥å…·åˆ†æè§£å†³æ€§èƒ½é—®é¢˜</li>
<li>äº†è§£pprofçš„é‡‡æ ·è¿‡ç¨‹å’Œå·¥ä½œåŸç†</li>
</ul>
<h3 id="23-æ€§èƒ½è°ƒä¼˜æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#23-æ€§èƒ½è°ƒä¼˜æ¡ˆä¾‹"></a> 2.3 æ€§èƒ½è°ƒä¼˜æ¡ˆä¾‹</h3>
<p><strong>ç®€ä»‹</strong></p>
<p>ä»‹ç»å®é™…ä¸šåŠ¡æœåŠ¡æ€§èƒ½ä¼˜åŒ–çš„æ¡ˆä¾‹ã€‚å¯¹é€»è¾‘ç›¸å¯¹å¤æ‚çš„ç¨‹åºè¿›è¡Œæ€§èƒ½è°ƒä¼˜ã€‚</p>
<ul>
<li>
<p>ä¸šåŠ¡æœåŠ¡ä¼˜åŒ–</p>
<p>ä¸šåŠ¡æœåŠ¡ä¸€èˆ¬æŒ‡ç›´æ¥æä¾›åŠŸèƒ½çš„æœåŠ¡ï¼Œæ¯”å¦‚ç”¨æˆ·è¯„è®ºç³»ç»Ÿ</p>
</li>
<li>
<p>åŸºç¡€åº“ä¼˜åŒ–</p>
<p>åŸºç¡€åº“ä¸€èˆ¬æŒ‡æä¾›é€šç”¨åŠŸèƒ½çš„ç¨‹åºï¼Œä¸»è¦æ˜¯é’ˆå¯¹ä¸šåŠ¡æœåŠ¡æä¾›åŠŸèƒ½ï¼Œæ¯”å¦‚ç›‘æ§ç»„ä»¶ï¼Œç”¨äºæ”¶é›†ä¸šåŠ¡æœåŠ¡çš„è¿è¡ŒæŒ‡æ ‡</p>
</li>
<li>
<p>Goè¯­è¨€ä¼˜åŒ–</p>
<p>å¯¹Goè¯­è¨€æœ¬èº«è¿›è¡Œçš„ä¼˜åŒ–é¡¹</p>
</li>
</ul>
<h4 id="231-ä¸šåŠ¡æœåŠ¡ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#231-ä¸šåŠ¡æœåŠ¡ä¼˜åŒ–"></a> 2.3.1 ä¸šåŠ¡æœåŠ¡ä¼˜åŒ–</h4>
<p><strong>åŸºæœ¬æ¦‚å¿µ</strong></p>
<ul>
<li>æœåŠ¡ï¼šèƒ½å•ç‹¬éƒ¨ç½²ï¼Œæ‰¿è½½ä¸€å®šåŠŸèƒ½çš„ç¨‹åº</li>
<li>ä¾èµ–ï¼šService Açš„åŠŸèƒ½å®ç°ä¾èµ–Service Bçš„å“åº”ç»“æœï¼Œç§°ä¸ºService Aä¾èµ–Service B</li>
<li>è°ƒç”¨é“¾è·¯ï¼šèƒ½æ”¯æŒä¸€ä¸ªæ¥å£è¯·æ±‚çš„ç›¸å…³æœåŠ¡é›†åˆåŠå…¶ç›¸äº’ä¹‹é—´çš„ä¾èµ–å…³ç³»</li>
<li>åŸºç¡€åº“ï¼šå…¬å…±çš„å·¥å…·åŒ…ã€ä¸­é—´ä»¶</li>
</ul>
<p><strong>æµç¨‹</strong></p>
<ul>
<li>å»ºç«‹æœåŠ¡æ€§èƒ½è¯„ä¼°æ‰‹æ®µã€‚</li>
<li>åˆ†ææ€§èƒ½æ•°æ®ï¼Œå®šä½æ€§èƒ½ç“¶é¢ˆã€‚ç”¨pprofé‡‡æ ·æ€§èƒ½æ•°æ®ã€åˆ†ææœåŠ¡ã€‚</li>
<li>é‡ç‚¹ä¼˜åŒ–é¡¹æ”¹é€ ã€‚é‡æ„ä»£ç ã€ä½¿ç”¨æ›´é«˜æ•ˆçš„ç»„ä»¶ç­‰ã€‚</li>
<li>ä¼˜åŒ–æ•ˆæœéªŒè¯ã€‚é€šè¿‡å‹æµ‹å¯¹æ¯”å’Œæ­£ç¡®æ€§éªŒè¯ä¹‹åï¼Œä¸Šçº¿æœåŠ¡è¿›è¡Œå®é™…æ”¶ç›Šè¯„ä¼°ã€‚</li>
</ul>
<p><strong>å»ºç«‹æœåŠ¡æ€§èƒ½è¯„ä¼°æ‰‹æ®µ</strong></p>
<ul>
<li>æœåŠ¡æ€§èƒ½è¯„ä¼°æ–¹å¼
<ul>
<li>å•ç‹¬çš„benchmarkæ— æ³•æ»¡è¶³å¤æ‚é€»è¾‘åˆ†æ</li>
<li>ä¸åŒè´Ÿè½½æƒ…å†µä¸‹æ€§èƒ½è¡¨ç°æœ‰æ‰€å·®å¼‚</li>
</ul>
</li>
<li>è¯·æ±‚æµé‡æ„é€ 
<ul>
<li>ä¸åŒè¯·æ±‚å‚æ•°è¦†ç›–é€»è¾‘ä¸åŒ</li>
<li>çº¿ä¸ŠçœŸå®æµé‡æƒ…å†µ</li>
</ul>
</li>
<li>å‹æµ‹èŒƒå›´
<ul>
<li>å•æœºå‹æµ‹</li>
<li>é›†ç¾¤å‹æµ‹</li>
</ul>
</li>
<li>æ€§èƒ½æ•°æ®é‡‡é›†
<ul>
<li>å•æœºæ€§èƒ½æ•°æ®</li>
<li>é›†ç¾¤æ€§èƒ½æ•°æ®</li>
</ul>
</li>
</ul>
<p>æœ€åè¡¨ç°ä¸ºä¸€ä¸ªæœåŠ¡çš„æ€§èƒ½æŒ‡æ ‡åˆ†ææŠ¥å‘Š</p>
<p><strong>åˆ†ææ€§èƒ½æ•°æ®ï¼Œå®šä½æ€§èƒ½ç“¶é¢ˆ</strong></p>
<p>å¸¸è§æ€§èƒ½é—®é¢˜</p>
<ul>
<li>
<p>ä½¿ç”¨åº“ä¸è§„èŒƒ</p>
<ul>
<li>åŸºç¡€ç»„ä»¶ä¸è§„èŒƒï¼Œä¸€èˆ¬æ˜¯ä»£ç ç¼–å†™é€»è¾‘é—®é¢˜ï¼Œæ¯”å¦‚æä¾›äº†ç¼“å­˜æœºåˆ¶ï¼Œä½†æ˜¯ä»£ç ä¸­æ²¡æœ‰å¼€å¯ã€‚</li>
<li>æ—¥å¿—ä½¿ç”¨ä¸è§„èŒƒï¼Œä¸€èˆ¬æ˜¯çº¿ä¸ŠæœåŠ¡ç¯å¢ƒå¯¼è‡´æŸä¸€è°ƒç”¨é“¾è·¯æ•°æ®é‡å‰§å¢ï¼Œæ—¥å¿—é‡éšä¹‹å‰§å¢ï¼Œå½±å“æ€§èƒ½ã€‚</li>
</ul>
</li>
<li>
<p>é«˜å¹¶å‘åœºæ™¯ä¼˜åŒ–ä¸è¶³</p>
<p>ä¾‹å¦‚åŒæ­¥è¯·æ±‚é€ æˆçš„æ€§èƒ½ç“¶é¢ˆï¼Œå½±å“åˆ°äº†ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œåç»­å¯æ”¹é€ æˆå¼‚æ­¥è¯·æ±‚æå‡æ€§èƒ½ã€‚</p>
</li>
</ul>
<p><strong>é‡ç‚¹ä¼˜åŒ–é¡¹æ”¹é€ </strong></p>
<ul>
<li>
<p>æ€§èƒ½ä¼˜åŒ–çš„å‰ææ˜¯ä¿è¯æ­£ç¡®æ€§ï¼Œåœ¨å˜åŠ¨è¾ƒå¤§çš„æ€§èƒ½ä¼˜åŒ–ä¸Šçº¿ä¹‹å‰ï¼Œè¿˜éœ€è¦è¿›è¡Œæ­£ç¡®æ€§éªŒè¯ã€‚ç”±äºçº¿ä¸Šçš„åœºæ™¯å’Œæµç¨‹å¤ªå¤šï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šå€ŸåŠ©è‡ªåŠ¨åŒ–æ‰‹æ®µæ¥ä¿è¯ä¼˜åŒ–åç¨‹åºçš„æ­£ç¡®æ€§ã€‚</p>
</li>
<li>
<p>å“åº”æ•°æ®diff</p>
<ul>
<li>
<p>çº¿ä¸Šè¯·æ±‚æ•°æ®å½•åˆ¶å›æ”¾</p>
<p>ä¸ä»…åŒ…å«è¯·æ±‚å‚æ•°å½•åˆ¶ï¼Œè¿˜æœ‰çº¿ä¸Šçš„è¿”å›å†…å®¹å½•åˆ¶</p>
</li>
<li>
<p>æ–°æ—§é€»è¾‘æ¥å£æ•°æ®diff</p>
<p>é‡æ”¾æ—¶å¯¹æ¯”çº¿ä¸Šçš„è¿”å›å†…å®¹å’Œä¼˜åŒ–åæœåŠ¡çš„è¿”å›å†…å®¹è¿›è¡Œæ­£ç¡®æ€§éªŒè¯</p>
</li>
</ul>
</li>
</ul>
<p><strong>ä¼˜åŒ–æ•ˆæœéªŒè¯</strong></p>
<ul>
<li>é‡å¤å‹æµ‹éªŒè¯</li>
<li>ä¸Šçº¿è¯„ä¼°ä¼˜åŒ–æ•ˆæœ
<ul>
<li>å…³æ³¨æœåŠ¡ç›‘æ§</li>
<li>é€æ­¥æ”¾é‡</li>
<li>æ”¶é›†æ€§èƒ½æ•°æ®</li>
</ul>
</li>
</ul>
<p>å‹æµ‹å¹¶ä¸èƒ½ä¿è¯å’Œçº¿ä¸Šè¡¨ç°å®Œå…¨ä¸€è‡´ï¼Œæœ‰æ—¶è¿˜è¦é€šè¿‡çº¿ä¸Šçš„è¡¨ç°å†è¿›è¡Œåˆ†ææ”¹è¿›ï¼Œæ˜¯ä¸ªé•¿æœŸçš„è¿‡ç¨‹ã€‚</p>
<p><strong>è¿›ä¸€æ­¥ä¼˜åŒ–ï¼ŒæœåŠ¡æ•´ä½“é“¾è·¯åˆ†æ</strong></p>
<ul>
<li>è§„èŒƒä¸Šæ¸¸æœåŠ¡è°ƒç”¨æ¥å£ï¼Œæ˜ç¡®åœºæ™¯éœ€æ±‚</li>
<li>åˆ†æé“¾è·¯ï¼Œé€šè¿‡ä¸šåŠ¡æµç¨‹ä¼˜åŒ–æå‡æœåŠ¡æ€§èƒ½</li>
</ul>
<h4 id="232-åŸºç¡€åº“ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#232-åŸºç¡€åº“ä¼˜åŒ–"></a> 2.3.2 åŸºç¡€åº“ä¼˜åŒ–</h4>
<p><strong>ABå®éªŒSDKçš„ä¼˜åŒ–</strong></p>
<blockquote>
<p>A/Bæµ‹è¯•ï¼ˆä¹Ÿç§°ä¸º<strong>åˆ†å‰²æµ‹è¯•</strong>æˆ–<strong>æ¡¶æµ‹è¯•</strong>ï¼‰æ˜¯ä¸€ç§å°†ç½‘é¡µæˆ–åº”ç”¨ç¨‹åºçš„ä¸¤ä¸ªç‰ˆæœ¬ç›¸äº’æ¯”è¾ƒä»¥ç¡®å®šå“ªä¸ªç‰ˆæœ¬çš„æ€§èƒ½æ›´å¥½çš„æ–¹æ³•ã€‚ABæµ‹è¯•æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå®éªŒï¼Œå…¶ä¸­é¡µé¢çš„ä¸¤ä¸ªæˆ–å¤šä¸ªå˜ä½“éšæœºæ˜¾ç¤ºç»™ç”¨æˆ·ï¼Œç»Ÿè®¡åˆ†æç¡®å®šå“ªä¸ªå˜ä½“å¯¹äºç»™å®šçš„è½¬æ¢ç›®æ ‡ï¼ˆæŒ‡æ ‡å¦‚CTRï¼‰æ•ˆæœæ›´å¥½ã€‚</p>
</blockquote>
<ul>
<li>åˆ†æåŸºç¡€åº“æ ¸å¿ƒé€»è¾‘å’Œæ€§èƒ½ç“¶é¢ˆ
<ul>
<li>è®¾è®¡å®Œå–„æ”¹é€ æ–¹æ¡ˆ</li>
<li>æ•°æ®æŒ‰éœ€è·å–</li>
<li>æ•°æ®åºåˆ—åŒ–åè®®ä¼˜åŒ–</li>
</ul>
</li>
<li>å†…éƒ¨å‹æµ‹éªŒè¯</li>
<li>æ¨å¹¿ä¸šåŠ¡æœåŠ¡è½åœ°éªŒè¯</li>
</ul>
<h4 id="233-goè¯­è¨€ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#233-goè¯­è¨€ä¼˜åŒ–"></a> 2.3.3 Goè¯­è¨€ä¼˜åŒ–</h4>
<p><strong>ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶ä¼˜åŒ–</strong></p>
<ul>
<li>ä¼˜åŒ–å†…å­˜åˆ†é…ç­–ç•¥</li>
<li>ä¼˜åŒ–ä»£ç ç¼–è¯‘æµç¨‹ï¼Œç”Ÿæˆæ›´é«˜æ•ˆçš„ç¨‹åº</li>
<li>å†…éƒ¨å‹æµ‹éªŒè¯</li>
<li>æ¨å¹¿ä¸šåŠ¡æœåŠ¡è½åœ°éªŒè¯</li>
</ul>
<p>ä¼˜ç‚¹</p>
<ul>
<li>æ¥å…¥ç®€å•ï¼Œåªéœ€è¦è°ƒæ•´ç¼–è¯‘é…ç½®</li>
<li>é€šç”¨æ€§å¼º</li>
</ul>
<h3 id="24-æ€»ç»“"><a class="markdownIt-Anchor" href="#24-æ€»ç»“"></a> 2.4 æ€»ç»“</h3>
<ul>
<li>æ€§èƒ½è°ƒä¼˜åŸåˆ™
<ul>
<li>è¦ä¾é æ•°æ®è€Œä¸æ˜¯çŒœæµ‹</li>
</ul>
</li>
<li>æ€§èƒ½åˆ†æå·¥å…·pprof
<ul>
<li>ç†Ÿç»ƒä½¿ç”¨pprofå·¥å…·æ’æŸ¥æ€§èƒ½é—®é¢˜å¹¶äº†è§£å…¶åŸºæœ¬åŸç†</li>
</ul>
</li>
<li>æ€§èƒ½è°ƒä¼˜
<ul>
<li>ä¿è¯æ­£ç¡®æ€§</li>
<li>å®šä½ä¸»è¦ç“¶é¢ˆ</li>
</ul>
</li>
</ul>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<p><a class="link"   href="https://go.dev/doc/tutorial/add-a-test" >Add a test - The Go Programming Language <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://pkg.go.dev/testing#hdr-Benchmarks" >testing package - testing - Go Packages <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://geektutu.com/post/hpg-slice.html" >åˆ‡ç‰‡(slice)æ€§èƒ½åŠé™·é˜± | Go è¯­è¨€é«˜æ€§èƒ½ç¼–ç¨‹ | æå®¢å…”å…”  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://cloud.tencent.com/developer/article/1496302" >ä»€ä¹ˆæ˜¯A/B testï¼Ÿæœ‰å“ªäº›æµç¨‹ï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Go è¯­è¨€å†…å­˜ç®¡ç†è¯¦è§£</title>
    <url>/2023/01/30/golang-day4/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7194838118955450428" >Go è¯­è¨€å†…å­˜ç®¡ç†è¯¦è§£ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹golangå†…å­˜ç®¡ç†çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="å†…å­˜ç®¡ç†è¯¦è§£"><a class="markdownIt-Anchor" href="#å†…å­˜ç®¡ç†è¯¦è§£"></a> å†…å­˜ç®¡ç†è¯¦è§£</h2>
<h3 id="è¿½æ±‚æè‡´æ€§èƒ½"><a class="markdownIt-Anchor" href="#è¿½æ±‚æè‡´æ€§èƒ½"></a> è¿½æ±‚æè‡´æ€§èƒ½</h3>
<p>æ€§èƒ½ä¼˜åŒ–ï¼šæå‡è½¯ä»¶ç³»ç»Ÿå¤„ç†èƒ½åŠ›ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¶ˆè€—ï¼Œå……åˆ†å‘æ˜è®¡ç®—æœºç®—åŠ›ã€‚</p>
<p>æ€§èƒ½ä¼˜åŒ–çš„ç›®çš„</p>
<ul>
<li>ç”¨æˆ·ä½“éªŒï¼šå¸¦æ¥ç”¨æˆ·ä½“éªŒçš„æå‡</li>
<li>èµ„æºé«˜æ•ˆåˆ©ç”¨ï¼šé™ä½æˆæœ¬ã€‚æé«˜æ•ˆç‡</li>
</ul>
<h3 id="æ€§èƒ½ä¼˜åŒ–çš„å±‚é¢"><a class="markdownIt-Anchor" href="#æ€§èƒ½ä¼˜åŒ–çš„å±‚é¢"></a> æ€§èƒ½ä¼˜åŒ–çš„å±‚é¢</h3>
<ul>
<li>ä¸šåŠ¡å±‚ä¼˜åŒ–
<ul>
<li>é’ˆå¯¹ç‰¹å®šåœºæ™¯ï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æ</li>
<li>å®¹æ˜“è·å¾—è¾ƒå¤§æ€§èƒ½æ”¶ç›Š</li>
</ul>
</li>
<li>è¯­è¨€è¿è¡Œæ—¶ä¼˜åŒ–
<ul>
<li>è§£å†³æ›´é€šç”¨çš„æ€§èƒ½é—®é¢˜</li>
<li>è€ƒè™‘æ›´å¤šåœºæ™¯</li>
<li>Tradeoffsæƒè¡¡</li>
</ul>
</li>
<li>æ•°æ®é©±åŠ¨
<ul>
<li>è‡ªåŠ¨åŒ–æ€§èƒ½åˆ†æå·¥å…·â€”â€”pprof</li>
<li>ä¾é æ•°æ®è€ŒéçŒœæµ‹</li>
<li>é¦–å…ˆä¼˜åŒ–æœ€å¤§ç“¶é¢ˆ</li>
</ul>
</li>
</ul>
<h3 id="æ€§èƒ½ä¼˜åŒ–ä¸è½¯ä»¶è´¨é‡"><a class="markdownIt-Anchor" href="#æ€§èƒ½ä¼˜åŒ–ä¸è½¯ä»¶è´¨é‡"></a> æ€§èƒ½ä¼˜åŒ–ä¸è½¯ä»¶è´¨é‡</h3>
<ul>
<li>è½¯ä»¶è´¨é‡è‡³å…³é‡è¦</li>
<li>åœ¨ä¿è¯æ¥å£ç¨³å®šçš„å‰æä¸‹æ”¹è¿›å…·ä½“å®ç°</li>
<li>æµ‹è¯•ç”¨ä¾‹ï¼šè¦†ç›–å°½å¯èƒ½å¤šçš„åœºæ™¯ï¼Œæ–¹ä¾¿å›å½’</li>
<li>æ–‡æ¡£ï¼šåšäº†ä»€ä¹ˆï¼Œæ²¡åšä»€ä¹ˆï¼Œèƒ½è¾¾åˆ°æ€æ ·çš„æ•ˆæœ</li>
<li>éš”ç¦»ï¼šé€šè¿‡é€‰é¡¹æ§åˆ¶æ˜¯å¦å¼€å¯ä¼˜åŒ–</li>
<li>å¯è§‚æµ‹ï¼šå¿…è¦çš„æ—¥å¿—è¾“å‡º</li>
</ul>
<h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3>
<ul>
<li>æ€§èƒ½ä¼˜åŒ–çš„åŸºæœ¬é—®é¢˜</li>
<li>æ€§èƒ½ä¼˜åŒ–çš„ä¸¤ä¸ªå±‚é¢</li>
<li>æ€§èƒ½ä¼˜åŒ–çš„å¯ç»´æŠ¤æ€§</li>
</ul>
<h3 id="1è‡ªåŠ¨å†…å­˜ç®¡ç†"><a class="markdownIt-Anchor" href="#1è‡ªåŠ¨å†…å­˜ç®¡ç†"></a> 1.è‡ªåŠ¨å†…å­˜ç®¡ç†</h3>
<h4 id="11-è‡ªåŠ¨å†…å­˜ç®¡ç†"><a class="markdownIt-Anchor" href="#11-è‡ªåŠ¨å†…å­˜ç®¡ç†"></a> 1.1 è‡ªåŠ¨å†…å­˜ç®¡ç†</h4>
<ul>
<li>åŠ¨æ€å†…å­˜
<ul>
<li>ç¨‹åºåœ¨è¿è¡Œæ—¶æ ¹æ®éœ€æ±‚åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼šmalloc()</li>
</ul>
</li>
<li>è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼ˆåƒåœ¾å›æ”¶ï¼‰ï¼šç”±ç¨‹åºè¯­è¨€çš„è¿è¡Œæ—¶ç³»ç»Ÿç®¡ç†åŠ¨æ€å†…å­˜
<ul>
<li>é¿å…æ‰‹åŠ¨å†…å­˜ç®¡ç†ï¼Œä¸“æ³¨äºå®ç°ä¸šåŠ¡é€»è¾‘</li>
<li>ä¿è¯å†…å­˜ä½¿ç”¨çš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§ï¼šdouble-free problemï¼Œuse-after-free problem</li>
</ul>
</li>
<li>ä¸‰ä¸ªä»»åŠ¡
<ul>
<li>ä¸ºæ–°å¯¹è±¡åˆ†é…ç©ºé—´</li>
<li>æ‰¾åˆ°å­˜æ´»å¯¹è±¡</li>
<li>å›æ”¶æ­»äº¡å¯¹è±¡çš„å†…å­˜ç©ºé—´</li>
</ul>
</li>
</ul>
<p><strong>ç›¸å…³æ¦‚å¿µ</strong></p>
<ul>
<li>
<p>Mutatorï¼šä¸šåŠ¡çº¿ç¨‹ï¼Œåˆ†é…æ–°å¯¹è±¡ï¼Œä¿®æ”¹å¯¹è±¡çš„æŒ‡å‘å…³ç³»</p>
</li>
<li>
<p>Collectorï¼šGCçº¿ç¨‹ï¼Œæ‰¾åˆ°å­˜æ´»å¯¹è±¡ï¼Œå›æ”¶æ­»äº¡å¯¹è±¡çš„å†…å­˜ç©ºé—´</p>
</li>
<li>
<p>Serial GCï¼šåªæœ‰ä¸€ä¸ªcollector</p>
</li>
<li>
<p>Parallel GCï¼šæ”¯æŒå¤šä¸ªcollectoråŒæ—¶å›æ”¶çš„GCç®—æ³•</p>
</li>
<li>
<p>Concurrent GCï¼šmutator(s)å’Œcollector(s)å¯ä»¥åŒæ—¶æ‰§è¡Œ</p>
</li>
<li>
<p>Collectorså¿…é¡»æ„ŸçŸ¥å¯¹è±¡æŒ‡å‘å…³ç³»çš„æ”¹å˜</p>
</li>
<li>
<p>è¯„ä»·GCç®—æ³•</p>
<ul>
<li>å®‰å…¨æ€§ï¼ˆSafetyï¼‰ï¼šä¸èƒ½å›æ”¶å­˜æ´»çš„å¯¹è±¡ã€‚è¿™æ˜¯åŸºæœ¬è¦æ±‚</li>
<li>ååç‡ï¼ˆThroughputï¼‰ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ’</mo><mfrac><mrow><mi>G</mi><mi>C</mi><mtext>æ—¶é—´</mtext></mrow><mtext>ç¨‹åºæ‰§è¡Œæ€»æ—¶é—´</mtext></mfrac></mrow><annotation encoding="application/x-tex">1-\frac {GCæ—¶é—´}{ç¨‹åºæ‰§è¡Œæ€»æ—¶é—´}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">ç¨‹</span><span class="mord cjk_fallback mtight">åº</span><span class="mord cjk_fallback mtight">æ‰§</span><span class="mord cjk_fallback mtight">è¡Œ</span><span class="mord cjk_fallback mtight">æ€»</span><span class="mord cjk_fallback mtight">æ—¶</span><span class="mord cjk_fallback mtight">é—´</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">G</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord cjk_fallback mtight">æ—¶</span><span class="mord cjk_fallback mtight">é—´</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>ã€‚èŠ±åœ¨GCä¸Šçš„æ—¶é—´</li>
<li>æš‚åœæ—¶é—´ï¼ˆPause timeï¼‰ï¼šstop the worldï¼ˆSTWï¼‰ã€‚ä¸šåŠ¡æ˜¯å¦æ„ŸçŸ¥</li>
<li>å†…å­˜å¼€é”€ï¼ˆSpace overheadï¼‰ï¼šGCå…ƒæ•°æ®å¼€é”€</li>
</ul>
</li>
<li>
<p>è¿½è¸ªåƒåœ¾å›æ”¶ï¼ˆTracing garbage collectionï¼‰</p>
</li>
<li>
<p>å¼•ç”¨è®¡æ•°ï¼ˆReference countingï¼‰</p>
</li>
</ul>
<h4 id="12-è¿½è¸ªåƒåœ¾å›æ”¶"><a class="markdownIt-Anchor" href="#12-è¿½è¸ªåƒåœ¾å›æ”¶"></a> 1.2 è¿½è¸ªåƒåœ¾å›æ”¶</h4>
<ul>
<li>
<p>å¯¹è±¡è¢«å›æ”¶çš„æ¡ä»¶ï¼šæŒ‡é’ˆæŒ‡å‘å…³ç³»ä¸å¯è¾¾çš„å¯¹è±¡</p>
</li>
<li>
<p>æ ‡è®°æ ¹å¯¹è±¡</p>
<ul>
<li>é™æ€å˜é‡ã€å…¨å±€å˜é‡ã€å¸¸é‡ã€çº¿ç¨‹æ ˆç­‰</li>
</ul>
</li>
<li>
<p>æ ‡è®°ï¼šæ‰¾åˆ°å¯è¾¾å¯¹è±¡</p>
<ul>
<li>æ±‚æŒ‡é’ˆæŒ‡å‘å…³ç³»çš„ä¼ é€’é—­åŒ…ï¼šä»æ ¹å¯¹è±¡å‡ºå‘ï¼Œæ‰¾åˆ°æ‰€æœ‰å¯è¾¾å¯¹è±¡</li>
</ul>
</li>
<li>
<p>æ¸…ç†ï¼šæ‰€æœ‰ä¸å¯è¾¾å¯¹è±¡</p>
<ul>
<li>
<p>å°†å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–çš„å†…å­˜ç©ºé—´ï¼ˆCopying GCï¼‰</p>
<p>Copying GCï¼šå°†å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–çš„å†…å­˜ç©ºé—´</p>
</li>
<li>
<p>å°†æ­»äº¡å¯¹è±¡çš„å†…å­˜æ ‡è®°ä¸ºâ€œå¯åˆ†é…â€ï¼ˆMark-sweep GCï¼‰</p>
<p>Mark-sweep GCï¼šä½¿ç”¨free listç®¡ç†ç©ºé—²å†…å­˜</p>
</li>
<li>
<p>ç§»åŠ¨å¹¶æ•´ç†å­˜æ´»å¯¹è±¡ï¼ˆMark-compact GCï¼‰</p>
<p>Compact GCï¼šåŸåœ°æ•´ç†å¯¹è±¡</p>
</li>
</ul>
</li>
<li>
<p>æ ¹æ®å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½¿ç”¨ä¸åŒçš„æ ‡è®°å’Œæ¸…ç†ç­–ç•¥</p>
</li>
</ul>
<h4 id="13-åˆ†ä»£-gcgenerational-gc"><a class="markdownIt-Anchor" href="#13-åˆ†ä»£-gcgenerational-gc"></a> 1.3 åˆ†ä»£ GCï¼ˆGenerational GCï¼‰</h4>
<ul>
<li>åˆ†ä»£å‡è¯´ï¼ˆGenerational hypothesisï¼‰ï¼šmost objects die young</li>
<li>Intuitionï¼šå¾ˆå¤šå¯¹è±¡åœ¨åˆ†é…å‡ºæ¥åå¾ˆå¿«å°±ä¸åœ¨ä½¿ç”¨äº†</li>
<li>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰å¹´é¾„ï¼šç»å†è¿‡GCçš„æ¬¡æ•°</li>
<li>ç›®çš„ï¼šå¯¹å¹´è½»å’Œå¹´è€çš„å¯¹è±¡ï¼Œåˆ¶å®šä¸åŒçš„GCç­–ç•¥ï¼Œé™ä½æ•´ä½“å†…å­˜ç®¡ç†çš„å¼€é”€</li>
<li>ä¸åŒå¹´é¾„çš„å¯¹è±¡å¤„äºheapçš„ä¸åŒåŒºåŸŸ</li>
<li>å¹´è½»ä»£ï¼ˆYoung generationï¼‰
<ul>
<li>å¸¸è§„çš„å¯¹è±¡åˆ†é…</li>
<li>ç”±äºå­˜æ´»å¯¹è±¡å¾ˆå°‘ï¼Œå¯ä»¥é‡‡ç”¨copying collection</li>
<li>GCååç‡å¾ˆé«˜</li>
</ul>
</li>
<li>è€å¹´ä»£ï¼ˆOld generationï¼‰
<ul>
<li>å¯¹è±¡è¶‹å‘ä¸€ç›´æ´»ç€ï¼Œåå¤å¤åˆ¶å¼€é”€è¾ƒå¤§</li>
<li>å¯ä»¥é‡‡ç”¨mark-sweep collection</li>
</ul>
</li>
</ul>
<h4 id="14-å¼•ç”¨è®¡æ•°"><a class="markdownIt-Anchor" href="#14-å¼•ç”¨è®¡æ•°"></a> 1.4 å¼•ç”¨è®¡æ•°</h4>
<ul>
<li>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å¼•ç”¨æ•°ç›®</li>
<li>å¯¹è±¡å­˜æ´»çš„æ¡ä»¶ï¼šå½“ä¸”ä»…å½“å¼•ç”¨æ•°å¤§äº0</li>
<li>ä¼˜ç‚¹
<ul>
<li>å†…å­˜ç®¡ç†çš„æ“ä½œè¢«å¹³æ‘Šåˆ°ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­</li>
<li>å†…å­˜ç®¡ç†ä¸éœ€è¦äº†è§£runtimeçš„å®ç°ç»†èŠ‚ï¼šC++æ™ºèƒ½æŒ‡é’ˆï¼ˆsmart pointerï¼‰</li>
</ul>
</li>
<li>ç¼ºç‚¹
<ul>
<li>ç»´æŠ¤å¼•ç”¨è®¡æ•°çš„å¼€é”€è¾ƒå¤§ï¼šé€šè¿‡åŸå­æ“ä½œä¿è¯å¯¹å¼•ç”¨è®¡æ•°æ“ä½œçš„åŸå­æ€§å’Œå¯è§æ€§</li>
<li>æ— æ³•å›æ”¶ç¯å½¢æ•°æ®ç»“æ„â€”â€”weak reference</li>
<li>å†…å­˜å¼€é”€ï¼šæ¯ä¸ªå¯¹è±¡éƒ½å¼•å…¥çš„é¢å¤–å†…å­˜ç©ºé—´å­˜å‚¨å¼•ç”¨æ•°ç›®</li>
<li>å›æ”¶å†…å­˜æ—¶ä¾ç„¶å¯èƒ½å¼•å‘æš‚åœ</li>
</ul>
</li>
</ul>
<h4 id="æ€»ç»“-2"><a class="markdownIt-Anchor" href="#æ€»ç»“-2"></a> æ€»ç»“</h4>
<ul>
<li>è‡ªåŠ¨å†…å­˜ç®¡ç†çš„èƒŒæ™¯å’Œæ„ä¹‰</li>
<li>æ¦‚å¿µå’Œè¯„ä»·æ–¹æ³•</li>
<li>è¿½è¸ªåƒåœ¾å›æ”¶</li>
<li>å¼•ç”¨è®¡æ•°</li>
<li>åˆ†ä»£ GC</li>
<li>å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œä¸€ç›´è‡´åŠ›äºè§£å†³è‡ªåŠ¨å†…å­˜ç®¡ç†æŠ€æœ¯çš„ä¸è¶³ä¹‹å¤„
<ul>
<li>ç›¸å…³ä¿¡æ¯<a class="link"   href="https://pldi22.sigplan.org/details/pldi-2022-pldi/15/Low-Latency-High-Throughput-Garbage-Collection" >Low-Latency, High-Throughput Garbage Collection (PLDI 2022 - PLDI Research Papers)  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li>ç›¸å…³ä»‹ç»<a class="link"   href="https://zhuanlan.zhihu.com/p/525093935" >PLDIâ€™22 | June 13-17ï¼Œç¼–ç¨‹è¯­è¨€é¡¶çº§ä¼šè®® <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
</li>
</ul>
<h3 id="2goç®¡ç†åŠä¼˜åŒ–"><a class="markdownIt-Anchor" href="#2goç®¡ç†åŠä¼˜åŒ–"></a> 2.Goç®¡ç†åŠä¼˜åŒ–</h3>
<h4 id="21-go-å†…å­˜åˆ†é…"><a class="markdownIt-Anchor" href="#21-go-å†…å­˜åˆ†é…"></a> 2.1 Go å†…å­˜åˆ†é…</h4>
<p><strong>åˆ†å—</strong></p>
<ul>
<li>ç›®æ ‡ï¼šä¸ºå¯¹è±¡åœ¨heapä¸Šåˆ†é…å†…å­˜</li>
<li>æå‰å°†å†…å­˜åˆ†å—
<ul>
<li>è°ƒç”¨ç³»ç»Ÿè°ƒç”¨ mmap() å‘OSç”³è¯·ä¸€å¤§å—å†…å­˜ï¼Œä¾‹å¦‚ 4 MB</li>
<li>å…ˆå°†å†…å­˜åˆ’åˆ†æˆå¤§å—ï¼Œä¾‹å¦‚ 8 KBï¼Œç§°ä½œ mspan</li>
<li>å†å°†å¤§å—ç»§ç»­åˆ’åˆ†æˆç‰¹å®šå¤§å°çš„å°å—ï¼Œç”¨äºå¯¹è±¡åˆ†é…</li>
<li>noscan mspanï¼šåˆ†é…ä¸åŒ…å«æŒ‡é’ˆçš„å¯¹è±¡â€”â€”GC ä¸éœ€è¦æ‰«æ</li>
<li>scan mspanï¼šåˆ†é…åŒ…å«æŒ‡é’ˆçš„å¯¹è±¡â€”â€”GC éœ€è¦æ‰«æ</li>
</ul>
</li>
<li>å¯¹è±¡åˆ†é…ï¼šæ ¹æ®å¯¹è±¡çš„å¤§å°ï¼Œé€‰æ‹©æœ€åˆé€‚çš„å—è¿”å›</li>
</ul>
<p><strong>ç¼“å­˜</strong></p>
<ul>
<li>TCMallocï¼šthread caching</li>
<li>æ¯ä¸ª p åŒ…å«ä¸€ä¸ª mcache ç”¨äºå¿«é€Ÿåˆ†é…ï¼Œç”¨äºä¸ºç»‘å®šäº p ä¸Šçš„ g åˆ†é…å¯¹è±¡</li>
<li>mcache ç®¡ç†ä¸€ç»„ mspan</li>
<li>å½“ mcache ä¸­çš„ mspan åˆ†é…å®Œæ¯•ï¼Œå‘ mcentral ç”³è¯·å¸¦æœ‰æœªåˆ†é…å—çš„ mspan</li>
<li>å½“ mspan ä¸­æ²¡æœ‰åˆ†é…çš„å¯¹è±¡ï¼Œmspan ä¼šè¢«ç¼“å­˜åœ¨ mcentral ä¸­ï¼Œè€Œä¸æ˜¯ç«‹åˆ»é‡Šæ”¾å¹¶å½’è¿˜ç»™ OS</li>
</ul>
<h4 id="22-go-å†…å­˜ç®¡ç†ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#22-go-å†…å­˜ç®¡ç†ä¼˜åŒ–"></a> 2.2 Go å†…å­˜ç®¡ç†ä¼˜åŒ–</h4>
<ul>
<li>å¯¹è±¡åˆ†é…æ˜¯éå¸¸é«˜é¢‘çš„æ“ä½œï¼šæ¯ç§’åˆ†é… GB çº§åˆ«çš„å†…å­˜</li>
<li>å°å¯¹è±¡å æ¯”è¾ƒé«˜</li>
<li>Go å†…å­˜åˆ†é…æ¯”è¾ƒè€—æ—¶
<ul>
<li>åˆ†é…è·¯å¾„é•¿ï¼šg -&gt; m -&gt; p -&gt; mcache -&gt; mspan -&gt; memory block -&gt; return pointer</li>
<li>pprofï¼šå¯¹è±¡åˆ†é…çš„å‡½æ•°æ˜¯æœ€é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ä¹‹ä¸€</li>
</ul>
</li>
</ul>
<h4 id="23-ä¼˜åŒ–æ–¹æ¡ˆbalanced-gc"><a class="markdownIt-Anchor" href="#23-ä¼˜åŒ–æ–¹æ¡ˆbalanced-gc"></a> 2.3 ä¼˜åŒ–æ–¹æ¡ˆï¼šBalanced GC</h4>
<ul>
<li>
<p>æ¯ä¸ª g éƒ½ç»‘å®šä¸€å¤§å—å†…å­˜ï¼ˆ1KBï¼‰ï¼Œç§°ä½œ goroutine allocation bufferï¼ˆGABï¼‰</p>
</li>
<li>
<p>GAB ç”¨äº noscan ç±»å‹çš„å°å¯¹è±¡åˆ†é…ï¼š&lt; 128 B</p>
</li>
<li>
<p>ä½¿ç”¨ä¸‰ä¸ªæŒ‡é’ˆç»´æŠ¤ GABï¼šbaseï¼Œendï¼Œtop</p>
</li>
<li>
<p>Bump pointerï¼ˆæŒ‡é’ˆç¢°æ’ï¼‰é£æ ¼å¯¹è±¡åˆ†é…</p>
<ul>
<li>æ— é¡»å’Œå…¶ä»–åˆ†é…è¯·æ±‚äº’æ–¥</li>
<li>åˆ†é…åŠ¨ä½œç®€å•é«˜æ•ˆ</li>
</ul>
</li>
<li>
<p>GAB å¯¹äº Go å†…å­˜ç®¡ç†æ¥è¯´æ˜¯ä¸€ä¸ªå¤§å¯¹è±¡</p>
</li>
<li>
<p>æœ¬è´¨ï¼šå°†å¤šä¸ªå°å¯¹è±¡çš„åˆ†é…åˆå¹¶æˆä¸€æ¬¡å¤§å¯¹è±¡çš„åˆ†é…</p>
</li>
<li>
<p>é—®é¢˜ï¼šGABçš„å¯¹è±¡åˆ†é…æ–¹å¼ä¼šå¯¼è‡´å†…å­˜è¢«å»¶è¿Ÿé‡Šæ”¾</p>
</li>
<li>
<p>æ–¹æ¡ˆï¼šç§»åŠ¨ GAB ä¸­å­˜æ´»çš„å¯¹è±¡</p>
<ul>
<li>å½“ GAB æ€»å¤§å°è¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶ï¼Œå°† GAB ä¸­å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–åˆ†é…çš„ GAB ä¸­</li>
<li>åŸå…ˆçš„ GAB å¯ä»¥é‡Šæ”¾ï¼Œé¿å…å†…å­˜æ³„æ¼</li>
<li>æœ¬è´¨ï¼šç”¨ copying GC çš„ç®—æ³•ç®¡ç†å°å¯¹è±¡ã€‚æ ¹æ®å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½¿ç”¨ä¸åŒçš„æ ‡è®°å’Œæ¸…ç†ç­–ç•¥ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ€§èƒ½æ”¶ç›Š</strong>ï¼ˆæ•°æ®ä»…ä¾›å‚è€ƒï¼‰</p>
<ul>
<li>é«˜å³°æœŸ CPU usage é™ä½ 4.6%ï¼Œæ ¸å¿ƒæ¥å£æ—¶å»¶ä¸‹é™ 4.5%~7.7%</li>
</ul>
<h4 id="æ€»ç»“-3"><a class="markdownIt-Anchor" href="#æ€»ç»“-3"></a> æ€»ç»“</h4>
<ul>
<li>Go å†…å­˜ç®¡ç† â€” åˆ†å—</li>
<li>Go å†…å­˜ç®¡ç† â€” ç¼“å­˜</li>
<li>Go å¯¹è±¡åˆ†é…çš„æ€§èƒ½é—®é¢˜
<ul>
<li>åˆ†é…è·¯å¾„è¿‡é•¿</li>
<li>å°å¯¹è±¡å±…å¤š</li>
</ul>
</li>
<li>Balanced GC
<ul>
<li>æŒ‡é’ˆç¢°æ’é£æ ¼çš„å¯¹è±¡åˆ†é…</li>
<li>å®ç°äº† copying GC</li>
<li>æ€§èƒ½æ”¶ç›Š</li>
</ul>
</li>
</ul>
<h3 id="3ç¼–è¯‘å™¨å’Œé™æ€åˆ†æ"><a class="markdownIt-Anchor" href="#3ç¼–è¯‘å™¨å’Œé™æ€åˆ†æ"></a> 3.ç¼–è¯‘å™¨å’Œé™æ€åˆ†æ</h3>
<h4 id="31-ç¼–è¯‘å™¨çš„ç»“æ„"><a class="markdownIt-Anchor" href="#31-ç¼–è¯‘å™¨çš„ç»“æ„"></a> 3.1 ç¼–è¯‘å™¨çš„ç»“æ„</h4>
<ul>
<li>é‡è¦çš„è½¯ä»¶ç³»ç»Ÿ
<ul>
<li>è¯†åˆ«ç¬¦å·è¯­æ³•å’Œéæ³•çš„ç¨‹åº</li>
<li>ç”Ÿæˆæ­£ç¡®ä¸”é«˜æ•ˆçš„ä»£ç </li>
</ul>
</li>
<li>åˆ†æéƒ¨åˆ†ï¼ˆå‰ç«¯ front endï¼‰
<ul>
<li>è¯æ³•åˆ†æï¼Œç”Ÿæˆè¯ç´ ï¼ˆlexemeï¼‰</li>
<li>è¯­æ³•åˆ†æï¼Œç”Ÿæˆè¯­æ³•æ ‘</li>
<li>è¯­ä¹‰åˆ†æï¼Œæ”¶é›†ç±»å‹ä¿¡æ¯ï¼Œè¿›è¡Œè¯­ä¹‰æ£€æŸ¥</li>
<li>ä¸­é—´ä»£ç ç”Ÿæˆï¼Œç”Ÿæˆintermediate representationï¼ˆIRï¼‰</li>
</ul>
</li>
<li>ç»¼åˆéƒ¨åˆ†ï¼ˆåç«¯ back endï¼‰
<ul>
<li>ä»£ç ä¼˜åŒ–ï¼Œæœºå™¨æ— å…³ä¼˜åŒ–ï¼Œç”Ÿæˆä¼˜åŒ–åçš„ IR</li>
<li>ä»£ç ç”Ÿæˆï¼Œç”Ÿæˆç›®æ ‡ä»£ç </li>
</ul>
</li>
</ul>
<p>åç«¯æ˜¯ä¼˜åŒ–é‡ç‚¹ï¼ŒåŒæ—¶æ§åˆ¶æµå’Œæ•°æ®æµåˆ†ææ˜¯ä¼˜åŒ–çš„åŸºç¡€ã€‚</p>
<h4 id="32-é™æ€åˆ†æ"><a class="markdownIt-Anchor" href="#32-é™æ€åˆ†æ"></a> 3.2 é™æ€åˆ†æ</h4>
<ul>
<li>é™æ€åˆ†æï¼šä¸æ‰§è¡Œç¨‹åºä»£ç ï¼Œæ¨å¯¼ç¨‹åºçš„è¡Œä¸ºï¼Œåˆ†æç¨‹åºçš„æ€§è´¨ã€‚</li>
<li>æ§åˆ¶æµï¼ˆControl flowï¼‰ï¼šç¨‹åºæ‰§è¡Œçš„æµç¨‹</li>
<li>æ•°æ®æµï¼ˆData flowï¼‰ï¼šæ•°æ®åœ¨æ§åˆ¶æµä¸Šçš„ä¼ é€’</li>
<li>é€šè¿‡åˆ†ææ§åˆ¶æµå’Œæ•°æ®æµï¼Œå¯ä»¥çŸ¥é“æ›´å¤šå…³äºç¨‹åºçš„æ€§è´¨ï¼ˆpropertiesï¼‰</li>
<li>æ ¹æ®è¿™äº›æ€§è´¨ä¼˜åŒ–ä»£ç </li>
</ul>
<h4 id="33-è¿‡ç¨‹å†…åˆ†æå’Œè¿‡ç¨‹é—´åˆ†æ"><a class="markdownIt-Anchor" href="#33-è¿‡ç¨‹å†…åˆ†æå’Œè¿‡ç¨‹é—´åˆ†æ"></a> 3.3 è¿‡ç¨‹å†…åˆ†æå’Œè¿‡ç¨‹é—´åˆ†æ</h4>
<ul>
<li>è¿‡ç¨‹å†…åˆ†æï¼ˆIntra-procedural analysisï¼‰
<ul>
<li>ä»…åœ¨å‡½æ•°å†…éƒ¨è¿›è¡Œåˆ†æ</li>
</ul>
</li>
<li>è¿‡ç¨‹é—´åˆ†æ
<ul>
<li>è€ƒè™‘å‡½æ•°è°ƒç”¨æ—¶å‚æ•°ä¼ é€’å’Œè¿”å›å€¼çš„æ•°æ®æµå’Œæ§åˆ¶æµ</li>
</ul>
</li>
<li>è¿‡ç¨‹é—´åˆ†ææ˜¯ä¸ªé—®é¢˜
<ul>
<li>éœ€è¦é€šè¿‡æ•°æ®æµåˆ†æå¾—çŸ¥æ¥å£ i çš„å…·ä½“ç±»å‹ï¼Œæ‰èƒ½çŸ¥é“æœ‰å¤šä¸ªåŒåæ–¹æ³•ï¼ˆæ¯”å¦‚<code>func (a *A) foo()</code>å’Œ<code>func (b *B) foo()</code>ï¼‰å­˜åœ¨æ—¶ï¼Œæ¥å£ i è°ƒç”¨çš„æ˜¯å“ªä¸ª<code>foo()</code></li>
<li>æ ¹æ®æ¥å£çš„å…·ä½“ç±»å‹ï¼Œäº§ç”Ÿäº†æ–°çš„æ§åˆ¶æµï¼Œ<code>i.foo()</code>ï¼Œåˆ†æç»§ç»­</li>
<li>è¿‡ç¨‹é—´åˆ†æéœ€è¦åŒæ—¶åˆ†ææ§åˆ¶æµå’Œæ•°æ®æµâ€”â€”è”åˆæ±‚è§£ï¼Œæ¯”è¾ƒå¤æ‚</li>
</ul>
</li>
</ul>
<h4 id="æ€»ç»“-4"><a class="markdownIt-Anchor" href="#æ€»ç»“-4"></a> æ€»ç»“</h4>
<ul>
<li>ç¼–è¯‘å™¨çš„ç»“æ„ä¸ç¼–è¯‘çš„æµç¨‹</li>
<li>ç¼–è¯‘å™¨åç«¯ä¼˜åŒ–</li>
<li>æ•°æ®æµåˆ†æå’Œæ§åˆ¶æµåˆ†æ</li>
<li>è¿‡ç¨‹å†…åˆ†æå’Œè¿‡ç¨‹é—´åˆ†æ</li>
</ul>
<h3 id="4goç¼–è¯‘å™¨ä¼˜åŒ–"><a class="markdownIt-Anchor" href="#4goç¼–è¯‘å™¨ä¼˜åŒ–"></a> 4.Goç¼–è¯‘å™¨ä¼˜åŒ–</h3>
<ul>
<li>ä¸ºä»€ä¹ˆåšç¼–è¯‘å™¨ä¼˜åŒ–
<ul>
<li>ç”¨æˆ·æ— æ„ŸçŸ¥ï¼Œé‡æ–°ç¼–è¯‘å³å¯è·å¾—æ€§èƒ½æ”¶ç›Š</li>
<li>é€šç”¨æ€§ä¼˜åŒ–</li>
</ul>
</li>
<li>ç°çŠ¶
<ul>
<li>é‡‡ç”¨çš„ä¼˜åŒ–å°‘</li>
<li>ç¼–è¯‘æ—¶é—´è¾ƒçŸ­ï¼Œæ²¡æœ‰è¿›è¡Œå¤æ‚çš„ä»£ç åˆ†æå’Œä¼˜åŒ–</li>
</ul>
</li>
<li>ç¼–è¯‘ä¼˜åŒ–çš„æ€è·¯
<ul>
<li>åœºæ™¯ï¼šé¢å‘åç«¯é•¿æœŸæ‰§è¡Œä»»åŠ¡</li>
<li>Tradeoffï¼šç”¨ç¼–è¯‘æ—¶é—´æ¢å–æ›´é«˜æ•ˆçš„æœºå™¨ç </li>
</ul>
</li>
<li>Beast mode
<ul>
<li>å‡½æ•°å†…è”åˆ†æ</li>
<li>é€ƒé€¸åˆ†æ</li>
<li>é»˜è®¤æ ˆå¤§å°è°ƒæ•´</li>
<li>è¾¹ç•Œæ£€æŸ¥æ¶ˆé™¤</li>
<li>å¾ªç¯å±•å¼€</li>
<li>â€¦</li>
</ul>
</li>
</ul>
<h4 id="41-å‡½æ•°å†…è”inlining"><a class="markdownIt-Anchor" href="#41-å‡½æ•°å†…è”inlining"></a> 4.1 å‡½æ•°å†…è”ï¼ˆInliningï¼‰</h4>
<ul>
<li>
<p>å†…è”ï¼šå°†è¢«è°ƒç”¨å‡½æ•°çš„å‡½æ•°ä½“ï¼ˆcalleeï¼‰çš„å‰¯æœ¬æ›¿æ¢åˆ°è°ƒç”¨ä½ç½®ï¼ˆcallerï¼‰ä¸Šï¼ŒåŒæ—¶é‡å†™ä»£ç ä»¥åæ˜ å‚æ•°çš„ç»‘å®š</p>
</li>
<li>
<p>ä¼˜ç‚¹</p>
<ul>
<li>æ¶ˆé™¤å‡½æ•°è°ƒç”¨å¼€é”€ï¼Œä¾‹å¦‚ä¼ é€’å‡½æ•°ã€ä¿å­˜å¯„å­˜å™¨ç­‰</li>
<li>å°†è¿‡ç¨‹é—´åˆ†æè½¬åŒ–ä¸ºè¿‡ç¨‹å†…åˆ†æï¼Œå¸®åŠ©å…¶ä»–ä¼˜åŒ–ï¼Œä¾‹å¦‚é€ƒé€¸åˆ†æ</li>
</ul>
</li>
<li>
<p>å‡½æ•°å†…è”å¯¹æ€§èƒ½çš„å½±å“ç¨‹åº¦â€”â€”ä½¿ç”¨ micro-benchmarkéªŒè¯</p>
<p>ç¤ºä¾‹</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkInline</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">	x := genInteger()</span><br><span class="line">	y := genInteger()</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</span><br><span class="line">		addInline(x, y)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addInline</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkInlineDisabled</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">	x := genInteger()</span><br><span class="line">	y := genInteger()</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</span><br><span class="line">		addNoInline(x, y)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//go:noinline</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addNoInline</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">genInteger</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	rand.Seed(time.Now().UnixNano())</span><br><span class="line">	<span class="keyword">return</span> rand.Intn(<span class="number">100</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æ³¨æ„è¿™é‡Œçš„<code>//go:noinline</code>æ˜¯ä¸€ç§ç¼–è¯‘æŒ‡ç¤ºï¼Œ<code>noinline</code>è¡¨ç¤ºä¸è¦å†…è”ï¼Œå›ºå®šå†™æ³•ã€‚è¿™ç§ç¼–è¯‘æŒ‡ç¤ºç±»ä¼¼äºCè¯­è¨€ä¸­çš„<code>#include</code>ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ micro-benchmarkå¿«é€ŸéªŒè¯å’Œå¯¹æ¯”æ€§èƒ½ä¼˜åŒ–ç»“æœ</p>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ€§èƒ½æµ‹è¯•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">go <span class="built_in">test</span> -bench .</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>ç¼ºç‚¹</p>
<ul>
<li>å‡½æ•°ä½“å˜å¤§ï¼Œinstruction cacheï¼ˆicacheï¼‰ä¸å‹å¥½</li>
<li>ç¼–è¯‘ç”Ÿæˆçš„ Go é•œåƒå˜å¤§</li>
</ul>
</li>
<li>
<p>å‡½æ•°å†…è”åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯æ­£å‘ä¼˜åŒ–</p>
</li>
<li>
<p>å†…è”ç­–ç•¥</p>
<ul>
<li>è°ƒç”¨å’Œè¢«å‡½æ•°çš„è§„æ¨¡</li>
<li>â€¦</li>
</ul>
</li>
</ul>
<h4 id="42-beast-mode"><a class="markdownIt-Anchor" href="#42-beast-mode"></a> 4.2 Beast Mode</h4>
<ul>
<li>Go å‡½æ•°å†…è”å—åˆ°çš„é™åˆ¶è¾ƒå¤š
<ul>
<li>è¯­è¨€ç‰¹æ€§ï¼Œä¾‹å¦‚ interfaceï¼Œdeferç­‰ï¼Œé™åˆ¶äº†å‡½æ•°å†…è”</li>
<li>å†…è”ç­–ç•¥éå¸¸ä¿å®ˆ</li>
</ul>
</li>
<li>Beast Modeï¼šè°ƒæ•´å‡½æ•°å†…è”çš„ç­–ç•¥ï¼Œä½¿æ›´å¤šå‡½æ•°è¢«å†…è”
<ul>
<li>é™ä½å‡½æ•°è°ƒç”¨çš„å¼€é”€</li>
<li>å¢åŠ äº†å…¶ä»–ä¼˜åŒ–çš„æœºä¼šï¼šé€ƒé€¸åˆ†æ</li>
</ul>
</li>
<li>å¼€é”€
<ul>
<li>Go é•œåƒå¢åŠ çº¦ 10%</li>
<li>ç¼–è¯‘æ—¶é—´å¢åŠ </li>
</ul>
</li>
</ul>
<p><strong>æ€§èƒ½æ”¶ç›Š</strong>ï¼ˆæ•°æ®ä»…ä¾›å‚è€ƒï¼‰</p>
<ul>
<li>é«˜å³°æœŸ CPU usage é™ä½ 9%ï¼Œæ—¶å»¶é™ä½ 10%</li>
<li>å†…å­˜ä½¿ç”¨é™ä½ 3%</li>
</ul>
<h4 id="43-é€ƒé€¸åˆ†æ"><a class="markdownIt-Anchor" href="#43-é€ƒé€¸åˆ†æ"></a> 4.3 é€ƒé€¸åˆ†æ</h4>
<p>é€ƒé€¸åˆ†æï¼šåˆ†æä»£ç ä¸­æŒ‡é’ˆçš„åŠ¨æ€ä½œç”¨åŸŸï¼Œå³æŒ‡é’ˆåœ¨ä½•å¤„å¯ä»¥è¢«è®¿é—®</p>
<ul>
<li>å¤§è‡´æ€è·¯
<ul>
<li>ä»å¯¹è±¡åˆ†é…å¤„å‡ºå‘ï¼Œæ²¿ç€æ§åˆ¶æµï¼Œè§‚å¯Ÿå¯¹è±¡çš„æ•°æ®æµ</li>
<li>è‹¥å‘ç°æŒ‡é’ˆ p åœ¨å½“å‰ä½œç”¨åŸŸ s
<ul>
<li>ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°</li>
<li>ä¼ é€’ç»™å…¨å±€å˜é‡</li>
<li>ä¼ é€’ç»™å…¶ä»–çš„ goroutine</li>
<li>ä¼ é€’ç»™å·²é€ƒé€¸çš„æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡</li>
</ul>
</li>
<li>åˆ™æŒ‡é’ˆ p æŒ‡å‘çš„å¯¹è±¡é€ƒé€¸å‡º sï¼Œåä¹‹åˆ™æ²¡æœ‰é€ƒé€¸å‡º s</li>
</ul>
</li>
<li>Beast Modeï¼šå‡½æ•°å†…è”æ‹“å±•äº†å‡½æ•°è¾¹ç•Œï¼Œæ›´å¤šå¯¹è±¡ä¸é€ƒé€¸</li>
<li>ä¼˜åŒ–ï¼šæœªé€ƒé€¸çš„å¯¹è±¡å¯ä»¥åœ¨æ ˆä¸Šåˆ†é…
<ul>
<li>å¯¹è±¡åœ¨æ ˆä¸Šåˆ†é…å’Œå›æ”¶å¾ˆå¿«ï¼šç§»åŠ¨ sp</li>
<li>å‡å°‘åœ¨ heap ä¸Šçš„åˆ†é…ï¼Œé™ä½ GC è´Ÿæ‹…</li>
</ul>
</li>
</ul>
<h4 id="æ€»ç»“-5"><a class="markdownIt-Anchor" href="#æ€»ç»“-5"></a> æ€»ç»“</h4>
<ul>
<li>Go ç¼–è¯‘å™¨ä¼˜åŒ–é—®é¢˜</li>
<li>Beast Mode</li>
<li>å‡½æ•°å†…è”</li>
<li>é€ƒé€¸åˆ†æ</li>
<li>é€šè¿‡ micro-benchmark å¿«é€ŸéªŒè¯æ€§èƒ½ä¼˜åŒ–</li>
<li>æ€§èƒ½æ”¶ç›Š</li>
</ul>
<h3 id="å½’çº³"><a class="markdownIt-Anchor" href="#å½’çº³"></a> å½’çº³</h3>
<ul>
<li>æ€§èƒ½ä¼˜åŒ–
<ul>
<li>è‡ªåŠ¨å†…å­˜ç®¡ç†</li>
<li>Go å†…å­˜ç®¡ç†</li>
<li>ç¼–è¯‘å™¨ä¸é™æ€åˆ†æ</li>
<li>ç¼–è¯‘å™¨ä¼˜åŒ–</li>
</ul>
</li>
<li>å®è·µ
<ul>
<li>Balanced GC ä¼˜åŒ–å¯¹è±¡åˆ†é…</li>
<li>Beast Mode æå‡ä»£ç æ€§èƒ½</li>
</ul>
</li>
<li>åˆ†æé—®é¢˜çš„æ–¹æ³•ä¸è§£å†³é—®é¢˜çš„æ€è·¯ï¼Œä¸ä»…é€‚ç”¨äºGo è¯­è¨€ï¼Œä¹Ÿé€‚ç”¨äºå…¶ä»–è¯­è¨€çš„ä¼˜åŒ–</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://juejin.cn/post/7189525739836801085/" >ã€åç«¯ä¸“åœº å­¦ä¹ èµ„æ–™äºŒã€‘ç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥ - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://segmentfault.com/a/1190000016743220" >Go è¯­è¨€ç¼–è¯‘å™¨çš„ â€œ//go:â€ è¯¦è§£ - Golang æ”»ç•¥ - SegmentFault æ€å¦ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>è§„åˆ™å¼•æ“ä¸è®¾è®¡å®ç°</title>
    <url>/2023/02/03/golang-day6/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7195554661318967351" >è§„åˆ™å¼•æ“ä¸è®¾è®¡å®ç° | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹è§„åˆ™å¼•æ“çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="è§„åˆ™å¼•æ“ä¸è®¾è®¡å®ç°"><a class="markdownIt-Anchor" href="#è§„åˆ™å¼•æ“ä¸è®¾è®¡å®ç°"></a> è§„åˆ™å¼•æ“ä¸è®¾è®¡å®ç°</h2>
<blockquote>
<p>è§„åˆ™å¼•æ“çš„ç»„æˆéƒ¨åˆ†åŠåº”ç”¨åœºæ™¯</p>
<p>è§„åˆ™å¼•æ“çš„æ ¸å¿ƒåŸç†â€”â€”ç¼–è¯‘åŸç†çš„ç›¸å…³æ¦‚å¿µ</p>
<p>è®¾è®¡å¹¶å®ç°ä¸€ä¸ªè§„åˆ™å¼•æ“â€”â€”YoungEngine</p>
<p>å®ç°ä¸€ä¸ªWebç‰ˆè§„åˆ™å¼•æ“</p>
</blockquote>
<h3 id="1-è®¤è¯†è§„åˆ™å¼•æ“"><a class="markdownIt-Anchor" href="#1-è®¤è¯†è§„åˆ™å¼•æ“"></a> 1. è®¤è¯†è§„åˆ™å¼•æ“</h3>
<h4 id="è§„åˆ™å¼•æ“çš„å®šä¹‰"><a class="markdownIt-Anchor" href="#è§„åˆ™å¼•æ“çš„å®šä¹‰"></a> è§„åˆ™å¼•æ“çš„å®šä¹‰</h4>
<ul>
<li>
<p>è§„åˆ™å¼•æ“æ˜¯ä¸€ç§åµŒå…¥åœ¨åº”ç”¨ç¨‹åºä¸­çš„ç»„ä»¶ï¼Œå®ç°äº†å°†ä¸šåŠ¡å†³ç­–ä»åº”ç”¨ç¨‹åºä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå¹¶ä½¿ç”¨é¢„å®šä¹‰çš„è¯­ä¹‰æ¨¡å—ç¼–å†™ä¸šåŠ¡å†³ç­–ã€‚æ¥æ”¶æ•°æ®è¾“å…¥ï¼Œè§£é‡Šä¸šåŠ¡è§„åˆ™ï¼Œå¹¶æ ¹æ®ä¸šåŠ¡é€»è¾‘åšå‡ºä¸šåŠ¡å†³ç­–ã€‚</p>
</li>
<li>
<p>è§£å†³å¼€å‘äººå‘˜é‡å¤ç¼–ç çš„é—®é¢˜</p>
<p>ä¸šåŠ¡å†³ç­–ä¸æœåŠ¡æœ¬èº«è§£è€¦ï¼Œæé«˜æœåŠ¡çš„å¯ç»´æŠ¤æ€§ï¼Œç¼©çŸ­å¼€å‘è·¯å¾„ï¼Œæé«˜æ•ˆç‡</p>
</li>
</ul>
<h4 id="ç»„æˆéƒ¨åˆ†"><a class="markdownIt-Anchor" href="#ç»„æˆéƒ¨åˆ†"></a> ç»„æˆéƒ¨åˆ†</h4>
<ul>
<li>æ•°æ®è¾“å…¥
<ul>
<li>æ”¯æŒæ¥å—ä½¿ç”¨é¢„å®šä¹‰çš„è¯­ä¹‰ç¼–å†™çš„è§„åˆ™ä½œä¸ºç­–ç•¥é›†ã€‚æ¯”å¦‚â€œprice &gt; 500â€</li>
<li>æ¥å—ä¸šåŠ¡çš„æ•°æ®ä½œä¸ºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„å‚æ•°ã€‚æ¯”å¦‚ä»·æ ¼ã€æ ‡ç­¾ç­‰</li>
</ul>
</li>
<li>è§„åˆ™ç†è§£
<ul>
<li>èƒ½å¤ŸæŒ‰ç…§é¢„å…ˆå®šä¹‰çš„è¯æ³•ã€è¯­æ³•ã€ä¼˜å…ˆçº§ã€è¿ç®—ç¬¦ç­‰æ­£ç¡®ç†è§£ä¸šåŠ¡è§„åˆ™æ‰€è¡¨è¾¾çš„è¯­ä¹‰ã€‚</li>
</ul>
</li>
<li>è§„åˆ™æ‰§è¡Œ
<ul>
<li>æ ¹æ®æ‰§è¡Œæ—¶è¾“å…¥çš„å‚æ•°å¯¹ç­–ç•¥é›†ä¸­çš„è§„åˆ™è¿›è¡Œæ­£ç¡®çš„è§£é‡Šå’Œæ‰§è¡Œã€‚</li>
<li>åŒæ—¶å¯¹è§„åˆ™æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ•°æ®ç±»å‹è¿›è¡Œæ£€æŸ¥ï¼Œç¡®ä¿æ‰§è¡Œç»“æœçš„æ­£ç¡®ã€‚</li>
</ul>
</li>
</ul>
<h4 id="åº”ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#åº”ç”¨åœºæ™¯"></a> åº”ç”¨åœºæ™¯</h4>
<ul>
<li>é£æ§å¯¹æŠ—ã€‚å¿«é€Ÿè¯†åˆ«å’Œå¯¹æŠ—ï¼Œä»¥å®ç°æœ€å¥½çš„é£æ§è¯†åˆ«æ•ˆæœã€‚</li>
<li>æ´»åŠ¨ç­–ç•¥è¿è¥ã€‚æé«˜è¿è¥ç­–ç•¥çš„è¿­ä»£æ•ˆç‡ï¼Œæ–¹ä¾¿æ–°ç©æ³•çš„æ¢ç´¢å’Œæ•ˆæœéªŒè¯ã€‚</li>
<li>æ•°æ®åˆ†æå’Œæ¸…æ´—ã€‚æ–¹ä¾¿å¿«æ·åœ°äº§å‡ºæ‰€éœ€è¦çš„æ•°æ®ã€‚</li>
</ul>
<h3 id="2ç¼–è¯‘åŸç†åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#2ç¼–è¯‘åŸç†åŸºæœ¬æ¦‚å¿µ"></a> 2.ç¼–è¯‘åŸç†åŸºæœ¬æ¦‚å¿µ</h3>
<p>è§„åˆ™å¼•æ“å’Œç¼–è¯‘åŸç†å…·æœ‰ä¸€å®šçš„å…³è”æ€§ã€‚å®ƒä»¬éƒ½æœ‰ç†è§£ã€æ‰§è¡Œã€è¾“å…¥è¾“å‡ºçš„æµç¨‹ã€‚</p>
<ul>
<li>ç†è§£ï¼šè¯æ³•åˆ†æã€è¯­æ³•åˆ†æ</li>
<li>æ‰§è¡Œï¼šæŠ½è±¡è¯­æ³•æ ‘</li>
<li>è¾“å…¥è¾“å‡ºï¼šå‚æ•°æ³¨å…¥ã€ç±»å‹æ£€æŸ¥</li>
</ul>
<h4 id="è¯æ³•åˆ†æ-lexicel-analysis"><a class="markdownIt-Anchor" href="#è¯æ³•åˆ†æ-lexicel-analysis"></a> è¯æ³•åˆ†æ Lexicel Analysis</h4>
<p>è¯æ³•åˆ†æå°±æ˜¯æŠŠæºä»£ç å­—ç¬¦ä¸²è½¬æ¢ä¸ºè¯æ³•å•å…ƒï¼ˆTokenï¼‰çš„è¿‡ç¨‹ã€‚</p>
<ul>
<li>
<p>è¯†åˆ«Tokenï¼šæœ‰é™è‡ªåŠ¨æœºï¼ˆFinite-State Automatonï¼‰</p>
<p>æœ‰é™è‡ªåŠ¨æœºå°±æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå®ƒçš„çŠ¶æ€æ•°é‡æ˜¯æœ‰é™çš„ã€‚è¯¥çŠ¶æ€åœ¨ä»»ä½•ä¸€ä¸ªçŠ¶æ€ï¼ŒåŸºäºè¾“å…¥çš„å­—ç¬¦ï¼Œéƒ½èƒ½åšä¸€ä¸ªç¡®å®šçš„çŠ¶æ€è½¬æ¢ã€‚</p>
</li>
</ul>
<h4 id="è¯­æ³•åˆ†æ-syntax-analysis"><a class="markdownIt-Anchor" href="#è¯­æ³•åˆ†æ-syntax-analysis"></a> è¯­æ³•åˆ†æ Syntax Analysis</h4>
<p>è¯­æ³•åˆ†æå°±æ˜¯åœ¨è¯æ³•åˆ†æçš„åŸºç¡€ä¸Šï¼Œè¯†åˆ«è¡¨è¾¾å¼çš„è¯­æ³•ç»“æ„çš„è¿‡ç¨‹ã€‚</p>
<ul>
<li>æŠ½è±¡è¯­æ³•æ ‘ï¼šè¡¨è¾¾å¼çš„è¯­æ³•ç»“æ„å¯ä»¥ç”¨æ ‘æ¥è¡¨ç¤ºï¼Œå…¶æ¯ä¸ªèŠ‚ç‚¹ï¼ˆå­æ ‘ï¼‰æ˜¯ä¸€ä¸ªè¯­æ³•å•å…ƒï¼Œè¿™ä¸ªå•å…ƒçš„æ„æˆè§„åˆ™å°±å«è¯­æ³•ã€‚æ¯ä¸ªèŠ‚ç‚¹è¿˜å¯ä»¥æœ‰ä¸‹çº§èŠ‚ç‚¹ã€‚</li>
</ul>
<h4 id="æŠ½è±¡è¯­æ³•æ ‘-abstract-syntax-tree"><a class="markdownIt-Anchor" href="#æŠ½è±¡è¯­æ³•æ ‘-abstract-syntax-tree"></a> æŠ½è±¡è¯­æ³•æ ‘ Abstract Syntax Tree</h4>
<ul>
<li>
<p>ä¸Šä¸‹æ–‡æ— å…³è¯­æ³• Context-Free Grammar</p>
<p>è¯­è¨€å¥å­æ— éœ€è€ƒè™‘ä¸Šä¸‹æ–‡ï¼Œå°±å¯ä»¥åˆ¤æ–­æ­£ç¡®æ€§ã€‚å¯ä»¥ä½¿ç”¨å·´å…‹æ–¯èŒƒå¼ï¼ˆBNFï¼‰æ¥è¡¨è¾¾ã€‚</p>
<p>äº§ç”Ÿå¼ï¼šä¸€ä¸ªè¡¨è¾¾å¼å¯ä»¥ç”±å¦å¤–å·²çŸ¥ç±»å‹çš„è¡¨è¾¾å¼æˆ–è€…ç¬¦å·æ¨å¯¼äº§ç”Ÿã€‚</p>
<p>å†…ç½®ç¬¦å·ï¼šå­—é¢é‡ï¼ˆstringã€boolã€numberï¼‰æ ‡è¯†ç¬¦ã€è¿ç®—ç¬¦ã€‚</p>
<p>ä¸€ä¸ªåŸºç¡€è¡¨è¾¾å¼å¯ä»¥ç”±å¸¸é‡ï¼ˆstringã€boolã€numberï¼‰æˆ–æ ‡è¯†ç¬¦ï¼ˆidentifierï¼‰ï¼Œä¸€ä¸ªä¹˜æ³•è¡¨è¾¾å¼å¯ä»¥ç”±åŸºç¡€è¡¨è¾¾å¼æˆ–è€…ä¹˜æ³•è¡¨è¾¾å¼+åŸºç¡€è¡¨è¾¾å¼ç»„æˆã€‚</p>
</li>
<li>
<p>é€’å½’ä¸‹é™ç®—æ³• Recursive Descent Parsing</p>
<p>é€’å½’ä¸‹é™ç®—æ³•å°±æ˜¯è‡ªé¡¶å‘ä¸‹æ„é€ è¯­æ³•æ ‘ï¼Œä¸æ–­åœ°å¯¹Tokenè¿›è¡Œè¯­æ³•å±•å¼€ï¼ˆä¸‹é™ï¼‰ï¼Œå±•å¼€è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°é€’å½’çš„æƒ…å†µã€‚</p>
</li>
</ul>
<h4 id="ç±»å‹æ£€æŸ¥"><a class="markdownIt-Anchor" href="#ç±»å‹æ£€æŸ¥"></a> ç±»å‹æ£€æŸ¥</h4>
<ul>
<li>
<p>ç±»å‹ç»¼åˆ</p>
<p>æ ¹æ®è¡¨è¾¾å¼çš„ç±»å‹æ„é€ å‡ºçˆ¶è¡¨è¾¾å¼çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼A+Bçš„ç±»å‹æ˜¯æ ¹æ®Aå’ŒBçš„ç±»å‹å®šä¹‰çš„ã€‚</p>
</li>
<li>
<p>ç¼–è¯‘æ—¶æ£€æŸ¥å’Œè¿è¡Œæ—¶æ£€æŸ¥</p>
<p>ç±»å‹æ£€æŸ¥å¯ä»¥å‘ç”Ÿåœ¨è¡¨è¾¾å¼çš„ç¼–è¯‘é˜¶æ®µï¼Œå³åœ¨æ„é€ è¯­æ³•æ ‘çš„é˜¶æ®µï¼Œä¹Ÿå¯ä»¥å‘ç”Ÿåœ¨æ‰§è¡Œæ—¶çš„é˜¶æ®µã€‚</p>
<ul>
<li>ç¼–è¯‘æ—¶ï¼šéœ€è¦æå‰å£°æ˜å‚æ•°çš„ç±»å‹ï¼Œåœ¨æ„å»ºè¯­æ³•æ ‘è¿‡ç¨‹ä¸­è¿›è¡Œç±»å‹æ£€æŸ¥</li>
<li>æ‰§è¡Œæ—¶ï¼šå¯ä»¥æ ¹æ®æ‰§è¡Œæ—¶çš„å‚æ•°è¾“å…¥çš„å€¼ç±»å‹ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è¿›è¡Œç±»å‹æ£€æŸ¥</li>
</ul>
</li>
</ul>
<h3 id="3è®¾è®¡ä¸€ä¸ªè§„åˆ™å¼•æ“"><a class="markdownIt-Anchor" href="#3è®¾è®¡ä¸€ä¸ªè§„åˆ™å¼•æ“"></a> 3.è®¾è®¡ä¸€ä¸ªè§„åˆ™å¼•æ“</h3>
<h4 id="è®¾è®¡ç›®æ ‡"><a class="markdownIt-Anchor" href="#è®¾è®¡ç›®æ ‡"></a> è®¾è®¡ç›®æ ‡</h4>
<p>è®¾è®¡ä¸€ä¸ªè§„åˆ™å¼•æ“ï¼Œæ”¯æŒç‰¹å®šçš„è¯æ³•ã€è¿ç®—ç¬¦ã€æ•°æ®ç±»å‹å’Œä¼˜å…ˆçº§ï¼Œå¹¶ä¸”æ”¯æŒåŸºäºä»¥ä¸Šé¢„å®šä¹‰è¯­æ³•çš„è§„åˆ™è¡¨è¾¾å¼çš„ç¼–è¯‘å’Œæ‰§è¡Œã€‚</p>
<ul>
<li>è¯æ³•ï¼ˆåˆæ³•Tokenï¼‰ï¼šå‚æ•°ã€å¸ƒå°”å€¼ã€å­—ç¬¦ä¸²ã€åè¿›åˆ¶intã€åè¿›åˆ¶floatã€é¢„å®šä¹‰è¿ç®—ç¬¦çš„è§„å®šå†™æ³•</li>
<li>æ•°æ®ç±»å‹ï¼šå­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€åè¿›åˆ¶intã€åè¿›åˆ¶float</li>
<li>è¿ç®—ç¬¦ï¼šä¸€å…ƒè¿ç®—ç¬¦ã€äºŒå…ƒè¿ç®—ç¬¦ã€é€»è¾‘æ“ä½œç¬¦ã€æ‹¬å·</li>
<li>ä¼˜å…ˆçº§ï¼šå„ç§è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å®šä¹‰</li>
</ul>
<h4 id="è¯æ³•åˆ†æ"><a class="markdownIt-Anchor" href="#è¯æ³•åˆ†æ"></a> è¯æ³•åˆ†æ</h4>
<ul>
<li>è®¾è®¡è¯æ³•åˆ†æçš„çŠ¶æ€æœº</li>
</ul>
<h4 id="è¯­æ³•åˆ†æ"><a class="markdownIt-Anchor" href="#è¯­æ³•åˆ†æ"></a> è¯­æ³•åˆ†æ</h4>
<ul>
<li>ä¼˜å…ˆçº§çš„è¡¨è¾¾</li>
<li>è¯­æ³•æ ‘ç»“æ„</li>
</ul>
<h4 id="è¯­æ³•æ ‘çš„æ‰§è¡Œä¸ç±»å‹æ£€æŸ¥"><a class="markdownIt-Anchor" href="#è¯­æ³•æ ‘çš„æ‰§è¡Œä¸ç±»å‹æ£€æŸ¥"></a> è¯­æ³•æ ‘çš„æ‰§è¡Œä¸ç±»å‹æ£€æŸ¥</h4>
<ul>
<li>
<p>è¯­æ³•æ ‘æ‰§è¡Œ</p>
<p>é¢„å…ˆå®šä¹‰å¥½æ¯ç§æ“ä½œç¬¦çš„æ‰§è¡Œé€»è¾‘</p>
<p>å¯¹æŠ½è±¡è¯­æ³•æ ‘è¿›è¡Œåç¼€éå†æ‰§è¡Œï¼Œå³</p>
<ul>
<li>å…ˆæ‰§è¡Œå·¦å­æ ‘ï¼Œå¾—åˆ°å·¦èŠ‚ç‚¹çš„å€¼</li>
<li>å†æ‰§è¡Œå³å­æ ‘ï¼Œå¾—åˆ°å³èŠ‚ç‚¹çš„å€¼</li>
<li>æœ€åæ ¹æ®æ ¹èŠ‚ç‚¹çš„æ“ä½œç¬¦æ‰§è¡Œå¾—åˆ°æ ¹èŠ‚ç‚¹çš„å€¼</li>
</ul>
</li>
<li>
<p>ç±»å‹æ£€æŸ¥</p>
<p>æ£€æŸ¥æ—¶æœºï¼šæ‰§è¡Œæ—¶æ£€æŸ¥</p>
<p>æ£€æŸ¥æ–¹æ³•ï¼šåœ¨ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹æ‰§è¡Œå®Œæˆåï¼Œåˆ†åˆ«æ ¡éªŒå·¦å³å­èŠ‚ç‚¹çš„ç±»å‹æ˜¯å¦ç¬¦åˆå¯¹åº”æ“ä½œç¬¦çš„ç±»å‹æ£€æŸ¥é¢„è®¾è§„åˆ™ã€‚</p>
<ul>
<li>â€˜&gt;â€™ ç¬¦å·è¦æ±‚å·¦å³å­èŠ‚ç‚¹çš„å€¼éƒ½å­˜åœ¨ä¸”ä¸ºintæˆ–float</li>
<li>â€˜!â€™ ç¬¦å·è¦æ±‚å·¦èŠ‚ç‚¹ä¸ºç©ºä¸”å³èŠ‚ç‚¹çš„å€¼ä¸ºbool</li>
</ul>
</li>
</ul>
<h3 id="4è§„åˆ™å¼•æ“çš„å®ç°"><a class="markdownIt-Anchor" href="#4è§„åˆ™å¼•æ“çš„å®ç°"></a> 4.è§„åˆ™å¼•æ“çš„å®ç°</h3>
<p>å¯å‚è€ƒ<a class="link"   href="https://github.com/qimengxingyuan/young_engine" >qimengxingyuan/young_engine: ç®€å•çš„è§„åˆ™å¼•æ“  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>å®ç°ã€‚</p>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://juejin.cn/post/7193363381804335161/#heading-11" >ã€åç«¯ä¸“åœº å­¦ä¹ èµ„æ–™ä¸‰ã€‘ç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>Go æ¡†æ¶ä¸‰ä»¶å¥—è¯¦è§£</title>
    <url>/2023/02/01/golang-day5/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7195211923154010168" >Go æ¡†æ¶ä¸‰ä»¶å¥—è¯¦è§£(Web/RPC/ORM) | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹golang webå¼€å‘æ¡†æ¶ä¸‰ä»¶å¥—çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="æ¡†æ¶ä¸‰ä»¶å¥—è¯¦è§£webrpcorm"><a class="markdownIt-Anchor" href="#æ¡†æ¶ä¸‰ä»¶å¥—è¯¦è§£webrpcorm"></a> æ¡†æ¶ä¸‰ä»¶å¥—è¯¦è§£(Web/RPC/ORM)</h2>
<blockquote>
<p>ä»€ä¹ˆæ˜¯ ORM æ¡†æ¶</p>
<p>å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆObject Relational Mappingï¼Œç®€ç§° ORMï¼‰æ¨¡å¼æ˜¯ä¸€ç§ä¸ºäº†è§£å†³é¢å‘å¯¹è±¡ä¸å…³ç³»æ•°æ®åº“å­˜åœ¨çš„äº’ä¸åŒ¹é…çš„ç°è±¡çš„æŠ€æœ¯ã€‚ORMæ¡†æ¶æ˜¯è¿æ¥æ•°æ®åº“çš„æ¡¥æ¢ï¼Œåªè¦æä¾›äº†æŒä¹…åŒ–ç±»ä¸è¡¨çš„æ˜ å°„å…³ç³»ï¼ŒORMæ¡†æ¶åœ¨è¿è¡Œæ—¶å°±èƒ½å‚ç…§æ˜ å°„æ–‡ä»¶çš„ä¿¡æ¯ï¼ŒæŠŠå¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­</p>
<p>ä»€ä¹ˆæ˜¯ RPC æ¡†æ¶</p>
<p>RPC æ˜¯è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRemote Procedure Callï¼‰ã€‚RPC çš„ä¸»è¦åŠŸèƒ½ç›®æ ‡æ˜¯è®©æ„å»ºåˆ†å¸ƒå¼è®¡ç®—ï¼ˆåº”ç”¨ï¼‰æ›´å®¹æ˜“ï¼Œåœ¨æä¾›å¼ºå¤§çš„è¿œç¨‹è°ƒç”¨èƒ½åŠ›æ—¶ä¸æŸå¤±æœ¬åœ°è°ƒç”¨çš„è¯­ä¹‰ç®€æ´æ€§ã€‚ä¸ºå®ç°è¯¥ç›®æ ‡ï¼ŒRPC æ¡†æ¶éœ€æä¾›ä¸€ç§é€æ˜è°ƒç”¨æœºåˆ¶ï¼Œè®©ä½¿ç”¨è€…ä¸å¿…æ˜¾å¼çš„åŒºåˆ†æœ¬åœ°è°ƒç”¨å’Œè¿œç¨‹è°ƒç”¨ã€‚</p>
<p>ä»€ä¹ˆæ˜¯ Web æ¡†æ¶ï¼ˆè¿™é‡Œçš„ Web æ¡†æ¶åœ¨åé¢ç”¨ HTTP æ¡†æ¶æ¥ç§°å‘¼ï¼‰</p>
<p>Web æ¡†æ¶æ˜¯ç”¨äºè¿›è¡Œ Web å¼€å‘çš„ä¸€å¥—è½¯ä»¶æ¶æ„ã€‚ä¸»è¦æ˜¯ä¸ºå¼€å‘è€…å°è£…å¥½äº†ä¸€ç³»åˆ—ä¸ä¸šåŠ¡é€»è¾‘æ— å…³çš„ä»£ç å®ç°ï¼Œæ–¹ä¾¿å¼€å‘è€…ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ä»£ç çš„ç¼–å†™ã€‚</p>
</blockquote>
<h3 id="1ä¸‰ä»¶å¥—ä»‹ç»"><a class="markdownIt-Anchor" href="#1ä¸‰ä»¶å¥—ä»‹ç»"></a> 1.ä¸‰ä»¶å¥—ä»‹ç»</h3>
<ul>
<li>
<p>ORM æ¡†æ¶ï¼š<a class="link"   href="https://github.com/go-gorm/gorm" >GORM <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>GORM æ˜¯ä¸€ä¸ªå·²ç»è¿­ä»£äº†åå¤šå¹´çš„åŠŸèƒ½å¼ºå¤§çš„ ORM æ¡†æ¶ï¼Œæ‹¥æœ‰éå¸¸ä¸°å¯Œçš„å¼€æºæ‰©å±•ã€‚</p>
</li>
<li>
<p>RPC æ¡†æ¶ï¼š<a class="link"   href="https://github.com/cloudwego/kitex" >Kitex <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>Kitex ç”±å­—èŠ‚è·³åŠ¨å¼€å‘ï¼Œæ˜¯ Golang å¾®æœåŠ¡ RPC æ¡†æ¶ï¼Œå…·æœ‰é«˜æ€§èƒ½ã€å¼ºå¯æ‰©å±•çš„ä¸»è¦ç‰¹ç‚¹ï¼Œæ”¯æŒå¤šåè®®å¹¶ä¸”æ‹¥æœ‰ä¸°å¯Œçš„å¼€æºæ‰©å±•ã€‚</p>
</li>
<li>
<p>HTTP æ¡†æ¶ï¼š<a class="link"   href="https://github.com/cloudwego/hertz" >Hertz <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>Hertz ç”±å­—èŠ‚è·³åŠ¨å¼€å‘ï¼Œæ˜¯ HTTP æ¡†æ¶ï¼Œå‚è€ƒäº†å…¶ä»–å¼€æºæ¡†æ¶çš„ä¼˜åŠ¿ï¼Œå…·æœ‰é«˜æ˜“ç”¨æ€§ã€é«˜æ€§èƒ½ã€é«˜æ‰©å±•æ€§ç‰¹ç‚¹ã€‚</p>
</li>
</ul>
<h3 id="2-ä¸‰ä»¶å¥—çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#2-ä¸‰ä»¶å¥—çš„ä½¿ç”¨"></a> 2. ä¸‰ä»¶å¥—çš„ä½¿ç”¨</h3>
<h4 id="gorm-çš„åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#gorm-çš„åŸºæœ¬ä½¿ç”¨"></a> GORM çš„åŸºæœ¬ä½¿ç”¨</h4>
<h5 id="gorm-çš„çº¦å®šé»˜è®¤"><a class="markdownIt-Anchor" href="#gorm-çš„çº¦å®šé»˜è®¤"></a> GORM çš„çº¦å®šï¼ˆé»˜è®¤ï¼‰</h5>
<ul>
<li>GORM ä½¿ç”¨åä¸º ID çš„å­—æ®µä½œä¸ºä¸»é”®</li>
<li>ä½¿ç”¨ç»“æ„ä½“çš„è›‡å½¢è´Ÿæ•°ä½œä¸ºè¡¨å</li>
<li>å­—æ®µåçš„è›‡å½¢ä½œä¸ºåˆ—å</li>
<li>ä½¿ç”¨ CreatedAtã€UpdatedAt å­—æ®µä½œä¸ºåˆ›å»ºã€æ›´æ–°æ—¶é—´</li>
</ul>
<p>ç¤ºä¾‹</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ model</span></span><br><span class="line"><span class="keyword">type</span> Product <span class="keyword">struct</span> &#123;</span><br><span class="line">    Code  <span class="type">string</span></span><br><span class="line">    Price <span class="type">uint</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸º model å®šä¹‰è¡¨å</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Product)</span></span> TableName() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;product&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// è¿æ¥æ•°æ®åº“</span></span><br><span class="line">    <span class="comment">// åˆ›å»ºæ•°æ®</span></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">    <span class="comment">// æ›´æ–°æ•°æ®</span></span><br><span class="line">    <span class="comment">// åˆ é™¤æ•°æ®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://gorm.cn/zh_CN/docs/models.html" >æ¨¡å‹å®šä¹‰ | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-æ”¯æŒçš„æ•°æ®åº“"><a class="markdownIt-Anchor" href="#gorm-æ”¯æŒçš„æ•°æ®åº“"></a> GORM æ”¯æŒçš„æ•°æ®åº“</h5>
<p>GORM ç›®å‰æ”¯æŒ MySQLã€SQLServerã€PostgreSQLã€SQLiteã€‚</p>
<p>GORMè¿æ¥æ•°æ®åº“éœ€è¦æä¾› DSN å‚æ•°ã€‚DSNï¼ˆDataSource Nameï¼‰æ•°æ®æºåç§°ï¼Œç”¨æ¥æè¿°æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€‚å‚è€ƒ<a class="link"   href="https://github.com/go-sql-driver/mysql#dsn-data-source-name" >https://github.com/go-sql-driver/mysql#dsn-data-source-name <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>GORM é€šè¿‡é©±åŠ¨æ¥è¿æ¥æ•°æ®åº“ï¼Œå¦‚æœéœ€è¦è¿æ¥å…¶å®ƒç±»å‹çš„æ•°æ®åº“ï¼Œå¯ä»¥å¤ç”¨/è‡ªè¡Œå¼€å‘é©±åŠ¨ã€‚</p>
<p>ç¤ºä¾‹</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">dsn := <span class="string">&quot;user:pass@tcp(127.0.0.1:3306)/dbname?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span></span><br><span class="line">db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;&#125;)</span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://gorm.cn/zh_CN/docs/connecting_to_the_database.html" >è¿æ¥åˆ°æ•°æ®åº“ | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-åˆ›å»ºæ•°æ®"><a class="markdownIt-Anchor" href="#gorm-åˆ›å»ºæ•°æ®"></a> GORM åˆ›å»ºæ•°æ®</h5>
<p>é€šè¿‡ Create æ–¹æ³•åˆ›å»ºæ•°æ®</p>
<ul>
<li>
<p>åˆ›å»ºä¸€æ¡æ•°æ®</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">p := &amp;Product&#123;Code: <span class="string">&quot;D42&quot;</span>&#125;</span><br><span class="line">res := db.Create(p)</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>åˆ›å»ºå¤šæ¡æ•°æ®</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">products := []*Product&#123;&#123;Code: <span class="string">&quot;D41&quot;</span>&#125;, &#123;Code: <span class="string">&quot;D42&quot;</span>&#125;, &#123;Code: <span class="string">&quot;D43&quot;</span>&#125;&#125;</span><br><span class="line">res, err := db.Create(products)</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<p>ç‰¹æ®Šçš„æ“ä½œ Upsert ï¼Œç”¨äºåˆ›å»ºä¸€æ¡å”¯ä¸€çš„æ•°æ®ï¼Œè‹¥è¯¥æ•°æ®å·²å­˜åœ¨åˆ™æ‰§è¡Œæ›´æ–°æ“ä½œï¼Œè‹¥è¯¥æ•°æ®ä¸å­˜åœ¨åˆ™æ‰§è¡Œæ’å…¥æ“ä½œã€‚ï¼ˆè¿™é‡Œçš„Upsertä¸æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œè€Œæ˜¯ä¸€ç§æ€è·¯é€»è¾‘ï¼‰</p>
<p>Upsert æ•°æ®å†²çªé—®é¢˜</p>
<ul>
<li>
<p>ä½¿ç”¨ OnConflict æ–¹æ³•åº”å¯¹</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‘ç”Ÿå†²çªæ—¶, ä¸å¯¹å†²çªåšå¤„ç†, æ•°æ®ä¹Ÿä¸ä¼šæ”¹å˜</span></span><br><span class="line">p := &amp;Product&#123;Code: <span class="string">&quot;D42&quot;</span>, ID: <span class="number">1</span>&#125;</span><br><span class="line">db.Clauses(clause.OnConflict&#123;DoNothing: <span class="literal">true</span>&#125;).Create(&amp;p)</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>ä½¿ç”¨é»˜è®¤å€¼ï¼Œåœ¨ç»“æ„ä½“ä¸­ä½¿ç”¨ default æ ‡ç­¾ä¸ºå­—æ®µå®šä¹‰é»˜è®¤å€¼</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID   <span class="type">int64</span></span><br><span class="line">    Code <span class="type">string</span> <span class="string">`gorm:&quot;default:404&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<p>å‚è€ƒ<a class="link"   href="https://gorm.cn/zh_CN/docs/create.html" >åˆ›å»º | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-æŸ¥è¯¢æ•°æ®"><a class="markdownIt-Anchor" href="#gorm-æŸ¥è¯¢æ•°æ®"></a> GORM æŸ¥è¯¢æ•°æ®</h5>
<p>ä½¿ç”¨ First æ–¹æ³•æŸ¥è¯¢ç¬¬ä¸€æ¡æ•°æ®ï¼ˆé»˜è®¤ä¸»é”®å‡åºï¼‰ï¼ŒæŸ¥è¯¢ä¸åˆ°æ•°æ®åˆ™è¿”å› ErrRecordNotFound é”™è¯¯</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">u := &amp;User&#123;&#125;</span><br><span class="line">db.First(u) <span class="comment">// SELECT * FROM users ORDER BY id LIMIT 1;</span></span><br></pre></td></tr></table></figure></div>
<p>å…¶å®ƒç±»ä¼¼çš„æœ‰ Take æ–¹æ³•è·å–ä¸€æ¡æ•°æ®ï¼ˆæ²¡æœ‰æŒ‡å®šæ’åºå­—æ®µï¼‰å’Œ Last æ–¹æ³•è·å–æœ€åä¸€æ¡æ•°æ®ï¼ˆé»˜è®¤ä¸»é”®é™åºï¼‰ã€‚</p>
<p>ä½¿ç”¨ Where æ–¹æ³•å’Œ Find æ–¹æ³•æŸ¥è¯¢å¤šæ¡æ•°æ®ï¼Œéœ€è¦æ³¨æ„ä½¿ç”¨ Find æŸ¥è¯¢å¤šæ¡æ•°æ®æ—¶ï¼ŒæŸ¥è¯¢ä¸åˆ°æ•°æ®ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">users := <span class="built_in">make</span>([]*User, <span class="number">0</span>)</span><br><span class="line">result := db.Where(<span class="string">&quot;age &gt; 10&quot;</span>).Find(&amp;users) <span class="comment">// SELECT * FROM users where age &gt; 10;</span></span><br><span class="line">fmt.Println(result.RowsAffected) <span class="comment">// è¿”å›æŸ¥è¯¢åˆ°çš„è®°å½•æ•°</span></span><br><span class="line"><span class="comment">// IN: SELECT * FROM users WHERE name IN (&#x27;abcd&#x27;, &#x27;defg&#x27;);</span></span><br><span class="line">db.Where(<span class="string">&quot;name IN ?&quot;</span>, []<span class="type">string</span>&#123;<span class="string">&quot;abcd&quot;</span>, <span class="string">&quot;defg&quot;</span>&#125;).Find(&amp;users)</span><br><span class="line"><span class="comment">// LIKE: SELECT * FROM users WHERE name LIKE &#x27;%d%&#x27;;</span></span><br><span class="line">db.Where(<span class="string">&quot;name LIKE ?&quot;</span>, <span class="string">&quot;%d%&quot;</span>).Find(&amp;users)</span><br><span class="line"><span class="comment">// AND: SELECT * FROM users WHERE name = &#x27;abcd&#x27; AND age &gt;= 22;</span></span><br><span class="line">db.Where(<span class="string">&quot;name = ? AND age &gt;= ?&quot;</span>, <span class="string">&quot;abcd&quot;</span>, <span class="string">&quot;22&quot;</span>).Find(&amp;users)</span><br></pre></td></tr></table></figure></div>
<p>ä½¿ç”¨ç»“æ„ä½“ä½œä¸ºæŸ¥è¯¢æ¡ä»¶</p>
<p>å½“ä½¿ç”¨ç»“æ„ä½“ä½œä¸ºæ¡ä»¶æŸ¥è¯¢æ—¶ï¼ŒGORM åªä¼šæŸ¥è¯¢éé›¶å€¼å­—æ®µã€‚è¿™æ„å‘³ç€å­—æ®µå€¼ä¸º 0ã€â€˜â€™ã€falseæˆ–å…¶ä»–é›¶å€¼çš„å­—æ®µæ— æ³•ç”¨äºæ„å»ºæŸ¥è¯¢æ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ Map æ¥æ„å»ºæŸ¥è¯¢æ¡ä»¶ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// SELECT * FROM users WHERE name = &quot;abc&quot;;</span></span><br><span class="line">db.Where(&amp;User&#123;Name: <span class="string">&quot;abc&quot;</span>, Age: <span class="number">0</span>&#125;).Find(&amp;users) <span class="comment">//Ageä¸ºé›¶å€¼,ä¸ä¼šè¢«æ„å»º</span></span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE name = &quot;abc&quot; AND age = 0;</span></span><br><span class="line">db.Where(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">&quot;Name&quot;</span>: <span class="string">&quot;abc&quot;</span>, <span class="string">&quot;Age&quot;</span>: <span class="number">0</span>&#125;).Find(&amp;users)</span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://gorm.cn/zh_CN/docs/query.html" >æŸ¥è¯¢ | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-æ›´æ–°æ•°æ®"><a class="markdownIt-Anchor" href="#gorm-æ›´æ–°æ•°æ®"></a> GORM æ›´æ–°æ•°æ®</h5>
<p>ä½¿ç”¨ Model æ–¹æ³•å’Œ Update ä»¥åŠ Updates æ–¹æ³•æ›´æ–°æ•°æ®</p>
<ul>
<li>
<p>æ¡ä»¶æ›´æ–°å•ä¸ªåˆ—</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// UPDATE users SET name=&#x27;hello&#x27; WHERE age &gt; 18;</span></span><br><span class="line">db.Model(&amp;User&#123;&#125;).Where(<span class="string">&quot;age &gt; ?&quot;</span>, <span class="number">18</span>).Update(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;hello&quot;</span>)</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>æ¡ä»¶æ›´æ–°å¤šä¸ªåˆ—</p>
<ul>
<li>
<p>æ ¹æ® struct æ›´æ–°å±æ€§ï¼Œä½¿ç”¨ Struct æ›´æ–°æ—¶ï¼Œåªä¼šæ›´æ–°éé›¶å€¼å­—æ®µï¼Œå¦‚æœéœ€è¦æ›´æ–°é›¶å€¼å­—æ®µå¯ä»¥ä½¿ç”¨ Map æ›´æ–°æˆ–ä½¿ç”¨ Select é€‰æ‹©å­—æ®µã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// UPDATE users SET name=&#x27;hello&#x27;, age=18 WHERE id = 111;</span></span><br><span class="line">db.Model(&amp;User&#123;ID: <span class="number">111</span>&#125;).Updates(User&#123;Name: <span class="string">&quot;hello&quot;</span>, Age: <span class="number">18</span>&#125;)</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>æ ¹æ® map æ›´æ–°å±æ€§</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// UPDATE users SET name=&#x27;hello&#x27;, age=18, actived=false WHERE id = 111;</span></span><br><span class="line">db.Model(&amp;User&#123;ID: <span class="number">111</span>&#125;).Updates(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>, <span class="string">&quot;actived&quot;</span>: <span class="literal">false</span>&#125;)</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>æ›´æ–°é€‰å®šå­—æ®µ</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// UPDATE users SET name=&#x27;hello&#x27; WHERE id = 111;</span></span><br><span class="line">db.Model(&amp;User&#123;ID: <span class="number">111</span>&#125;).Select(<span class="string">&quot;name&quot;</span>).Updates(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>, <span class="string">&quot;actived&quot;</span>: <span class="literal">false</span>&#125;)</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
</li>
<li>
<p>SQL è¡¨è¾¾å¼æ›´æ–°</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// UPDATE &quot;products&quot; SET &quot;price&quot; = price * 2 + 100 WHERE &quot;id&quot; = 3;</span></span><br><span class="line">db.Model(&amp;Product&#123;ID: <span class="number">3</span>&#125;).Update(<span class="string">&quot;price&quot;</span>, gorm.Expr(<span class="string">&quot;price * ? + ?&quot;</span>, <span class="number">2</span>, <span class="number">100</span>))</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<p>å‚è€ƒ<a class="link"   href="https://gorm.cn/zh_CN/docs/update.html" >æ›´æ–° | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-åˆ é™¤æ•°æ®"><a class="markdownIt-Anchor" href="#gorm-åˆ é™¤æ•°æ®"></a> GORM åˆ é™¤æ•°æ®</h5>
<p>ç‰©ç†åˆ é™¤ï¼Œç¡¬åˆ é™¤ï¼Œæ•°æ®ä¼šè¢«ç›´æ¥åˆ é™¤ï¼Œæ‰§è¡Œçš„æ˜¯åˆ é™¤æ“ä½œã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ®ä¸»é”®åˆ é™¤</span></span><br><span class="line">db.Delete(&amp;User&#123;&#125;, <span class="number">10</span>) <span class="comment">// DELETE FROM users WHERE id = 10;</span></span><br><span class="line">db.Delete(&amp;User&#123;&#125;, <span class="string">&quot;10&quot;</span>) <span class="comment">// DELETE FROM users WHERE id = 10;</span></span><br><span class="line">db.Delete(&amp;User&#123;&#125;, []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;) <span class="comment">// DELETE FROM users WHERE id IN (1,2,3);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¹é‡åˆ é™¤</span></span><br><span class="line">db.Where(<span class="string">&quot;name LIKE ?&quot;</span>, <span class="string">&quot;%d%&quot;</span>).Delete(User&#123;&#125;) <span class="comment">// DELETE FROM users WHERE name LIKE &quot;%d%&quot;;</span></span><br><span class="line">db.Delete(User&#123;&#125;, <span class="string">&quot;name LIKE ?&quot;</span>, <span class="string">&quot;%d%&quot;</span>) <span class="comment">// DELETE FROM users WHERE name LIKE &quot;%d%&quot;;</span></span><br></pre></td></tr></table></figure></div>
<p>é€»è¾‘åˆ é™¤ï¼Œè½¯åˆ é™¤ï¼Œæ•°æ®å®é™…ä¸Šæ²¡æœ‰è¢«åˆ é™¤ï¼Œæ‰§è¡Œçš„å®é™…ä¸Šæ˜¯æ›´æ–°æ“ä½œã€‚</p>
<p>GORM æä¾›äº† gorm.DeletedAt å­—æ®µç”¨äºå®ç°è½¯åˆ é™¤ï¼Œåªéœ€åœ¨ Model ç»“æ„ä½“ä¸­æ·»åŠ è¿™ä¸ªå­—æ®µå³å¯ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID      <span class="type">int64</span></span><br><span class="line">    Name    <span class="type">string</span> <span class="string">`gorm:&quot;default:404&quot;`</span></span><br><span class="line">    Age     <span class="type">int64</span>  <span class="string">`gorm:&quot;default:18&quot;`</span></span><br><span class="line">    Deleted gorm.DeletedAt</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æ‹¥æœ‰è¯¥å­—æ®µçš„ Model è°ƒç”¨ Delete æ–¹æ³•æ—¶èƒ½å¤Ÿè¿›è¡Œè½¯åˆ é™¤ï¼Œè®°å½•ä¸ä¼šä»æ•°æ®åº“ä¸­çœŸæ­£åˆ é™¤ã€‚ä½† GORM ä¼šå°† DeletedAt ç½®ä¸ºå½“å‰æ—¶é—´ï¼Œå¹¶ä¸”æ— æ³•é€šè¿‡æ­£å¸¸çš„æŸ¥è¯¢æ–¹æ³•æ‰¾åˆ°è¯¥è®°å½•ã€‚å¯ä»¥ä½¿ç”¨ Unscoped æ–¹æ³•æŸ¥è¯¢è¢«è½¯åˆ é™¤çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ Unscoped æ–¹æ³•æ¥å®ç°æ°¸ä¹…åˆ é™¤ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">db.Unscoped().Where(<span class="string">&quot;age = 20&quot;</span>).Find(&amp;users)</span><br><span class="line"></span><br><span class="line">db.Unscoped().Where(<span class="string">&quot;age = 20&quot;</span>).Delete(&amp;users) <span class="comment">// æ•°æ®è¢«æ°¸ä¹…åˆ é™¤</span></span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://gorm.cn/zh_CN/docs/delete.html" >åˆ é™¤ | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-äº‹åŠ¡"><a class="markdownIt-Anchor" href="#gorm-äº‹åŠ¡"></a> GORM äº‹åŠ¡</h5>
<p>GORM æä¾›äº† Beginã€Commitã€Rollback æ–¹æ³•ç”¨äºä½¿ç”¨äº‹åŠ¡</p>
<p>å¼€å§‹äº‹åŠ¡</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">tx := db.Begin()</span><br></pre></td></tr></table></figure></div>
<p>äº‹åŠ¡æ“ä½œï¼Œæ³¨æ„è¿™é‡Œåº”ä½¿ç”¨ tx è€Œä¸æ˜¯ db</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">err := tx.Create(&amp;User&#123;Name: <span class="string">&quot;name&quot;</span>&#125;).Error</span><br></pre></td></tr></table></figure></div>
<p>äº‹åŠ¡å›æ»šï¼Œé‡åˆ°é”™è¯¯æ—¶æ”¾å¼ƒæœ¬æ¬¡äº‹åŠ¡æ“ä½œ</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    tx.Rollback()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>æäº¤äº‹åŠ¡ï¼Œåº”ç”¨æœ¬æ¬¡äº‹åŠ¡æ“ä½œå¸¦æ¥çš„ä¿®æ”¹</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">tx.Commit()</span><br></pre></td></tr></table></figure></div>
<p>GORM æä¾›äº† Transaction æ–¹æ³•ç”¨äºè‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œå¯ä»¥ä¸ç”¨å†™Commit å’Œ Rollback æ–¹æ³•å°±èƒ½å®ç°äº‹åŠ¡çš„è‡ªåŠ¨ç®¡ç†ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">db.Transaction(<span class="function"><span class="keyword">func</span><span class="params">(tx *gorm.DB)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> err := tx.Create(&amp;User&#123;Name: <span class="string">&quot;404&quot;</span>&#125;).Error; err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="comment">// è¿”å›ä»»ä½•é”™è¯¯éƒ½ä¼šå›æ»šäº‹åŠ¡</span></span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> err := tx.Create(&amp;User&#123;Name: <span class="string">&quot;504&quot;</span>&#125;).Error; err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿”å› nil æäº¤äº‹åŠ¡</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://gorm.cn/zh_CN/docs/transactions.html" >äº‹åŠ¡ | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-hook"><a class="markdownIt-Anchor" href="#gorm-hook"></a> GORM Hook</h5>
<p>GORM æä¾›äº† CURD çš„ Hook èƒ½åŠ›ã€‚</p>
<p>Hook æ˜¯åœ¨åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤ç­‰æ“ä½œæ‰§è¡Œä¹‹å‰ã€ä¹‹åè‡ªåŠ¨è°ƒç”¨çš„å‡½æ•°ã€‚å¦‚æœ Hook è¿”å›é”™è¯¯ï¼ŒGORM å°†åœæ­¢åç»­çš„æ“ä½œå¹¶å›æ»šäº‹åŠ¡ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> BeforeCreate(tx *gorm.DB) (err <span class="type">error</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> u.Age &lt; <span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> errors.New(<span class="string">&quot;can&#x27;t save invalid data&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span></span> AfterCreate(tx *gorm.DB) (err <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> tx.Create(&amp;User&#123;Name: <span class="string">&#x27;admin&#x27;</span>&#125;).Error</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://gorm.cn/zh_CN/docs/hooks.html" >Hook | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-æ€§èƒ½æé«˜"><a class="markdownIt-Anchor" href="#gorm-æ€§èƒ½æé«˜"></a> GORM æ€§èƒ½æé«˜</h5>
<p>å¯¹äºå†™æ“ä½œï¼ˆåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ï¼‰ï¼Œä¸ºäº†ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ï¼ŒGORM ä¼šå°†å®ƒä»¬å°è£…åœ¨äº‹åŠ¡å†…è¿è¡Œï¼Œä½†è¿™ä¼šé™ä½æ€§èƒ½ã€‚å¯ä»¥ä½¿ç”¨ SkipDefaultTransaction å…³é—­é»˜è®¤äº‹åŠ¡ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;</span><br><span class="line">  SkipDefaultTransaction: <span class="literal">true</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div>
<p>ä½¿ç”¨ PrepareStmt ç¼“å­˜é¢„ç¼–è¯‘è¯­å¥å¯ä»¥æé«˜åç»­è°ƒç”¨çš„é€Ÿåº¦</p>
<p>PrepareStmt å¯ä»¥åœ¨è¿æ¥æ•°æ®åº“è¿›è¡Œå…¨å±€é…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨äº‹åŠ¡æ“ä½œä¸­ä¸´æ—¶é…ç½®ï¼Œè¯¦ç»†å¯æŸ¥é˜… GORM çš„æ–‡æ¡£</p>
<p>å‚è€ƒ<a class="link"   href="https://gorm.cn/zh_CN/docs/performance.html" >æ€§èƒ½ | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-ç”Ÿæ€"><a class="markdownIt-Anchor" href="#gorm-ç”Ÿæ€"></a> GORM ç”Ÿæ€</h5>
<p>GORM æ‹¥æœ‰éå¸¸ä¸°å¯Œçš„ç”Ÿæ€ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ‰©å±•</p>
<ul>
<li><a class="link"   href="https://github.com/go-gorm/gen" >GORM ä»£ç ç”Ÿæˆå·¥å…· <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/go-gorm/sharding" >GORM åˆ†ç‰‡åº“æ–¹æ¡ˆ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/go-gorm/hints" >GORM æ‰‹åŠ¨ç´¢å¼• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/go-gorm/optimisticlock" >GORM ä¹è§‚é” <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/go-gorm/dbresolver" >GORM è¯»å†™åˆ†ç¦» <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/go-gorm/opentelemetry" >GORM OpenTelemetry æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
<h4 id="kitex-çš„åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#kitex-çš„åŸºæœ¬ä½¿ç”¨"></a> Kitex çš„åŸºæœ¬ä½¿ç”¨</h4>
<h5 id="å®‰è£…-kitex-ä»£ç ç”Ÿæˆå·¥å…·"><a class="markdownIt-Anchor" href="#å®‰è£…-kitex-ä»£ç ç”Ÿæˆå·¥å…·"></a> å®‰è£… Kitex ä»£ç ç”Ÿæˆå·¥å…·</h5>
<p>Kitex ç›®å‰å¯¹ Windows çš„æ”¯æŒä¸å®Œå–„ï¼Œå»ºè®®ä½¿ç”¨ linux ç³»ç»Ÿæˆ–è€…<a class="link"   href="https://learn.microsoft.com/zh-cn/windows/wsl/install" >å®‰è£… WSL | Microsoft Learn <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>å®‰è£…ä»£ç ç”Ÿæˆå·¥å…·</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ go install github.com/cloudwego/kitex/tool/cmd/kitex@latest</span><br><span class="line">$ go install github.com/cloudwego/thriftgo@latest</span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://www.cloudwego.io/zh/docs/kitex/getting-started/" >å¿«é€Ÿå¼€å§‹ | CloudWeGo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="å®šä¹‰-idl"><a class="markdownIt-Anchor" href="#å®šä¹‰-idl"></a> å®šä¹‰ IDL</h5>
<p>IDLï¼ˆInterface  description languageï¼‰ï¼Œå³æ¥å£æè¿°è¯­è¨€ã€‚æ˜¯è·¨å¹³å°å¼€å‘çš„åŸºç¡€ã€‚</p>
<blockquote>
<p>å¯¹äºRPCæ¡†æ¶è€Œè¨€ï¼ŒIDLåˆä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ¥å£æè¿°è¯­è¨€ã€‚å¯¹äºå¸‚é¢ä¸Šç»å¤§å¤šæ•°çš„RPCæ¡†æ¶è€Œè¨€ï¼ŒIDLè¿˜æ˜¯ä¸€ä¸ªå·¥å…·å’Œä¸€ç§ä½¿ç”¨è¿‡ç¨‹ï¼Œä¸“æŒ‡æ ¹æ® IDL æè¿°æ–‡ä»¶ï¼Œç”¨æŒ‡å®šçš„å¼€å‘è¯­è¨€ï¼Œç”Ÿæˆå¯¹åº”çš„æœåŠ¡ç«¯æ¥å£æ¨¡å—ï¼Œå’Œå®¢æˆ·ç«¯ç¨‹åºã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œä¾¿äºå¼€å‘è€…å¿«é€Ÿå¼€å‘ã€‚</p>
</blockquote>
<p>ä½¿ç”¨ IDL å®šä¹‰æœåŠ¡ä¸æ¥å£</p>
<p>è¦è¿›è¡Œ RPC è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œå°±éœ€è¦çŸ¥é“å¯¹æ–¹çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Œéœ€è¦ä»€ä¹ˆå‚æ•°ï¼Œéœ€è¦çŸ¥é“è¿”å›å€¼æ˜¯ä»€ä¹ˆæ ·çš„ã€‚è¿™å°±éœ€è¦é€šè¿‡ IDL æ¥çº¦å®šåŒæ–¹çš„åè®®ï¼Œç±»ä¼¼äºå‡½æ•°ç­¾åï¼Œç„¶åé€šè¿‡å‡½æ•°åè°ƒç”¨å‡½æ•°ã€‚</p>
<p>å…³äº IDL çš„å…·ä½“ç¼–å†™æœ‰å¤šç§è¯­æ³•ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹èµ„æ–™</p>
<p>ä½¿ç”¨ Thrift è¯­æ³•<a class="link"   href="https://thrift.apache.org/docs/idl" >Apache Thrift - Interface Description Language (IDL) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>ä½¿ç”¨ proto3 è¯­æ³•<a class="link"   href="https://developers.google.com/protocol-buffers/docs/proto3?hl=zh-cn" >è¯­è¨€æŒ‡å— (proto3)  | Protocol Buffers  | Google Developers <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>æˆ–è€…<a class="link"   href="https://protobuf.dev/programming-guides/proto3/" >Language Guide (proto 3) | Protocol Buffers Documentation (protobuf.dev) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>è¿™é‡Œä»¥ thrift è¯­æ³•ä¸ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ª echo.thrift</p>
<div class="highlight-container" data-rel="Thrift"><figure class="iseeu highlight thrift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> go api</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Request</span> </span>&#123;</span><br><span class="line">    <span class="number">1</span>: <span class="type">string</span> message</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Response</span> </span>&#123;</span><br><span class="line">	<span class="number">1</span>: <span class="type">string</span> message</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">service</span> <span class="title">Echo</span> </span>&#123;</span><br><span class="line">	Response echo(<span class="number">1</span>: Request req)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h5 id="kitex-ç”Ÿæˆä»£ç "><a class="markdownIt-Anchor" href="#kitex-ç”Ÿæˆä»£ç "></a> Kitex ç”Ÿæˆä»£ç </h5>
<p>åœ¨ IDL çš„åŸºç¡€ä¸Šé€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆä»£ç </p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">$ kitex -module example -service example echo.thrift</span><br></pre></td></tr></table></figure></div>
<p>ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œ<code>-module</code> è¡¨ç¤ºç”Ÿæˆçš„è¯¥é¡¹ç›®çš„ go module åï¼Œ<code>-service</code> è¡¨æ˜æˆ‘ä»¬è¦ç”Ÿæˆä¸€ä¸ªæœåŠ¡ç«¯é¡¹ç›®ï¼Œåé¢ç´§è·Ÿçš„ <code>example</code> ä¸ºè¯¥æœåŠ¡çš„åå­—ã€‚æœ€åä¸€ä¸ªå‚æ•°åˆ™ä¸ºè¯¥æœåŠ¡çš„ IDL æ–‡ä»¶ã€‚</p>
<p>ç”Ÿæˆåçš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">|-- build.sh</span><br><span class="line">|-- echo.thrift</span><br><span class="line">|-- handler.go</span><br><span class="line">|-- kitex_gen</span><br><span class="line">|   `-- api</span><br><span class="line">|       |-- echo</span><br><span class="line">|       |   |-- client.go</span><br><span class="line">|       |   |-- echo.go</span><br><span class="line">|       |   |-- invoker.go</span><br><span class="line">|       |   `-- server.go</span><br><span class="line">|       |-- echo.go</span><br><span class="line">|       `-- k-echo.go</span><br><span class="line">|-- main.go</span><br><span class="line">`-- script</span><br><span class="line">    |-- bootstrap.sh</span><br><span class="line">    `-- settings.py</span><br></pre></td></tr></table></figure></div>
<p><a class="link"   href="http://build.sh" >build.sh <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼šæ„å»ºè„šæœ¬ã€‚</p>
<p>kitex_genï¼šIDL å†…å®¹ç›¸å…³çš„ç”Ÿæˆä»£ç ï¼Œä¸»è¦æ˜¯åŸºç¡€çš„ Server/Client ä»£ç ã€‚</p>
<p>main.goï¼šç¨‹åºå…¥å£ã€‚</p>
<p>handler.goï¼šå¼€å‘è€…åœ¨è¯¥æ–‡ä»¶é‡Œå®ç° IDL service å®šä¹‰çš„æ–¹æ³•ã€‚</p>
<h5 id="kitex-åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#kitex-åŸºæœ¬ä½¿ç”¨"></a> Kitex åŸºæœ¬ä½¿ç”¨</h5>
<p>æœåŠ¡é»˜è®¤ç›‘å¬ 8888 ç«¯å£ã€‚</p>
<p>åœ¨ handler.go ä¸­å®ç°æ–¹æ³•</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> EchoImpl <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *EchoImpl)</span></span> Echo(ctx context.Context, req *api.Request) (resp *api.Response. err <span class="type">error</span>) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> ...</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h5 id="kitex-client-å‘èµ·è¯·æ±‚"><a class="markdownIt-Anchor" href="#kitex-client-å‘èµ·è¯·æ±‚"></a> Kitex Client å‘èµ·è¯·æ±‚</h5>
<p>æ–°å»ºä¸€ä¸ª client ç›®å½•ï¼Œåˆ›å»º main.goï¼Œåœ¨ main.go ä¸­å®ç°æ–¹æ³•</p>
<ul>
<li>
<p>åˆ›å»º Client</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">c, err := echo.NewClient(<span class="string">&quot;example&quot;</span>, client.WithHostPorts(<span class="string">&quot;0.0.0.0:8888&quot;</span>))</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    log.Fatal(err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li>
<p>å‘èµ·è¯·æ±‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">req := &amp;api.Request&#123;Message: <span class="string">&quot;my request&quot;</span>&#125;</span><br><span class="line">resp, err := c.Echo(context.Background(), req, callopt.WithRPCTimeout(<span class="number">3</span>*time.Second))</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    log.Fatal(err)</span><br><span class="line">&#125;</span><br><span class="line">log.Println(resp)</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<h5 id="kitex-æœåŠ¡æ³¨å†Œä¸å‘ç°"><a class="markdownIt-Anchor" href="#kitex-æœåŠ¡æ³¨å†Œä¸å‘ç°"></a> Kitex æœåŠ¡æ³¨å†Œä¸å‘ç°</h5>
<p>ç›®å‰ Kitex çš„æœåŠ¡æ³¨å†Œä¸å‘ç°å·²ç»å¯¹æ¥äº†ä¸»æµçš„æœåŠ¡æ³¨å†Œä¸å‘ç°ä¸­å¿ƒï¼Œå¦‚ ETCDï¼ŒNacos ç­‰ã€‚è¯¦ç»†ä¿¡æ¯å‚è€ƒ<a class="link"   href="https://www.cloudwego.io/zh/docs/kitex/tutorials/service-governance/discovery/" >æœåŠ¡å‘ç° | CloudWeGo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
<h5 id="kitex-ç”Ÿæ€"><a class="markdownIt-Anchor" href="#kitex-ç”Ÿæ€"></a> Kitex ç”Ÿæ€</h5>
<p>Kitex æ‹¥æœ‰éå¸¸ä¸°å¯Œçš„æ‰©å±•ç”Ÿæ€ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ‰©å±•</p>
<ul>
<li><a class="link"   href="https://github.com/kitex-contrib/xds" >XDS æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/kitex-contrib/obs-opentelemetry" >opentelemetry æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/kitex-contrib/registry-etcd" >ETCD æœåŠ¡æ³¨å†Œä¸å‘ç°æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/kitex-contrib/registry-nacos" >Nacos æœåŠ¡æ³¨å†Œä¸å‘ç°æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/kitex-contrib/registry-zookeeper" >Zookeeper æœåŠ¡æ³¨å†Œä¸å‘ç°æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/kitex-contrib/polaris" >polaris æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/cloudwego/kitex-examples/" >ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç ä¸ä¸šåŠ¡ Demo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
<p>æ›´å¤šä¿¡æ¯å‚è€ƒ<a class="link"   href="https://www.cloudwego.io/zh/docs/kitex" >https://www.cloudwego.io/zh/docs/kitex <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="hertz-çš„åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#hertz-çš„åŸºæœ¬ä½¿ç”¨"></a> Hertz çš„åŸºæœ¬ä½¿ç”¨</h4>
<h5 id="hertz-åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#hertz-åŸºæœ¬ä½¿ç”¨"></a> Hertz åŸºæœ¬ä½¿ç”¨</h5>
<p>ä½¿ç”¨ Hertz å®ç°ï¼ŒæœåŠ¡ç›‘å¬ 8080 ç«¯å£å¹¶æ³¨å†Œäº†ä¸€ä¸ª GET æ–¹æ³•çš„è·¯ç”±å‡½æ•°ã€‚</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    h := server.Default(server.WithHostPorts(<span class="string">&quot;127.0.0.1:8080&quot;</span>))</span><br><span class="line">    h.GET(<span class="string">&quot;/ping&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c context.Context, ctx *app.RequestContext)</span></span> &#123;</span><br><span class="line">        ctx.JSON(consts.StatusOK, utils.H&#123;<span class="string">&quot;ping&quot;</span>: <span class="string">&quot;pong&quot;</span>&#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    h.Spin</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://www.cloudwego.io/zh/docs/hertz/getting-started/" >å¿«é€Ÿå¼€å§‹ | CloudWeGo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="hertz-è·¯ç”±"><a class="markdownIt-Anchor" href="#hertz-è·¯ç”±"></a> Hertz è·¯ç”±</h4>
<ul>
<li>
<p>Hertz æä¾›äº† GETã€POSTã€PUTã€DELETEã€ANY ç­‰æ–¹æ³•ç”¨äºæ³¨å†Œè·¯ç”±ã€‚</p>
</li>
<li>
<p>Hertz æä¾›äº†è·¯ç”±ç»„ï¼ˆGroupï¼‰çš„èƒ½åŠ›ï¼Œç”¨äºæ”¯æŒè·¯ç”±åˆ†ç»„çš„åŠŸèƒ½ã€‚</p>
</li>
<li>
<p>Hertz æä¾›äº†å‚æ•°è·¯ç”±å’Œé€šé…è·¯ç”±ï¼Œè·¯ç”±çš„ä¼˜å…ˆçº§ä¸ºï¼šé™æ€è·¯ç”± &gt; å‘½åè·¯ç”± &gt; é€šé…è·¯ç”±</p>
</li>
</ul>
<p>æ›´å¤šä¿¡æ¯ä»¥åŠä½¿ç”¨æ–¹æ³•å‚è€ƒ<a class="link"   href="https://www.cloudwego.io/zh/docs/hertz/tutorials/basic-feature/route/" >è·¯ç”± | CloudWeGo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
<h5 id="hertz-å‚æ•°ç»‘å®š"><a class="markdownIt-Anchor" href="#hertz-å‚æ•°ç»‘å®š"></a> Hertz å‚æ•°ç»‘å®š</h5>
<p>Hertz æä¾›äº† Bindã€Validateã€BindAndValidate å‡½æ•°ç”¨äºè¿›è¡Œå‚æ•°ç»‘å®šå’Œæ ¡éªŒ</p>
<p>æ›´å¤šä¿¡æ¯ä»¥åŠä½¿ç”¨æ–¹æ³•å‚è€ƒ<a class="link"   href="https://www.cloudwego.io/zh/docs/hertz/tutorials/basic-feature/binding-and-validate/" >ç»‘å®šä¸æ ¡éªŒ | CloudWeGo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="hertz-ä¸­é—´ä»¶"><a class="markdownIt-Anchor" href="#hertz-ä¸­é—´ä»¶"></a> Hertz ä¸­é—´ä»¶</h5>
<p>Hertz çš„ä¸­é—´ä»¶ä¸»è¦åˆ†ä¸ºå®¢æˆ·ç«¯ä¸­é—´ä»¶ä¸æœåŠ¡ç«¯ä¸­é—´ä»¶ï¼Œå¦‚ä¸‹æ˜¯ä¸€ä¸ªæœåŠ¡ç«¯ä¸­é—´ä»¶ç¤ºä¾‹</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MyMiddleware</span><span class="params">()</span></span> app.HandlerFunc &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(ctx conext.Context, c *app.RequestContext)</span></span> &#123;</span><br><span class="line">        <span class="comment">// pre-handle</span></span><br><span class="line">        fmt.Println(<span class="string">&quot;pre-handle&quot;</span>)</span><br><span class="line">        c.Next(ctx)</span><br><span class="line">        <span class="comment">// post-handle</span></span><br><span class="line">        fmt.Println(<span class="string">&quot;post-handle&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    h := server.Default(server.WithHostPorts(<span class="string">&quot;127.0.0.1:8080&quot;</span>))</span><br><span class="line">    h.Use(MyMiddleware())</span><br><span class="line">    h.GET(<span class="string">&quot;/middleware&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(ctx context.Context, c *app.RequestContext)</span></span> &#123;</span><br><span class="line">        c.String(consts.StatusOK, <span class="string">&quot;Hello hertz!&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    h.Spin()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>ç»ˆæ­¢ä¸­é—´ä»¶è°ƒç”¨é“¾çš„æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨ c.Abortã€c.AbortWithMsgã€c.AbortWithStatus æ–¹æ³•ã€‚</p>
<p>å‚è€ƒ<a class="link"   href="https://www.cloudwego.io/zh/docs/hertz/tutorials/basic-feature/middleware/" >ä¸­é—´ä»¶æ¦‚è§ˆ | CloudWeGo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="hertz-client"><a class="markdownIt-Anchor" href="#hertz-client"></a> Hertz Client</h5>
<p>Hertz æä¾›äº† HTTP Client ç”¨äºå‘é€ HTTP è¯·æ±‚ã€‚</p>
<p>ç¤ºä¾‹</p>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line">c, err := client.NewClient()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// getè¯·æ±‚</span></span><br><span class="line">status, body, _ := c.Get(context.Background(), <span class="literal">nil</span>, <span class="string">&quot;http://example.com&quot;</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;status=%v body=%v\n&quot;</span>, status, <span class="type">string</span>(body))</span><br><span class="line"><span class="comment">// postè¯·æ±‚</span></span><br><span class="line"><span class="keyword">var</span> postArgs protocol.Args</span><br><span class="line">postArgs.Set(<span class="string">&quot;arg&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br><span class="line">status, body, _ = c.Post(context.Background(), <span class="literal">nil</span>, <span class="string">&quot;http://example.com&quot;</span>, &amp;postArgs)</span><br><span class="line">fmt.Printf(<span class="string">&quot;status=%v body=%v\n&quot;</span>, status, <span class="type">string</span>(body))</span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://github.com/cloudwego/hertz-examples#client" >cloudwego/hertz-examples: Examples for Hertz.  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="hertz-ä»£ç ç”Ÿæˆå·¥å…·"><a class="markdownIt-Anchor" href="#hertz-ä»£ç ç”Ÿæˆå·¥å…·"></a> Hertz ä»£ç ç”Ÿæˆå·¥å…·</h5>
<p>Hertz æä¾›äº†ä»£ç ç”Ÿæˆå·¥å…· Hz ï¼Œé€šè¿‡å®šä¹‰ IDL æ–‡ä»¶å³å¯ç”Ÿæˆå¯¹åº”çš„åŸºç¡€æœåŠ¡ä»£ç ã€‚</p>
<p>å‚è€ƒ<a class="link"   href="https://www.cloudwego.io/zh/docs/hertz/tutorials/toolkit/toolkit/" >hz å‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨ | CloudWeGo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="hertz-æ€§èƒ½"><a class="markdownIt-Anchor" href="#hertz-æ€§èƒ½"></a> Hertz æ€§èƒ½</h5>
<ul>
<li>ç½‘ç»œåº“</li>
<li>Json ç¼–è§£ç  Sonic</li>
<li>ä½¿ç”¨ sync.Pool å¤ç”¨å¯¹è±¡åè®®å±‚æ•°æ®è§£æä¼˜åŒ–</li>
</ul>
<h5 id="hertz-ç”Ÿæ€"><a class="markdownIt-Anchor" href="#hertz-ç”Ÿæ€"></a> Hertz ç”Ÿæ€</h5>
<p>Hertz æ‹¥æœ‰éå¸¸ä¸°å¯Œçš„æ‰©å±•ç”Ÿæ€ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ‰©å±•</p>
<ul>
<li><a class="link"   href="https://github.com/hertz-contrib/http2" >HTTP2 æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/hertz-contrib/obs-opentelemetry" >opentelemetry æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/hertz-contrib/i18n" >å›½é™…åŒ–æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/hertz-contrib/reverseproxy" >åå‘ä»£ç†æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/hertz-contrib/jwt" >JWT é‰´æƒæ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/hertz-contrib/websocket" >Websocket æ‰©å±• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link"   href="https://github.com/cloudwego/hertz-examples" >ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç ä¸ä¸šåŠ¡ Demo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
<p>æ›´å¤šä¿¡æ¯å‚è€ƒ<a class="link"   href="https://github.com/cloudwego/hertz#extensions" >https://github.com/cloudwego/hertz#extensions <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="3å®æˆ˜æ¡ˆä¾‹ä»‹ç»"><a class="markdownIt-Anchor" href="#3å®æˆ˜æ¡ˆä¾‹ä»‹ç»"></a> 3.å®æˆ˜æ¡ˆä¾‹ä»‹ç»</h3>
<h4 id="é¡¹ç›®ä»‹ç»"><a class="markdownIt-Anchor" href="#é¡¹ç›®ä»‹ç»"></a> é¡¹ç›®ä»‹ç»</h4>
<p>é¡¹ç›®åœ°å€<a class="link"   href="https://github.com/cloudwego/kitex-examples/tree/main/bizdemo/easy_note" >cloudwego/kitex-examples  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>ä¸Šé¢çš„ç¬”è®°é¡¹ç›®æ˜¯ä¸€ä¸ªä½¿ç”¨ Hertzã€Kitexã€Gorm æ­å»ºå‡ºæ¥çš„å…·å¤‡ä¸€å®šä¸šåŠ¡é€»è¾‘çš„åç«¯ API é¡¹ç›®ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:center">æœåŠ¡åç§°</th>
<th style="text-align:center">æœåŠ¡ä»‹ç»</th>
<th style="text-align:center">ä¼ è¾“åè®®</th>
<th style="text-align:center">ä¸»è¦æŠ€æœ¯æ ˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">demoapi</td>
<td style="text-align:center">API æœåŠ¡</td>
<td style="text-align:center">HTTP</td>
<td style="text-align:center">Gorm/Kitex/Hertz</td>
</tr>
<tr>
<td style="text-align:center">demouser</td>
<td style="text-align:center">ç”¨æˆ·æ•°æ®ç®¡ç†</td>
<td style="text-align:center">Protobuf</td>
<td style="text-align:center">Gorm/Kitex</td>
</tr>
<tr>
<td style="text-align:center">demonote</td>
<td style="text-align:center">ç¬”è®°æ•°æ®ç®¡ç†</td>
<td style="text-align:center">Thrift</td>
<td style="text-align:center">Gorm/Kitex</td>
</tr>
</tbody>
</table>
<h4 id="åŠŸèƒ½ä»‹ç»"><a class="markdownIt-Anchor" href="#åŠŸèƒ½ä»‹ç»"></a> åŠŸèƒ½ä»‹ç»</h4>
<p>é¡¹ç›®æ¨¡å—</p>
<ul>
<li>demoapi
<ul>
<li>ç”¨æˆ·ç™»å½•</li>
<li>ç”¨æˆ·æ³¨å†Œ</li>
<li>ç”¨æˆ·åˆ›å»ºç¬”è®°</li>
<li>ç”¨æˆ·æ›´æ–°ç¬”è®°</li>
<li>ç”¨æˆ·åˆ é™¤ç¬”è®°</li>
<li>ç”¨æˆ·æŸ¥è¯¢ç¬”è®°</li>
</ul>
</li>
<li>demouser
<ul>
<li>åˆ›å»ºç”¨æˆ·</li>
<li>æŸ¥è¯¢ç”¨æˆ·</li>
<li>æ ¡éªŒç”¨æˆ·</li>
</ul>
</li>
<li>demonote
<ul>
<li>åˆ›å»ºç¬”è®°</li>
<li>æ›´æ–°ç¬”è®°</li>
<li>åˆ é™¤ç¬”è®°</li>
<li>æŸ¥è¯¢ç¬”è®°</li>
</ul>
</li>
</ul>
<h4 id="é¡¹ç›®è°ƒç”¨å…³ç³»"><a class="markdownIt-Anchor" href="#é¡¹ç›®è°ƒç”¨å…³ç³»"></a> é¡¹ç›®è°ƒç”¨å…³ç³»</h4>
<ul>
<li>demouser å’Œ demonote çš„æ•°æ®éƒ½å­˜å‚¨åœ¨ MySQL æ•°æ®åº“ä¸­ï¼Œä» MySQL ä¸­è·å–æ•°æ®ã€‚</li>
<li>demouser å’Œ demonote ä½¿ç”¨ ETCD æœåŠ¡æ³¨å†Œã€‚</li>
<li>demoapi ä½¿ç”¨ proto åè®®è°ƒç”¨ demouser æ“ä½œç”¨æˆ·æ•°æ®ï¼Œä½¿ç”¨ thrift åè®®è°ƒç”¨ demonote æ“ä½œç¬”è®°æ•°æ®ã€‚</li>
<li>demoapi ä½¿ç”¨ ETCD æœåŠ¡å‘ç°ã€‚</li>
<li>è°ƒç”¨æ–¹é€šè¿‡ HTTP è¯·æ±‚è°ƒç”¨demoapiã€‚</li>
</ul>
<h4 id="idl-ä»‹ç»"><a class="markdownIt-Anchor" href="#idl-ä»‹ç»"></a> IDL ä»‹ç»</h4>
<p>å‚è€ƒé¡¹ç›®æ–‡ä»¶<a class="link"   href="https://github.com/cloudwego/kitex-examples/tree/main/bizdemo/easy_note/idl" >kitex-examples/bizdemo/easy_note/idl <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="æŠ€æœ¯æ ˆä»‹ç»"><a class="markdownIt-Anchor" href="#æŠ€æœ¯æ ˆä»‹ç»"></a> æŠ€æœ¯æ ˆä»‹ç»</h4>
<p>æŠ€æœ¯æ¡†æ¶</p>
<ul>
<li>è¯­è¨€ï¼šGO</li>
<li>åº•å±‚å­˜å‚¨ï¼šMySQL</li>
<li>æœåŠ¡æ³¨å†Œï¼šETCD</li>
<li>RPC æ¡†æ¶
<ul>
<li>Kitexï¼šregistry-etcd å’Œ tracer-opentracing</li>
<li>Kitex æ‰©å±•</li>
</ul>
</li>
<li>ORM æ¡†æ¶
<ul>
<li>GORM</li>
<li>GORM æ‰©å±•ï¼šgorm-mysql å’Œ gorm-opentracing</li>
</ul>
</li>
<li>HTTP æ¡†æ¶
<ul>
<li>Hertz</li>
<li>Hertz æ‰©å±•ï¼šHertz-Jwt</li>
</ul>
</li>
<li>é“¾è·¯è¿½è¸ª
<ul>
<li>Jeager</li>
<li>opentracing</li>
</ul>
</li>
</ul>
<h4 id="åˆ›å»ºç¬”è®°åŠŸèƒ½å®ç°å…³é”®ä»£ç "><a class="markdownIt-Anchor" href="#åˆ›å»ºç¬”è®°åŠŸèƒ½å®ç°å…³é”®ä»£ç "></a> åˆ›å»ºç¬”è®°åŠŸèƒ½å®ç°å…³é”®ä»£ç </h4>
<h5 id="hertz-å…³é”®ä»£ç "><a class="markdownIt-Anchor" href="#hertz-å…³é”®ä»£ç "></a> Hertz å…³é”®ä»£ç </h5>
<p><a class="link"   href="https://github.com/cloudwego/kitex-examples/blob/main/bizdemo/easy_note/cmd/api/handlers/create_note.go" >kitex-examples/create_note.go <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="kitex-client-å…³é”®ä»£ç "><a class="markdownIt-Anchor" href="#kitex-client-å…³é”®ä»£ç "></a> Kitex Client å…³é”®ä»£ç </h5>
<p><a class="link"   href="https://github.com/cloudwego/kitex-examples/blob/main/bizdemo/easy_note/cmd/api/rpc/note.go" >kitex-examples/note.go <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="kitex-server-å…³é”®ä»£ç "><a class="markdownIt-Anchor" href="#kitex-server-å…³é”®ä»£ç "></a> Kitex Server å…³é”®ä»£ç </h5>
<p><a class="link"   href="https://github.com/cloudwego/kitex-examples/blob/main/bizdemo/easy_note/cmd/note/service/create_note.go" >kitex-examples/create_note.go <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="gorm-å…³é”®ä»£ç "><a class="markdownIt-Anchor" href="#gorm-å…³é”®ä»£ç "></a> Gorm å…³é”®ä»£ç </h5>
<p><a class="link"   href="https://github.com/cloudwego/kitex-examples/blob/main/bizdemo/easy_note/cmd/note/dal/db/note.go" >kitex-examples/note.go <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="4æ€»ç»“ä¸å±•æœ›"><a class="markdownIt-Anchor" href="#4æ€»ç»“ä¸å±•æœ›"></a> 4.æ€»ç»“ä¸å±•æœ›</h3>
<h4 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h4>
<ul>
<li>äº†è§£ Gorm/Kitex/Hertz çš„åŸºæœ¬æ¦‚å¿µ</li>
<li>ç†Ÿæ‚‰ Gorm/Kitex/Hertz çš„åŸºç¡€ç”¨æ³•</li>
<li>é€šè¿‡å®æˆ˜æ¡ˆä¾‹åˆ†æå°†ä¸‰ä»¶å¥—çš„ä½¿ç”¨è”ç³»èµ·æ¥</li>
</ul>
<h4 id="å±•æœ›"><a class="markdownIt-Anchor" href="#å±•æœ›"></a> å±•æœ›</h4>
<ul>
<li>è¿›ä¸€æ­¥ç†Ÿæ‚‰ Gorm/Kitex/Hertz çš„ä½¿ç”¨ï¼Œé€šè¿‡é˜…è¯»<a class="link"   href="https://www.cloudwego.io/" >å®˜æ–¹æ–‡æ¡£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ç†Ÿæ‚‰æ¡†æ¶æ›´å¤šçš„ç”¨æ³•ã€‚</li>
<li>é˜…è¯»ç¬”è®°é¡¹ç›®æºç å¹¶åœ¨æœ¬åœ°ç¯å¢ƒè¿è¡Œï¼Œä½¿ç”¨ Gorm/Kitex/Hertz è¿›è¡Œé¡¹ç›®å¼€å‘ã€‚</li>
<li>å‚ä¸ Gorm/Kitex/Hertz çš„å¼€æºè´¡çŒ®ï¼Œä¾‹å¦‚ Hertz çš„ Windows å¹³å°æ”¯æŒã€‚</li>
<li><a class="link"   href="https://github.com/cloudwego/hertz/issues" >å®˜æ–¹ issues | é—®é¢˜ Â·Cloudwego/Hertz <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/374901408" >ä»€ä¹ˆæ˜¯RPCï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ª RPC æ¡†æ¶ï¼Ÿ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/397060740" >RPCæ¡†æ¶çš„IDLä¸IDL-less  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://gorm.cn/zh_CN/docs/" >GORM æŒ‡å— | GORM  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://blog.mazhuang.vip/database/mysql/upsert-f2f8bfbaba7a/" >Mysql çš„ upsert æ“ä½œ | Seeker (mazhuang.vip) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.cloudwego.io/zh/docs/kitex/getting-started/" >Kitex å¿«é€Ÿå¼€å§‹ | CloudWeGo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://juejin.cn/post/7174311695592980510" >ä¸€æ–‡å¸¦ä½ å¿«é€Ÿå…¥é—¨GolangHTTPæ¡†æ¶Hertz - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¶æ„åˆæ¢</title>
    <url>/2023/02/03/golang-day7/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7195891149012795452" >æ¶æ„åˆæ¢ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹æ¶æ„åˆ†æè®¾è®¡çš„å­¦ä¹ <span id="more"></span></p>
<h2 id="æ¶æ„åˆæ¢"><a class="markdownIt-Anchor" href="#æ¶æ„åˆæ¢"></a> æ¶æ„åˆæ¢</h2>
<h3 id="1-ä»€ä¹ˆæ˜¯æ¶æ„"><a class="markdownIt-Anchor" href="#1-ä»€ä¹ˆæ˜¯æ¶æ„"></a> 1. ä»€ä¹ˆæ˜¯æ¶æ„</h3>
<p><strong>å®šä¹‰</strong></p>
<p>æ¶æ„ï¼Œåˆç§°è½¯ä»¶æ¶æ„ï¼Œæ˜¯æœ‰å…³è½¯ä»¶æ•´ä½“ç»“æ„ä¸ç»„ä»¶çš„æŠ½è±¡æè¿°ï¼Œç”¨äºæŒ‡å¯¼è½¯ä»¶ç³»ç»Ÿå„ä¸ªæ–¹é¢çš„è®¾è®¡ã€‚</p>
<p>å®ç°ä¸€ä¸ªè½¯ä»¶æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œæ¶æ„åœ¨æ–¹æ³•é€‰æ‹©ä¸Šèµ·ç€è‡³å…³é‡è¦çš„æŒ‡å¯¼ä½œç”¨ã€‚</p>
<p>æ¶æ„çš„é‡è¦æ€§</p>
<ul>
<li>åœ°åŸºæ²¡æ‰“å¥½ï¼Œå¤§å¦å®¹æ˜“å€’</li>
<li>åœ°åŸºåšå®äº†ï¼Œå¤§å¦æ‰èƒ½ç›–å¾—é«˜</li>
<li>ç«™åœ¨å·¨äººè‚©è†€ä¸Šï¼Œæ‰èƒ½çœ‹å¾—è¿œ</li>
</ul>
<h4 id="11-é—®é¢˜"><a class="markdownIt-Anchor" href="#11-é—®é¢˜"></a> 1.1 é—®é¢˜</h4>
<ul>
<li>å¦‚ä½•è®¾è®¡</li>
<li>å¦‚ä½•å¼€å‘</li>
<li>å¦‚ä½•è¿è¥</li>
<li>â€¦</li>
</ul>
<h4 id="12-å•æœº"><a class="markdownIt-Anchor" href="#12-å•æœº"></a> 1.2 å•æœº</h4>
<p>è½¯ä»¶ç³»ç»Ÿéœ€è¦å¯¹å¤–æä¾›æœåŠ¡ã€‚å•æœºï¼Œå°±æ˜¯æŠŠæ‰€æœ‰åŠŸèƒ½éƒ½å®ç°åœ¨ä¸€ä¸ªè¿›ç¨‹é‡Œï¼Œå¹¶éƒ¨ç½²åœ¨ä¸€å°æœºå™¨ä¸Š</p>
<p>ä¼˜ç‚¹ï¼šç®€å•ï¼Œæ˜¯æœ€åŸºæœ¬çš„æ¶æ„</p>
<p>ç¼ºç‚¹</p>
<ul>
<li>å•ä½“æœåŠ¡å­˜åœ¨æ¶æ„ç“¶é¢ˆï¼ˆé«˜å¹¶å‘è¿æ¥é—®é¢˜ï¼Œæ˜¯å•ä½“æ¶æ„æœ¬èº«çš„è®¾è®¡ç¼ºé™·ï¼‰</li>
<li>è¿ç»´çš„æ—¶å€™éœ€è¦åœæœï¼Œå±Šæ—¶ç”¨æˆ·æ— æ³•ä½¿ç”¨æœåŠ¡</li>
</ul>
<p>å•æœºæœåŠ¡çš„æ¨¡å¼é™¤äº†ç®€å•ä¹‹å¤–æ²¡æœ‰ä»»ä½•ä¼˜ç‚¹ã€‚å½“ä»Šäº’è”ç½‘æ—¶ä»£ï¼Œå•æœºæœåŠ¡çš„å½¢æ€ä¸€èˆ¬åªé€‚åˆå‡ºç°åœ¨é¢„ç ”æˆ–åˆåˆ›é˜¶æ®µï¼Œä½†å‡¡ä¸šåŠ¡æœ‰å‘å±•å’Œè¿­ä»£çš„éœ€æ±‚ï¼Œå°±åº”è¯¥ä¼˜å…ˆå¿«é€Ÿåšæ¶æ„è¿­ä»£ã€‚</p>
<h4 id="13-å•ä½“-å‚ç›´åº”ç”¨-å‚ç›´åˆ‡åˆ†"><a class="markdownIt-Anchor" href="#13-å•ä½“-å‚ç›´åº”ç”¨-å‚ç›´åˆ‡åˆ†"></a> 1.3 å•ä½“ã€å‚ç›´åº”ç”¨ | å‚ç›´åˆ‡åˆ†</h4>
<p>æŠŠè¿›ç¨‹éƒ¨ç½²åœ¨å¤šä¸ªæœºå™¨ä¸Šï¼Œå¹¶å¼•å…¥è´Ÿè½½å‡è¡¡å±‚ï¼Œç»è¿‡è¿™æ ·çš„å‚ç›´åˆ‡åˆ†ï¼Œå°±æ¥åˆ°äº†å•ä½“æ¶æ„ã€‚è´Ÿè½½å‡è¡¡å±‚ç”¨äºå¼•å¯¼ç”¨æˆ·å»æ­£å¸¸å·¥ä½œçš„æœºå™¨ã€‚</p>
<p>åœ¨å•ä½“æ¶æ„çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥åœ°å†æŠŠä¸åŒåº”ç”¨çš„ä»£ç ä»ä¹‹å‰çš„ä¸€ä¸ªå¤§çš„è¿›ç¨‹ä¸­æ‹†åˆ†å‡ºæ¥ï¼Œå°±æ¥åˆ°äº†å‚ç›´åº”ç”¨æ¶æ„ã€‚</p>
<ul>
<li>å•ä½“æ¶æ„é€šè¿‡åˆ†å¸ƒå¼éƒ¨ç½²é€æ­¥æ¼”åŒ–ä¸ºåˆ†å¸ƒå¼æ¶æ„ï¼Œå‚ç›´åº”ç”¨æ¶æ„å°±æ˜¯ä¸€ç§åˆ†å¸ƒå¼æ¶æ„ã€‚</li>
<li>å‚ç›´åº”ç”¨æ¶æ„ï¼šæŒ‰åº”ç”¨å‚ç›´åˆ‡åˆ†å•ä½“å¹¶è¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½²çš„æ¶æ„ã€‚</li>
<li>ä¼˜ç‚¹
<ul>
<li>æ°´å¹³æ‰©å®¹</li>
<li>è¿ç»´ä¸éœ€è¦åœæœ</li>
</ul>
</li>
<li>ç¼ºç‚¹
<ul>
<li>èŒè´£å¤ªå¤šï¼Œå¼€å‘æ•ˆç‡ä¸é«˜</li>
<li>çˆ†ç‚¸åŠå¾„å¤§ï¼ˆå³å½±å“èŒƒå›´å¤§ï¼‰ï¼Œå°å˜åŠ¨å¯èƒ½ä¼šå¼•èµ·å¤§èŒƒå›´çš„é—®é¢˜</li>
</ul>
</li>
</ul>
<p>æ ¹æ®åº”ç”¨æŠŠæ¶æ„åšå‚ç›´æ‹†åˆ†ä»å­˜åœ¨ç¼ºé™·ï¼Œäºæ˜¯æ¼”åŒ–å‡ºäº†æ ¹æ®æ¨¡å—/èŒè´£å¯¹æ¶æ„è¿›è¡Œæ°´å¹³æ‹†åˆ†ã€‚</p>
<h4 id="14-soa-å¾®æœåŠ¡-æ°´å¹³åˆ‡åˆ†"><a class="markdownIt-Anchor" href="#14-soa-å¾®æœåŠ¡-æ°´å¹³åˆ‡åˆ†"></a> 1.4 SOAã€å¾®æœåŠ¡ | æ°´å¹³åˆ‡åˆ†</h4>
<p>æŠŠåŸæœ¬åŒ…å«äº†ä¼—å¤šå¤æ‚é€»è¾‘çš„è¿›ç¨‹æŒ‰ç…§åŠŸèƒ½å•å…ƒæŠ½è±¡æˆå¤šä¸ªæœåŠ¡ï¼Œå¹¶ä¸ºå®ƒä»¬ä¹‹é—´çš„é€šä¿¡å®šä¹‰æ ‡å‡†ï¼Œä¾¿å¾—åˆ°äº†SOAæ¶æ„ã€‚</p>
<p>SOA(Service-Oriented Architecture)</p>
<ul>
<li>å°†åº”ç”¨çš„ä¸åŒåŠŸèƒ½å•å…ƒæŠ½è±¡ä¸ºæœåŠ¡</li>
<li>å®šä¹‰æœåŠ¡ä¹‹é—´çš„é€šä¿¡æ ‡å‡†</li>
</ul>
<p>ä¸¤ä¸ªé‡è¦æ¦‚å¿µ</p>
<ul>
<li>æœåŠ¡ï¼šæ ¹æ®åŠŸèƒ½æŠ½è±¡å‡ºæ¥çš„æ¦‚å¿µã€‚æ¯”å¦‚ï¼Œå¤„ç†ç”¨æˆ·ç™»å½•ä¿¡æ¯çš„ Passport æœåŠ¡ï¼Œè´Ÿè´£æŒä¹…åŒ–å­˜å‚¨çš„æ•°æ®åº“æœåŠ¡ï¼Œä»¥åŠä¸ºäº†åŠ å¿«æŸ¥è¯¢é€Ÿåº¦çš„ç¼“å­˜æœåŠ¡ç­‰ã€‚</li>
<li>é€šä¿¡æ ‡å‡†ï¼šæœåŠ¡ä¹‹é—´é€šä¿¡çš„åŸºçŸ³ã€‚</li>
</ul>
<p>ä¸ºäº†æœåŠ¡ä¹‹é—´æ›´å¥½çš„é€šä¿¡ï¼Œæœ‰ä¸¤ä¸ªå¤§çš„å‘å±•æ–¹å‘ï¼šä¸­å¿ƒåŒ–å’Œå»ä¸­å¿ƒåŒ–ã€‚ç”±äºä¸­å¿ƒåŒ–çš„æ–¹æ¡ˆè¾ƒé‡ï¼Œæ‹“å±•æ€§å·®ï¼Œæ™®åŠæ€§ä¸é«˜ã€‚è¿™é‡Œå°±è€ƒè™‘å»ä¸­å¿ƒåŒ–æ–¹å‘ã€‚å»ä¸­å¿ƒåŒ–æ–¹å‘çš„æœ€ç»ˆå½¢æ€å°±æ˜¯å¾®æœåŠ¡æ¶æ„ã€‚</p>
<ul>
<li>
<p>å¾®æœåŠ¡æ¶æ„ï¼šSOA çš„å»ä¸­å¿ƒåŒ–æ¼”è¿›æ–¹å‘</p>
</li>
<li>
<p>ä¼˜ç‚¹</p>
<ul>
<li>ä¸åŒæ¨¡å—çš„å¼€å‘è€…å¯ä»¥å„å¸å…¶èŒï¼Œå¼€å‘è¿­ä»£æ•ˆç‡å¾—åˆ°æ˜¾è‘—æé«˜</li>
<li>å„ä¸ªæœåŠ¡ç‹¬ç«‹è¿ç»´ï¼Œå˜æ›´æ“ä½œçš„å½±å“é¢å¯æ§ï¼Œåº”ç”¨æ•´ä½“çš„ç¨³å®šæ€§å¾—åˆ°äº†æé«˜</li>
</ul>
</li>
</ul>
<p><strong>å‚ç›´åˆ‡åˆ†å’Œæ°´å¹³åˆ‡åˆ†å¸¦æ¥çš„ä¸€ç³»åˆ—é—®é¢˜</strong></p>
<ul>
<li>å•æœºéƒ¨ç½²æ¼”è¿›è€Œæ¥çš„åˆ†å¸ƒå¼æ¶æ„ï¼Œå­˜åœ¨æ•°æ®ä¸€è‡´æ€§é—®é¢˜</li>
<li>æœåŠ¡çš„ä¸æ–­æ‹“å±•ï¼Œä¾èµ–å…³ç³»çš„å¤æ‚åŒ–ï¼Œå¦‚ä½•å®ç°é«˜å¯ç”¨</li>
<li>å¤šä¸ªå¾®æœåŠ¡çš„ç®¡ç†è¿ç»´é—®é¢˜</li>
<li>å¾®æœåŠ¡çš„ç›®æ ‡æ˜¯å¼ºåŒ–å•ä¸€èŒè´£ï¼Œæ§åˆ¶çˆ†ç‚¸åŠå¾„ï¼Œåœ¨è§£è€¦å’Œè¿‡å¾®ä¹‹é—´å–èˆ</li>
</ul>
<h4 id="å°ç»“"><a class="markdownIt-Anchor" href="#å°ç»“"></a> å°ç»“</h4>
<p>æ¶æ„çš„æ¼”è¿›åˆè¡·</p>
<ul>
<li>éœ€æ±‚é‡è¶Šæ¥è¶Šå¤§ï¼Œéœ€è¦å¢åŠ äººæ‰‹</li>
<li>æ•´ä½“é€»è¾‘è¶Šåšè¶Šå¤æ‚ï¼Œéœ€è¦åˆ†å·¥åˆä½œ</li>
</ul>
<p>æ¶æ„çš„æ¼”è¿›æ€è·¯</p>
<ul>
<li>å‚ç›´åˆ‡åˆ†ï¼šæŒ‰ç…§åº”ç”¨åˆ‡åˆ†</li>
<li>æ°´å¹³åˆ‡åˆ†ï¼šæŒ‰ç…§æœåŠ¡åˆ‡åˆ†</li>
</ul>
<h3 id="2ä¼ä¸šçº§åç«¯æ¶æ„å‰–æ"><a class="markdownIt-Anchor" href="#2ä¼ä¸šçº§åç«¯æ¶æ„å‰–æ"></a> 2.ä¼ä¸šçº§åç«¯æ¶æ„å‰–æ</h3>
<h4 id="21-äº‘è®¡ç®—"><a class="markdownIt-Anchor" href="#21-äº‘è®¡ç®—"></a> 2.1 äº‘è®¡ç®—</h4>
<p>äº‘è®¡ç®—æ˜¯æŒ‡é€šè¿‡è½¯ä»¶è‡ªåŠ¨åŒ–ç®¡ç†ï¼Œæä¾›è®¡ç®—èµ„æºçš„æœåŠ¡ç½‘ç»œï¼Œæ˜¯ç°ä»£äº’è”ç½‘å¤§è§„æ¨¡ç†Ÿæ‚‰åˆ†æå’Œå­˜å‚¨çš„åŸºçŸ³ã€‚</p>
<p>åŸºç¡€</p>
<ul>
<li>è™šæ‹ŸåŒ–æŠ€æœ¯ï¼šç¡¬ä»¶ï¼ˆè™šæ‹Ÿæœºï¼‰ã€æ“ä½œç³»ç»Ÿï¼ˆå®¹å™¨ï¼‰ã€ç½‘ç»œ</li>
<li>ç¼–æ’æ–¹æ¡ˆï¼šè™šæ‹Ÿæœºç¼–æ’æ–¹æ¡ˆï¼ˆOpenStackï¼‰ã€å®¹å™¨ç¼–æ’æ–¹æ¡ˆï¼ˆKubernetesï¼‰</li>
</ul>
<p>æ¶æ„</p>
<ul>
<li>Iaasï¼ˆInfrastructure as a Serviceï¼‰</li>
<li>Paasï¼ˆPlatform as a Serviceï¼‰</li>
<li>SaaSï¼ˆSoftware as a Serviceï¼‰</li>
<li>Faasï¼ˆFunction as a Serviceï¼‰</li>
</ul>
<h4 id="22-äº‘åŸç”Ÿ"><a class="markdownIt-Anchor" href="#22-äº‘åŸç”Ÿ"></a> 2.2 äº‘åŸç”Ÿ</h4>
<p>äº‘åŸç”Ÿï¼Œå®é™…æ˜¯äº‘åŸç”Ÿè®¡ç®—çš„ç®€ç§°ï¼Œå®ƒæ˜¯äº‘è®¡ç®—å‘å±•åˆ°ç°åœ¨çš„ä¸€ç§å½¢æ€ã€‚</p>
<p>äº‘åŸç”ŸæŠ€æœ¯ä¸ºåœ¨å…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€æ··åˆäº‘ç­‰æ–°å‹çš„åŠ¨æ€ç¯å¢ƒä¸­æ„å»ºå’Œè¿è¡Œå¯å¼¹æ€§æ‹“å±•çš„åº”ç”¨æä¾›äº†å¯èƒ½æ€§ã€‚å®ƒçš„ä»£è¡¨æŠ€æœ¯æœ‰</p>
<ul>
<li>å®¹å™¨åŒ–</li>
<li>æœåŠ¡ç½‘æ ¼</li>
<li>å¾®æœåŠ¡</li>
<li>ä¸å¯å˜åŸºç¡€æ¶æ„</li>
<li>å£°æ˜å¼ API</li>
</ul>
<p>åŸºäºè¿™äº›æŠ€æœ¯ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºå‡ºå®¹é”™æ€§å¥½ã€æ˜“äºç®¡ç†ã€å…·å¤‡è¾ƒå¥½è§‚æµ‹æ€§çš„äº‘æœåŠ¡ã€‚ç»“åˆå¯é çš„è‡ªåŠ¨åŒ–æœºåˆ¶ï¼ŒæœåŠ¡å¯ä»¥è½»æ¾åº”å¯¹é¢‘ç¹å’Œå¯é¢„æµ‹çš„é‡å¤§å˜æ›´ã€‚</p>
<p>äº‘åŸç”Ÿä¸»è¦æ¶‰åŠå››ä¸ªå¤§æ–¹é¢</p>
<ul>
<li>å¼¹æ€§èµ„æºï¼šåŸºäºè™šæ‹ŸåŒ–å®¹å™¨ä»¥åŠçµæ´»çš„ç¼–æ’è°ƒåº¦æœºåˆ¶ï¼Œå¯ä»¥ä¸ºäº‘æœåŠ¡æä¾›å¿«é€Ÿæ‰©ç¼©å®¹èƒ½åŠ›ï¼Œè€Œä¸”æå¤§ç¨‹åº¦åœ°æé«˜äº†ç‰©ç†èµ„æºçš„åˆ©ç”¨ç‡ã€‚åœ¨è¿™æ–¹é¢ï¼Œkubernetes æŠ€æœ¯å·²ç»ç§°ä¸ºäº†ä¸šç•Œçš„æ ‡å‡†</li>
<li>å¾®æœåŠ¡æ¶æ„ï¼šå¾®æœåŠ¡æ¶æ„ä¹Ÿæ˜¯äº‘åŸç”Ÿçš„é‡è¦åŸºçŸ³ä¹‹ä¸€ã€‚ä¾æ‰˜äºåŠŸèƒ½å•å…ƒè§£æ„ï¼Œä½¿å¾—äº‘æœåŠ¡å…·å¤‡äº†å¿«é€Ÿè¿­ä»£çš„å¯èƒ½ï¼Œä¸šåŠ¡å¾—ä»¥è¿…é€Ÿå‘å±•ï¼›ç»Ÿä¸€çš„é€šä¿¡æ ‡å‡†èƒ½å¤Ÿå¸®åŠ©è¶Šæ¥è¶Šå¤šçš„ç»„ä»¶åŠ å…¥åˆ°äº‘åŸç”Ÿçš„å¤§å®¶åº­ï¼ŒåŒæ—¶ä¹Ÿä½¿å¾—å„ç»„ä»¶ä¹‹é—´çš„äº¤äº’å˜çš„æ›´å®¹æ˜“</li>
<li>DevOpsï¼šè®¾è®¡-&gt;å¼€å‘-&gt;æµ‹è¯•-&gt;äº¤ä»˜-&gt;å¼€å‘-&gt;æµ‹è¯•-&gt;äº¤ä»˜ï¼Œè‡ªåŠ¨åŒ–çš„æµç¨‹ä½¿å¾—è½¯ä»¶çš„å·¥ä½œæµç¨‹æ›´é«˜æ•ˆï¼Œå°†å¾®æœåŠ¡æ¶æ„çš„ä¼˜åŠ¿å‘æŒ¥çš„æ·‹æ¼“å°½è‡´</li>
<li>æœåŠ¡ç½‘æ ¼ï¼šå¦‚æœè¯´å¾®æœåŠ¡æ¶æ„çš„é‡è¦è¿›æ­¥ï¼Œæ˜¯å°†åºå¤§çš„å•ä½“æœåŠ¡æŒ‰ç…§ä¸šåŠ¡åŠŸèƒ½è§£è€¦å¼€æ¥ï¼Œé‚£ä¹ˆï¼ŒæœåŠ¡ç½‘æ ¼çš„é‡è¦è¿›æ­¥å°±æ˜¯å°†ä¸šåŠ¡é€»è¾‘ä¸ç½‘ç»œé€šä¿¡å’Œæ²»ç†è§£è€¦å¼€æ¥ã€‚ä¸šåŠ¡ä¸å†éœ€è¦å…³å¿ƒå¼‚æ„ç³»ç»Ÿä¸­ RPC ä¸­é—´ä»¶æ²»ç†èƒ½åŠ›çš„ä¸ç»Ÿä¸€ï¼Œä¹Ÿä½¿å¾—å¤æ‚çš„æ²»ç†èƒ½åŠ›çš„è½åœ°æˆä¸ºå¯èƒ½</li>
</ul>
<h5 id="221-å¼¹æ€§è®¡ç®—èµ„æº"><a class="markdownIt-Anchor" href="#221-å¼¹æ€§è®¡ç®—èµ„æº"></a> 2.2.1 å¼¹æ€§è®¡ç®—èµ„æº</h5>
<p>å¼¹æ€§è®¡ç®—èµ„æºç±»å‹</p>
<ul>
<li>æœåŠ¡èµ„æºè°ƒåº¦ï¼šå¾®æœåŠ¡å’Œå¤§æœåŠ¡</li>
<li>è®¡ç®—èµ„æºè°ƒåº¦ï¼šåœ¨çº¿å’Œç¦»çº¿</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—ï¼šåœ¨çº¿å’Œç¦»çº¿</li>
</ul>
<h5 id="222-å¼¹æ€§å­˜å‚¨èµ„æº"><a class="markdownIt-Anchor" href="#222-å¼¹æ€§å­˜å‚¨èµ„æº"></a> 2.2.2 å¼¹æ€§å­˜å‚¨èµ„æº</h5>
<p>å¼¹æ€§å­˜å‚¨èµ„æºç±»å‹</p>
<ul>
<li>å…¸å‹ï¼šå¯¹è±¡å’Œæ•°æ®</li>
<li>å…³ç³»å‹æ•°æ®åº“</li>
<li>å…ƒæ•°æ®ï¼šæœåŠ¡å‘ç°</li>
<li>NoSQL</li>
</ul>
<p>å°†å­˜å‚¨èµ„æºè§†ä¸ºæœåŠ¡</p>
<h5 id="223-devops"><a class="markdownIt-Anchor" href="#223-devops"></a> 2.2.3 DevOps</h5>
<p>DevOps æ˜¯äº‘åŸç”Ÿæ—¶ä»£è½¯ä»¶äº¤ä»˜çš„åˆ©å™¨ï¼Œè´¯ç©¿æ•´ä¸ªè½¯ä»¶å¼€å‘å‘¨æœŸã€‚</p>
<p>ç»“åˆè‡ªåŠ¨åŒ–æµç¨‹ï¼Œæé«˜è½¯ä»¶å¼€å‘ã€äº¤ä»˜æ•ˆç‡</p>
<h5 id="224-å¾®æœåŠ¡æ¶æ„"><a class="markdownIt-Anchor" href="#224-å¾®æœåŠ¡æ¶æ„"></a> 2.2.4 å¾®æœåŠ¡æ¶æ„</h5>
<p>é€šä¿¡æ ‡å‡†</p>
<ul>
<li>HTTPï¼ˆRESTfulã€APIï¼‰</li>
<li>RPCï¼ˆThriftã€gRPCï¼‰</li>
</ul>
<p>å¾®æœåŠ¡ä¸­é—´ä»¶  RPC vs HTTP</p>
<ul>
<li>æ€§èƒ½</li>
<li>æœåŠ¡æ²»ç†</li>
<li>åè®®å¯è§£é‡Šæ€§</li>
</ul>
<p>äº‘åŸç”Ÿåœºæ™¯ä¸‹ï¼Œå¾®æœåŠ¡å¤§å¯ä¸å¿…åœ¨ä¸šåŠ¡é€»è¾‘ä¸­å®ç°ç¬¦åˆé€šä¿¡æ ‡å‡†çš„äº¤äº’é€»è¾‘ï¼Œè€Œæ˜¯äº¤ç»™æ¡†æ¶æ¥åšã€‚</p>
<h5 id="225-æœåŠ¡ç½‘æ ¼"><a class="markdownIt-Anchor" href="#225-æœåŠ¡ç½‘æ ¼"></a> 2.2.5 æœåŠ¡ç½‘æ ¼</h5>
<p>æœåŠ¡ç½‘ç»œï¼ˆService Meshï¼‰</p>
<ul>
<li>å¾®æœåŠ¡ä¹‹é—´é€šè®¯çš„ä¸­é—´å±‚</li>
<li>é«˜æ€§èƒ½ç½‘ç»œä»£ç†</li>
<li>ä¸šåŠ¡ä»£ç ä¸æ²»ç†è§£è€¦</li>
</ul>
<p>ç›¸æ¯”è¾ƒäº RPC/HTTP æ¡†æ¶</p>
<ul>
<li>å¼‚æ„ç³»ç»Ÿæ²»ç†ç»Ÿä¸€åŒ–</li>
<li>ä¸ä¸šåŠ¡è¿›ç¨‹è§£è€¦ï¼Œç”Ÿå‘½å‘¨æœŸæ˜“ç®¡ç†</li>
</ul>
<h3 id="ä¼ä¸šçº§åç«¯æ¶æ„çš„æŒ‘æˆ˜"><a class="markdownIt-Anchor" href="#ä¼ä¸šçº§åç«¯æ¶æ„çš„æŒ‘æˆ˜"></a> ä¼ä¸šçº§åç«¯æ¶æ„çš„æŒ‘æˆ˜</h3>
<p><strong>é—®é¢˜</strong></p>
<ul>
<li>åŸºç¡€è®¾æ–½å±‚é¢ï¼š
<ul>
<li>ç‰©ç†èµ„æºæ˜¯è¿æœ‰é™çš„ï¼Œæœºå™¨å’Œå¸¦å®½</li>
<li>èµ„æºåˆ©ç”¨ç‡å—åˆ¶äºéƒ¨ç½²æœåŠ¡</li>
</ul>
</li>
<li>ç”¨æˆ·å±‚é¢
<ul>
<li>ç½‘ç»œé€šä¿¡å¼€é”€è¾ƒå¤§</li>
<li>ç½‘ç»œæŠ–åŠ¨å¯¼è‡´è¿ç»´æˆæœ¬æé«˜</li>
<li>å¼‚æ„ç¯å¢ƒä¸‹ï¼Œä¸åŒå®ä¾‹èµ„æºæ°´ä½ä¸å‡</li>
</ul>
</li>
</ul>
<h4 id="31-ç¦»åœ¨çº¿èµ„æºå¹¶æ± "><a class="markdownIt-Anchor" href="#31-ç¦»åœ¨çº¿èµ„æºå¹¶æ± "></a> 3.1 ç¦»åœ¨çº¿èµ„æºå¹¶æ± </h4>
<p>æ ¸å¿ƒæ”¶ç›Š</p>
<ul>
<li>é™ä½ç‰©ç†èµ„æºæˆæœ¬</li>
<li>æä¾›æ›´å¤šçš„å¼¹æ€§èµ„æºï¼Œå¢åŠ æ”¶å…¥</li>
</ul>
<p>è§£å†³æ€è·¯ï¼šç¦»åœ¨çº¿å¹¶æ± </p>
<ul>
<li>åœ¨çº¿ä¸šåŠ¡çš„ç‰¹ç‚¹
<ul>
<li>IO å¯†é›†å‹ä¸ºä¸»</li>
<li>æ½®æ±æ€§ã€å®æ—¶æ€§</li>
</ul>
</li>
<li>ç¦»çº¿ä¸šåŠ¡çš„ç‰¹ç‚¹
<ul>
<li>è®¡ç®—å¯†é›†å‹å å¤šæ•°</li>
<li>éå®æ—¶æ€§</li>
</ul>
</li>
</ul>
<p>åœ¨åŒä¸€ä¸ªæœºå™¨åšç¦»åœ¨çº¿éš”ç¦»ï¼Œä½¿ç”¨è‡ªåŠ¨æ‰©ç¼©å®¹</p>
<h4 id="32-è‡ªåŠ¨æ‰©ç¼©å®¹"><a class="markdownIt-Anchor" href="#32-è‡ªåŠ¨æ‰©ç¼©å®¹"></a> 3.2 è‡ªåŠ¨æ‰©ç¼©å®¹</h4>
<p>æ ¸å¿ƒæ”¶ç›Šï¼šé™ä½ä¸šåŠ¡æˆæœ¬</p>
<p>è§£å†³æ€è·¯ï¼šè‡ªåŠ¨æ‰©ç¼©å®¹ï¼Œåˆ©ç”¨åœ¨çº¿ä¸šåŠ¡æ½®æ±æ€§è‡ªåŠ¨æ‰©ç¼©å®¹</p>
<p>æ‰©ç¼©å®¹ä¾æ®çš„æŒ‡æ ‡ï¼Œå¾®æœåŠ¡äº²å’Œæ€§éƒ¨ç½²</p>
<h4 id="33-å¾®æœåŠ¡äº²å’Œæ€§éƒ¨ç½²"><a class="markdownIt-Anchor" href="#33-å¾®æœåŠ¡äº²å’Œæ€§éƒ¨ç½²"></a> 3.3 å¾®æœåŠ¡äº²å’Œæ€§éƒ¨ç½²</h4>
<p>æ ¸å¿ƒæ”¶ç›Š</p>
<ul>
<li>é™ä½ä¸šåŠ¡æˆæœ¬</li>
<li>æé«˜æœåŠ¡å¯ç”¨æ€§</li>
</ul>
<p>è§£å†³æ€è·¯ï¼šå¾®æœåŠ¡äº²å’Œæ€§éƒ¨ç½²</p>
<ul>
<li>å°†æ»¡è¶³äº²å’Œæ€§æ¡ä»¶çš„å®¹å™¨è°ƒåº¦åˆ°ä¸€å°å®¿ä¸»æœº</li>
<li>å¾®æœåŠ¡ä¸­é—´ä»¶ä¸æœåŠ¡ç½‘æ ¼é€šè¿‡å…±äº«å†…å­˜é€šä¿¡</li>
<li>æœåŠ¡ç½‘æ ¼æ§åˆ¶é¢å®æ–½çµæ´»ã€åŠ¨æ€çš„æµé‡è°ƒåº¦</li>
</ul>
<h4 id="34-æµé‡æ²»ç†"><a class="markdownIt-Anchor" href="#34-æµé‡æ²»ç†"></a> 3.4 æµé‡æ²»ç†</h4>
<p>æ ¸å¿ƒæ”¶ç›Š</p>
<ul>
<li>æé«˜å¾®æœåŠ¡è°ƒç”¨å®¹é”™æ€§</li>
<li>å®¹ç¾</li>
<li>è¿›ä¸€æ­¥æé«˜å¼€å‘æ•ˆç‡ï¼ŒDevOps å‘æŒ¥åˆ°æè‡´</li>
</ul>
<p>è§£å†³æ€è·¯ï¼šåŸºäºå¾®æœåŠ¡ä¸­é—´ä»¶å’ŒæœåŠ¡ç½‘æ ¼çš„æµé‡æ²»ç†</p>
<ul>
<li>ç†”æ–­ã€é‡è¯•</li>
<li>å•å…ƒåŒ–</li>
<li>å¤æ‚ç¯å¢ƒï¼ˆåŠŸèƒ½ã€é¢„è§ˆï¼‰çš„æµé‡è°ƒåº¦</li>
</ul>
<h4 id="cpu-æ°´ä½è´Ÿè½½å‡è¡¡"><a class="markdownIt-Anchor" href="#cpu-æ°´ä½è´Ÿè½½å‡è¡¡"></a> CPU æ°´ä½è´Ÿè½½å‡è¡¡</h4>
<p>æ ¸å¿ƒæ”¶ç›Š</p>
<ul>
<li>æ‰“å¹³å¼‚æ„ç¯å¢ƒç®—åŠ›å·®å¼‚</li>
<li>ä¸ºè‡ªåŠ¨æ‰©ç¼©å®¹æä¾›æ­£å‘è¾“å…¥</li>
</ul>
<p>è§£å†³æ€è·¯ï¼šCPU æ°´ä½è´Ÿè½½å‡è¡¡</p>
<ul>
<li>Iaasï¼šæä¾›èµ„æºæ¢é’ˆ</li>
<li>æœåŠ¡ç½‘æ ¼ï¼šåŠ¨æ€è´Ÿè½½å‡è¡¡</li>
</ul>
<h3 id="4-åç«¯æ¶æ„å®æˆ˜"><a class="markdownIt-Anchor" href="#4-åç«¯æ¶æ„å®æˆ˜"></a> 4. åç«¯æ¶æ„å®æˆ˜</h3>
<p><strong>é—®é¢˜æç‚¼</strong></p>
<p>è¾“å…¥</p>
<ul>
<li>æœåŠ¡ç½‘æ ¼æ•°æ®é¢ï¼šæ”¯æŒå¸¦æƒé‡çš„è´Ÿè½½å‡è¡¡ç­–ç•¥</li>
<li>æ³¨å†Œä¸­å¿ƒå­˜å‚¨äº†æ‰€æœ‰å®¹å™¨çš„æƒé‡ä¿¡æ¯</li>
<li>å®¿ä¸»æœºèƒ½å¤Ÿæä¾›å®¹å™¨çš„èµ„æºä½¿ç”¨æƒ…å†µå’Œç‰©ç†èµ„æºä¿¡æ¯ï¼ˆå¦‚ CPU å‹å·ï¼‰</li>
</ul>
<p>å…³é”®ç‚¹</p>
<ul>
<li>ç´§æ€¥å›æ»šèƒ½åŠ›</li>
<li>å¤§è§„æ¨¡</li>
<li>æç«¯åœºæ™¯</li>
</ul>
<h4 id="41-è‡ªé€‚åº”é™æ€æƒé‡"><a class="markdownIt-Anchor" href="#41-è‡ªé€‚åº”é™æ€æƒé‡"></a> 4.1 è‡ªé€‚åº”é™æ€æƒé‡</h4>
<p>æ–¹æ¡ˆ</p>
<ul>
<li>é‡‡é›†å®¿ä¸»æœºç‰©ç†èµ„æºä¿¡æ¯</li>
<li>è°ƒæ•´å®¹å™¨æ³¨å†Œçš„æƒé‡</li>
</ul>
<p>ä¼˜ç‚¹</p>
<ul>
<li>å¤æ‚åº¦ä½</li>
<li>å®Œå…¨åˆ†å¸ƒå¼ï¼Œå¯ç”¨æ€§é«˜</li>
<li>å¾®æœåŠ¡ä¸­é—´ä»¶æ— é€‚é…æˆæœ¬</li>
</ul>
<p>ç¼ºç‚¹</p>
<ul>
<li>æ— ç´§æ€¥å›æ»šèƒ½åŠ›</li>
<li>ç¼ºä¹è¿è¡Œæ—¶è‡ªé€‚åº”èƒ½åŠ›</li>
</ul>
<h4 id="42-è‡ªé€‚åº”åŠ¨æ€æƒé‡-alpha"><a class="markdownIt-Anchor" href="#42-è‡ªé€‚åº”åŠ¨æ€æƒé‡-alpha"></a> 4.2 è‡ªé€‚åº”åŠ¨æ€æƒé‡ Alpha</h4>
<p>æ–¹æ¡ˆ</p>
<ul>
<li>å®¹å™¨åŠ¨æ€æƒé‡çš„è‡ªé€‚åº”è°ƒæ•´</li>
<li>æœåŠ¡ç½‘æ ¼çš„æœåŠ¡å‘ç°å’Œæµé‡è°ƒåº¦èƒ½åŠ›</li>
</ul>
<p>ä¼˜ç‚¹</p>
<ul>
<li>è§£å†³æ— æ³•ç´§æ€¥å›æ»šçš„é—®é¢˜</li>
<li>è¿è¡Œæ—¶æƒé‡è‡ªé€‚åº”</li>
</ul>
<p>ç¼ºç‚¹ï¼šè¿‡åº¦æµé‡å€¾æ–œå¯èƒ½ä¼šæœ‰å¼‚å¸¸æƒ…å†µ</p>
<h4 id="43-è‡ªé€‚åº”åŠ¨æ€æƒé‡-beta"><a class="markdownIt-Anchor" href="#43-è‡ªé€‚åº”åŠ¨æ€æƒé‡-beta"></a> 4.3 è‡ªé€‚åº”åŠ¨æ€æƒé‡ Beta</h4>
<p>æ–¹æ¡ˆï¼šæœåŠ¡ç½‘æ ¼ä¸ŠæŠ¥ RPC æŒ‡æ ‡</p>
<p>ä¼˜ç‚¹ï¼šæç«¯åœºæ™¯çš„å¤„ç†æˆä¸ºå¯èƒ½</p>
<p>ç¼ºç‚¹</p>
<ul>
<li>æ—¶åºæ•°æ®åº“å‹åŠ›è¾ƒå¤§</li>
<li>åŠ¨æ€æƒé‡å†³ç­–ä¸­å¿ƒèŒè´£è¶Šæ¥è¶Šå¤šï¼Œè¿­ä»£ -&gt; å˜æ›´ -&gt; é£é™©</li>
</ul>
<h4 id="44-è‡ªé€‚åº”åŠ¨æ€æƒé‡-release"><a class="markdownIt-Anchor" href="#44-è‡ªé€‚åº”åŠ¨æ€æƒé‡-release"></a> 4.4 è‡ªé€‚åº”åŠ¨æ€æƒé‡ Release</h4>
<p>æ¼”è¿›æ–¹å‘</p>
<ul>
<li>å¾®æœåŠ¡åŒ–</li>
<li>å¼•å…¥æ¶ˆæ¯é˜Ÿåˆ—å‰Šå³°ã€è§£è€¦</li>
<li>ç¦»åœ¨çº¿é“¾è·¯åˆ‡åˆ†</li>
<li>æ¢³ç†å¼ºå¼±ä¾èµ–</li>
<li>è§£å†³åœ¨çº¿åˆ†æå¼•æ“çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼šä¸€è‡´æ€§å“ˆå¸Œ</li>
<li>è§£å†³æ—¶åºæ•°æ®åº“å‹åŠ›ï¼šå°†å…¶ä½œä¸ºæ—è·¯å·¥å…·ï¼Œé‡‡ç”¨çº¯å†…å­˜çš„åœ¨çº¿åˆ†æå¼•æ“è¿›è¡Œå®æ—¶ç­–ç•¥è®¡ç®—</li>
<li>ç¦»çº¿åˆ†æï¼šä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è§£è€¦ã€å‰Šå³°</li>
<li>ç¦»çº¿å›é¦ˆåœ¨çº¿</li>
</ul>
<h4 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h4>
<p>æ²¡æœ‰æœ€å¥½çš„æ¶æ„ï¼Œåªæœ‰æœ€åˆé€‚çš„æ¶æ„</p>
<p>æ¶æ„è®¾è®¡çš„æµç¨‹</p>
<ul>
<li>éœ€æ±‚å…ˆè¡Œã€‚å¼„æ¸…æ¥šè¦è§£å†³ä»€ä¹ˆé—®é¢˜</li>
<li>ä¸šç•Œè°ƒç ”ã€‚ä¸šç•Œéƒ½æœ‰å“ªäº›è§£å†³æ–¹æ¡ˆå¯ä¾›å‚è€ƒ</li>
<li>æŠ€æœ¯é€‰å‹ã€‚å†…éƒ¨/ç¤¾åŒºéƒ½æœ‰å“ªäº›åŸºç¡€ç»„ä»¶</li>
<li>å¼‚å¸¸æƒ…å†µã€‚è€ƒè™‘æ¸…é™¤åº”å¯¹å„ç§å¼‚å¸¸é—®é¢˜çš„æ–¹æ¡ˆ</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/136587858" >è½¯ä»¶æ¶æ„çš„æ¼”å˜-å•ä½“æ¶æ„ï¼Œå‚ç›´æ¶æ„ï¼Œåˆ†å¸ƒå¼æ¶æ„ï¼ŒSOAæ¶æ„å’Œå¾®æœåŠ¡æ¶æ„çš„æ¼”å˜å†ç¨‹ - çŸ¥ä¹  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/26302012" >æ°´å¹³æ‹†åˆ† &amp; å‚ç›´æ‹†åˆ† - çŸ¥ä¹  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®æœåŠ¡æ¶æ„</title>
    <url>/2023/02/04/golang-day9/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7196678344573337656" >å¾®æœåŠ¡æ¶æ„ | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹å¾®æœåŠ¡æ¶æ„åŸç†ä¸æ²»ç†å®è·µçš„å­¦ä¹ <span id="more"></span></p>
<h2 id="å¾®æœåŠ¡æ¶æ„åŸç†ä¸æ²»ç†å®è·µ"><a class="markdownIt-Anchor" href="#å¾®æœåŠ¡æ¶æ„åŸç†ä¸æ²»ç†å®è·µ"></a> å¾®æœåŠ¡æ¶æ„åŸç†ä¸æ²»ç†å®è·µ</h2>
<h3 id="èƒŒæ™¯"><a class="markdownIt-Anchor" href="#èƒŒæ™¯"></a> èƒŒæ™¯</h3>
<p>å¾®æœåŠ¡æ¶æ„æ˜¯å½“å‰å¤§å¤šæ•°äº’è”ç½‘å…¬å¸çš„æ ‡å‡†æ¶æ„ã€‚</p>
<p>ä¸»è¦å­¦ä¹ å¾®æœåŠ¡æ¶æ„çš„ç”±æ¥åŠåŸç†ã€æœåŠ¡æ²»ç†åŠŸèƒ½å·¥ä½œæœºåˆ¶ã€‚</p>
<h3 id="1å¾®æœåŠ¡æ¶æ„ä»‹ç»"><a class="markdownIt-Anchor" href="#1å¾®æœåŠ¡æ¶æ„ä»‹ç»"></a> 1.å¾®æœåŠ¡æ¶æ„ä»‹ç»</h3>
<h4 id="11-ç³»ç»Ÿæ¶æ„æ¼”å˜å†å²"><a class="markdownIt-Anchor" href="#11-ç³»ç»Ÿæ¶æ„æ¼”å˜å†å²"></a> 1.1 ç³»ç»Ÿæ¶æ„æ¼”å˜å†å²</h4>
<p>æ¶æ„æ¼”å˜çš„åŸå› </p>
<ul>
<li>äº’è”ç½‘çš„çˆ†ç‚¸æ€§å‘å±•</li>
<li>ç¡¬ä»¶è®¾æ–½çš„å¿«é€Ÿå‘å±•</li>
<li>éœ€æ±‚å¤æ‚æ€§çš„å¤šæ ·åŒ–</li>
<li>å¼€å‘äººå‘˜çš„æ€¥å‰§å¢åŠ </li>
<li>è®¡ç®—æœºç†è®ºåŠæŠ€æœ¯çš„å‘å±•</li>
</ul>
<p>å•ä½“æ¶æ„ â€”&gt; å‚ç›´åº”ç”¨æ¶æ„ â€”&gt; åˆ†å¸ƒå¼æ¶æ„ â€”&gt; SOA æ¶æ„ â€”&gt; å¾®æœåŠ¡æ¶æ„</p>
<h5 id="å•ä½“æ¶æ„"><a class="markdownIt-Anchor" href="#å•ä½“æ¶æ„"></a> å•ä½“æ¶æ„</h5>
<ul>
<li>
<p>ä¼˜åŠ¿</p>
<ol>
<li>
<p>æ€§èƒ½æœ€é«˜</p>
</li>
<li>
<p>å†—ä½™å°</p>
</li>
</ol>
</li>
<li>
<p>åŠ£åŠ¿</p>
<ol>
<li>
<p>debug å›°éš¾</p>
</li>
<li>
<p>æ¨¡å—ç›¸äº’å½±å“ï¼ˆéæ ¸å¿ƒåŠŸèƒ½å¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒï¼‰</p>
</li>
<li>
<p>æ¨¡å—åˆ†å·¥ã€ä¾èµ–ç®¡ç†å›°éš¾ï¼Œå¼€å‘æµç¨‹å‡ ä¹æ— æ³•åˆ†å·¥</p>
</li>
</ol>
</li>
</ul>
<h5 id="å‚ç›´åº”ç”¨æ¶æ„"><a class="markdownIt-Anchor" href="#å‚ç›´åº”ç”¨æ¶æ„"></a> å‚ç›´åº”ç”¨æ¶æ„</h5>
<p>å®‰è£…ä¸šåŠ¡çº¿å‚ç›´åˆ’åˆ†</p>
<ul>
<li>ä¼˜åŠ¿ï¼šä¸šåŠ¡ç‹¬ç«‹å¼€å‘ç»´æŠ¤</li>
<li>åŠ£åŠ¿
<ol>
<li>ä¸åŒä¸šåŠ¡å­˜åœ¨å†—ä½™ï¼Œæ— æ³•å¤ç”¨</li>
<li>æ¯ä¸ªä¸šåŠ¡è¿˜æ˜¯å•ä½“</li>
</ol>
</li>
</ul>
<h5 id="åˆ†å¸ƒå¼æ¶æ„"><a class="markdownIt-Anchor" href="#åˆ†å¸ƒå¼æ¶æ„"></a> åˆ†å¸ƒå¼æ¶æ„</h5>
<p>æŠ½å–å‡ºä¸šåŠ¡æ— å…³çš„å…¬å…±æ¨¡å—</p>
<ul>
<li>ä¼˜åŠ¿ï¼šä¸šåŠ¡æ— å…³çš„ç‹¬ç«‹æœåŠ¡</li>
<li>åŠ£åŠ¿
<ol>
<li>æœåŠ¡æ¨¡å— bug å¯èƒ½å¯¼è‡´å…¨ç«™ç˜«ç—ª</li>
<li>è°ƒç”¨å…³ç³»å¤æ‚</li>
<li>ä¸åŒæœåŠ¡å†—ä½™</li>
</ol>
</li>
</ul>
<h5 id="soa-æ¶æ„service-oriented-architecture"><a class="markdownIt-Anchor" href="#soa-æ¶æ„service-oriented-architecture"></a> SOA æ¶æ„ï¼ˆService Oriented Architectureï¼‰</h5>
<p>é¢å‘æœåŠ¡çš„æ¶æ„</p>
<ul>
<li>ä¼˜åŠ¿ï¼šæœåŠ¡æ³¨å†Œ</li>
<li>åŠ£åŠ¿
<ol>
<li>æ•´ä¸ªç³»ç»Ÿè®¾è®¡æ˜¯ä¸­å¿ƒåŒ–çš„</li>
<li>éœ€è¦ä»ä¸Šè‡³ä¸‹è®¾è®¡</li>
<li>é‡æ„å›°éš¾</li>
</ol>
</li>
</ul>
<h5 id="å¾®æœåŠ¡æ¶æ„"><a class="markdownIt-Anchor" href="#å¾®æœåŠ¡æ¶æ„"></a> å¾®æœåŠ¡æ¶æ„</h5>
<p>å½»åº•æœåŠ¡åŒ–çš„æ¶æ„</p>
<ul>
<li>ä¼˜åŠ¿
<ol>
<li>é«˜æ•ˆçš„å¼€å‘è¿­ä»£æ•ˆç‡</li>
<li>ä¸šåŠ¡ç‹¬ç«‹è®¾è®¡</li>
<li>è‡ªä¸‹è€Œä¸Šè®¾è®¡</li>
<li>æ•…éšœéš”ç¦»å¯æ§</li>
</ol>
</li>
<li>åŠ£åŠ¿
<ol>
<li>æ²»ç†ã€è¿ç»´éš¾åº¦æ€¥å‰§å¢åŠ </li>
<li>è§‚æµ‹æŒ‘æˆ˜</li>
<li>å®‰å…¨æ€§é—®é¢˜</li>
<li>åˆ†å¸ƒå¼ç³»ç»Ÿæœ¬èº«çš„å¤æ‚æ€§</li>
</ol>
</li>
</ul>
<h4 id="12-å¾®æœåŠ¡æ¶æ„æ¦‚è§ˆ"><a class="markdownIt-Anchor" href="#12-å¾®æœåŠ¡æ¶æ„æ¦‚è§ˆ"></a> 1.2 å¾®æœåŠ¡æ¶æ„æ¦‚è§ˆ</h4>
<p>ä»ç»„ä»¶çš„ç»´åº¦å»åˆ†æå¾®æœåŠ¡æ¶æ„çš„æ•´ä½“è§†è§’</p>
<ul>
<li>æœåŠ¡é…ç½®å’Œæ²»ç†ï¼šæœåŠ¡é…ç½®ã€æœåŠ¡æ²»ç†</li>
<li>æ¶ˆæ¯é˜Ÿåˆ— MQ
<ul>
<li>ç”¨æˆ·æœåŠ¡ï¼šç”¨æˆ·æ•°æ®åº“</li>
<li>å•†å“æœåŠ¡ï¼šå•†å“æ•°æ®åº“</li>
<li>è®¢å•æœåŠ¡ï¼šè®¢å•æ•°æ®åº“</li>
<li>å¹¿å‘ŠæœåŠ¡ï¼šæ•°æ®ä»“åº“ã€Redis</li>
</ul>
</li>
<li>é“¾è·¯è¿½è¸ªå’Œç›‘æ§ï¼šé“¾è·¯è¿½è¸ªã€æœåŠ¡ç›‘æ§</li>
<li>ç½‘å…³</li>
</ul>
<h4 id="13-å¾®æœåŠ¡æ¶æ„æ ¸å¿ƒè¦ç´ "><a class="markdownIt-Anchor" href="#13-å¾®æœåŠ¡æ¶æ„æ ¸å¿ƒè¦ç´ "></a> 1.3 å¾®æœåŠ¡æ¶æ„æ ¸å¿ƒè¦ç´ </h4>
<ul>
<li>æœåŠ¡æ²»ç†ï¼šæœåŠ¡æ³¨å†Œã€æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æ‰©ç¼©å®¹ã€æµé‡æ²»ç†ã€ç¨³å®šæ€§æ²»ç†ã€â€¦</li>
<li>å¯è§‚æµ‹æ€§ï¼šæ—¥å¿—é‡‡é›†ã€æ—¥å¿—åˆ†æã€ç›‘æ§æ‰“ç‚¹ã€ç›‘æ§å¤§ç›˜ã€å¼‚å¸¸æŠ¥è­¦ã€é“¾è·¯è¿½è¸ªã€â€¦</li>
<li>å®‰å…¨ï¼šèº«ä»½éªŒè¯ã€è®¤è¯æˆæƒã€è®¿é—®ä»¤ç‰Œã€å®¡è®¡ã€ä¼ è¾“åŠ å¯†ã€é»‘äº§æ”»å‡»ã€â€¦</li>
</ul>
<h4 id="14-æ€»ç»“"><a class="markdownIt-Anchor" href="#14-æ€»ç»“"></a> 1.4 æ€»ç»“</h4>
<ul>
<li>ç³»ç»Ÿæ¶æ„çš„æ¼”å˜å†å²</li>
<li>å¾®æœåŠ¡æ¶æ„çš„æ•´ä½“æ¦‚è§ˆ</li>
<li>å¾®æœåŠ¡æ¶æ„çš„æ ¸å¿ƒè¦ç´ </li>
</ul>
<h3 id="2å¾®æœåŠ¡æ¶æ„åŸç†åŠç‰¹å¾"><a class="markdownIt-Anchor" href="#2å¾®æœåŠ¡æ¶æ„åŸç†åŠç‰¹å¾"></a> 2.å¾®æœåŠ¡æ¶æ„åŸç†åŠç‰¹å¾</h3>
<h4 id="21-åŸºæœ¬æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#21-åŸºæœ¬æ¦‚å¿µ"></a> 2.1 åŸºæœ¬æ¦‚å¿µ</h4>
<ul>
<li>
<p>æœåŠ¡ï¼ˆserviceï¼‰</p>
<p>ä¸€ç»„å…·æœ‰ç›¸åŒé€»è¾‘çš„è¿è¡Œå®ä½“ã€‚</p>
</li>
<li>
<p>å®ä¾‹ï¼ˆinstanceï¼‰</p>
<p>ä¸€ä¸ªæœåŠ¡ä¸­ï¼Œæ¯ä¸ªè¿è¡Œå®ä½“å³ä¸ºä¸€ä¸ªå®ä¾‹ã€‚</p>
</li>
<li>
<p>å®ä¾‹ä¸è¿›ç¨‹çš„å…³ç³»</p>
<p>å®ä¾‹ä¸è¿›ç¨‹ä¹‹é—´æ²¡æœ‰å¿…ç„¶å¯¹åº”å…³ç³»ï¼Œä¸€ä¸ªå®ä¾‹å¯ä»¥å¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼ˆåè¿‡æ¥ä¸å¸¸è§ï¼‰ã€‚</p>
</li>
<li>
<p>é›†ç¾¤ï¼ˆclusterï¼‰</p>
<p>é€šå¸¸æŒ‡æœåŠ¡å†…éƒ¨çš„é€»è¾‘åˆ’åˆ†ï¼ŒåŒ…å«å¤šä¸ªå®ä¾‹ã€‚</p>
</li>
<li>
<p>å¸¸è§çš„å®ä¾‹æ‰¿è½½å½¢å¼</p>
<p>è¿›ç¨‹ã€VMã€k8s podã€â€¦</p>
</li>
<li>
<p>æœ‰çŠ¶æ€/æ— çŠ¶æ€æœåŠ¡</p>
<p>æœåŠ¡çš„å®ä¾‹æ˜¯å¦å­˜å‚¨äº†å¯æŒä¹…åŒ–çš„æ•°æ®ï¼Œä¾‹å¦‚ç£ç›˜æ–‡ä»¶ã€‚</p>
</li>
<li>
<p>æœåŠ¡é—´é€šä¿¡</p>
<p>å¯¹äºå•ä½“æœåŠ¡ï¼Œä¸åŒæ¨¡å—é€šä¿¡åªæ˜¯ç®€å•çš„å‡½æ•°è°ƒç”¨ã€‚</p>
<p>å¯¹äºå¾®æœåŠ¡ï¼ŒæœåŠ¡é—´é€šä¿¡æ„å‘³ç€ç½‘ç»œä¼ è¾“ã€‚</p>
</li>
</ul>
<h4 id="22-æœåŠ¡æ³¨å†Œä¸å‘ç°"><a class="markdownIt-Anchor" href="#22-æœåŠ¡æ³¨å†Œä¸å‘ç°"></a> 2.2 æœåŠ¡æ³¨å†Œä¸å‘ç°</h4>
<p>é—®é¢˜ï¼šåœ¨ä»£ç å±‚é¢ï¼Œå¦‚ä½•æŒ‡å®šè°ƒç”¨ä¸€ä¸ªç›®æ ‡æœåŠ¡çš„åœ°å€ï¼ˆip:portï¼‰ï¼Ÿ</p>
<h5 id="ç¡¬ç¼–ç -hardcode"><a class="markdownIt-Anchor" href="#ç¡¬ç¼–ç -hardcode"></a> ç¡¬ç¼–ç  hardcode</h5>
<div class="highlight-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Service A want to call Service B.</span></span><br><span class="line">client := grpc.NewClient(<span class="string">&quot;10.23.45.67:8080&quot;</span>)</span><br></pre></td></tr></table></figure></div>
<p>ç¡¬ç¼–ç  hardcode çš„é—®é¢˜ï¼šå½“æœåŠ¡å­˜åœ¨å¤šä¸ªå®ä¾‹æ—¶ï¼Œhardcode æ— æ³•è°ƒç”¨åŠ¨æ€å˜åŒ–çš„æœåŠ¡åœ°å€ã€‚</p>
<h5 id="dns"><a class="markdownIt-Anchor" href="#dns"></a> DNS</h5>
<p>DNS çš„æ€æƒ³å°±æ˜¯ä¸­é—´å±‚ã€‚</p>
<p>DNS çš„é—®é¢˜</p>
<ul>
<li>æœ¬åœ° DNS å­˜åœ¨ç¼“å­˜ï¼Œå¯¼è‡´å»¶æ—¶ã€‚</li>
<li>è´Ÿè½½å‡è¡¡é—®é¢˜ã€‚</li>
<li>ä¸æ”¯æŒæœåŠ¡å®ä¾‹çš„æ¢æ´»æ£€æŸ¥ã€‚</li>
<li>åŸŸåæ— æ³•é…ç½®ç«¯å£ã€‚</li>
</ul>
<h5 id="æœåŠ¡æ³¨å†Œä¸­å¿ƒ-service-registry"><a class="markdownIt-Anchor" href="#æœåŠ¡æ³¨å†Œä¸­å¿ƒ-service-registry"></a> æœåŠ¡æ³¨å†Œä¸­å¿ƒ Service Registry</h5>
<p>è§£å†³æ€è·¯ï¼šæ–°å¢ä¸€ä¸ªç»Ÿä¸€çš„æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œç”¨äºå­˜å‚¨æœåŠ¡ååˆ°æœåŠ¡å®ä¾‹çš„æ˜ å°„ã€‚ä¸ DNS ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¸­é—´å±‚ã€‚</p>
<h5 id="æœåŠ¡å®ä¾‹ä¸Šçº¿åŠä¸‹çº¿è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#æœåŠ¡å®ä¾‹ä¸Šçº¿åŠä¸‹çº¿è¿‡ç¨‹"></a> æœåŠ¡å®ä¾‹ä¸Šçº¿åŠä¸‹çº¿è¿‡ç¨‹</h5>
<ul>
<li>
<p>å½“ä¸€ä¸ªå®ä¾‹è¿˜æœ‰æµé‡æ—¶ï¼Œä¸èƒ½ç›´æ¥ä¸‹çº¿ï¼Œå½“å®ƒæ²¡æœ‰æµé‡æ—¶ï¼Œå¯ä»¥ä¸‹çº¿ã€‚</p>
</li>
<li>
<p>å½“ä¸€ä¸ªæœåŠ¡ä¸‹çº¿å‡ ä¸ªå®ä¾‹åè®¿é—®å‹åŠ›è¿‡å¤§ï¼Œå¯ä»¥æ·»åŠ æ–°çš„å®ä¾‹åˆ°æœåŠ¡ä¸­ã€‚</p>
</li>
<li>
<p>æ–°å¯ç”¨çš„å®ä¾‹ä¼šå…ˆè¿›è¡Œå¥åº·æ£€æŸ¥ï¼Œæ£€æŸ¥æ— è¯¯åå†æ³¨å†Œåˆ°æœåŠ¡ä¸­å¿ƒã€‚</p>
</li>
<li>
<p>å¥åº·æ£€æŸ¥æ˜¯åœ¨æœåŠ¡è¿ä½œæœŸé—´ä¸€ç›´æŒç»­è¿›è¡Œçš„ã€‚</p>
</li>
</ul>
<h4 id="23-æµé‡ç‰¹å¾"><a class="markdownIt-Anchor" href="#23-æµé‡ç‰¹å¾"></a> 2.3 æµé‡ç‰¹å¾</h4>
<ul>
<li>ç»Ÿä¸€ç½‘å…³è·¯å£</li>
<li>å†…ç½‘é€šä¿¡å¤šæ•°é‡‡ç”¨ RPC</li>
<li>ç½‘çŠ¶è°ƒç”¨é“¾è·¯</li>
</ul>
<p>å¼±åŒ–è¿æ¥çš„æ¦‚å¿µï¼Œå¼ºè°ƒâ€œè¯·æ±‚â€ï¼Œå³åŒä¸€ä¸ªå®¢æˆ·ç«¯é•¿è¿æ¥å‘å‡ºçš„è¯·æ±‚ï¼Œç†è®ºä¸Šå¯ä»¥åˆ°è¾¾æœåŠ¡ä¸­æ‰€æœ‰å®ä¾‹ã€‚ç½‘å…³ gateway å¯ä»¥ç”¨äºèº«ä»½è®¤è¯ï¼Œè¿›è€Œå°† token é™„åœ¨è¯·æ±‚ä¸Šã€‚</p>
<h4 id="24-æ€»ç»“"><a class="markdownIt-Anchor" href="#24-æ€»ç»“"></a> 2.4 æ€»ç»“</h4>
<ul>
<li>å¾®æœåŠ¡æ¶æ„ä¸­çš„åŸºæœ¬ç»„ä»¶åŠæœ¯è¯­</li>
<li>æœåŠ¡æ³¨å†ŒåŠå‘ç°ä¸­é—´å±‚</li>
<li>å¹³æ»‘æ— æŸçš„æœåŠ¡å®ä¾‹ä¸Šä¸‹çº¿æµç¨‹</li>
<li>å¾®æœåŠ¡æ¶æ„ä¸­çš„åŸºæœ¬æµé‡ç‰¹å¾</li>
</ul>
<h3 id="3æ ¸å¿ƒæœåŠ¡æ²»ç†åŠŸèƒ½"><a class="markdownIt-Anchor" href="#3æ ¸å¿ƒæœåŠ¡æ²»ç†åŠŸèƒ½"></a> 3.æ ¸å¿ƒæœåŠ¡æ²»ç†åŠŸèƒ½</h3>
<h4 id="31-æœåŠ¡å‘å¸ƒ"><a class="markdownIt-Anchor" href="#31-æœåŠ¡å‘å¸ƒ"></a> 3.1 æœåŠ¡å‘å¸ƒ</h4>
<p>æœåŠ¡å‘å¸ƒï¼ˆdeploymentï¼‰ï¼Œå³è®©ä¸€ä¸ªæœåŠ¡å‡çº§è¿è¡Œæ–°çš„ä»£ç çš„è¿‡ç¨‹ã€‚</p>
<p>æœåŠ¡å‘å¸ƒçš„éš¾ç‚¹</p>
<ul>
<li>
<p>æœåŠ¡ä¸å¯ç”¨</p>
</li>
<li>
<p>æœåŠ¡æŠ–åŠ¨</p>
</li>
<li>
<p>æœåŠ¡å›æ»š</p>
</li>
<li>
<p>è“ç»¿éƒ¨ç½²é—®é¢˜</p>
</li>
<li>
<p>ç°åº¦å‘å¸ƒï¼ˆé‡‘ä¸é›€å‘å¸ƒï¼‰é—®é¢˜</p>
</li>
</ul>
<h4 id="32-æµé‡æ²»ç†"><a class="markdownIt-Anchor" href="#32-æµé‡æ²»ç†"></a> 3.2 æµé‡æ²»ç†</h4>
<p>åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œå¯ä»¥åŸºäºåœ°åŒºã€é›†ç¾¤ã€å®ä¾‹ã€è¯·æ±‚ç­‰ç»´åº¦ï¼Œå¯¹ç«¯åˆ°ç«¯æµé‡çš„è·¯ç”±è·¯å¾„è¿›è¡Œç²¾ç¡®æ§åˆ¶ï¼ˆè¿™é‡Œå°±æ˜¯ç‹­ä¹‰çš„å¯¹æµé‡è¿›è¡Œæ§åˆ¶ï¼‰ã€‚</p>
<h4 id="33-è´Ÿè½½å‡è¡¡"><a class="markdownIt-Anchor" href="#33-è´Ÿè½½å‡è¡¡"></a> 3.3 è´Ÿè½½å‡è¡¡</h4>
<p>è´Ÿè½½å‡è¡¡ï¼ˆLoad Balanceï¼‰è´Ÿè´£åˆ†é…è¯·æ±‚åœ¨æ¯ä¸ªä¸‹æ¸¸å®ä¾‹ä¸Šä»¥æ§åˆ¶åˆ†å¸ƒæƒ…å†µã€‚</p>
<p>å¸¸è§çš„ LB ç­–ç•¥</p>
<ul>
<li>Round Robin</li>
<li>Random</li>
<li>Ring Hash</li>
<li>Least Request</li>
<li>â€¦</li>
</ul>
<h4 id="34-ç¨³å®šæ€§æ²»ç†"><a class="markdownIt-Anchor" href="#34-ç¨³å®šæ€§æ²»ç†"></a> 3.4 ç¨³å®šæ€§æ²»ç†</h4>
<p>çº¿ä¸ŠæœåŠ¡éš¾å…ä¼šå‡ºç°é—®é¢˜ï¼Œè¿™å’Œç¨‹åºæœ¬èº«æ­£ç¡®æ€§æ— å…³ã€‚</p>
<ul>
<li>ç½‘ç»œæ”»å‡»</li>
<li>æµé‡çªå¢</li>
<li>æœºæˆ¿æ–­ç”µ</li>
<li>å…‰çº¤æ–­å¼€</li>
<li>æœºå™¨æ•…éšœ</li>
<li>ç½‘ç»œæ•…éšœ</li>
<li>æœºæˆ¿ç©ºè°ƒæ•…éšœ</li>
<li>â€¦</li>
</ul>
<p>å¾®æœåŠ¡æ¶æ„ä¸­å…¸å‹çš„ç¨³å®šæ€§æ²»ç†åŠŸèƒ½</p>
<ul>
<li>é™æµ</li>
<li>ç†”æ–­</li>
<li>è¿‡è½½ä¿æŠ¤</li>
<li>é™çº§</li>
</ul>
<h4 id="35-æ€»ç»“"><a class="markdownIt-Anchor" href="#35-æ€»ç»“"></a> 3.5 æ€»ç»“</h4>
<ul>
<li>æœåŠ¡å‘å¸ƒï¼šè“ç»¿éƒ¨ç½²ã€ç°åº¦å‘å¸ƒ</li>
<li>åŸºäºåœ°åŒºã€é›†ç¾¤ã€å®ä¾‹ã€è¯·æ±‚ç­‰ç»´åº¦çš„æµé‡æ²»ç†åŠŸèƒ½</li>
<li>å‡ ç§å¸¸è§çš„è´Ÿè½½å‡è¡¡ç­–ç•¥</li>
<li>å¾®æœåŠ¡æ¶æ„ä¸­çš„ç¨³å®šæ€§æ²»ç†åŠŸèƒ½</li>
</ul>
<h3 id="4æœåŠ¡æ²»ç†å®è·µ"><a class="markdownIt-Anchor" href="#4æœåŠ¡æ²»ç†å®è·µ"></a> 4.æœåŠ¡æ²»ç†å®è·µ</h3>
<h4 id="41-é‡è¯•çš„æ„ä¹‰"><a class="markdownIt-Anchor" href="#41-é‡è¯•çš„æ„ä¹‰"></a> 4.1 é‡è¯•çš„æ„ä¹‰</h4>
<h5 id="æœ¬åœ°å‡½æ•°è°ƒç”¨å¯èƒ½å¼•å‘çš„å¼‚å¸¸"><a class="markdownIt-Anchor" href="#æœ¬åœ°å‡½æ•°è°ƒç”¨å¯èƒ½å¼•å‘çš„å¼‚å¸¸"></a> æœ¬åœ°å‡½æ•°è°ƒç”¨å¯èƒ½å¼•å‘çš„å¼‚å¸¸</h5>
<ul>
<li>å‚æ•°éæ³•</li>
<li>OOMï¼ˆOut Of Memoryï¼‰</li>
<li>NPEï¼ˆNull Pointer Exceptionï¼‰</li>
<li>è¾¹ç•Œ case</li>
<li>ç³»ç»Ÿå´©æºƒ</li>
<li>æ­»å¾ªç¯</li>
<li>ç¨‹åºå¼‚å¸¸é€€å‡º</li>
</ul>
<p>æœ¬åœ°å‡½æ•°æ²¡æœ‰é‡è¯•çš„æ„ä¹‰</p>
<h5 id="è¿œç¨‹å‡½æ•°è°ƒç”¨å¯èƒ½å¼•å‘çš„å¼‚å¸¸"><a class="markdownIt-Anchor" href="#è¿œç¨‹å‡½æ•°è°ƒç”¨å¯èƒ½å¼•å‘çš„å¼‚å¸¸"></a> è¿œç¨‹å‡½æ•°è°ƒç”¨å¯èƒ½å¼•å‘çš„å¼‚å¸¸</h5>
<ul>
<li>ç½‘ç»œæŠ–åŠ¨</li>
<li>ä¸‹æ¸¸è´Ÿè½½é«˜å¯¼è‡´è¶…æ—¶</li>
<li>ä¸‹æ¸¸æœºå™¨å®•æœº</li>
<li>æœ¬åœ°æœºå™¨è´Ÿè½½é«˜ï¼Œè°ƒåº¦è¶…æ—¶</li>
<li>ä¸‹æ¸¸ç†”æ–­ã€é™æµ</li>
<li>â€¦</li>
</ul>
<p>è¿œç¨‹å‡½æ•°éœ€è¦è¿›è¡Œé‡è¯•</p>
<p><strong>é‡è¯•å¯ä»¥é¿å…æ‰å¶ç„¶å‘ç”Ÿçš„é”™è¯¯ï¼Œæé«˜ SLAï¼ˆService-Level Agreementï¼‰</strong></p>
<ul>
<li>
<p>é™ä½é”™è¯¯ç‡</p>
<p>å‡è®¾å•æ¬¡è¯·æ±‚çš„é”™è¯¯ç‡ä¸º 0.01ï¼Œé‚£ä¹ˆè¿ç»­ä¸¤æ¬¡çš„é”™è¯¯çš„æ¦‚ç‡ä¸º 0.0001ã€‚</p>
</li>
<li>
<p>é™ä½é•¿å°¾å»¶æ—¶</p>
<p>å¯¹äºå¶å°”è€—æ—¶è¾ƒé•¿çš„è¯·æ±‚ï¼Œé‡è¯•è¯·æ±‚æœ‰æœºä¼šæå‰è¿”å›ã€‚</p>
</li>
<li>
<p>å®¹å¿æš‚æ—¶æ€§é”™è¯¯</p>
<p>æŸäº›æ—¶å€™ç³»ç»Ÿä¼šæœ‰æš‚æ—¶æ€§å¼‚å¸¸ï¼Œä¾‹å¦‚ç½‘ç»œæŠ–åŠ¨ï¼Œé‡è¯•å¯ä»¥å°½é‡è§„é¿ã€‚</p>
</li>
<li>
<p>é¿å¼€ä¸‹æ¸¸æ•…éšœå®ä¾‹</p>
<p>ä¸€ä¸ªæœåŠ¡ä¸­å¯èƒ½ä¼šæœ‰å°‘é‡å®ä¾‹æ•…éšœï¼Œä¾‹å¦‚æœºå™¨æ•…éšœï¼Œé‡è¯•å…¶ä»–å®ä¾‹å¯ä»¥æˆåŠŸã€‚</p>
</li>
</ul>
<h4 id="42-é‡è¯•çš„éš¾ç‚¹"><a class="markdownIt-Anchor" href="#42-é‡è¯•çš„éš¾ç‚¹"></a> 4.2 é‡è¯•çš„éš¾ç‚¹</h4>
<ul>
<li>å¹‚ç­‰æ€§ï¼šå¤šæ¬¡è¯·æ±‚å¯èƒ½ä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´ã€‚</li>
<li>é‡è¯•é£æš´ï¼šéšç€è°ƒç”¨æ·±åº¦çš„å¢åŠ ï¼Œé‡è¯•æ¬¡æ•°ä¼šæŒ‡æ•°çº§ä¸Šæ¶¨ã€‚</li>
<li>è¶…æ—¶è®¾ç½®ï¼šé—´éš”å¤šå°‘æ—¶é—´åå‘èµ·é‡è¯•è¯·æ±‚ã€‚ä¾‹å¦‚ï¼ŒæœåŠ¡ A å‘æœåŠ¡ B é‡è¯• 3 æ¬¡ï¼Œä½†æœåŠ¡ B éœ€è¦å‘æœåŠ¡ C é‡è¯• 9 æ¬¡ï¼ŒæœåŠ¡ C éœ€è¦å‘æœåŠ¡ D é‡è¯• 27 æ¬¡ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li>
</ul>
<h4 id="43-é‡è¯•ç­–ç•¥"><a class="markdownIt-Anchor" href="#43-é‡è¯•ç­–ç•¥"></a> 4.3 é‡è¯•ç­–ç•¥</h4>
<p>é‡è¯•åªæœ‰åœ¨å¤§éƒ¨åˆ†è¯·æ±‚éƒ½æˆåŠŸï¼Œåªæœ‰å°‘éƒ¨åˆ†è¯·æ±‚å¤±è´¥æ—¶ï¼Œæ‰æœ‰å¿…è¦ã€‚å¦‚æœå¤§éƒ¨åˆ†è¯·æ±‚éƒ½å¤±è´¥ï¼Œé‡è¯•åªä¼šåŠ å‰§é—®é¢˜ä¸¥é‡æ€§ã€‚</p>
<h5 id="é™åˆ¶é‡è¯•æ¯”ä¾‹"><a class="markdownIt-Anchor" href="#é™åˆ¶é‡è¯•æ¯”ä¾‹"></a> é™åˆ¶é‡è¯•æ¯”ä¾‹</h5>
<p>è®¾å®šä¸€ä¸ªé‡è¯•æ¯”ä¾‹é˜ˆå€¼ï¼Œä¾‹å¦‚ 1%ï¼Œé‡è¯•æ¬¡æ•°å æ‰€æœ‰è¯·æ±‚æ¬¡æ•°æ¯”ä¾‹ä¸èƒ½è¶…è¿‡è¯¥é˜ˆå€¼ã€‚</p>
<h5 id="é˜²æ­¢é“¾è·¯é‡è¯•"><a class="markdownIt-Anchor" href="#é˜²æ­¢é“¾è·¯é‡è¯•"></a> é˜²æ­¢é“¾è·¯é‡è¯•</h5>
<p>é“¾è·¯å±‚é¢çš„é˜²é‡è¯•é£æš´çš„æ ¸å¿ƒæ˜¯é™åˆ¶æ¯å±‚éƒ½å‘ç”Ÿé‡è¯•ï¼Œç†æƒ³æƒ…å†µä¸‹æ˜¯åªæœ‰æœ€ä¸‹ä¸€å±‚å‘ç”Ÿé‡è¯•ã€‚å¯ä»¥è¿”å›ç‰¹æ®Šçš„ status è¡¨æ˜â€œè¯·æ±‚å¤±è´¥ï¼Œä½†ä¸è¿›è¡Œé‡è¯•â€ã€‚</p>
<p>ç¼ºç‚¹æ˜¯éœ€è¦ä¾µå…¥æ€§ä¿®æ”¹ä¸šåŠ¡ä»£ç ã€‚</p>
<h5 id="hedged-requests"><a class="markdownIt-Anchor" href="#hedged-requests"></a> Hedged requests</h5>
<p>å¯¹äºå¯èƒ½è¶…æ—¶æˆ–å»¶æ—¶é«˜çš„è¯·æ±‚ï¼Œé‡æ–°å‘å¦ä¸€ä¸ªä¸‹æ¸¸å®ä¾‹å‘é€ä¸€ä¸ªç›¸åŒçš„è¯·æ±‚ï¼Œå¹¶ç­‰å¾…å…ˆåˆ°è¾¾çš„å“åº”ã€‚</p>
<h4 id="44-é‡è¯•æ•ˆæœéªŒè¯"><a class="markdownIt-Anchor" href="#44-é‡è¯•æ•ˆæœéªŒè¯"></a> 4.4 é‡è¯•æ•ˆæœéªŒè¯</h4>
<p>å®é™…éªŒè¯ç»è¿‡ä¸Šè¿°é‡è¯•ç­–ç•¥åï¼Œåœ¨é“¾è·¯ä¸Šå‘ç”Ÿçš„é‡è¯•æ”¾å¤§æ•ˆåº”ã€‚</p>
<h4 id="45-æ€»ç»“"><a class="markdownIt-Anchor" href="#45-æ€»ç»“"></a> 4.5 æ€»ç»“</h4>
<ul>
<li>é‡è¯•çš„æ„ä¹‰åŠéš¾ç‚¹</li>
<li>åº”å¯¹é‡è¯•é£æš´çš„ç­–ç•¥</li>
</ul>
<h3 id="å½’çº³æ€»ç»“"><a class="markdownIt-Anchor" href="#å½’çº³æ€»ç»“"></a> å½’çº³æ€»ç»“</h3>
<ul>
<li>å¾®æœåŠ¡æ¶æ„ä»‹ç»</li>
<li>å¾®æœåŠ¡æ¶æ„åŸç†åŠç‰¹å¾</li>
<li>æ ¸å¿ƒæœåŠ¡æ²»ç†åŠŸèƒ½</li>
<li>æœåŠ¡æ²»ç†å®è·µ</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/42671353" >ä»€ä¹ˆæ˜¯è“ç»¿éƒ¨ç½²ã€æ»šåŠ¨å‘å¸ƒå’Œç°åº¦å‘å¸ƒï¼Ÿ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/141398230" >Motanç³»åˆ—6ï¼šè´Ÿè½½å‡è¡¡ï¼ˆLoadBalanceï¼‰ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://juejin.cn/post/7194381054797905981/#heading-0" >ã€åç«¯ä¸“åœº å­¦ä¹ èµ„æ–™å››ã€‘ç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†å¸ƒå¼ç†è®º</title>
    <url>/2023/02/03/golang-day8/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¥æºäºç¬¬äº”å±Šå­—èŠ‚è·³åŠ¨é’è®­è¥æ´»åŠ¨ï¼Œå·²æ”¶å½•åˆ°<a class="link"   href="https://juejin.cn/post/7196300179998228535" >åˆ†å¸ƒå¼ç†è®º | é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œä¸»è¦è®°å½•äº†å¯¹åˆ†å¸ƒå¼ç†è®ºçš„å­¦ä¹ <span id="more"></span></p>
<h2 id="åˆ†å¸ƒå¼ç†è®º"><a class="markdownIt-Anchor" href="#åˆ†å¸ƒå¼ç†è®º"></a> åˆ†å¸ƒå¼ç†è®º</h2>
<h3 id="1åˆ†å¸ƒå¼æ¦‚è¿°"><a class="markdownIt-Anchor" href="#1åˆ†å¸ƒå¼æ¦‚è¿°"></a> 1.åˆ†å¸ƒå¼æ¦‚è¿°</h3>
<h4 id="11-ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼"><a class="markdownIt-Anchor" href="#11-ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼"></a> 1.1 ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼</h4>
<p>åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯è®¡ç®—æœºç¨‹åºçš„é›†åˆï¼Œè¿™äº›ç¨‹åºåˆ©ç”¨è·¨å¤šä¸ªç‹¬ç«‹è®¡ç®—èŠ‚ç‚¹çš„è®¡ç®—èµ„æºæ¥å®ç°å…±åŒçš„ç›®æ ‡ã€‚å¯ä»¥åˆ†ä¸ºåˆ†å¸ƒå¼è®¡ç®—ã€åˆ†å¸ƒå¼å­˜å‚¨ã€åˆ†å¸ƒå¼æ•°æ®åº“ç­‰ã€‚</p>
<p>ä¼˜åŠ¿</p>
<ol>
<li>å»ä¸­å¿ƒåŒ–</li>
<li>ä½æˆæœ¬</li>
<li>å¼¹æ€§</li>
<li>èµ„æºå…±äº«</li>
<li>å¯é æ€§é«˜</li>
</ol>
<p>æŒ‘æˆ˜</p>
<ol>
<li>æ™®é€šçš„èŠ‚ç‚¹æ•…éšœ</li>
<li>ä¸å¯é çš„ç½‘ç»œ</li>
<li>å¼‚æ„çš„æœºå™¨ä¸ç¡¬ä»¶ç¯å¢ƒ</li>
<li>å®‰å…¨</li>
</ol>
<h4 id="12-åˆ†å¸ƒå¼çš„å¿…è¦æ€§"><a class="markdownIt-Anchor" href="#12-åˆ†å¸ƒå¼çš„å¿…è¦æ€§"></a> 1.2 åˆ†å¸ƒå¼çš„å¿…è¦æ€§</h4>
<p>ä½¿ç”¨è€…è§’åº¦</p>
<ul>
<li>åŸå› ï¼š1.æ•°æ®çˆ†ç‚¸ï¼Œå¯¹å­˜å‚¨å’Œè®¡ç®—æœ‰å¤§è§„æ¨¡è¿ç”¨çš„éœ€æ±‚ï¼›2.æˆæœ¬ä½ï¼Œæ„å»ºåœ¨å»‰ä»·æœåŠ¡å™¨ä¹‹ä¸Šã€‚</li>
<li>å¦‚ä½•å®ç°ï¼š1.åˆ†å¸ƒå¼æ¡†æ¶ï¼›2.æˆç†Ÿçš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</li>
<li>ç›®æ ‡è§„åˆ’ï¼š1.ç†æ¸…è§„æ¨¡ï¼Œè´Ÿè½½ï¼Œä¸€è‡´æ€§è¦æ±‚ç­‰ï¼›2.æ˜ç¡®ç¨³å®šæ€§è¦æ±‚ï¼Œåˆ¶å®šæŠ€æœ¯æ–¹æ¡ˆã€‚</li>
</ul>
<p>å­¦ä¹ è€…è§’åº¦</p>
<ul>
<li>åŸå› ï¼š1.åç«¯å¼€å‘å¿…å¤‡æŠ€èƒ½ï¼›2.å¸®åŠ©ç†è§£åå°æœåŠ¡å™¨ä¹‹é—´åä½œçš„æœºç†ã€‚</li>
<li>å¦‚ä½•å­¦ä¹ ï¼š1.æŒæ¡åˆ†å¸ƒå¼ç†è®ºï¼›2.äº†è§£ä¸€è‡´æ€§åè®®ã€‚</li>
<li>å­¦ä¹ è§„åˆ’ï¼š1.æŠŠè¦ç‚¹æ·±å…¥å±•å¼€ï¼Œé’ˆå¯¹éš¾ç‚¹æœç´¢äº’è”ç½‘èµ„æ–™è¿›è¡Œå­¦ä¹ ï¼›2.å°†æ‰€å­¦çŸ¥è¯†è¿ç”¨äºå®è·µã€‚</li>
</ul>
<h4 id="13-å¸¸è§çš„åˆ†å¸ƒå¼ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#13-å¸¸è§çš„åˆ†å¸ƒå¼ç³»ç»Ÿ"></a> 1.3 å¸¸è§çš„åˆ†å¸ƒå¼ç³»ç»Ÿ</h4>
<p>åˆ†å¸ƒå¼å­˜å‚¨</p>
<ol>
<li>
<p>Google File Systemï¼ˆGFSï¼‰ï¼šgoogle åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿ</p>
</li>
<li>
<p>Cephï¼šç»Ÿä¸€çš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ</p>
</li>
<li>
<p>Hadoop HDFSï¼šåŸºäº GFS æ¶æ„çš„å¼€æºåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</p>
</li>
<li>
<p>Zookeeperï¼šé«˜å¯ç”¨çš„åˆ†å¸ƒå¼æ•°æ®ç®¡ç†ä¸ç³»ç»Ÿåè°ƒæ¡†æ¶</p>
</li>
</ol>
<p>åˆ†å¸ƒå¼æ•°æ®åº“</p>
<ol>
<li>Google Spannerï¼šgoogle å¯æ‰©å±•çš„ã€å…¨çƒåˆ†å¸ƒå¼çš„æ•°æ®åº“</li>
<li>TiDBï¼šå¼€æºåˆ†å¸ƒå¼å…³ç³»å‹æ•°æ®åº“</li>
<li>HBaseï¼šå¼€æº Nosql æ•°æ®åº“</li>
<li>MongoDBï¼šæ–‡æ¡£æ•°æ®åº“</li>
</ol>
<p>åˆ†å¸ƒå¼è®¡ç®—</p>
<ol>
<li>Hadoopï¼šåŸºäº MapReduce åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶</li>
<li>Sparkï¼šåœ¨ Hadoop åŸºç¡€ä¹‹ä¸Šï¼Œä½¿ç”¨å†…å­˜æ¥å­˜å‚¨æ•°æ®</li>
<li>YARNï¼šåˆ†å¸ƒå¼èµ„æºè°ƒåº¦</li>
</ol>
<h3 id="2ç³»ç»Ÿæ¨¡å‹"><a class="markdownIt-Anchor" href="#2ç³»ç»Ÿæ¨¡å‹"></a> 2.ç³»ç»Ÿæ¨¡å‹</h3>
<h4 id="21-æ•…éšœæ¨¡å‹"><a class="markdownIt-Anchor" href="#21-æ•…éšœæ¨¡å‹"></a> 2.1 æ•…éšœæ¨¡å‹</h4>
<ul>
<li>Byzantine failureï¼šèŠ‚ç‚¹å¯ä»¥ä»»æ„ç¯¡æ”¹å‘é€ç»™å…¶ä»–èŠ‚ç‚¹çš„æ•°æ®</li>
<li>Authentication detectable byzantine failureï¼ˆADBï¼‰ï¼šByzantine failure çš„ç‰¹ä¾‹ï¼ŒèŠ‚ç‚¹å¯ä»¥ç¯¡æ”¹æ•°æ®ï¼Œä½†ä¸èƒ½ä¼ªé€ å…¶ä»–èŠ‚ç‚¹çš„æ•°æ®</li>
<li>Performance failureï¼šèŠ‚ç‚¹æœªåœ¨ç‰¹å®šæ—¶é—´æ®µå†…æ”¶åˆ°æ•°æ®ï¼Œå³æ—¶é—´å¤ªæ—©æˆ–å¤ªæ™š</li>
<li>Omission failureï¼šèŠ‚ç‚¹æ”¶åˆ°æ•°æ®çš„æ—¶é—´æ— é™æ™šï¼Œå³æ”¶ä¸åˆ°æ•°æ®</li>
<li>Crash failureï¼šåœ¨ omission failure çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†èŠ‚ç‚¹åœæ­¢å“åº”çš„å‡è®¾ï¼Œå³æŒç»­æ€§åœ° omission failure</li>
<li>Fail-stop failureï¼šåœ¨ Crash failure çš„åŸºç¡€ä¸Šå¢åŠ äº†é”™è¯¯å¯æ£€æµ‹çš„å‡è®¾</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">æ•…éšœ</th>
<th style="text-align:center">æè¿°</th>
<th style="text-align:center">å¯èƒ½çš„ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ç£ç›˜æ•…éšœ</td>
<td style="text-align:center">å¦‚ï¼šç£å¤´ä¸å¯»é“ã€ç›˜ç‰‡ä¸è½¬ã€ç£ä»‹è´¨æŸä¼¤ç­‰ã€‚å¹´å‘ç”Ÿç‡ 1-2%</td>
<td style="text-align:center">Fail-stop</td>
</tr>
<tr>
<td style="text-align:center">ç£ç›˜åé“ã€åå—</td>
<td style="text-align:center">ç£å¤´åˆ’ä¼¤å¼•èµ·åé“ï¼Œæˆ–å—å®‡å®™å°„çº¿å½±å“æ™¶ä½“ç®¡äº§ç”Ÿä½åè½¬</td>
<td style="text-align:center">Fail-stopï¼ŒADB</td>
</tr>
<tr>
<td style="text-align:center">æœåŠ¡å™¨ä¸»æ¿ã€æ¿å¡æ•…éšœ</td>
<td style="text-align:center">å¯èƒ½æ˜¯é£æ‰‡æ•…éšœï¼Œæˆ–ç°å°˜å¼•èµ·çš„çŸ­è·¯ï¼Œæˆ– SCSI/RAID å¡é€ æˆçš„æ­»æœº</td>
<td style="text-align:center">Crash</td>
</tr>
<tr>
<td style="text-align:center">ç½‘ç»œæ•…éšœ</td>
<td style="text-align:center">ç”µæºæ•…éšœã€èƒŒæ¿æ•…éšœç­‰ï¼Œç½‘å¡ä½åè½¬ã€ç½‘ç»œæµé‡å¤§é€ æˆå¤§é‡ä¸¢åŒ…ç­‰</td>
<td style="text-align:center">Byzantineï¼ŒOmission</td>
</tr>
<tr>
<td style="text-align:center">ç½‘ç»œåˆ†åŒº</td>
<td style="text-align:center">ç½‘ç»œåˆ†åŒºå¼‚å¸¸å¼•èµ·èŠ‚ç‚¹å½¢æˆä¸åŒçš„å­é›†ï¼Œå­é›†ä¸­ç½‘ç»œç›¸é‡ï¼Œå­é›†é—´ç½‘ç»œä¸é€š</td>
<td style="text-align:center">Performance</td>
</tr>
<tr>
<td style="text-align:center">å†…å­˜æ•…éšœ</td>
<td style="text-align:center">å†…å­˜å‡ºé”™é€ æˆçš„æ•°æ®è¢«ç¯¡æ”¹ï¼Œåˆ†ä¸º UEã€CE ä¸¤ç§</td>
<td style="text-align:center">ADB</td>
</tr>
<tr>
<td style="text-align:center">çº¿ç¼†æ•…éšœ</td>
<td style="text-align:center">æœåŠ¡å™¨å…‰æ¨¡å—é¢‘ç¹ up æˆ– down</td>
<td style="text-align:center">Performanceï¼ŒOmission</td>
</tr>
<tr>
<td style="text-align:center">å†…æ ¸å´©æºƒ</td>
<td style="text-align:center">å†…æ ¸å†…éƒ¨çš„è‡´å‘½é”™è¯¯ï¼Œäº§ç”Ÿçš„ kernel panic</td>
<td style="text-align:center">Crash</td>
</tr>
<tr>
<td style="text-align:center">CPU æ•…éšœ</td>
<td style="text-align:center">å¹´æ•…éšœç‡æ¥è¿‘ 1%</td>
<td style="text-align:center">Omissionã€Crash</td>
</tr>
<tr>
<td style="text-align:center">ç”µæºæ•…éšœ</td>
<td style="text-align:center">æœåŠ¡å™¨å¤±å»ç”µåŠ›æ”¯æ’‘</td>
<td style="text-align:center">Omission</td>
</tr>
<tr>
<td style="text-align:center">è½¯ä»¶æ•…éšœ</td>
<td style="text-align:center">å¦‚ï¼šè¿›ç¨‹ crashã€å†…å­˜è¸©åã€çŠ¶æ€ä¸ä¸€è‡´ã€é…ç½®é”™è¯¯ã€è½¯ä»¶ bug ç­‰</td>
<td style="text-align:center">Byzantineã€Crash ç­‰</td>
</tr>
</tbody>
</table>
<h4 id="22-æ‹œå åº­å°†å†›é—®é¢˜"><a class="markdownIt-Anchor" href="#22-æ‹œå åº­å°†å†›é—®é¢˜"></a> 2.2 æ‹œå åº­å°†å†›é—®é¢˜</h4>
<blockquote>
<p>ä¸¤å°†å†›é—®é¢˜ï¼ˆTwo Generalsâ€™ Problemï¼‰ï¼šä¸¤æ”¯å†›é˜Ÿçš„å°†å†›åªèƒ½æ´¾ä¿¡ä½¿ç©¿è¶Šæ•Œæ–¹é¢†åœŸç›¸äº’é€šä¿¡ï¼Œä»¥æ­¤çº¦å®šè¿›æ”»æ—¶é—´ã€‚è¯¥é—®é¢˜å¸Œæœ›æ±‚è§£å¦‚ä½•åœ¨ä¸¤åå°†å†›æ´¾å‡ºçš„ä»»ä½•ä¿¡ä½¿éƒ½å¯èƒ½è¢«ä¿˜è™çš„æƒ…å†µä¸‹ï¼Œå°±ç»è¿‡æ—¶é—´è¾¾æˆå…±è¯†ã€‚</p>
<p>ç»“è®ºæ˜¯ï¼Œä¸¤å°†å†›é—®é¢˜è¢«è¯å®æ˜¯æ— è§£çš„ç”µè„‘é€šä¿¡é—®é¢˜ï¼Œä¸¤æ”¯å†›é˜Ÿç†è®ºä¸Šæ°¸è¿œæ— æ³•è¾¾æˆå…±è¯†ã€‚</p>
<p>æ–¹æ¡ˆä¸€ï¼šåŒæ—¶å‘é€ N ä¸ªä¿¡ä½¿ï¼Œä»»ä½•ä¸€ä¸ªè¾¾åˆ°å¯¹æ–¹å†›é˜Ÿï¼Œéƒ½ç®—æˆåŠŸã€‚</p>
<p>æ–¹æ¡ˆäºŒï¼šè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå‘é€åæœªåœ¨ä¸€å®šæ—¶é—´è¿”å›ï¼Œåˆ™åŠ æ´¾ä¿¡ä½¿ã€‚</p>
<p>å…±è¯†ä¸æ¶ˆæ¯ä¼ é€’ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼šå³ä½¿ä¿è¯äº†æ¶ˆæ¯ä¼ é€’æˆåŠŸï¼Œä¹Ÿä¸èƒ½ä¿è¯è¾¾æˆå…±è¯†ã€‚</p>
<p>TCP ä¸‰æ¬¡æ¡æ‰‹æ˜¯åœ¨ä¸¤ä¸ªæ–¹å‘ç¡®è®¤åŒ…çš„åºåˆ—å·ï¼Œå¢åŠ äº†è¶…æ—¶é‡è¯•ï¼Œæ˜¯ä¸¤å°†å†›é—®é¢˜çš„ä¸€ä¸ªå·¥ç¨‹è§£ã€‚</p>
<p>æ€è€ƒ</p>
<ol>
<li>
<p>ä¸ºä½• TCP éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿè€Œä¸æ˜¯ä¸¤æ¬¡æˆ–å››æ¬¡ï¼Ÿ</p>
<p>å¯ä»¥å‚è€ƒä¸€ä¸‹ç¬”è€…ä¸ªäººæ•´ç†çš„ç¬”è®°<a class="link"   href="https://github.com/s-chance/packet-tracer#25tcp%E8%BF%90%E8%BE%93%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86" >s-chance/packet-tracer: è®¡ç®—æœºç½‘ç»œ | Packet Tracerçš„ä½¿ç”¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
<li>
<p>æŒ¥æ‰‹è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ FIN æŠ¥æ–‡ä¸¢å¤±ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆç»“æœï¼Ÿ</p>
<p>å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/557759425" >TCP ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Œä¸­é—´å¤±è´¥äº†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ol>
<p>æ‹œå åº­å°†å†›è€ƒè™‘æ›´åŠ æ™®é€‚çš„åœºæ™¯ï¼Œä¾‹å¦‚ 3 ä¸ªå°†å†› ABC äº’ç›¸ä¼ é€’æ¶ˆæ¯ï¼Œæ¶ˆæ¯å¯èƒ½ä¸¢å¤±ï¼Œä¹Ÿå¯èƒ½è¢«ç¯¡æ”¹ï¼Œå½“æœ‰ä¸€ä¸ªå°†å†›æ˜¯â€œå›å¾’â€ï¼ˆå³å‡ºç°æ‹œå åº­æ•…éšœï¼‰æ—¶ï¼Œæ•´ä¸ªç³»ç»Ÿæ— æ³•è¾¾æˆä¸€è‡´ã€‚</p>
<p>å¦‚æœæ²¡æœ‰â€œå›å¾’â€ï¼Œæ— è®ºå„è‡ªè§‚å¯Ÿåˆ°æ€æ ·çš„æ•Œæƒ…ï¼Œæ€»èƒ½è¾¾æˆä¸€è‡´çš„è¡ŒåŠ¨ã€‚</p>
<p>å‡è®¾ç”±äºâ€œå›å¾’â€ C çš„å­˜åœ¨ï¼Œå°†å†› A å’Œå°†å†› B è·å¾—ä¸åŒçš„ä¿¡æ¯ã€‚è¿™æ ·å°†å†› A è·å¾— 2 ç¥¨è¿›æ”» 1 ç¥¨æ’¤é€€çš„ä¿¡æ¯ï¼Œå°†å†› B è·å¾— 1 ç¥¨è¿›æ”» 2 ç¥¨æ’¤é€€çš„ä¿¡æ¯ï¼Œäº§ç”Ÿäº†ä¸ä¸€è‡´ã€‚</p>
<p>è€ƒè™‘å½“ 4 ä¸ªå°†å†›ï¼Œåªæœ‰ 1 ä¸ªå›å¾’çš„åœºæ™¯ã€‚å°†å†› D ä½œä¸ºæ¶ˆæ¯åˆ†å‘ä¸­æ¢ï¼Œçº¦å®šå¦‚æœæ²¡æ”¶åˆ°æ¶ˆæ¯åˆ™æ‰§è¡Œæ’¤é€€ã€‚</p>
<ul>
<li>å¦‚æœ D ä¸º â€œå›å¾’â€ï¼ŒABC æ— è®ºæ”¶åˆ°ä»»ä½•æ¶ˆæ¯ï¼Œæ€»èƒ½è¾¾æˆä¸€è‡´</li>
<li>D ä¸º â€œå¿ å°†â€ï¼ŒABC ä¸­æœ‰ 2 äººå°† D çš„æ¶ˆæ¯è¿›è¡Œæ­£ç¡®çš„ä¼ é€’ï¼ŒåŒæ ·èƒ½ä¿è¯æœ€ç»ˆå†³ç­–ç¬¦åˆå¤§å¤šæ•°ã€‚</li>
</ul>
<p>è¿›è€Œèƒ½å¤Ÿè¯æ˜ï¼Œå½“æœ‰ 3m+1 ä¸ªå°†å†›ï¼Œå…¶ä¸­æœ‰ m ä¸ªâ€œå›å¾’â€æ—¶ï¼Œå¯ä»¥å¢åŠ  m è½®åå•†ï¼Œæœ€ç»ˆè¾¾æˆä¸€è‡´ã€‚</p>
</blockquote>
<h4 id="23-å…±è¯†å’Œä¸€è‡´æ€§"><a class="markdownIt-Anchor" href="#23-å…±è¯†å’Œä¸€è‡´æ€§"></a> 2.3 å…±è¯†å’Œä¸€è‡´æ€§</h4>
<p><strong>è¯»è¯·æ±‚å’Œå†™è¯·æ±‚å¹¶å‘æ—¶å¯èƒ½è¯»åˆ°æ—§å€¼</strong></p>
<p>å®¢æˆ·ç«¯ A è¯»åˆ° x=0ï¼Œå½“å®¢æˆ·ç«¯ C æ­£åœ¨å†™å…¥æ—¶ï¼Œå®¢æˆ·ç«¯ A å’Œ B å¯èƒ½è¯»åˆ° 0 æˆ–è€… 1ã€‚ä½†æ˜¯å½“ C å†™å…¥å®Œæˆåï¼ŒA å’Œ B æœ€ç»ˆèƒ½è¯»åˆ°ä¸€è‡´çš„æ•°æ®ã€‚è¿™æ ·çš„ä¸€è‡´æ€§è¢«ç§°ä¸º Eventually consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰ã€‚</p>
<p><strong>ä¸€æ—¦æŸä¸ªè¯»è·å–åˆ°æ–°å€¼ï¼Œæ‰€æœ‰çš„å®¢æˆ·ç«¯éƒ½å¿…é¡»è¿”å›æ–°å€¼</strong></p>
<p>å½“å®¢æˆ·ç«¯ A è¯»åˆ°æ›´æ–°çš„ç‰ˆæœ¬ x=1 åï¼ŒåŠæ—¶å°†æ¶ˆæ¯åŒæ­¥ç»™å…¶ä»–å®¢æˆ·ç«¯ï¼Œè¿™æ ·å…¶ä»–å®¢æˆ·ç«¯ç«‹å³èƒ½è·å–åˆ° x=1ã€‚è¿™æ ·çš„ä¸€è‡´æ€§è¢«ç§°ä¸º Linearizabilityï¼ˆçº¿æ€§ä¸€è‡´æ€§ï¼‰</p>
<p>å¦‚æœè¦ä¿è¯â€œçº¿æ€§â€ä¸€è‡´æ€§ï¼Œå¤šä¸ªèŠ‚ç‚¹é—´åŠ¿å¿…éœ€è¦è¿›è¡Œåå•†ï¼Œä»¥å¯»æ±‚ä¸€è‡´ã€‚è¿™æ ·ä¼šå¢åŠ å»¶è¿Ÿï¼Œç³»ç»Ÿå¯ç”¨æ€§ä¾¿ä¼šå—æŸã€‚</p>
<h4 id="24-æ—¶é—´å’Œäº‹ä»¶é¡ºåº"><a class="markdownIt-Anchor" href="#24-æ—¶é—´å’Œäº‹ä»¶é¡ºåº"></a> 2.4 æ—¶é—´å’Œäº‹ä»¶é¡ºåº</h4>
<blockquote>
<p>1978 å¹´ Leslie Lamport å‘è¡¨åœ¨ Communications of the ACM ä¸Šçš„è®ºæ–‡ <em>Time, Clocks, and the Ordering  of Events in a Distributed System</em></p>
<p>æˆ‘ä»¬å®šä¹‰â€œhappened beforeâ€å…³ç³»ï¼Œè®°ä¸ºâ€œâ†’â€ã€‚å…¶æ»¡è¶³å¦‚ä¸‹ä¸‰ä¸ªæ¡ä»¶</p>
<ul>
<li>å¦‚æœ a å’Œ b æ˜¯åœ¨ç›¸åŒèŠ‚ç‚¹ä¸Šçš„ä¸¤ä¸ªäº‹ä»¶ï¼Œa åœ¨ b ä¹‹å‰å‘ç”Ÿï¼Œåˆ™å®šä¹‰ a â†’ b</li>
<li>å¦‚æœäº‹ä»¶ a è¡¨ç¤ºæŸä¸ªèŠ‚ç‚¹å‘é€æŸæ¡æ¶ˆæ¯ï¼Œb æ˜¯å¦ä¸€ä¸ªèŠ‚ç‚¹æ¥å—è¿™æ¡æ¶ˆæ¯ï¼Œåˆ™æœ‰ a â†’ b</li>
<li>å¦‚æœæœ‰ a â†’ b ä¸” b â†’ cï¼Œåˆ™æœ‰ a â†’ c</li>
</ul>
<p>å½“ä¸”ä»…å½“ a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†›</mo></mrow><annotation encoding="application/x-tex">\nrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel amsrm">â†›</span></span></span></span> b ä¸” b <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†›</mo></mrow><annotation encoding="application/x-tex">\nrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel amsrm">â†›</span></span></span></span> a æ—¶ï¼Œåˆ™ç§°ä¸¤ä¸ªäº‹ä»¶ä¸ºå¹¶å‘çš„ï¼ˆconcurrentï¼‰ã€‚</p>
<p>Lamport é€»è¾‘æ—¶é’Ÿ</p>
<p>å¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹ Pi å®šä¹‰æ—¶é’Ÿ Ci ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¸ºä»»æ„çš„äº‹ä»¶ a èµ‹å€¼ç¼–å·ä¸º Ciï¼ˆaï¼‰</p>
<ol>
<li>å¦‚æœ a å’Œ b æ˜¯åœ¨ç›¸åŒèŠ‚ç‚¹ Pi ä¸Šçš„ä¸¤ä¸ªäº‹ä»¶ï¼Œa åœ¨ b ä¹‹å‰å‘ç”Ÿï¼Œåˆ™æœ‰ Ciï¼ˆaï¼‰&lt; Ciï¼ˆbï¼‰</li>
<li>å¦‚æœäº‹ä»¶ a è¡¨ç¤ºèŠ‚ç‚¹ Pi å‘é€æŸæ¡æ¶ˆæ¯ï¼Œ b è¡¨ç¤ºèŠ‚ç‚¹ Pj æ¥å—è¿™æ¡æ¶ˆæ¯ï¼Œåˆ™æœ‰ Ciï¼ˆaï¼‰&lt; Cjï¼ˆbï¼‰</li>
</ol>
<p>åˆ©ç”¨é€»è¾‘æ—¶é’Ÿï¼Œå¯ä»¥å¯¹æ•´ä¸ªç³»ç»Ÿä¸­çš„äº‹ä»¶è¿›è¡Œå…¨åºæ’åºã€‚</p>
</blockquote>
<h3 id="3ç†è®ºåŸºç¡€"><a class="markdownIt-Anchor" href="#3ç†è®ºåŸºç¡€"></a> 3.ç†è®ºåŸºç¡€</h3>
<h4 id="31-cap-ç†è®º"><a class="markdownIt-Anchor" href="#31-cap-ç†è®º"></a> 3.1 CAP ç†è®º</h4>
<table>
<thead>
<tr>
<th style="text-align:center">é€‰é¡¹</th>
<th style="text-align:center">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Cï¼ˆConsistenceï¼‰</td>
<td style="text-align:center">ä¸€è‡´æ€§ï¼ŒæŒ‡æ•°æ®åœ¨å¤šä¸ªå‰¯æœ¬ä¹‹é—´èƒ½å¤Ÿä¿æŒä¸€è‡´çš„ç‰¹æ€§ï¼ˆä¸¥æ ¼çš„ä¸€è‡´æ€§ï¼‰ã€‚</td>
</tr>
<tr>
<td style="text-align:center">Aï¼ˆAvailabilityï¼‰</td>
<td style="text-align:center">å¯ç”¨æ€§ï¼ŒæŒ‡ç³»ç»Ÿæä¾›çš„æœåŠ¡å¿…é¡»ä¸€ç›´å¤„äºå¯ç”¨çš„çŠ¶æ€ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½èƒ½è·å–åˆ°éé”™çš„å“åº”ï¼Œä½†æ˜¯ä¸ä¿è¯è·å–çš„æ•°æ®ä¸ºæœ€æ–°æ•°æ®ã€‚</td>
</tr>
<tr>
<td style="text-align:center">Pï¼ˆNetwork partitioningï¼‰</td>
<td style="text-align:center">åˆ†åŒºå®¹é”™æ€§ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡åˆ°ä»»ä½•ç½‘ç»œåˆ†åŒºæ•…éšœçš„æ—¶å€™ï¼Œä»ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ï¼Œé™¤éæ•´ä¸ªç½‘ç»œç¯å¢ƒéƒ½å‘ç”Ÿäº†æ•…éšœã€‚</td>
</tr>
</tbody>
</table>
<p>CAP ç†è®ºå¾€å¾€è¿ç”¨äºæ•°æ®åº“é¢†åŸŸï¼ŒåŒæ ·é€‚ç”¨äºåˆ†å¸ƒå¼å­˜å‚¨æ–¹å‘</p>
<p>ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæœ€å¤šåªèƒ½åŒæ—¶æ»¡è¶³ CAP ç†è®ºä¸‰é¡¹ä¸­çš„ä¸¤é¡¹ï¼Œå› æ­¤æœ‰ä»¥ä¸‹å‡ ç§è®¾è®¡</p>
<ul>
<li>
<p>CAï¼šæ”¾å¼ƒåˆ†åŒºå®¹é”™æ€§ï¼ŒåŠ å¼ºä¸€è‡´æ€§å’Œå¯ç”¨æ€§ï¼Œå³ä¼ ç»Ÿçš„å•æœºæ•°æ®åº“çš„é€‰æ‹©ã€‚</p>
</li>
<li>
<p>APï¼šæ”¾å¼ƒä¸€è‡´æ€§ï¼ˆè¿™é‡Œçš„ä¸€è‡´æ€§æ˜¯æŒ‡å¼ºä¸€è‡´æ€§ï¼‰ï¼Œè¿½æ±‚åˆ†åŒºå®¹é”™æ€§å’Œå¯ç”¨æ€§ï¼Œä¾‹å¦‚ä¸€äº›æ³¨é‡ç”¨æˆ·ä½“éªŒçš„ç³»ç»Ÿã€‚</p>
</li>
<li>
<p>CPï¼šæ”¾å¼ƒå¯ç”¨æ€§ï¼Œè¿½æ±‚ä¸€è‡´æ€§å’Œåˆ†åŒºå®¹é”™æ€§ï¼Œä¾‹å¦‚ä¸èµ„é‡‘å®‰å…¨ç›¸å…³çš„ç³»ç»Ÿã€‚</p>
</li>
</ul>
<p>ç›®å‰å¤§å¤šæ•°éƒ½æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå› æ­¤ç½‘ç»œåˆ†åŒºæ˜¯å¿…å¤‡çš„ã€‚åœ¨ç½‘ç»œå‘ç”Ÿåˆ†åŒºçš„æƒ…å†µä¸‹ï¼Œå¿…é¡»åœ¨å¯ç”¨æ€§å’Œä¸€è‡´æ€§ä¹‹é—´åšå‡ºé€‰æ‹©ã€‚</p>
<p>è¿‘ä¼¼è§£å†³æ–¹æ³•ï¼šæŠŠæ•…éšœèŠ‚ç‚¹çš„è´Ÿè½½è½¬ç§»ç»™å¤‡ç”¨èŠ‚ç‚¹è´Ÿè´£ã€‚</p>
<h4 id="32-acid-ç†è®º"><a class="markdownIt-Anchor" href="#32-acid-ç†è®º"></a> 3.2 ACID ç†è®º</h4>
<p>äº‹åŠ¡æ˜¯æ•°æ®åº“ç³»ç»Ÿä¸­éå¸¸é‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé€»è¾‘å•å…ƒï¼Œå®ƒèƒ½å¤Ÿä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ½ä¸æ‰§è¡Œã€‚</p>
<p>æ•°æ®åº“äº‹åŠ¡æ‹¥æœ‰å››ä¸ªç‰¹æ€§ ACIDï¼Œåˆ†åˆ«æ˜¯åŸå­æ€§ï¼ˆAtomicityï¼‰ã€ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€éš”ç¦»æ€§ï¼ˆIsolationï¼‰å’ŒæŒä¹…æ€§ï¼ˆDurabilityï¼‰</p>
<ul>
<li>
<p>åŸå­æ€§ï¼ˆAï¼‰</p>
<p>åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡åŒ…å«çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šã€‚</p>
</li>
<li>
<p>ä¸€è‡´æ€§ï¼ˆCï¼‰</p>
<p>ä¸€è‡´æ€§æ˜¯æŒ‡äº‹åŠ¡å¿…é¡»ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ï¼Œå³ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œä¹‹å‰å’Œæ‰§è¡Œä¹‹åéƒ½å¿…é¡»å¤„äºä¸€è‡´æ€§çŠ¶æ€ã€‚</p>
</li>
<li>
<p>éš”ç¦»æ€§ï¼ˆIï¼‰</p>
<p>éš”ç¦»æ€§æ˜¯æŒ‡å½“å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®æ•°æ®åº“æ—¶ï¼Œæ•°æ®åº“ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·å¼€å¯çš„äº‹åŠ¡ï¼Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡çš„æ“ä½œæ‰€å¹²æ‰°ï¼Œå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´è¦ç›¸äº’éš”ç¦»</p>
</li>
<li>
<p>æŒä¹…æ€§ï¼ˆDï¼‰</p>
<p>æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦è¢«æäº¤äº†ï¼Œé‚£ä¹ˆå¯¹äºæ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä½¿æ˜¯åœ¨æ•°æ®åº“ç³»ç»Ÿé‡åˆ°æ•…éšœçš„æƒ…å†µä¸‹ï¼Œä¹Ÿä¸ä¼šä¸¢å¤±æäº¤äº‹åŠ¡çš„æ“ä½œ</p>
</li>
</ul>
<h4 id="33-base-ç†è®º"><a class="markdownIt-Anchor" href="#33-base-ç†è®º"></a> 3.3 BASE ç†è®º</h4>
<p>Base ç†è®ºæ˜¯å¯¹ CAP ç†è®ºä¸­ä¸€è‡´æ€§å’Œå¯ç”¨æ€§æƒè¡¡çš„ç»“æœï¼Œå…¶æ¥æºäºå¯¹å¤§å‹äº’è”ç½‘åˆ†å¸ƒå¼å®è·µçš„æ€»ç»“ï¼Œæ˜¯åŸºäº CAP å®šç†é€æ­¥æ¼”åŒ–è€Œæ¥çš„ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯</p>
<ul>
<li>Basically Availableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰ï¼šå‡è®¾ç³»ç»Ÿå‡ºç°äº†ä¸å¯é¢„çŸ¥çš„æ•…éšœï¼Œä½†æ˜¯è¿˜èƒ½ä½¿ç”¨ï¼Œåªæ˜¯ç›¸æ¯”è¾ƒæ­£å¸¸çš„ç³»ç»Ÿè€Œè¨€ï¼Œä¼šæœ‰å“åº”æ—¶é—´ä¸Šçš„æŸå¤±æˆ–åŠŸèƒ½ä¸Šçš„æŸå¤±ã€‚</li>
<li>Soft Stateï¼ˆè½¯çŠ¶æ€ï¼‰ï¼šå…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œå¹¶è®¤ä¸ºè¯¥çŠ¶æ€ä¸å½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ï¼Œå³å…è®¸ç³»ç»Ÿåœ¨å¤šä¸ªä¸åŒèŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬å­˜åœ¨æ•°æ®ä¿¡æ¯å»¶æ—¶ã€‚</li>
<li>Eventually Consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰ï¼šç³»ç»Ÿèƒ½å¤Ÿä¿è¯åœ¨æ²¡æœ‰å…¶ä»–æ–°çš„æ›´æ–°æ“ä½œçš„æƒ…å†µä¸‹ï¼Œæ•°æ®æœ€ç»ˆä¸€å®šèƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´çš„çŠ¶æ€ï¼Œå› æ­¤æ‰€æœ‰å®¢æˆ·ç«¯å¯¹ç³»ç»Ÿçš„æ•°æ®è®¿é—®æœ€ç»ˆéƒ½èƒ½å¤Ÿè·å–åˆ°æœ€æ–°çš„å€¼ã€‚</li>
</ul>
<h3 id="4åˆ†å¸ƒå¼äº‹åŠ¡"><a class="markdownIt-Anchor" href="#4åˆ†å¸ƒå¼äº‹åŠ¡"></a> 4.åˆ†å¸ƒå¼äº‹åŠ¡</h3>
<h4 id="41-äºŒé˜¶æ®µæäº¤"><a class="markdownIt-Anchor" href="#41-äºŒé˜¶æ®µæäº¤"></a> 4.1 äºŒé˜¶æ®µæäº¤</h4>
<p>äºŒé˜¶æ®µæäº¤ï¼ˆTwo-phase Commitï¼‰ï¼šä¸ºäº†ä½¿åŸºäºåˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹åœ¨è¿›è¡Œäº‹åŠ¡æäº¤æ—¶ä¿æŒä¸€è‡´æ€§è€Œè®¾è®¡çš„ä¸€ç§æ¼”ç®—æ³•ã€‚</p>
<p>ä¸‰ä¸ªå‡è®¾</p>
<ol>
<li>å¼•å…¥åè°ƒè€…ï¼ˆCoordinatorï¼‰å’Œå‚ä¸è€…ï¼ˆParticipantsï¼‰ï¼Œäº’ç›¸è¿›è¡Œç½‘ç»œé€šä¿¡</li>
<li>æ‰€æœ‰èŠ‚ç‚¹éƒ½é‡‡ç”¨é¢„å†™å¼æ—¥å¿—ï¼Œä¸”æ—¥å¿—è¢«å†™å…¥åå³è¢«ä¿æŒåœ¨å¯é çš„å­˜å‚¨è®¾å¤‡ä¸Š</li>
<li>æ‰€æœ‰èŠ‚ç‚¹ä¸ä¼šæ°¸ä¹…æ€§æŸåï¼Œå³ä½¿æŸååä»ç„¶å¯ä»¥æ¢å¤</li>
</ol>
<p>å¯èƒ½å‡ºç°çš„æƒ…å†µ</p>
<ol>
<li>
<p>Coordinator ä¸å®•æœºï¼ŒParticipants å®•æœºï¼Œéœ€è¦è¿›è¡Œå›æ»šæ“ä½œã€‚</p>
<p>å›æ»šï¼šåœ¨ Prepare é˜¶æ®µï¼Œå¦‚æœæŸä¸ªäº‹åŠ¡å‚ä¸è€…åé¦ˆå¤±è´¥æ¶ˆæ¯ï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹çš„æœ¬åœ°äº‹åŠ¡æ‰§è¡Œä¸æˆåŠŸï¼Œå¿…é¡»å›æ»šã€‚</p>
</li>
<li>
<p>Coordinator å®•æœºï¼ŒParticipants ä¸å®•æœºï¼Œå¯ä»¥å¼•å…¥æ–°çš„åè°ƒè€…ï¼Œå¾…æŸ¥è¯¢çŠ¶æ€åï¼Œé‡å¤äºŒé˜¶æ®µæäº¤ã€‚</p>
</li>
<li>
<p>Coordinator å®•æœºï¼ŒParticipants å®•æœºã€‚æ— æ³•ç¡®è®¤çŠ¶æ€ï¼Œéœ€è¦æ•°æ®åº“ç®¡ç†å‘˜çš„ä»‹å…¥ï¼Œé˜²æ­¢æ•°æ®åº“è¿›å…¥ä¸€ä¸ªä¸ä¸€è‡´çš„çŠ¶æ€ã€‚</p>
</li>
</ol>
<p>äºŒé˜¶æ®µæäº¤éœ€è¦æ³¨æ„çš„é—®é¢˜</p>
<ol>
<li>
<p>æ€§èƒ½é—®é¢˜</p>
<p>ä¸¤é˜¶æ®µæäº¤éœ€è¦å¤šæ¬¡èŠ‚ç‚¹é—´çš„ç½‘ç»œé€šä¿¡ï¼Œè€—æ—¶è¿‡å¤§ï¼Œèµ„æºéœ€è¦è¿›è¡Œé”å®šï¼Œå¾’å¢èµ„æºç­‰å¾…æ—¶é—´ã€‚</p>
</li>
<li>
<p>åè°ƒè€…å•ç‚¹æ•…éšœé—®é¢˜</p>
<p>å¦‚æœäº‹åŠ¡åè°ƒè€…èŠ‚ç‚¹å®•æœºï¼Œéœ€è¦å¦èµ·æ–°çš„åè°ƒè€…ï¼Œå¦åˆ™å‚ä¸è€…å¤„äºä¸­é—´çŠ¶æ€æ— æ³•å®Œæˆäº‹åŠ¡ã€‚</p>
</li>
<li>
<p>ç½‘ç»œåˆ†åŒºå¸¦æ¥çš„æ•°æ®ä¸ä¸€è‡´</p>
<p>ä¸€éƒ¨åˆ†å‚ä¸è€…æ”¶åˆ°äº† Commit æ¶ˆæ¯ï¼Œå¦ä¸€éƒ¨åˆ†å‚ä¸è€…æ²¡æ”¶åˆ° Commit æ¶ˆæ¯ï¼Œä¼šå¯¼è‡´èŠ‚ç‚¹ä¹‹é—´æ•°æ®ä¸ä¸€è‡´ã€‚</p>
</li>
</ol>
<p>æ€è€ƒ</p>
<ol>
<li>
<p>æ—¥å¿—è¢«ä¿å­˜åœ¨ [å¯é ] çš„å­˜å‚¨è®¾å¤‡ä¸Šã€‚å¦‚ä½•ä¿è¯è¿™ä¸€ç‚¹ï¼Ÿ</p>
<p>å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/509856830" >åˆ†å¸ƒå¼æ—¥å¿—å­˜å‚¨æ¶æ„è®¾è®¡æ–¹æ¡ˆ - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
<li>
<p>å‚ä¸è€… Commit äº†ï¼Œä½† Ack ä¿¡æ¯åè°ƒè€…æ²¡æ”¶åˆ°æ€ä¹ˆåŠï¼Ÿ</p>
<p>å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/243324226" >12.4 æ•…éšœæ¢å¤ï¼ˆCrash Recoveryï¼‰ - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ol>
<h4 id="42-ä¸‰é˜¶æ®µæäº¤"><a class="markdownIt-Anchor" href="#42-ä¸‰é˜¶æ®µæäº¤"></a> 4.2 ä¸‰é˜¶æ®µæäº¤</h4>
<p>ä¸‰é˜¶æ®µæäº¤ vs äºŒé˜¶æ®µæäº¤</p>
<p>ä¸‰é˜¶æ®µæäº¤å°†äºŒé˜¶æ®µæäº¤ä¸­çš„ Prepare é˜¶æ®µæ‹†æˆä¸¤éƒ¨åˆ†ï¼šCanCommit å’Œ PreCommit æœºåˆ¶ã€‚</p>
<ul>
<li>Coordinator åœ¨ CanCommit é˜¶æ®µå‘ Participants è¯¢é—®æ˜¯å¦å¯ä»¥æ‰§è¡Œ</li>
<li>Participants å›å¤å¯ä»¥åˆ™è¿›å…¥ PreCommit é˜¶æ®µï¼Œå¤±è´¥æˆ–è¶…æ—¶åˆ™é€€å‡º</li>
<li>åœ¨ PreCommit é˜¶æ®µ Coordinator å†æ¬¡å‘ Participants è¯¢é—®æ˜¯å¦å¯ä»¥æ‰§è¡Œ</li>
<li>Participants å›å¤å¯ä»¥åˆ™è¿›å…¥ DoCommit é˜¶æ®µï¼Œå¤±è´¥æˆ–è¶…æ—¶åˆ™ Rollback</li>
<li>åœ¨ DoCommit é˜¶æ®µ Coordinator å‘æ‰€æœ‰äººæäº¤äº‹åŠ¡è¯·æ±‚</li>
<li>Participants åœ¨æ”¶åˆ° Coordinator çš„äº‹åŠ¡è¯·æ±‚å¹¶æ‰§è¡Œä¹‹åæäº¤åé¦ˆç»“æœ Ack ç»™ Coordinator</li>
</ul>
<p>è¿™è§£å†³äº†ä¸¤ä¸ªé—®é¢˜</p>
<ol>
<li>å•ç‚¹æ•…éšœé—®é¢˜</li>
<li>é˜»å¡é—®é¢˜</li>
</ol>
<p>å¦å¤–å¼•å…¥è¶…æ—¶æœºåˆ¶ï¼Œåœ¨ç­‰å¾…è¶…æ—¶ä¹‹åï¼Œä¼šç»§ç»­è¿›è¡Œäº‹åŠ¡çš„æäº¤ã€‚</p>
<p>æ€è€ƒ</p>
<p>ä¸‰é˜¶æ®µç¼“å’Œäº†äºŒé˜¶æ®µé¢ä¸´çš„å•ç‚¹æ•…éšœé—®é¢˜ï¼Œä½†ä¾ç„¶æœªè§£å†³ä»¥ä¸‹é—®é¢˜</p>
<ol>
<li>æ€§èƒ½é—®é¢˜</li>
<li>ç½‘ç»œåˆ†åŒºåœºæ™¯å¸¦æ¥çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜</li>
</ol>
<h4 id="43-mvcc"><a class="markdownIt-Anchor" href="#43-mvcc"></a> 4.3 MVCC</h4>
<blockquote>
<p>åœ¨æ•°æ®åº“çš„å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°èµ„æºç«äº‰å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ç­‰é—®é¢˜ã€‚éœ€è¦æœ‰ä¸€ç§æœºåˆ¶æ¥ä¿è¯æ•°æ®çš„æ­£ç¡®è®¿é—®å’Œä¿®æ”¹ï¼Œè¿™ç§æœºåˆ¶å°±æ˜¯æ•°æ®åº“çš„å¹¶å‘æ§åˆ¶ã€‚å…¶ä¸­ä¹è§‚å¹¶å‘æ§åˆ¶ã€æ‚²è§‚å¹¶å‘æ§åˆ¶å’Œå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶æ˜¯æ•°æ®åº“å¹¶å‘æ§åˆ¶ä¸»è¦é‡‡ç”¨çš„æŠ€æœ¯æ‰‹æ®µã€‚</p>
</blockquote>
<p>æ‚²è§‚å¹¶å‘æ§åˆ¶ï¼Œä¹Ÿç§°ä¸ºâ€œæ‚²è§‚é”â€ã€‚æ“ä½œæ•°æ®æ—¶ç›´æ¥æŠŠæ•°æ®é”ä½ï¼Œç›´åˆ°æ“ä½œå®Œæˆä¹‹åæ‰ä¼šé‡Šæ”¾é”ï¼›ä¸Šé”æœŸé—´å…¶ä»–äººä¸èƒ½ä¿®æ”¹æ•°æ®ã€‚</p>
<p>ä¹è§‚å¹¶å‘æ§åˆ¶ï¼Œä¹Ÿç§°ä¸ºâ€œä¹è§‚é”â€ã€‚ä¸ä¼šä¸Šé”ï¼Œåªæ˜¯åœ¨æ‰§è¡Œæ›´æ–°æ—¶åˆ¤æ–­åˆ«äººæ˜¯å¦ä¿®æ”¹æ•°æ®ï¼Œåªæœ‰å†²çªæ—¶æ‰æ”¾å¼ƒæ“ä½œã€‚</p>
<p>å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ MVCCï¼Œç»´æŒä¸€ä¸ªæ•°æ®çš„å¤šä¸ªç‰ˆæœ¬ä½¿è¯»å†™æ“ä½œæ²¡æœ‰å†²çªã€‚æ‰€ä»¥æ—¢ä¸ä¼šé˜»å¡å†™ï¼Œä¹Ÿä¸ä¼šé˜»å¡è¯»ã€‚MVCC ä¸ºæ¯ä¸ªä¿®æ”¹ä¿å­˜ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¹¶å’Œäº‹åŠ¡çš„æ—¶é—´æˆ³ç›¸å…³è”ã€‚å¯ä»¥æé«˜å¹¶å‘æ€§èƒ½ï¼Œè§£å†³è„è¯»çš„é—®é¢˜ã€‚</p>
<blockquote>
<p>Spanner è®ºæ–‡é‡Œé€šè¿‡ TrueTime API æä¾›ä¸€ä¸ªç‰©ç†æ—¶é’Ÿçš„æ–¹å¼ã€‚æœåŠ¡å™¨æ—¶é’Ÿåå·®åœ¨ 1 åˆ° 7ms ä¹‹é—´ã€‚</p>
<p>å¦å¤–ä¸€ç§æ—¶é—´æˆ³çš„å®ç°ï¼šæ—¶é—´æˆ³é¢„è¨€æœºï¼ˆTSOï¼‰ï¼Œé‡‡ç”¨ä¸­å¿ƒåŒ–çš„æˆæ—¶æ–¹å¼ï¼Œæ‰€æœ‰åè°ƒè€…å‘ä¸­å¿ƒåŒ–èŠ‚ç‚¹è·å–æ—¶é’Ÿã€‚ä¼˜ç‚¹æ˜¯ç®—æ³•ç®€å•ï¼Œå®ç°æ–¹ä¾¿ï¼Œä½†éœ€è¦æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¸å®ƒè¿›è¡Œäº¤äº’ï¼Œä¼šäº§ç”Ÿä¸€äº›ç½‘ç»œé€šä¿¡çš„æˆæœ¬ã€‚TSO çš„æˆæ—¶ä¸­å°±éœ€è¦è€ƒè™‘ä½å»¶è¿Ÿï¼Œé«˜æ€§èƒ½ä»¥åŠæ›´å¥½çš„å®¹é”™æ€§ã€‚</p>
</blockquote>
<h3 id="5å…±è¯†åè®®"><a class="markdownIt-Anchor" href="#5å…±è¯†åè®®"></a> 5.å…±è¯†åè®®</h3>
<h4 id="51-quorum-nwr-æ¨¡å‹"><a class="markdownIt-Anchor" href="#51-quorum-nwr-æ¨¡å‹"></a> 5.1 Quorum NWR æ¨¡å‹</h4>
<p>Quorum NWR ä¸‰è¦ç´ </p>
<ul>
<li>
<p>Nï¼šåœ¨åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œæœ‰å¤šå°‘ä»½å¤‡ä»½æ•°æ®</p>
</li>
<li>
<p>Wï¼šä»£è¡¨ä¸€æ¬¡æˆåŠŸçš„æ›´æ–°æ•°æ®æ“ä½œè¦æ±‚è‡³å°‘æœ‰ w ä»½æ•°æ®æˆåŠŸå†™å…¥</p>
</li>
<li>
<p>Rï¼šä»£è¡¨ä¸€æ¬¡æˆåŠŸçš„è¯»å–æ•°æ®æ“ä½œè¦æ±‚è‡³å°‘æœ‰ R ä»½æ•°æ®æˆåŠŸè¯»å–</p>
</li>
</ul>
<p>ä¸ºäº†ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œéœ€è¦ä¿è¯ W+R &gt; N</p>
<p>Quorum NWR æ¨¡å‹å°† CAP çš„é€‰æ‹©äº¤ç»™ç”¨æˆ·ï¼Œæ˜¯ä¸€ç§ç®€åŒ–ç‰ˆçš„ä¸€è‡´æ€§æ¨¡å‹ã€‚</p>
<p>æ€è€ƒ</p>
<ul>
<li>
<p>å¼•èµ·çš„å¹¶å‘æ›´æ–°é—®é¢˜</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">å‰¯æœ¬1</th>
<th style="text-align:center">å‰¯æœ¬2</th>
<th style="text-align:center">å‰¯æœ¬3</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åˆå§‹å€¼(v)</td>
<td style="text-align:center">v1=1</td>
<td style="text-align:center">v1=1</td>
<td style="text-align:center">v1=1</td>
</tr>
<tr>
<td style="text-align:center">ç¬¬ä¸€æ¬¡å†™</td>
<td style="text-align:center">v2=2</td>
<td style="text-align:center">v2=2</td>
<td style="text-align:center">v1=1</td>
</tr>
<tr>
<td style="text-align:center">ç¬¬äºŒæ¬¡å†™</td>
<td style="text-align:center">v3=3</td>
<td style="text-align:center">v2=2</td>
<td style="text-align:center">v2=2</td>
</tr>
</tbody>
</table>
<p>å¦‚æœè¯»å–å‰¯æœ¬ 1 å’Œå‰¯æœ¬ 2ï¼Œå¾—å‡º v=3 çš„ç»“è®º</p>
<p>å¦‚æœè¯»å–å‰¯æœ¬ 2 å’Œå‰¯æœ¬ 3ï¼Œå¾—åƒ v=2 çš„ç»“è®º</p>
</li>
<li>
<p>é—®é¢˜çš„æ ¹æºï¼šå…è®¸æ•°æ®è¢«è¦†ç›–</p>
</li>
</ul>
<h4 id="52-raft-åè®®"><a class="markdownIt-Anchor" href="#52-raft-åè®®"></a> 5.2 RAFT åè®®</h4>
<p>Raft åè®®æ˜¯ä¸€ç§åˆ†å¸ƒå¼ä¸€è‡´æ€§ç®—æ³•ï¼ˆå…±è¯†ç®—æ³•ï¼‰ï¼Œå³ä½¿å‡ºç°éƒ¨åˆ†èŠ‚ç‚¹æ•…éšœï¼Œç½‘ç»œå»¶æ—¶ç­‰æƒ…å†µï¼Œä¹Ÿä¸å½±å“å„èŠ‚ç‚¹ï¼Œè¿›è€Œæé«˜ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ã€‚Raft æ˜¯ä½¿ç”¨è¾ƒä¸ºå¹¿æ³›çš„åˆ†å¸ƒå¼åè®®ã€‚ä»æŸç§è§’åº¦æ¥çœ‹ï¼ŒRAFT ä¹Ÿä½¿ç”¨äº† Quorum æœºåˆ¶ã€‚</p>
<ul>
<li>Leader - é¢†å¯¼è€…ï¼Œé€šå¸¸ä¸€ä¸ªç³»ç»Ÿä¸­æ˜¯ä¸€ä¸»ï¼ˆLeaderï¼‰å¤šä»ï¼ˆFollowerï¼‰ã€‚Leader è´Ÿè´£å¤„ç†æ‰€æœ‰çš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå¹¶å‘ Follower åŒæ­¥è¯·æ±‚æ—¥å¿—ï¼Œå½“æ—¥å¿—åŒæ­¥åˆ°å¤§å¤šæ•°èŠ‚ç‚¹ä¸Šåï¼Œé€šçŸ¥ Follower æäº¤æ—¥å¿—ã€‚</li>
<li>Follower - è·Ÿéšè€…ï¼Œä¸ä¼šå‘ç”Ÿä»»ä½•è¯·æ±‚ã€‚æ¥å—å¹¶æŒä¹…åŒ– Leader åŒæ­¥çš„æ—¥å¿—ï¼Œåœ¨ Leader å‘ŠçŸ¥æ—¥å¿—å¯ä»¥æäº¤åï¼Œå†æäº¤æ—¥å¿—ã€‚å½“ Leader å‡ºç°æ•…éšœæ—¶ï¼Œä¸»åŠ¨æ¨èè‡ªå·±ä¸º Candidateã€‚</li>
<li>Candidate - å¤‡é€‰è€…ï¼ŒLeader é€‰ä¸¾è¿‡ç¨‹ä¸­çš„ä¸´æ—¶è§’è‰²ã€‚å‘å…¶ä»–èŠ‚ç‚¹å‘é€è¯·æ±‚æŠ•ç¥¨ä¿¡æ¯ã€‚å¦‚æœè·å¾—å¤§å¤šæ•°é€‰ç¥¨ï¼Œåˆ™æ™‹å‡ä¸º Leaderã€‚</li>
<li>Logï¼ˆæ—¥å¿—ï¼‰ï¼šèŠ‚ç‚¹ä¹‹é—´åŒæ­¥çš„ä¿¡æ¯ï¼Œä»¥åªè¿½åŠ å†™çš„æ–¹å¼è¿›è¡ŒåŒæ­¥ï¼Œè§£å†³äº†æ•°æ®è¢«è¦†ç›–çš„é—®é¢˜ã€‚</li>
<li>Termï¼ˆä»»æœŸå·ï¼‰ï¼šå•è°ƒé€’å¢ï¼Œæ¯ä¸ª Term å†…æœ€å¤šåªæœ‰ä¸€ä¸ª Leaderã€‚</li>
<li>Committedï¼šæ—¥å¿—è¢«å¤åˆ¶åˆ°å¤šæ•°æ´¾èŠ‚ç‚¹ï¼Œå³å¯è®¤ä¸ºå·²ç»è¢«æäº¤ã€‚</li>
<li>Appliedï¼šæ—¥å¿—è¢«åº”ç”¨åˆ°æœ¬åœ°çŠ¶æ€æœºï¼Œæ‰§è¡Œäº† log ä¸­çš„å‘½ä»¤ï¼Œä¿®æ”¹äº†å†…å­˜çŠ¶æ€</li>
</ul>
<p>Leader é€‰ä¸¾è¿‡ç¨‹</p>
<ol>
<li>åˆå§‹å…¨éƒ¨ä¸º Follower</li>
<li>Current Term + 1</li>
<li>é€‰ä¸¾è‡ªå·±</li>
<li>å‘å…¶å®ƒå‚ä¸è€…å‘èµ· RequestVote è¯·æ±‚ï¼Œretry ç›´åˆ°é‡åˆ°ä»¥ä¸‹å‡ ç§æƒ…å†µ
<ul>
<li>æ”¶åˆ°å¤šæ•°æ´¾è¯·æ±‚ï¼Œæˆä¸º Leaderï¼Œå¹¶å‘é€å¿ƒè·³</li>
<li>æ”¶åˆ°å…¶å®ƒ Leader çš„è¯·æ±‚ï¼Œè½¬ä¸º Followerï¼Œæ›´æ–°è‡ªå·±çš„ Term</li>
<li>æ”¶åˆ°éƒ¨åˆ†è¯·æ±‚ï¼Œä½†æœªè¾¾åˆ°å¤šæ•°æ´¾ï¼Œé€‰ä¸¾è¶…æ—¶ï¼Œéšæœº timeout å¼€å§‹ä¸‹ä¸€è½®</li>
</ul>
</li>
</ol>
<p>ä¸¤ä¸ªè§„åˆ™</p>
<ul>
<li>åœ¨ä¸€ä¸ªä»»æœŸå†…æ¯ä¸ªå‚ä¸è€…æœ€å¤šæŠ•ä¸€ç¥¨ï¼ˆæŒä¹…åŒ–ï¼‰</li>
<li>è¦æˆä¸º Leaderï¼Œå¿…é¡»æ‹¿åˆ°å¤šæ•°æŠ•ç¥¨</li>
</ul>
<p>Log Replication è¿‡ç¨‹ï¼šæ–° Leader äº§ç”Ÿï¼ŒLeader å’Œ Follower ä¸åŒæ­¥ï¼ŒLeader å¼ºåˆ¶è¦†ç›– Follower çš„ä¸åŒæ­¥çš„æ—¥å¿—</p>
<ol>
<li>Leader æ”¶åˆ°å†™è¯·æ±‚ w</li>
<li>å°† w å†™å…¥æœ¬åœ° log</li>
<li>å‘å…¶å®ƒ Follower å‘èµ· AppendEntries RPC</li>
<li>ç­‰å¾…å¤šæ•°æ´¾å›å¤
<ul>
<li>æ›´æ–°æœ¬åœ°çŠ¶æ€æœºï¼Œè¿”å›ç»™å®¢æˆ·ç«¯</li>
<li>å‘é€ä¸‹ä¸€ä¸ªå¿ƒè·³é€šçŸ¥ Follower ä¸Šä¸€ä¸ª Log å·²ç»è¢« Committed</li>
<li>Follower ä¹Ÿæ ¹æ®å‘½ä»¤åº”ç”¨æœ¬åœ°çŠ¶æ€æœº</li>
</ul>
</li>
<li>è‹¥ Follwer æœ‰é—®é¢˜ï¼Œåˆ™ Leader ä¼šä¸€ç›´ retry</li>
<li>è‹¥ Leader æœ‰é—®é¢˜ï¼Œåˆ™åˆ‡ä¸»</li>
</ol>
<p>åˆ‡ä¸»ï¼šå½“ Leader å‡ºç°é—®é¢˜æ—¶ï¼Œå°±éœ€è¦é‡æ–°é€‰ä¸¾ã€‚</p>
<ol>
<li>Leader å‘ç°å¤±å» Follower çš„å“åº”ï¼Œå¤±å» Leader èº«ä»½</li>
<li>ä¸¤ä¸ª Follower ä¹‹é—´ä¸€æ®µæ—¶é—´æœªæ”¶åˆ°å¿ƒè·³ï¼Œé‡æ–°è¿›è¡Œé€‰ä¸¾ï¼Œé€‰å‡ºæ–°çš„ Leaderï¼Œæ­¤æ—¶å‘ç”Ÿäº†åˆ‡ä¸»</li>
<li>Leader é‡å¯ï¼Œä»¥ Follower çš„èº«ä»½åŠ å…¥è¿›æ¥</li>
</ol>
<p>é—®é¢˜ï¼šæ—§ Leader æœªå¤±å»èº«ä»½ï¼Œæ–° Leader å·²ç»é€‰å‡ºï¼Œäº§ç”Ÿäº†â€œåŒä¸»â€ï¼Œå¦‚ä½•è§£å†³ï¼Ÿâ€œåŒä¸»â€çš„å­˜åœ¨å¸¦æ¥çš„ä¸»è¦é—®é¢˜å°±æ˜¯ Stale Readï¼Œä¸€ç§è¯»å–å†å²æ•°æ®ç‰ˆæœ¬çš„æœºåˆ¶ã€‚</p>
<p>Stale Read</p>
<p>å‘ç”Ÿ Leader åˆ‡æ¢ï¼Œold leader æ”¶åˆ°äº†è¯»è¯·æ±‚ã€‚å¦‚æœç›´æ¥å“åº”ï¼Œå¯èƒ½ä¼šæœ‰ Stale Readã€‚è§£å†³æ–¹æ¡ˆå°±æ˜¯ä¿è¯è¯»çš„å¼ºä¸€è‡´æ€§ã€‚</p>
<p>è¯»æ“ä½œåœ¨ lease timeout å†…ï¼Œé»˜è®¤è‡ªå·±æ˜¯ leaderï¼›ä¸æ˜¯åˆ™å‘èµ·ä¸€æ¬¡ heartbeatã€‚ç­‰å¾… Commit Index åº”ç”¨åˆ°çŠ¶æ€æœºã€‚</p>
<p>Election timeout &gt; lease timeoutï¼šæ–° leader ä¸Šä»»ï¼Œè‡ªä»ä¸Šæ¬¡å¿ƒè·³ä¹‹åä¸€å®šè¶…è¿‡äº† Election timeout çš„æ—¶é—´ï¼Œæ—§ leader å¤§æ¦‚ç‡èƒ½å¤Ÿå‘ç°è‡ªå·±çš„ Lease å·²ç»è¿‡æœŸã€‚</p>
<h4 id="53-paxos-åè®®"><a class="markdownIt-Anchor" href="#53-paxos-åè®®"></a> 5.3 Paxos åè®®</h4>
<p>Paxos ç®—æ³•ä¸ RAFT ç®—æ³•åŒºåˆ«</p>
<ol>
<li>Multi-Paxos å¯ä»¥å¹¶å‘ä¿®æ”¹æ—¥å¿—ï¼Œè€Œ Raft å†™æ—¥å¿—æ“ä½œå¿…é¡»æ˜¯è¿ç»­çš„</li>
<li>Multi-Paxos å¯ä»¥éšæœºé€‰ä¸»ï¼Œä¸å¿…è¦æ±‚æœ€æ–°æœ€å…¨çš„èŠ‚ç‚¹å½“é€‰ Leader</li>
</ol>
<p>Paxos çš„ä¼˜åŠ¿ï¼šå†™å…¥å¹¶å‘æ€§èƒ½é«˜ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½èƒ½å†™å…¥</p>
<p>Paxos çš„åŠ£åŠ¿ï¼šæ²¡æœ‰ä¸€ä¸ªèŠ‚ç‚¹æœ‰å®Œæ•´çš„æœ€æ–°çš„æ•°æ®ï¼Œæ¢å¤æµç¨‹å¤æ‚ï¼Œéœ€è¦åŒæ­¥å†å²è®°å½•</p>
<p>Paxos ä¸­æœ‰ä¸‰ç§è§’è‰²ï¼šProposerï¼ˆæå‡ºè€…ï¼‰ã€Acceptorï¼ˆå†³ç­–è€…ï¼‰ã€Learnerï¼ˆå†³ç­–å­¦ä¹ è€…ï¼‰</p>
<p>Proposer ä¸ Acceptor ä¹‹é—´çš„åä½œ</p>
<ol>
<li>Proposer è·å– Proposal ID nï¼Œå¹¶å‘æ‰€æœ‰ Acceptor å¹¿æ’­</li>
<li>Acceptor æ¥æ”¶åˆ°ä¿¡æ¯åè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœ n &gt; min_proposal åˆ™ä½¿ min_proposal := nï¼Œå¹¶è¿”å› accepted_value å’Œ Proposal</li>
<li>Proposer æ¥æ”¶è¿‡åŠæ•°å›å¤ï¼Œé€‰æ‹© Proposal æœ€å¤§çš„ accepted_value ä½œä¸ºå…±è¯†</li>
<li>ç¬¬äºŒé˜¶æ®µï¼Œå¹¿æ’­ Accept(n, value) åˆ°æ‰€æœ‰èŠ‚ç‚¹</li>
<li>Acceptor æ¥æ”¶åˆ°ä¿¡æ¯åå†æ¬¡åˆ¤æ–­ï¼Œå¦‚æœ n &gt; min_proposal åˆ™ä½¿ min_proposal := nï¼Œ accepted_value := valueï¼Œæœ¬åœ°æŒä¹…åŒ–åè¿”å›</li>
<li>Proposer æ¥æ”¶è¿‡åŠè¯·æ±‚ï¼Œè‹¥æœ‰ç»“æœ &gt; nï¼Œæ›´æ–°æ–°çš„æè®®ï¼Œè·³è½¬å›ç¬¬ 1 æ­¥</li>
</ol>
<h3 id="6åˆ†å¸ƒå¼å®è·µ"><a class="markdownIt-Anchor" href="#6åˆ†å¸ƒå¼å®è·µ"></a> 6.åˆ†å¸ƒå¼å®è·µ</h3>
<h4 id="61-mapreduce"><a class="markdownIt-Anchor" href="#61-mapreduce"></a> 6.1 MapReduce</h4>
<ul>
<li>Mapperï¼šå°†è¾“å…¥åˆ†è§£ä¸ºå¤šä¸ª Job æ¥å¹¶è¡Œå¤„ç†ã€‚å½¼æ­¤ä¹‹é—´å‡ ä¹æ²¡æœ‰ä¾èµ–å…³ç³»ã€‚</li>
<li>Shufflerï¼šå°† mapper ç»“æœæ‰“ä¹±ï¼Œé˜²æ­¢æ•°æ®å€¾æ–œã€‚</li>
<li>Reducerï¼šå¯¹ map é˜¶æ®µçš„ç»“æœè¿›è¡Œå…¨å±€æ±‡æ€»ã€‚</li>
</ul>
<p>ç›¸å…³èµ„æ–™<a class="link"   href="https://zhuanlan.zhihu.com/p/408392107" >ä¸ºä»€ä¹ˆ MapReduce å†æ¬¡æµè¡Œèµ·æ¥äº†ï¼Ÿ - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="62-åˆ†å¸ƒå¼-kv"><a class="markdownIt-Anchor" href="#62-åˆ†å¸ƒå¼-kv"></a> 6.2 åˆ†å¸ƒå¼ KV</h4>
<p>ç›¸å…³èµ„æ–™<a class="link"   href="https://juejin.cn/post/6844903504964747278" >å°ç±³å¼€æºåˆ†å¸ƒå¼KVå­˜å‚¨ç³»ç»ŸPegasus - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3>
<p>åˆ†å¸ƒå¼æ¦‚è¿°</p>
<ul>
<li>ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼</li>
<li>åˆ†å¸ƒå¼çš„å¿…è¦æ€§</li>
<li>å¸¸è§çš„åˆ†å¸ƒå¼ç³»ç»Ÿ</li>
</ul>
<p>ç³»ç»Ÿæ¨¡å‹</p>
<ul>
<li>æ•…éšœæ¨¡å‹</li>
<li>æ‹œå åº­å°†å†›é—®é¢˜</li>
<li>å…±è¯†ä¸ä¸€è‡´æ€§</li>
<li>æ—¶é—´å’Œäº‹ä»¶é¡ºåº</li>
</ul>
<p>åŸºç¡€ç†è®º</p>
<ul>
<li>CAP ç†è®º</li>
<li>ACID ç†è®º</li>
<li>BASE ç†è®º</li>
</ul>
<p>åˆ†å¸ƒå¼äº‹åŠ¡</p>
<ul>
<li>äºŒé˜¶æ®µæäº¤</li>
<li>ä¸‰é˜¶æ®µæäº¤</li>
<li>MVCC</li>
</ul>
<p>å…±è¯†åè®®</p>
<ul>
<li>Quorum NWR ç®—æ³•</li>
<li>Raft åè®®</li>
<li>Paxos åè®®</li>
</ul>
<p>åˆ†å¸ƒå¼å®è·µ</p>
<ul>
<li>MapReduce</li>
<li>åˆ†å¸ƒå¼ KV</li>
</ul>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/107439021" >æ‹œå åº­å°†å†›é—®é¢˜ (The Byzantine Generals Problem) - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/338835258" >CAPç†è®ºè¯¥æ€ä¹ˆç†è§£ï¼Ÿä¸ºä»€ä¹ˆæ˜¯ä¸‰é€‰äºŒï¼Ÿä¸ºä»€ä¹ˆæ˜¯CPæˆ–è€…APï¼Ÿé¢è¯•é¢˜æœ‰å“ªäº›ï¼Ÿ - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://juejin.cn/post/7016165148020703246" >çœ‹ä¸€éå°±ç†è§£ï¼šMVCCåŸç†è¯¦è§£ - æ˜é‡‘ (juejin.cn) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/266850866" >ä¹è§‚é”ã€æ‚²è§‚é”å’ŒMVCCï¼Œä»Šå¤©è®©ä½ ä¸€æ¬¡ææ‡‚ - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/404786050" >Raft ä¸€è‡´æ€§åè®®å®Œæ•´è§£æ - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/361108372" >ç†è§£ Paxos åè®®â€”â€”æµ…è°ˆåˆ†å¸ƒå¼ä¸€è‡´æ€§åè®® - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>é’è®­è¥è®°å½•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨Linuxä¸Šé…ç½®Javaç¯å¢ƒ</title>
    <url>/2022/11/26/java-in-linux/</url>
    <content><![CDATA[<h3 id="åŸºäºubuntu2004ltsé…ç½®javaç¯å¢ƒ"><a class="markdownIt-Anchor" href="#åŸºäºubuntu2004ltsé…ç½®javaç¯å¢ƒ"></a> åŸºäºUbuntu20.04LTSé…ç½®Javaç¯å¢ƒ</h3>
<p>åœ¨Linuxä¸Šé…ç½®Javaç¯å¢ƒçš„æ–¹å¼æœ‰3ç§, ç³»ç»Ÿçº§é…ç½®ã€ç”¨æˆ·çº§é…ç½®ã€ä¸´æ—¶é…ç½®</p>
<p>é…ç½®å¥½Javaç¯å¢ƒå°±èƒ½å¤Ÿåœ¨Linuxä¸Šè¿è¡ŒåŸºäºJavaç¯å¢ƒè¿è¡Œçš„ç›¸å…³ç¨‹åº, ä½ å¯ä»¥åœ¨Linuxç³»ç»Ÿä¸Šæ­å»ºåŸºäºJavaå®ç°çš„ç½‘ç«™ã€‚è¿™é‡Œä»¥<strong>ç³»ç»Ÿçº§é…ç½®</strong>ä¸ºä¾‹, é€‚åˆä¸ªäººå¼€å‘è€…ä½¿ç”¨<span id="more"></span></p>
<h4 id="1ä¸‹è½½targzå‹ç¼©åŒ…-javaå®˜ç½‘"><a class="markdownIt-Anchor" href="#1ä¸‹è½½targzå‹ç¼©åŒ…-javaå®˜ç½‘"></a> 1.ä¸‹è½½tar.gzå‹ç¼©åŒ… <a class="link"   href="https://www.oracle.com/java/technologies/downloads/" >Javaå®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h4>
<p>tar.gzåŒ…å…ˆä¸‹è½½åˆ°windowsä¸­, å†é€šè¿‡è¿œç¨‹æ–‡ä»¶ä¼ è¾“å·¥å…·, å°†å‹ç¼©åŒ…ä¼ é€åˆ°Linuxçš„ç›®å½•ä¸‹, è¿™é‡Œæ˜¯/rootç›®å½•</p>
<p>æœ¬æ–‡ä»¥<strong>jdk-8u151-linux-i586.tar.gz</strong>ä¸ºä¾‹é…ç½®Javaç¯å¢ƒ, é«˜ç‰ˆæœ¬å¯èƒ½æœ‰æ‰€åŒºåˆ«, 32ä½ä¸64ä½ç‰ˆæœ¬åœ¨ä¸åŒlinuxå‘è¡Œç‰ˆä¸Šå¯èƒ½æœ‰æ‰€åŒºåˆ«</p>
<h4 id="2åœ¨linuxä¸­é…ç½®ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#2åœ¨linuxä¸­é…ç½®ç¯å¢ƒ"></a> 2.åœ¨Linuxä¸­é…ç½®ç¯å¢ƒ</h4>
<h5 id="1å‰æå‡†å¤‡"><a class="markdownIt-Anchor" href="#1å‰æå‡†å¤‡"></a> 1.å‰æå‡†å¤‡</h5>
<p>é»˜è®¤å½“å‰ç›®å½•æ˜¯<strong>åˆå§‹ç›®å½•/root</strong>, é»˜è®¤å½“å‰ç”¨æˆ·æƒé™ä¸º<strong>rootæƒé™</strong>, é»˜è®¤<strong>tar.gzåŒ…å·²ç»ä¼ é€åˆ°/rootç›®å½•ä¸‹</strong></p>
<h5 id="2åˆ›å»ºç”¨äºå­˜æ”¾javaæ–‡ä»¶å¤¹çš„ç›®å½•"><a class="markdownIt-Anchor" href="#2åˆ›å»ºç”¨äºå­˜æ”¾javaæ–‡ä»¶å¤¹çš„ç›®å½•"></a> 2.åˆ›å»ºç”¨äºå­˜æ”¾Javaæ–‡ä»¶å¤¹çš„ç›®å½•</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> /usr/java</span><br></pre></td></tr></table></figure></div>
<h5 id="3è§£å‹targzå‹ç¼©åŒ…åˆ°è¯¥ç›®å½•"><a class="markdownIt-Anchor" href="#3è§£å‹targzå‹ç¼©åŒ…åˆ°è¯¥ç›®å½•"></a> 3.è§£å‹tar.gzå‹ç¼©åŒ…åˆ°è¯¥ç›®å½•</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo tar -zxvf jdk-8u151-linux-i586.tar.gz -C /usr/java</span><br></pre></td></tr></table></figure></div>
<h5 id="4ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶"><a class="markdownIt-Anchor" href="#4ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶"></a> 4.ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/profile</span><br></pre></td></tr></table></figure></div>
<p>åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ ä¸‹é¢å†…å®¹, å…·ä½“ç›®å½•æ ¹æ®å®é™…æƒ…å†µç¼–å†™</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/java/jdk1.8.0_151</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></div>
<dl>
<dt><strong>ä¸€äº›ç‰¹æ®Šç¬¦å·è¯´æ˜</strong></dt>
<dd>è¡¨ç¤ºå¹¶åˆ—ç¬¦å·, è¯´æ˜æŸä¸ªå˜é‡çš„å€¼æœ‰å¤šä¸ª, ç”¨ : æ¥åŒºåˆ†ã€‚ç›¸å½“äºWindowsä¸‹çš„ ;</dd>
</dl>
<p>$ è¡¨ç¤ºå¼•ç”¨å˜é‡, {} åˆ™ç”¨äºé™å®šå˜é‡è¾¹ç•Œ, å¦‚ä¸Šé¢çš„ ${JAVA_HOME} å°±è¡¨ç¤º /usr/java/jdk1.8.0_151</p>
<h5 id="5ä½¿ç¯å¢ƒå˜é‡é©¬ä¸Šç”Ÿæ•ˆ"><a class="markdownIt-Anchor" href="#5ä½¿ç¯å¢ƒå˜é‡é©¬ä¸Šç”Ÿæ•ˆ"></a> 5.ä½¿ç¯å¢ƒå˜é‡é©¬ä¸Šç”Ÿæ•ˆ</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure></div>
<h4 id="3æµ‹è¯•javaç¯å¢ƒ"><a class="markdownIt-Anchor" href="#3æµ‹è¯•javaç¯å¢ƒ"></a> 3.æµ‹è¯•Javaç¯å¢ƒ</h4>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤, å¦‚æœéƒ½æˆåŠŸè¿è¡Œ, åˆ™è¯´æ˜Javaç¯å¢ƒé…ç½®å®Œæˆ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">java -version</span><br><span class="line">java</span><br><span class="line">javac</span><br></pre></td></tr></table></figure></div>
<h5 id="å¯èƒ½é‡åˆ°çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å¯èƒ½é‡åˆ°çš„é—®é¢˜"></a> å¯èƒ½é‡åˆ°çš„é—®é¢˜</h5>
<p>å®‰è£…i586åç¼€jdk, å³<strong>å®‰è£…32ä½çš„jdk</strong>åæµ‹è¯•Javaç¯å¢ƒæ—¶æç¤º<strong>bash: /usr/lib/java/jdk1.8.0_151/bin/java: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</strong>, å¯èƒ½æ˜¯ç”±äºå½“å‰Linuxå‘è¡Œç‰ˆ<strong>é»˜è®¤æ²¡æœ‰ç”¨äºamd64ç³»ç»Ÿçš„32ä½libcå¼€å‘åŒ…</strong></p>
<p>å¯é€šè¿‡ä»¥ä¸‹5ä¸ªå¸¸ç”¨å‘½ä»¤æŸ¥çœ‹Linuxå‘è¡Œç‰ˆçš„æ¶æ„ä¿¡æ¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">uname</span> -a</span><br><span class="line">dpkg --print-architecture <span class="comment"># è¿™æ¡å‘½ä»¤åªé€‚ç”¨äºåŸºäºDebianå’ŒUbuntuçš„Linuxå‘è¡Œç‰ˆ</span></span><br><span class="line">getconf LONG_BIT</span><br><span class="line"><span class="built_in">arch</span></span><br><span class="line">file /sbin/init </span><br><span class="line"><span class="comment"># fileå‘½ä»¤éœ€è¦é…åˆå®ƒé“¾æ¥çš„å¦ä¸€ä¸ªæ–‡ä»¶ä½¿ç”¨</span></span><br><span class="line"><span class="comment"># åœ¨Ubuntuä¸­æ˜¯é“¾æ¥çš„æ˜¯/lib/systemd/systemd</span></span><br><span class="line"><span class="comment"># é€šè¿‡file /lib/systemd/systemdæŸ¥çœ‹åˆ°æ¶æ„ä¿¡æ¯</span></span><br></pre></td></tr></table></figure></div>
<h5 id="å®‰è£…ç¼ºå¤±çš„32ä½å¼€å‘åŒ…"><a class="markdownIt-Anchor" href="#å®‰è£…ç¼ºå¤±çš„32ä½å¼€å‘åŒ…"></a> å®‰è£…ç¼ºå¤±çš„32ä½å¼€å‘åŒ…</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install libc6-i386</span><br></pre></td></tr></table></figure></div>
<p>å¦‚æœå®‰è£…libc6-i386å¤±è´¥, è¯·å…ˆæ›´æ–°è½¯ä»¶åˆ—è¡¨, å†å°è¯•é‡æ–°å®‰è£…, å¹¶é‡æ–°æµ‹è¯•Javaç¯å¢ƒ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure></div>
<p>å¦‚æœè¿˜æ˜¯å¤±è´¥è¯·é€‰æ‹©64ä½çš„jdkç‰ˆæœ¬é‡æ–°è¿›è¡Œé…ç½®</p>
<h5 id="é‡æ–°æµ‹è¯•javaç¯å¢ƒ"><a class="markdownIt-Anchor" href="#é‡æ–°æµ‹è¯•javaç¯å¢ƒ"></a> é‡æ–°æµ‹è¯•Javaç¯å¢ƒ</h5>
<h4 id="4update-alternativesè½¯ä»¶ç‰ˆæœ¬ç®¡ç†"><a class="markdownIt-Anchor" href="#4update-alternativesè½¯ä»¶ç‰ˆæœ¬ç®¡ç†"></a> 4.update-alternativesè½¯ä»¶ç‰ˆæœ¬ç®¡ç†</h4>
<h5 id="1ç³»ç»Ÿæ³¨å†Œjdkéœ€è¦ä½¿ç”¨å¤šä¸ªjdkç‰ˆæœ¬æ—¶"><a class="markdownIt-Anchor" href="#1ç³»ç»Ÿæ³¨å†Œjdkéœ€è¦ä½¿ç”¨å¤šä¸ªjdkç‰ˆæœ¬æ—¶"></a> 1.ç³»ç»Ÿæ³¨å†Œjdk(éœ€è¦ä½¿ç”¨å¤šä¸ªjdkç‰ˆæœ¬æ—¶)</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/bin/java java /usr/java/jdk1.8.0_151/bin/java 300</span><br></pre></td></tr></table></figure></div>
<p><strong>å‚æ•°è¯´æ˜</strong></p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°: --installè¡¨ç¤ºå‘update-alternativesæ³¨å†ŒæœåŠ¡å</p>
<p>ç¬¬äºŒä¸ªå‚æ•°: æ³¨å†Œ<strong>æœ€ç»ˆåœ°å€</strong>, æˆåŠŸåå°†ä¼šæŠŠå‘½ä»¤åœ¨è¿™ä¸ªå›ºå®šçš„ç›®çš„åœ°å€åšçœŸå®å‘½ä»¤çš„<strong>è½¯é“¾æ¥</strong>, é€šè¿‡ç®¡ç†è¿™ä¸ªè½¯é“¾å°±èƒ½å®ç°ä¸åŒç‰ˆæœ¬jdkçš„åˆ‡æ¢</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°: <strong>æœåŠ¡å</strong>, ç®¡ç†æ—¶ä»¥å®ƒä¸ºå…³è”ä¾æ®</p>
<p>ç¬¬å››ä¸ªå‚æ•°: è¢«ç®¡ç†å‘½ä»¤çš„<strong>ç»å¯¹è·¯å¾„</strong></p>
<p>ç¬¬äº”ä¸ªå‚æ•°: <strong>ä¼˜å…ˆçº§</strong>, æ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜</p>
<h5 id="2äº¤äº’å¼ä¿®æ”¹"><a class="markdownIt-Anchor" href="#2äº¤äº’å¼ä¿®æ”¹"></a> 2.äº¤äº’å¼ä¿®æ”¹</h5>
<p>å¦‚æœæœ‰å¤šä¸ªç‰ˆæœ¬çš„jdk, å¯æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤é€šè¿‡äº¤äº’ç•Œé¢è¿›è¡Œåˆ‡æ¢</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo update-alternatives --config java</span><br></pre></td></tr></table></figure></div>
<p>æŸ¥çœ‹å¤šä¸ªç‰ˆæœ¬çš„jdkä»¥åŠå½“å‰çŠ¶æ€</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo update-alternatives --display java</span><br></pre></td></tr></table></figure></div>
<p>è°ƒæ•´ä¸º<strong>auto</strong>æ¨¡å¼, å¦‚æœä¸Šé¢æŸ¥çœ‹çš„çŠ¶æ€æ˜¯<strong>manual</strong>, åˆ™è¿˜ä¸èƒ½è‡ªåŠ¨é€‰æ‹©ä¼˜å…ˆçº§é«˜çš„jdkç‰ˆæœ¬, éœ€è¦è°ƒæ•´ä¸ºautoæ¨¡å¼</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo update-alternatives --auto java</span><br></pre></td></tr></table></figure></div>
<h4 id="5è¡¥å……"><a class="markdownIt-Anchor" href="#5è¡¥å……"></a> 5.è¡¥å……</h4>
<p><strong>å°†ä¸Šè¿°çš„/etc/profileæ›¿æ¢æˆ~/.bashrcå°±æ˜¯ç”¨æˆ·çº§é…ç½®</strong></p>
<p><strong>/etc/profile</strong>: æ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯, å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶, è¯¥æ–‡ä»¶è¢«æ‰§è¡Œ, æ˜¯<strong>ç³»ç»Ÿå…¨å±€</strong>å¯¹ç»ˆç«¯ç¯å¢ƒçš„è®¾ç½®, å®ƒæ˜¯loginæ—¶æœ€å…ˆè¢«ç³»ç»ŸåŠ è½½çš„, æ˜¯å®ƒè°ƒç”¨äº†/etc/bashrc, ä»¥åŠ/etc/profile.dç›®å½•ä¸‹çš„*.shæ–‡ä»¶, å¦‚æœæœ‰ä¸€ä¸ªè½¯ä»¶åŒ…, ç³»ç»Ÿä¸Šåªå®‰è£…ä¸€ä»½, ä¾›æ‰€æœ‰å¼€å‘è€…ä½¿ç”¨, å»ºè®®åœ¨/etc/profile.dä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„xxx.sh, é…ç½®ç¯å¢ƒå˜é‡</p>
<p><strong>~/.bashrc</strong>: æ˜¯<strong>ç”¨æˆ·</strong>ç›¸å…³çš„ç»ˆç«¯ï¼ˆshellï¼‰çš„ç¯å¢ƒè®¾ç½®, é€šå¸¸æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯æ—¶, é»˜è®¤ä¼šåŠ è½½é‡Œé¢çš„è®¾ç½®, åœ¨è¿™é‡Œçš„è®¾ç½®ä¸ä¼šå½±å“å…¶å®ƒç”¨æˆ·ã€‚å¦‚æœä¸€ä¸ªæœåŠ¡å™¨å¤šä¸ªå¼€å‘è€…ä½¿ç”¨, éœ€è¦é…ç½®å¤šä¸ªsdk, åˆ™æ¨èä½¿ç”¨è¯¥è®¾ç½®</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>linux-base</title>
    <url>/2022/11/17/linux-base/</url>
    <content><![CDATA[<h3 id="å…³äºlinuxçš„é€šç”¨æ“ä½œ"><a class="markdownIt-Anchor" href="#å…³äºlinuxçš„é€šç”¨æ“ä½œ"></a> å…³äºLinuxçš„é€šç”¨æ“ä½œ</h3>
<p>åŸºäºUbuntu22.04å‘è¡Œç‰ˆçš„ç¯å¢ƒï¼Œæœ¬æ–‡æ•´ç†äº†ä¸€äº›åœ¨Linuxç³»ç»Ÿä¸‹åŸºæœ¬é€šç”¨çš„æ“ä½œï¼Œä½¿åˆå­¦è€…èƒ½åˆæ­¥å­¦ä¼šLinuxç³»ç»Ÿçš„æ“ä½œæˆ–ä½¿è€ç”¨æˆ·é‡æ–°å›é¡¾ä¸€ä¸‹å¸¸ç”¨æ“ä½œ<span id="more"></span></p>
<h4 id="å‚è€ƒæ–‡ç« -linux-å¹•å¸ƒ-mubucom-ä½œè€…æ—¶å…‰é€"><a class="markdownIt-Anchor" href="#å‚è€ƒæ–‡ç« -linux-å¹•å¸ƒ-mubucom-ä½œè€…æ—¶å…‰é€"></a> å‚è€ƒæ–‡ç«  <a class="link"   href="https://mubu.com/doc/28TtabEpGV3" >Linux - å¹•å¸ƒ (mubu.com) ä½œè€…ï¼šæ—¶å…‰ï¼†é€  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h4>
<h4 id="å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#å‡†å¤‡å·¥ä½œ"></a> å‡†å¤‡å·¥ä½œ</h4>
<p>è¿œç¨‹è¿æ¥å·¥å…·<a class="link"   href="https://www.xshell.com/zh/xshell/" >XSHELL - NetSarang Website <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>è¿œç¨‹æ–‡ä»¶ä¼ è¾“å·¥å…· <a class="link"   href="https://www.xshell.com/zh/xftp/" >XFTP - NetSarang Website <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>é…åˆXFTPå¯ä»¥è¾ƒä¸ºç›´è§‚åœ°è§‚å¯Ÿæ–‡ä»¶åŠç›®å½•çš„å˜åŒ–</p>
<p>æ³¨ï¼šä¸€äº›å‘è¡Œç‰ˆå¯èƒ½éœ€è¦æ‰‹åŠ¨å®‰è£…éƒ¨åˆ†å‘½ä»¤ã€‚å¦å¤–ï¼Œåœ¨æ‰§è¡Œå‘½ä»¤æ—¶<strong>è¯·ç¡®è®¤è‡ªå·±æ‰€å¤„çš„å½“å‰ç›®å½•</strong></p>
<h4 id="æç¤º"><a class="markdownIt-Anchor" href="#æç¤º"></a> æç¤º</h4>
<p>ä¸€äº›å‘½ä»¤å¯èƒ½éœ€è¦åœ¨rootæƒé™ä¸‹æ‰§è¡Œï¼Œæˆ–è€…åœ¨æ‰§è¡Œå‘½ä»¤çš„å‰é¢éƒ½åŠ ä¸Š<code>sudo</code>çš„å‰ç¼€ï¼Œè¡¨ç¤ºä¸´æ—¶ä½¿ç”¨rootæƒé™æ‰§è¡Œè¿™æ¡å‘½ä»¤</p>
<p>å¦‚æœå¿˜è®°äº†rootå¯†ç å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•é‡æ–°è®¾ç½®</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo passwd <span class="comment"># è¿›å…¥å¯†ç è®¾ç½®</span></span><br><span class="line"><span class="comment"># è¾“å…¥å½“åˆå®‰è£…æ—¶è®¾ç½®çš„érootæ™®é€šç”¨æˆ·å¯†ç </span></span><br><span class="line"><span class="comment"># è¾“å…¥æ–°çš„rootå¯†ç </span></span><br><span class="line"><span class="comment"># é‡å¤è¾“å…¥rootå¯†ç </span></span><br><span class="line">su <span class="comment"># åˆ‡æ¢åˆ°root</span></span><br><span class="line"><span class="comment"># è¾“å…¥åˆšåˆšè®¾ç½®çš„rootå¯†ç ï¼Œå°±èƒ½åˆ‡æ¢åˆ°rootç”¨æˆ·</span></span><br></pre></td></tr></table></figure></div>
<h4 id="vimæ–‡æœ¬ç¼–è¾‘å™¨"><a class="markdownIt-Anchor" href="#vimæ–‡æœ¬ç¼–è¾‘å™¨"></a> vimæ–‡æœ¬ç¼–è¾‘å™¨</h4>
<p><strong>æŸ¥çœ‹vimé…ç½®ä¿¡æ¯</strong></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">vim --version</span><br></pre></td></tr></table></figure></div>
<p><strong>ç®€æ˜“é…ç½®ä¸€ä¸‹vim</strong></p>
<p>ç”¨vimæ‰“å¼€ç”¨æˆ·vimrcæ–‡ä»¶</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">vim <span class="variable">$HOME</span>/.vimrc</span><br></pre></td></tr></table></figure></div>
<p>å†™å…¥ä»¥ä¸‹å†…å®¹ï¼ˆåé¢çš„æ³¨é‡Šä¸éœ€è¦ï¼‰</p>
<blockquote>
<p>syntax on   # å¼€å¯è¯­æ³•é«˜äº®</p>
<p>set ts = 4    #  è®¾ç½®tabçš„ç¼©è¿›æ˜¾ç¤ºä¸ºå››ä¸ªç©ºæ ¼çš„å®½åº¦</p>
<p>set expandtab # è®¾ç½®tabå­—ç¬¦æ›¿æ¢ä¸ºç­‰å®½çš„4ä¸ªç©ºæ ¼å­—ç¬¦</p>
<p>set autoindent # å¼€å¯è‡ªåŠ¨ç¼©è¿›</p>
<p>set number # å¼€å¯è¡Œå·æ˜¾ç¤º</p>
<p>set relativenumber # ä½¿ç”¨ç›¸å¯¹è¡Œå·</p>
</blockquote>
<p>å…³äºvimçš„åŸºæœ¬æ“ä½œå¯ä»¥å‚è€ƒå…¶å®ƒæ–‡ç«  <a class="link"   href="https://www.runoob.com/linux/linux-vim.html" >Linux vi/vim | èœé¸Ÿæ•™ç¨‹ (runoob.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> æˆ–è€…è§†é¢‘<a class="link"   href="https://www.bilibili.com/video/BV13t4y1t7Wg/?share_source=copy_web&amp;vd_source=f4fedbdbfad10afdb2269285bd340510" >ã€ä¿å§†çº§å…¥é—¨ã€‘Vimç¼–è¾‘å™¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="ç”¨æˆ·ç®¡ç†"><a class="markdownIt-Anchor" href="#ç”¨æˆ·ç®¡ç†"></a> ç”¨æˆ·ç®¡ç†</h4>
<p>linuxç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤šç”¨æˆ·å¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªè¦ä½¿ç”¨ç³»ç»Ÿèµ„æºçš„ç”¨æˆ·éƒ½å¿…é¡»å…ˆå‘ç³»ç»Ÿç®¡ç†å‘˜ç”³è¯·ä¸€ä¸ªè´¦å·ï¼Œç„¶åä»¥è¿™ä¸ªè´¦å·çš„èº«ä»½è¿›å…¥ç³»ç»Ÿ</p>
<p>linuxçš„ç”¨æˆ·è‡³å°‘è¦å±äºä¸€ä¸ªç»„</p>
<h5 id="åŸºæœ¬å‘½ä»¤"><a class="markdownIt-Anchor" href="#åŸºæœ¬å‘½ä»¤"></a> åŸºæœ¬å‘½ä»¤</h5>
<p><strong>useraddå‘½ä»¤</strong>ï¼šåˆ›å»ºä¸€ä¸ªç”¨æˆ·</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># useradd [å‚æ•°] ç”¨æˆ·å</span></span><br><span class="line">useradd normal <span class="comment"># åˆ›å»ºä¸€ä¸ªåä¸ºnormalçš„ç”¨æˆ·ï¼Œç”¨æˆ·ç›®å½•é»˜è®¤å®¶ç›®å½•</span></span><br><span class="line">useradd -d /myuser normal <span class="comment"># åˆ›å»ºä¸€ä¸ªåä¸ºnormalçš„ç”¨æˆ·ï¼ŒæŒ‡å®šç”¨æˆ·ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># useradd [å‚æ•°] ç»„å ç”¨æˆ·å</span></span><br><span class="line">useradd -g visitor vis <span class="comment"># åˆ›å»ºä¸€ä¸ªåä¸ºvisçš„ç”¨æˆ·çš„åŒæ—¶æŒ‡å®šç”¨æˆ·ç»„ä¸ºvisitor</span></span><br></pre></td></tr></table></figure></div>
<p><strong>passwdå‘½ä»¤</strong>ï¼šæŒ‡å®šæˆ–ä¿®æ”¹ç”¨æˆ·çš„å¯†ç </p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># passwd ç”¨æˆ·å</span></span><br><span class="line">passwd normal <span class="comment"># æŒ‡å®šæˆ–ä¿®æ”¹normalç”¨æˆ·çš„å¯†ç </span></span><br></pre></td></tr></table></figure></div>
<p><strong>userdelå‘½ä»¤</strong>ï¼šåˆ é™¤ç”¨æˆ·</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># userdel ç”¨æˆ·å</span></span><br><span class="line">userdel normal <span class="comment"># åˆ é™¤normalç”¨æˆ·</span></span><br><span class="line">userdel -r normal <span class="comment"># åŒæ—¶åˆ é™¤è¯¥ç”¨æˆ·çš„ç›®å½•</span></span><br></pre></td></tr></table></figure></div>
<p><strong>usermodå‘½ä»¤</strong>ï¼šä¿®æ”¹ç”¨æˆ·ä¿¡æ¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># usermod [å‚æ•°] æ–°ç”¨æˆ·å æ—§ç”¨æˆ·å</span></span><br><span class="line">usermod -l vis normal <span class="comment"># ä¿®æ”¹normalç”¨æˆ·åä¸ºvisã€</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># usermod [å‚æ•°] ç»„å ç”¨æˆ·å</span></span><br><span class="line">groupadd demo</span><br><span class="line">usermod -g demo vis <span class="comment"># ä¿®æ”¹visç”¨æˆ·æ‰€åœ¨çš„ç”¨æˆ·ç»„ä¸ºdemoç»„</span></span><br></pre></td></tr></table></figure></div>
<p><strong>idå‘½ä»¤</strong>ï¼šæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># id ç”¨æˆ·å</span></span><br><span class="line"><span class="built_in">id</span> normal <span class="comment"># æŸ¥è¯¢normalç”¨æˆ·ä¿¡æ¯</span></span><br></pre></td></tr></table></figure></div>
<p><strong>suå‘½ä»¤</strong>ï¼šç”¨æˆ·åˆ‡æ¢</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># su [å‚æ•°] ç”¨æˆ·å</span></span><br><span class="line">su common <span class="comment"># åˆ‡æ¢åˆ°ä¸€ä¸ªåä¸ºcommonçš„ç”¨æˆ·</span></span><br><span class="line">su - common <span class="comment"># å°†ç¯å¢ƒå˜é‡ä¸€å¹¶åˆ‡æ¢ä¸ºcommonç”¨æˆ·çš„ç¯å¢ƒå˜é‡</span></span><br></pre></td></tr></table></figure></div>
<p><strong>groupaddå‘½ä»¤</strong>ï¼šæ·»åŠ ä¸€ä¸ªåä¸ºvisitorçš„ç”¨æˆ·ç»„</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># groupadd ç»„å</span></span><br><span class="line">groupadd visitor</span><br></pre></td></tr></table></figure></div>
<p><strong>groupdelå‘½ä»¤</strong>ï¼šåˆ é™¤visitorç”¨æˆ·ç»„</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># groupdel ç»„å</span></span><br><span class="line">groupdel visitor</span><br></pre></td></tr></table></figure></div>
<p><strong>groupmodå‘½ä»¤</strong>ï¼šä¿®æ”¹ç”¨æˆ·ç»„</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># groupmod [é€‰é¡¹ å‚æ•°] ç»„å</span></span><br><span class="line">groupmod -n demo <span class="built_in">test</span> <span class="comment"># ä¿®æ”¹testç»„åä¸ºdemo</span></span><br><span class="line">groupmod -g 9999 <span class="built_in">test</span> <span class="comment"># ä¿®æ”¹testç»„IDä¸º9999</span></span><br></pre></td></tr></table></figure></div>
<h5 id="ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶"><a class="markdownIt-Anchor" href="#ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶"></a> ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶</h5>
<ul>
<li>
<p><strong>/etc/passwd</strong>æ˜¯ç”¨æˆ·(user)çš„é…ç½®æ–‡ä»¶ï¼Œè®°å½•ç”¨æˆ·çš„å„ç§ä¿¡æ¯</p>
</li>
<li>
<p><strong>/ect/shadow</strong>æ˜¯å£ä»¤çš„é…ç½®æ–‡ä»¶</p>
</li>
<li>
<p><strong>/etc/group</strong>æ˜¯ç»„(group)çš„é…ç½®æ–‡ä»¶ï¼Œè®°å½•ç»„çš„å„ç§ä¿¡æ¯</p>
</li>
</ul>
<h4 id="å¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#å¸¸ç”¨å‘½ä»¤"></a> å¸¸ç”¨å‘½ä»¤</h4>
<h5 id="è¿›ç¨‹å‘½ä»¤"><a class="markdownIt-Anchor" href="#è¿›ç¨‹å‘½ä»¤"></a> è¿›ç¨‹å‘½ä»¤</h5>
<p><strong>initå‘½ä»¤</strong>ï¼šLinuxä¸‹çš„è¿›ç¨‹åˆå§‹åŒ–å·¥å…·ï¼Œç”¨äºåˆ‡æ¢è¿è¡Œçº§åˆ«</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">init 0 <span class="comment"># åœæœº(ä¸è¦å°†initdefaultè®¾ç½®ä¸º0)</span></span><br><span class="line">init 1 <span class="comment"># å•ç”¨æˆ·æ¨¡å¼ï¼Œä¸€èˆ¬ç”¨äºç³»ç»Ÿçº§ç»´æŠ¤</span></span><br><span class="line">init 2 <span class="comment"># å¤šç”¨æˆ·æ¨¡å¼ï¼Œæ— æ³•ä½¿ç”¨NFS(ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ)æŒ‚è½½ï¼Œæ²¡æœ‰ç½‘ç»œæ”¯æŒ</span></span><br><span class="line">init 3 <span class="comment"># å¤šç”¨æˆ·æ¨¡å¼ï¼Œæ ‡å‡†çš„è¿è¡Œçº§ï¼Œæœ‰ç½‘ç»œæ”¯æŒ</span></span><br><span class="line">init 4 <span class="comment"># ä¿ç•™ï¼Œæœªä½¿ç”¨</span></span><br><span class="line">init 5 <span class="comment"># X11(xwindow)å›¾å½¢åŒ–ç•Œé¢æ¨¡å¼ï¼Œå¤šç”¨æˆ·ï¼Œæœ‰ç½‘ç»œæ”¯æŒï¼Œä¸€èˆ¬ç”¨äºè¿œç¨‹è¿æ¥æ—¶ä½¿ç”¨Linuxå›¾å½¢åŒ–ç•Œé¢</span></span><br><span class="line">init 6 <span class="comment"># é‡æ–°å¯åŠ¨(ä¸è¦å°†initdefaultè®¾ç½®ä¸º6)</span></span><br></pre></td></tr></table></figure></div>
<h5 id="å¸®åŠ©å‘½ä»¤"><a class="markdownIt-Anchor" href="#å¸®åŠ©å‘½ä»¤"></a> å¸®åŠ©å‘½ä»¤</h5>
<p><strong>manå‘½ä»¤</strong>ï¼šç”¨äºè·å–å¸®åŠ©æ‰‹å†Œ</p>
<p><strong>helpå‘½ä»¤</strong>ï¼šè·å–shellå†…ç½®å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">man vim <span class="comment"># è·å–vimçš„å¸®åŠ©æ‰‹å†Œ</span></span><br><span class="line"><span class="built_in">help</span> <span class="built_in">cd</span> <span class="comment"># è·å–cdå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">help</span> <span class="built_in">mv</span> <span class="comment"># è·å–mvå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ï¼Œä½†ä¼šå¤±è´¥ï¼Œå› ä¸ºmvä¸æ˜¯å†…ç½®å‘½ä»¤</span></span><br><span class="line"><span class="built_in">type</span> <span class="built_in">mv</span> <span class="comment"># æŸ¥çœ‹mvå‘½ä»¤çš„ç±»å‹(å†…ç½®å‘½ä»¤æˆ–å¤–éƒ¨å‘½ä»¤)</span></span><br></pre></td></tr></table></figure></div>
<h5 id="æ–‡ä»¶ç›®å½•å‘½ä»¤"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç›®å½•å‘½ä»¤"></a> æ–‡ä»¶ç›®å½•å‘½ä»¤</h5>
<p><strong>pwdå‘½ä»¤</strong>ï¼šæŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">pwd</span></span><br></pre></td></tr></table></figure></div>
<p><strong>lså‘½ä»¤</strong>ï¼šæŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ls [å‚æ•°] [ç›®å½•æˆ–æ–‡ä»¶å]</span></span><br><span class="line"><span class="built_in">ls</span> -a <span class="comment"># æ˜¾ç¤ºå½“å‰æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ï¼ŒåŒ…æ‹¬ä¸å¯è§çš„</span></span><br><span class="line"><span class="built_in">ls</span> -l <span class="comment"># ä»¥åˆ—è¡¨çš„å½¢å¼æ˜¾ç¤ºä¿¡æ¯</span></span><br></pre></td></tr></table></figure></div>
<p><strong>cdå‘½ä»¤</strong>ï¼šåˆ‡æ¢åˆ°æŒ‡å®šç›®å½•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># cd [ç›®å½•è·¯å¾„]</span></span><br><span class="line"><span class="built_in">cd</span> ~  <span class="comment"># è¿›å…¥é»˜è®¤åˆå§‹ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> .. <span class="comment"># è¿”å›ä¸Šä¸€çº§ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /opt <span class="comment"># è¿›å…¥optç›®å½•</span></span><br></pre></td></tr></table></figure></div>
<p><strong>mkdirå‘½ä»¤</strong>ï¼šåˆ›å»ºæŒ‡å®šç›®å½•ï¼Œå¯æ ¹æ®ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„åˆ›å»º</p>
<p><strong>rmdirå‘½ä»¤</strong>ï¼šåˆ é™¤æŒ‡å®šçš„ç©ºç›®å½•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># mkdir [å‚æ•°] ç›®å½•å</span></span><br><span class="line"><span class="built_in">mkdir</span> <span class="built_in">test</span> <span class="comment"># åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªtestç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> -p a/b/c <span class="comment"># åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºa/b/cçš„åµŒå¥—å¤šçº§ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># rmdir [å‚æ•°] ç›®å½•å</span></span><br><span class="line"><span class="built_in">rmdir</span> <span class="built_in">test</span> <span class="comment"># åˆ é™¤testç›®å½•ï¼Œtestç›®å½•ä¸‹ä¸èƒ½æœ‰å…¶å®ƒå†…å®¹</span></span><br><span class="line"><span class="comment"># åˆ é™¤æœ‰å…¶å®ƒå†…å®¹çš„ç›®å½•æ—¶éœ€è¦ä½¿ç”¨rm -rfå‘½ä»¤</span></span><br></pre></td></tr></table></figure></div>
<p><strong>touchå‘½ä»¤</strong>ï¼šåˆ›å»ºç©ºæ–‡ä»¶ï¼Œå¯æ ¹æ®ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„åˆ›å»º</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># touch æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">touch</span> demo.txt <span class="comment"># åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºdemo.txtæ–‡ä»¶</span></span><br></pre></td></tr></table></figure></div>
<p><strong>cpå‘½ä»¤</strong>ï¼šæ‹·è´æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># cp [å‚æ•°] æºç›®å½• æŒ‡å®šç›®å½•</span></span><br><span class="line"><span class="built_in">cp</span> demo.txt <span class="built_in">test</span> <span class="comment"># å¤åˆ¶demo.txtæ–‡ä»¶åˆ°å½“å‰åŒçº§çš„testç›®å½•ä¸‹</span></span><br><span class="line"><span class="built_in">cp</span> -r <span class="built_in">source</span> <span class="built_in">test</span> <span class="comment"># å°†sourceæ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°åŒçº§çš„testæ–‡ä»¶å¤¹ä¸‹(é€’å½’å¤åˆ¶)</span></span><br></pre></td></tr></table></figure></div>
<p><strong>rmå‘½ä»¤</strong>ï¼šåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼ˆæ–‡ä»¶å¤¹ï¼‰</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># rm [å‚æ•°] æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">rm</span> demo.txt <span class="comment"># åˆ é™¤demo.txtæ–‡ä»¶</span></span><br><span class="line"><span class="built_in">rm</span> -r <span class="built_in">source</span> <span class="comment"># é€’å½’åˆ é™¤æ•´ä¸ªsourceç›®å½•</span></span><br><span class="line"><span class="built_in">rm</span> -rf <span class="built_in">test</span> <span class="comment"># æ— æç¤ºåœ°å¼ºåˆ¶åˆ é™¤æ•´ä¸ªtestç›®å½• </span></span><br></pre></td></tr></table></figure></div>
<p><strong>catå‘½ä»¤</strong>ï¼šåªè¯»åœ°æŸ¥çœ‹æ–‡ä»¶å†…å®¹</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># cat [å‚æ•°] æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">cat</span> demo.txt <span class="comment"># æŸ¥çœ‹demo.txtçš„å†…å®¹</span></span><br><span class="line"><span class="built_in">cat</span> -n demo.txt <span class="comment"># æŸ¥çœ‹æ–‡ä»¶æ—¶æ˜¾ç¤ºè¡Œå·</span></span><br></pre></td></tr></table></figure></div>
<p><strong>moreå‘½ä»¤</strong>ï¼šåŸºäºviç¼–è¾‘å™¨çš„æ–‡æœ¬è¿‡æ»¤å™¨ï¼Œä»¥å…¨å±æ–¹å¼æŒ‰é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œé€‚åˆé˜…è¯»é•¿å†…å®¹çš„æ–‡æœ¬</p>
<table>
<thead>
<tr>
<th style="text-align:center">å¿«æ·é”®</th>
<th style="text-align:center">å…·ä½“åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ç©ºæ ¼(space)</td>
<td style="text-align:center">å‘ä¸‹ç¿»ä¸€é¡µ</td>
</tr>
<tr>
<td style="text-align:center">Enter</td>
<td style="text-align:center">å‘ä¸‹ç¿»ä¸€è¡Œ</td>
</tr>
<tr>
<td style="text-align:center">q</td>
<td style="text-align:center">é€€å‡º</td>
</tr>
<tr>
<td style="text-align:center">Ctrl+F</td>
<td style="text-align:center">å‘ä¸‹æ»šåŠ¨ä¸€å±</td>
</tr>
<tr>
<td style="text-align:center">Ctrl+B</td>
<td style="text-align:center">è¿”å›ä¸Šä¸€å±</td>
</tr>
<tr>
<td style="text-align:center">=</td>
<td style="text-align:center">è¾“å‡ºå½“å‰è¡Œè¡Œå·</td>
</tr>
<tr>
<td style="text-align:center">:f</td>
<td style="text-align:center">è¾“å‡ºæ–‡ä»¶åå’Œè¡Œå·</td>
</tr>
</tbody>
</table>
<p><strong>lesså‘½ä»¤</strong>ï¼š æ¥åˆ†å±æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œä¸<strong>moreå‘½ä»¤</strong>ç±»ä¼¼ï¼Œä½†åŠŸèƒ½æ›´åŠ å¼ºå¤§ã€‚èƒ½æ ¹æ®æ˜¾ç¤ºéœ€è¦åŠ è½½æ–‡ä»¶å†…å®¹ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§åŠ è½½ï¼Œå¯¹äºæ˜¾ç¤ºå¤§å‹æ–‡ä»¶æœ‰è¾ƒé«˜çš„æ•ˆç‡</p>
<table>
<thead>
<tr>
<th style="text-align:center">å¿«æ·é”®</th>
<th style="text-align:center">å…·ä½“åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ç©ºæ ¼(space)</td>
<td style="text-align:center">å‘ä¸‹ç¿»ä¸€é¡µ</td>
</tr>
<tr>
<td style="text-align:center">[pagedown]</td>
<td style="text-align:center">å‘ä¸‹ç¿»ä¸€é¡µ</td>
</tr>
<tr>
<td style="text-align:center">[pageup]</td>
<td style="text-align:center">å‘ä¸Šç¿»ä¸€é¡µ</td>
</tr>
<tr>
<td style="text-align:center">/å­—ä¸²</td>
<td style="text-align:center">å‘ä¸‹æœå¯»å­—ä¸² nå‘ä¸‹ Nå‘ä¸Š</td>
</tr>
<tr>
<td style="text-align:center">?å­—ä¸²</td>
<td style="text-align:center">å‘ä¸Šæœå¯»å­—ä¸² nå‘ä¸Š Nå‘ä¸‹</td>
</tr>
<tr>
<td style="text-align:center">q</td>
<td style="text-align:center">é€€å‡º</td>
</tr>
</tbody>
</table>
<p><strong>&gt;æŒ‡ä»¤</strong>ï¼šè¾“å‡ºé‡å®šå‘ï¼Œä¼šè¦†ç›–æ–‡ä»¶çš„å†…å®¹</p>
<p><strong>&gt;&gt;æŒ‡ä»¤</strong>ï¼šè¿½åŠ å†…å®¹åˆ°æ–‡ä»¶å°¾éƒ¨ï¼Œä¸ä¼šè¦†ç›–æ–‡ä»¶çš„å†…å®¹</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> &gt; info.txt <span class="comment"># å°†å½“å‰ç›®å½•çš„ä¿¡æ¯å†™å…¥info.txt</span></span><br><span class="line"><span class="built_in">ls</span> -l &gt; info.txt <span class="comment"># è¦†ç›–info.txtçš„å†…å®¹ä¸ºåˆ—è¡¨å½¢å¼çš„ç›®å½•ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">ls</span> &gt;&gt; info.txt <span class="comment"># å°†ç›®å½•ä¿¡æ¯è¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾</span></span><br></pre></td></tr></table></figure></div>
<p><strong>echoå‘½ä»¤</strong>ï¼šè¾“å‡ºå†…å®¹åˆ°æ§åˆ¶å°ï¼Œå¯ä¸**&gt;æŒ‡ä»¤æˆ–&gt;&gt;æŒ‡ä»¤**ç»„åˆä½¿ç”¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># echo [å‚æ•°] [å­—ç¬¦ä¸²]</span></span><br><span class="line"><span class="built_in">echo</span> hello world <span class="comment"># è¾“å‡ºhello worldåˆ°æ§åˆ¶å°</span></span><br><span class="line"><span class="built_in">echo</span> happy &gt;&gt; info.txt <span class="comment"># æ­¤æ—¶æ§åˆ¶å°ä¸ä¼šè¾“å‡ºå†…å®¹ï¼Œå†…å®¹è¿½åŠ åˆ°info.txtä¸­ï¼Œå…·ä½“å†…å®¹å¯ä»¥è‡ªå®šä¹‰</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span> <span class="comment"># è·å–PATHå˜é‡ï¼ŒPATHæ˜¯åŸæœ¬å°±å­˜åœ¨äºLinuxä¸‹çš„ç¯å¢ƒå˜é‡</span></span><br></pre></td></tr></table></figure></div>
<p><strong>headå‘½ä»¤</strong>ï¼šæŸ¥çœ‹æ–‡ä»¶å‰nè¡Œå†…å®¹ï¼Œné»˜è®¤ä¸º10</p>
<p><strong>tailå‘½ä»¤</strong>ï¼šæŸ¥çœ‹æ–‡ä»¶ånè¡Œå†…å®¹ï¼Œné»˜è®¤ä¸º10</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># head [å‚æ•°] [è¡Œæ•°] æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">head</span> info.txt <span class="comment"># æŸ¥çœ‹info.txtçš„å‰10è¡Œå†…å®¹</span></span><br><span class="line"><span class="built_in">head</span> -n 3 info.txt <span class="comment"># æŸ¥çœ‹info.txtçš„å‰3è¡Œå†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tail [å‚æ•°] [è¡Œæ•°] æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">tail</span> info.txt <span class="comment"># æŸ¥çœ‹info.txtçš„å10è¡Œå†…å®¹</span></span><br><span class="line"><span class="built_in">tail</span> -n 3 info.txt <span class="comment"># æŸ¥çœ‹info.txtçš„å3è¡Œå†…å®¹</span></span><br></pre></td></tr></table></figure></div>
<p><strong>lnå‘½ä»¤</strong>ï¼šç»™æºæ–‡ä»¶åˆ›å»ºä¸€ä¸ª<strong>è½¯é“¾æ¥</strong>ã€‚è½¯é“¾æ¥ä¹Ÿç§°ç¬¦å·é“¾æ¥ï¼Œç±»ä¼¼äºå¿«æ·æ–¹å¼ï¼Œä¸»è¦å­˜æ”¾äº†é“¾æ¥å…¶ä»–æ–‡ä»¶çš„è·¯å¾„ã€‚å¯ä»¥é€šè¿‡lnå‘½ä»¤<strong>è½¯é“¾æ¥çš„æ–¹å¼</strong>è®¾ç½®<strong>å…¨å±€</strong>ç¯å¢ƒå˜é‡ï¼ˆè¿™æ˜¯ä¸€ç§æ–¹å¼ï¼‰</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ln -s æºæ–‡ä»¶è·¯å¾„ ç›®æ ‡è·¯å¾„</span></span><br><span class="line"><span class="built_in">ln</span> -s info.txt <span class="built_in">test</span>/ <span class="comment"># å°†info.txtè½¯é“¾æ¥åˆ°åŒçº§çš„testç›®å½•ä¸‹</span></span><br></pre></td></tr></table></figure></div>
<h5 id="æ—¶é—´æ—¥æœŸå‘½ä»¤"><a class="markdownIt-Anchor" href="#æ—¶é—´æ—¥æœŸå‘½ä»¤"></a> æ—¶é—´æ—¥æœŸå‘½ä»¤</h5>
<p><strong>dateå‘½ä»¤</strong>ï¼šæ˜¾ç¤ºæˆ–è®¾å®šç³»ç»Ÿçš„æ—¥æœŸå’Œæ—¶é—´</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># date [å‚æ•°] [æ ¼å¼]</span></span><br><span class="line"><span class="built_in">date</span> <span class="comment"># æ˜¾ç¤ºå½“å‰ç³»ç»Ÿæ—¶é—´</span></span><br><span class="line"><span class="built_in">date</span> -u <span class="comment"># æ˜¾ç¤ºUTCæ—¶é—´</span></span><br><span class="line"><span class="built_in">date</span> -d <span class="string">&quot;+1 day&quot;</span> +%Y%m%d <span class="comment"># æ˜¾ç¤ºåä¸€å¤©çš„æ—¥æœŸ</span></span><br><span class="line"><span class="built_in">date</span> -d <span class="string">&quot;-1 month&quot;</span> +%Y%m%d <span class="comment"># æ˜¾ç¤ºä¸Šä¸€æœˆçš„æ—¥æœŸ</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">date</span> -s <span class="string">&quot;2022-11-18 06:30:00&quot;</span> <span class="comment"># è®¾ç½®ç³»ç»Ÿæ—¶é—´ä¸º2022å¹´11æœˆ18æ—¥ 6æ—¶30åˆ†0ç§’ï¼Œé‡å¯ç³»ç»Ÿåä¼šå¤±æ•ˆ</span></span><br></pre></td></tr></table></figure></div>
<p><strong>calå‘½ä»¤</strong>ï¼šæ˜¾ç¤ºæœˆå†ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…å‘½ä»¤</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">apt install ncal <span class="comment"># å®‰è£…å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cal [å‚æ•°] [æœˆä»½] [å¹´ä»½]</span></span><br><span class="line">cal <span class="comment"># æŸ¥çœ‹æœ¬æœˆæœˆå†</span></span><br><span class="line">cal 12 2022 <span class="comment"># æŸ¥çœ‹2022å¹´12æœˆæœˆå†</span></span><br></pre></td></tr></table></figure></div>
<h5 id="æœç´¢æŸ¥æ‰¾å‘½ä»¤"><a class="markdownIt-Anchor" href="#æœç´¢æŸ¥æ‰¾å‘½ä»¤"></a> æœç´¢æŸ¥æ‰¾å‘½ä»¤</h5>
<p><strong>findå‘½ä»¤</strong>ï¼šä»æŒ‡å®šç›®å½•å‘ä¸‹é€’å½’åœ°éå†å„ä¸ªå­ç›®å½•ï¼Œå°†æ»¡è¶³æ¡ä»¶çš„æ–‡ä»¶æˆ–ç›®å½•æ˜¾ç¤ºåœ¨ç»ˆç«¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># find [æœç´¢èŒƒå›´] [å‚æ•°] ...</span></span><br><span class="line">find . -name <span class="string">&quot;*.txt&quot;</span> <span class="comment"># æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ–‡ä»¶ååç¼€ä¸ºtxtçš„æ–‡ä»¶</span></span><br><span class="line">find . -<span class="built_in">type</span> f <span class="comment"># æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ™®é€šç±»å‹çš„æ–‡ä»¶</span></span><br><span class="line">find . -user root <span class="comment"># æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹å±äºrootç”¨æˆ·çš„æ–‡ä»¶</span></span><br><span class="line">find . -size 0 <span class="comment"># æŸ¥æ‰¾å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹é•¿åº¦ä¸º0çš„æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></div>
<p><strong>locateå‘½ä»¤</strong>ï¼šå¯ä»¥å¿«é€Ÿå®šä½æ–‡ä»¶è·¯å¾„ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…å‘½ä»¤ã€‚åˆ©ç”¨äº‹å…ˆå»ºç«‹çš„åŒ…å«ç³»ç»Ÿä¸­æ‰€æœ‰æ–‡ä»¶åç§°è·¯å¾„çš„locateæ•°æ®åº“å®ç°å¿«é€Ÿå®šä½ï¼Œæ— éœ€éå†æ•´ä¸ªæ–‡ä»¶å¤¹ï¼ŒæŸ¥è¯¢é€Ÿåº¦è¾ƒå¿«ã€‚</p>
<p>locateæ•°æ®åº“ä¸æ˜¯å®æ—¶æ›´æ–°çš„(é»˜è®¤æƒ…å†µä¸‹æ¯å¤©è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡)ï¼Œæ— æ³•æŸ¥è¯¢å½“å¤©æ–°å»ºçš„æ–‡ä»¶ï¼Œä½†å¯ä»¥æ‰‹åŠ¨æ›´æ–°locateæ•°æ®åº“</p>
<p><font color='red'>æ³¨æ„ï¼šæµ‹è¯•å‘½ä»¤éœ€è¦æ–°å»ºæ–‡ä»¶æ—¶ï¼Œè®°å¾—éšæ—¶æ‰‹åŠ¨æ›´æ–°locateæ•°æ®åº“</font></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">apt install plocate <span class="comment"># å®‰è£…å‘½ä»¤</span></span><br><span class="line">updatedb <span class="comment"># æ‰‹åŠ¨æ›´æ–°locateæ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># locate [å‚æ•°] [æ–‡ä»¶å]</span></span><br><span class="line">locate passwd <span class="comment"># æŸ¥æ‰¾passwdæ–‡ä»¶</span></span><br><span class="line">locate /etc/sh <span class="comment"># æŸ¥æ‰¾etcç›®å½•ä¸‹æ‰€æœ‰ä»¥shå¼€å¤´çš„æ–‡ä»¶</span></span><br><span class="line">locate -n 2 passwd <span class="comment"># æœ€å¤šæ˜¾ç¤º2ä¸ªè¾“å‡º</span></span><br><span class="line">locate -i ~/r <span class="comment"># å¿½ç•¥å¤§å°å†™æŸ¥æ‰¾å½“å‰ç”¨æˆ·ç›®å½•ä¸‹rå¼€å¤´çš„æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></div>
<p><strong>grepå‘½ä»¤</strong>ï¼šåœ¨æŒ‡å®šæ–‡ä»¶é‡ŒæŸ¥æ‰¾æŒ‡å®šçš„å†…å®¹</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># grep [å†…å®¹] [æ–‡ä»¶å]</span></span><br><span class="line">grep root info.txt <span class="comment"># åœ¨info.txté‡ŒæŸ¥æ‰¾rootå­—ç¬¦æ‰€åœ¨çš„è¡Œå¹¶è¾“å‡ºåˆ°æ§åˆ¶å°</span></span><br><span class="line">grep -n root info.txt <span class="comment"># æ˜¾ç¤ºåœ¨å®Œæ•´æ–‡æœ¬ä¸­å¯¹åº”åŒ¹é…çš„è¡Œå·</span></span><br><span class="line">grep -i root info.txt <span class="comment"># å¿½ç•¥å¤§å°å†™è¿›è¡ŒæŸ¥æ‰¾</span></span><br></pre></td></tr></table></figure></div>
<h5 id="å‹ç¼©ä¸è§£å‹å‘½ä»¤"><a class="markdownIt-Anchor" href="#å‹ç¼©ä¸è§£å‹å‘½ä»¤"></a> å‹ç¼©ä¸è§£å‹å‘½ä»¤</h5>
<p><strong>gzipå‘½ä»¤</strong>ï¼šå‹ç¼©æ–‡ä»¶ï¼Œæ ¼å¼åªèƒ½ä¸º*.gzï¼Œå®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºäº†å¤„ç†å•ä¸ªæ–‡ä»¶</p>
<p><strong>gunzipå‘½ä»¤</strong>ï¼šè§£å‹æ–‡ä»¶ï¼Œåªèƒ½è§£å‹*.gzåç¼€çš„æ–‡ä»¶</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># gzip æ–‡ä»¶</span></span><br><span class="line">gzip info.txt <span class="comment"># å‹ç¼©info.txtæ–‡ä»¶ä¸ºinfo.txt.gzæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># gunzip æ–‡ä»¶</span></span><br><span class="line">gunzip info.txt.gz <span class="comment"># è§£å‹info.txt.gzæ–‡ä»¶ä¸ºinfo.txtæ–‡ä»¶</span></span><br></pre></td></tr></table></figure></div>
<p><strong>zipå‘½ä»¤</strong>ï¼šå‹ç¼©æ–‡ä»¶å’Œç›®å½•ï¼Œé€‚ç”¨äºå¤šä¸ªæ–‡ä»¶å’Œç›®å½•</p>
<p><strong>unzipå‘½ä»¤</strong>ï¼šè§£å‹æ–‡ä»¶å’Œç›®å½•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># zip [å‚æ•°] æ–‡ä»¶å.zip è¦å‹ç¼©çš„æ–‡ä»¶å</span></span><br><span class="line">zip info.zip info.txt <span class="comment"># å°†info.txtå‹ç¼©åˆ°info.zipä¸­</span></span><br><span class="line">zip -r test.zip <span class="built_in">test</span>/ <span class="comment"># å°†testç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•é€’å½’å‹ç¼©ï¼Œç”¨äºå¤„ç†å¤šæ–‡ä»¶å¤šç›®å½•çš„å‹ç¼©</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># unzip [å‚æ•°] æ–‡ä»¶å.zip</span></span><br><span class="line">unzip test.zip <span class="comment"># ç›´æ¥è§£å‹test.zip</span></span><br><span class="line">unzip -d beta/ test.zip <span class="comment"># æŒ‡å®šè§£å‹test.zipåˆ°åŒçº§çš„betaç›®å½•ä¸‹ </span></span><br></pre></td></tr></table></figure></div>
<p><strong>tarå‘½ä»¤</strong>ï¼šæ‰“åŒ…ç›®å½•æˆ–è§£åŒ…taræ–‡ä»¶ï¼Œå¹¶ä¸”èƒ½é™„åŠ å‹ç¼©å’Œè§£å‹åŠŸèƒ½</p>
<p>æ³¨æ„ï¼šæ‰“åŒ…å’Œå‹ç¼©åŒ…ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œè§£åŒ…å’Œè§£å‹ä¹Ÿä¸æ˜¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># tar å¿…å¡«å‚æ•°[é€‰å¡«å‚æ•°] æ‰“åŒ…æ–‡ä»¶å æºæ–‡ä»¶å</span></span><br><span class="line">tar -cvf info.tar info.txt <span class="comment"># æ‰“åŒ…info.txtåˆ°info.tarä¸­</span></span><br><span class="line">tar -zcvf info.tar.gz info.txt <span class="comment"># æ‰“åŒ…çš„åŒæ—¶ä½¿ç”¨gzipè¿›è¡Œå‹ç¼©</span></span><br><span class="line"></span><br><span class="line">tar -xvf info.tar <span class="comment"># è§£åŒ…info.tar</span></span><br><span class="line">tar -zxvf info.tar.gz <span class="comment"># è§£å‹å¹¶è§£åŒ…info.tar.gz</span></span><br><span class="line"></span><br><span class="line">tar -tvf info.tar <span class="comment"># ä¸è§£å‹ï¼Œä»…æŸ¥çœ‹åŒ…ä¸­çš„æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># æŒ‡å®šè§£åŒ…åˆ°å“ªä¸ªç›®å½•</span></span><br><span class="line">tar -xvf info.tar -C /tmp <span class="comment"># è§£åŒ…åˆ°tmpç›®å½•ä¸‹</span></span><br></pre></td></tr></table></figure></div>
<h5 id="è·¯ç”±è¡¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#è·¯ç”±è¡¨å‘½ä»¤"></a> è·¯ç”±è¡¨å‘½ä»¤</h5>
<p><strong>routeå‘½ä»¤</strong>ï¼š æ˜¾ç¤ºå’Œæ“ä½œIPè·¯ç”±è¡¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># route [å‚æ•°]</span></span><br><span class="line">route <span class="comment"># æŸ¥çœ‹è·¯ç”±è¡¨</span></span><br><span class="line">route -n <span class="comment"># ä¸è§£æåå­—</span></span><br></pre></td></tr></table></figure></div>
<h5 id="æ–‡æœ¬æ“ä½œå‘½ä»¤"><a class="markdownIt-Anchor" href="#æ–‡æœ¬æ“ä½œå‘½ä»¤"></a> æ–‡æœ¬æ“ä½œå‘½ä»¤</h5>
<p><strong>sedå‘½ä»¤</strong>ï¼šèƒ½å¤Ÿåœ¨ä¸æ‰“å¼€æ–‡ä»¶çš„æƒ…å†µä¸‹å¤„ç†ã€ç¼–è¾‘æ–‡æœ¬æ–‡ä»¶ï¼Œ ä¸»è¦ç”¨æ¥è‡ªåŠ¨ç¼–è¾‘ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ã€ç®€åŒ–å¯¹æ–‡ä»¶çš„åå¤æ“ä½œã€ç¼–å†™è½¬æ¢ç¨‹åºç­‰</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sed [å‚æ•°] æ–‡ä»¶å</span></span><br><span class="line">sed -e <span class="string">&#x27;s/-/*/g&#x27;</span> info.txt &gt;&gt; info.txt <span class="comment"># å°†info.txtä¸­æ‰€æœ‰çš„å­—ç¬¦-æ›¿æ¢ä¸º*ï¼Œå¹¶åº”ç”¨ä¿®æ”¹åˆ°info.txtä¸­</span></span><br></pre></td></tr></table></figure></div>
<h4 id="ç»„ç®¡ç†ä¸æƒé™ç®¡ç†"><a class="markdownIt-Anchor" href="#ç»„ç®¡ç†ä¸æƒé™ç®¡ç†"></a> ç»„ç®¡ç†ä¸æƒé™ç®¡ç†</h4>
<h5 id="ç»„ç®¡ç†"><a class="markdownIt-Anchor" href="#ç»„ç®¡ç†"></a> ç»„ç®¡ç†</h5>
<p>åœ¨linuxä¸­çš„æ¯ä¸ªç”¨æˆ·å¿…é¡»å±äºä¸€ä¸ªç»„ï¼Œä¸èƒ½ç‹¬ç«‹äºç»„å¤–</p>
<p>åœ¨linuxä¸­æ¯ä¸ªæ–‡ä»¶æœ‰æ‰€æœ‰è€…ã€æ‰€åœ¨ç»„ã€å…¶å®ƒç»„çš„æ¦‚å¿µ</p>
<p>æ–‡ä»¶çš„æ‰€æœ‰è€…å°±æ˜¯åˆ›å»ºè¯¥æ–‡ä»¶çš„ç”¨æˆ·</p>
<p>é™¤æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œæ‰€åœ¨ç»„çš„ç”¨æˆ·å¤–ï¼Œç³»ç»Ÿçš„å…¶å®ƒç”¨æˆ·éƒ½æ˜¯æ–‡ä»¶çš„å…¶å®ƒç»„</p>
<p>æç¤ºï¼š<strong>æŸ¥çœ‹æ–‡ä»¶æƒé™ã€æ‰€æœ‰è€…ç­‰ä¿¡æ¯</strong>å¯ä»¥ä½¿ç”¨<strong>ls -l æŒ‡å®šçš„æ–‡ä»¶å</strong>å®ç°ï¼›<strong>æŸ¥çœ‹ç”¨æˆ·ç›¸å…³ä¿¡æ¯</strong>å¯ä»¥ä½¿ç”¨<strong>id æŒ‡å®šçš„ç”¨æˆ·å</strong>å®ç°</p>
<h5 id="åŸºæœ¬å‘½ä»¤-2"><a class="markdownIt-Anchor" href="#åŸºæœ¬å‘½ä»¤-2"></a> åŸºæœ¬å‘½ä»¤</h5>
<p><strong>chownå‘½ä»¤</strong>ï¼šä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼Œä½†ä¸æ”¹å˜ç»„</p>
<p><strong>chgrpå‘½ä»¤</strong>ï¼šä¿®æ”¹æ–‡ä»¶æ‰€åœ¨ç»„</p>
<p><strong>usermodå‘½ä»¤</strong>ï¼šæ”¹å˜ç”¨æˆ·æ‰€åœ¨ç»„</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># chown ç”¨æˆ·å æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">chown</span> common info.txt <span class="comment"># info.txtæ‰€æœ‰è€…æ”¹ä¸ºcommonç”¨æˆ·</span></span><br><span class="line"><span class="built_in">ls</span> -l info.txt <span class="comment"># æŸ¥çœ‹info.txtçš„ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># chgrp ç»„å æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">chgrp</span> common info.txt <span class="comment"># info.txtæ‰€åœ¨ç»„æ”¹ä¸ºcommonç»„</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># usermod -g ç»„å ç”¨æˆ·å</span></span><br><span class="line">usermod -g ok common <span class="comment"># commonç”¨æˆ·æ‰€åœ¨ç»„æ”¹ä¸ºokç»„</span></span><br><span class="line"><span class="built_in">id</span> common <span class="comment"># æŸ¥çœ‹commonç”¨æˆ·çš„ä¿¡æ¯</span></span><br></pre></td></tr></table></figure></div>
<h5 id="æƒé™ç®¡ç†"><a class="markdownIt-Anchor" href="#æƒé™ç®¡ç†"></a> æƒé™ç®¡ç†</h5>
<p>æ–‡ä»¶æƒé™å†…å®¹ï¼Œé€šè¿‡ls -l æŒ‡å®šæ–‡ä»¶åæŸ¥çœ‹</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸€ä¸ªç¤ºä¾‹</span></span><br><span class="line">-rw-r--r-- 1 root root 320 11æœˆ 18 17:49 info.txt</span><br></pre></td></tr></table></figure></div>
<p><strong>-rw-râ€“râ€“è§£è¯»</strong>(ä¸‹æ ‡ä»0å¼€å§‹)</p>
<ol>
<li>ç¬¬0ä½ç¡®å®šæ–‡ä»¶ç±»å‹(d, - , l , c , b)</li>
<li>ç¬¬1-3ä½ç¡®å®šæ‰€æœ‰è€…ï¼ˆè¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™</li>
<li>ç¬¬4-6ä½ç¡®å®šæ‰€å±ç»„ï¼ˆåŒç”¨æˆ·ç»„çš„ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™</li>
<li>ç¬¬7-9ä½ç¡®å®šå…¶ä»–ç”¨æˆ·æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™</li>
</ol>
<p><strong>rwxæƒé™è¯´æ˜</strong></p>
<ol>
<li>
<p>rè¡¨ç¤ºå¯è¯»read</p>
</li>
<li>
<p>wè¡¨ç¤ºå¯å†™write</p>
</li>
<li>
<p>xè¡¨ç¤ºå¯æ‰§è¡Œexecute</p>
</li>
<li>
<p>å¯¹äºæ–‡ä»¶æ¥è¯´</p>
<ul>
<li>
<p>rè¡¨ç¤ºå¯ä»¥è¯»å–æŸ¥çœ‹æ–‡ä»¶</p>
</li>
<li>
<p>wè¡¨ç¤ºå¯ä»¥ä¿®æ”¹ï¼Œä½†ä¸èƒ½åˆ é™¤æ–‡ä»¶ï¼Œåˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¿…é¡»æ‹¥æœ‰çˆ¶æ–‡ä»¶å¤¹çš„rwxæƒé™(å­˜åœ¨ä¸€ä¸ªç‰¹ä¾‹ï¼Œåœ¨æå‰çŸ¥é“ç›®å½•é‡Œçš„å…·ä½“å†…å®¹çš„æƒ…å†µä¸‹ï¼Œæ‰‹åŠ¨æŒ‡å®šå¯¹åº”çš„å®Œæ•´æ–‡ä»¶åè¿›è¡Œåˆ é™¤)</p>
</li>
<li>
<p>xè¡¨ç¤ºæ–‡ä»¶å¯æ‰§è¡Œ</p>
</li>
</ul>
</li>
<li>
<p>å¯¹äºç›®å½•æ¥è¯´</p>
<ul>
<li>rè¡¨ç¤ºå¯ä»¥è¯»å–ï¼ŒæŸ¥çœ‹ç›®å½•å†…å®¹</li>
<li>wè¡¨ç¤ºå¯ä¿®æ”¹ï¼Œ<strong>ç›®å½•å†…</strong>åˆ›å»º+åˆ é™¤+é‡å‘½åç›®å½•</li>
<li>xè¡¨ç¤ºå¯ä»¥è¿›å…¥è¯¥ç›®å½•</li>
</ul>
</li>
</ol>
<h5 id="åŸºæœ¬å‘½ä»¤-3"><a class="markdownIt-Anchor" href="#åŸºæœ¬å‘½ä»¤-3"></a> åŸºæœ¬å‘½ä»¤</h5>
<p><strong>chmodå‘½ä»¤</strong>ï¼šä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‚æ•°</span></span><br><span class="line"><span class="comment"># u:æ‰€æœ‰è€… g:ä½¿ç”¨ç»„ o:å…¶ä»–äºº a:æ‰€æœ‰äºº</span></span><br><span class="line"><span class="comment"># +:æ·»åŠ æƒé™ -:åˆ é™¤æƒé™ =:è®¾ç½®æƒé™</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">chmod</span> a=--- info.txt <span class="comment"># å–æ¶ˆæ‰€æœ‰äººå¯¹info.txtçš„rwxæƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> u=rwx,g=rw-,o=r info.txt</span><br><span class="line"><span class="built_in">chmod</span> g+x,o-r info.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡rwxæƒé™å¯¹åº”çš„æ•°å­—è®¾ç½®æƒé™</span></span><br><span class="line"><span class="comment"># r=4 w=2 x=1  rwx=4+2+1=7</span></span><br><span class="line"><span class="built_in">chmod</span> 611 info.txt</span><br></pre></td></tr></table></figure></div>
<h4 id="è¿›ç¨‹ç®¡ç†"><a class="markdownIt-Anchor" href="#è¿›ç¨‹ç®¡ç†"></a> è¿›ç¨‹ç®¡ç†</h4>
<p>åœ¨linuxä¸­ï¼Œæ¯ä¸ªæ‰§è¡Œçš„ç¨‹åºï¼ˆä»£ç ï¼‰éƒ½ç§°ä¸ºä¸€ä¸ªè¿›ç¨‹ã€‚æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½åˆ†é…ä¸€ä¸ª ID å·</p>
<p>æ¯ä¸€ä¸ªè¿›ç¨‹ï¼Œéƒ½ä¼šå¯¹åº”ä¸€ä¸ªçˆ¶è¿›ç¨‹ï¼Œè€Œè¿™ä¸ªçˆ¶è¿›ç¨‹å¯ä»¥å¤åˆ¶å¤šä¸ªå­è¿›ç¨‹</p>
<p>æ¯ä¸ªè¿›ç¨‹éƒ½å¯èƒ½ä»¥ä¸¤ç§æ–¹å¼å­˜åœ¨çš„ï¼šå‰å°ä¸åå°</p>
<p>ä¸€èˆ¬ç³»ç»Ÿçš„æœåŠ¡éƒ½æ˜¯ä»¥åå°è¿›ç¨‹çš„æ–¹å¼å­˜åœ¨ï¼Œè€Œä¸”éƒ½ä¼šå¸¸é©»åœ¨ç³»ç»Ÿä¸­ï¼Œç›´åˆ°å…³æœº</p>
<h5 id="fgå’Œbgå‘½ä»¤è¿›ç¨‹å‰åå°è°ƒåº¦å‘½ä»¤"><a class="markdownIt-Anchor" href="#fgå’Œbgå‘½ä»¤è¿›ç¨‹å‰åå°è°ƒåº¦å‘½ä»¤"></a> fgå’Œbgå‘½ä»¤ï¼šè¿›ç¨‹å‰åå°è°ƒåº¦å‘½ä»¤</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨å‰å°ç»“æŸä¸€ä¸ªè¿›ç¨‹</span></span><br><span class="line">Control+c</span><br><span class="line"><span class="comment"># åœ¨å‰å°æš‚åœä¸€ä¸ªè¿›ç¨‹</span></span><br><span class="line">Control+z</span><br><span class="line"><span class="comment"># æŸ¥çœ‹åå°æ‰§è¡Œè¿›ç¨‹çš„è¿›ç¨‹å·</span></span><br><span class="line"><span class="built_in">jobs</span></span><br><span class="line"><span class="comment"># è¿è¡Œå‘½ä»¤æ—¶ï¼Œåœ¨å‘½ä»¤æœ«å°¾åŠ ä¸Š&amp;å¯è®©å‘½ä»¤åœ¨åå°æ‰§è¡Œ</span></span><br><span class="line">&amp;</span><br><span class="line"><span class="comment"># å°†å‘½ä»¤è¿›ç¨‹å·ç ä¸ºNçš„å‘½ä»¤è¿›ç¨‹æ”¾åˆ°å‰å°æ‰§è¡Œ</span></span><br><span class="line"><span class="built_in">fg</span> N</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">%N</span><br><span class="line"><span class="comment"># å°†å‘½ä»¤è¿›ç¨‹å·ç ä¸ºNçš„å‘½ä»¤è¿›ç¨‹æ”¾åˆ°åå°æ‰§è¡Œ</span></span><br><span class="line"><span class="built_in">bg</span> N</span><br></pre></td></tr></table></figure></div>
<h5 id="pså‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹"><a class="markdownIt-Anchor" href="#pså‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹"></a> pså‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ps [å‚æ•°]</span></span><br><span class="line">ps -a <span class="comment"># æ˜¾ç¤ºå½“å‰ç»ˆç«¯çš„æ‰€æœ‰è¿›ç¨‹ä¿¡æ¯</span></span><br><span class="line">ps -u <span class="comment"># ä»¥ç”¨æˆ·çš„æ ¼å¼æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯</span></span><br><span class="line">ps -x <span class="comment"># æ˜¾ç¤ºåå°è¿›ç¨‹è¿è¡Œçš„å‚æ•°</span></span><br></pre></td></tr></table></figure></div>
<h5 id="killå‘½ä»¤ç»ˆæ­¢è¿›ç¨‹"><a class="markdownIt-Anchor" href="#killå‘½ä»¤ç»ˆæ­¢è¿›ç¨‹"></a> killå‘½ä»¤ç»ˆæ­¢è¿›ç¨‹</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># kill [å‚æ•°] è¿›ç¨‹å·PID</span></span><br><span class="line"><span class="comment"># å‚æ•°(åŸºæœ¬éƒ½ä½¿ç”¨9)</span></span><br><span class="line"><span class="comment"># 1:é‡æ–°åŠ è½½ 9:å¼ºåˆ¶åœæ­¢ 15:æ­£å¸¸åœæ­¢</span></span><br><span class="line"><span class="comment"># killå‘½ä»¤éœ€è¦ä¸pså‘½ä»¤é…åˆä½¿ç”¨</span></span><br><span class="line"><span class="built_in">kill</span> -9 9899 <span class="comment"># 9899æ˜¯é€šè¿‡psè·å–çš„PIDå·ï¼Œå¼ºåˆ¶åœæ­¢9899çš„è¿›ç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># killallå‘½ä»¤èƒ½ç»ˆæ­¢æŒ‡å®šåç§°çš„æ‰€æœ‰è¿›ç¨‹ï¼Œé€‚åˆç³»ç»Ÿè´Ÿè½½è¿‡å¤§æ—¶ä½¿ç”¨</span></span><br><span class="line"><span class="comment"># killall -9 è¿›ç¨‹åç§°</span></span><br></pre></td></tr></table></figure></div>
<h5 id="pstreeå‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯"><a class="markdownIt-Anchor" href="#pstreeå‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯"></a> pstreeå‘½ä»¤æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># pstree [å‚æ•°]</span></span><br><span class="line"><span class="comment"># pstreeç›¸å¯¹pså¯ä»¥æ›´ç›´è§‚åœ°æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯</span></span><br><span class="line">pstree -p <span class="comment"># é¢å¤–æ˜¾ç¤ºè¿›ç¨‹çš„PID</span></span><br><span class="line">pstree -u <span class="comment"># é¢å¤–æ˜¾ç¤ºè¿›ç¨‹çš„æ‰€å±ç”¨æˆ·</span></span><br></pre></td></tr></table></figure></div>
<h5 id="serviceå‘½ä»¤æ“ä½œè¿›ç¨‹åå°æœåŠ¡"><a class="markdownIt-Anchor" href="#serviceå‘½ä»¤æ“ä½œè¿›ç¨‹åå°æœåŠ¡"></a> serviceå‘½ä»¤æ“ä½œè¿›ç¨‹ï¼ˆåå°æœåŠ¡ï¼‰</h5>
<p>æœåŠ¡(service) æœ¬è´¨å°±æ˜¯è¿›ç¨‹ï¼Œä½†æ˜¯æ˜¯<strong>è¿è¡Œåœ¨åå°çš„ä¸€ä¸ªç‰¹æ®Šè¿›ç¨‹</strong>ã€‚è¿™ä¸ªç‰¹æ®Šè¿›ç¨‹é€šå¸¸éƒ½ä¼šç›‘å¬æŸä¸ªç«¯å£ç­‰å¾…å…¶å®ƒç¨‹åºçš„è¯·æ±‚ï¼Œæ¯”å¦‚(mysql , sshd é˜²ç«å¢™ç­‰)ã€‚å› æ­¤è¿™ä¸ªè¿›ç¨‹åˆç§°ä¸º<strong>å®ˆæŠ¤è¿›ç¨‹</strong>ã€‚</p>
<p><strong>telnetå‘½ä»¤</strong>å¯ä»¥ç”¨äºè¿œç¨‹ç™»å½•ä¸»æœºï¼Œä¹Ÿå¯ä»¥æµ‹è¯•æŸä¸ªç«¯å£</p>
<p><strong>æŸ¥çœ‹æœåŠ¡</strong></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">chkconfig --list | grep 8989 <span class="comment"># è¯¥å‘½ä»¤å·²è¢«å¼ƒç”¨</span></span><br></pre></td></tr></table></figure></div>
<p><strong>topå‘½ä»¤æŒç»­ç›‘å¬è¿è¡ŒçŠ¶æ€</strong></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># top [å‚æ•°]</span></span><br><span class="line"><span class="comment"># å‚æ•°</span></span><br><span class="line"><span class="comment"># -d ç§’æ•°:æŒ‡å®šæ¯éš”å‡ ç§’æ›´æ–°ï¼Œé»˜è®¤3ç§’</span></span><br><span class="line"><span class="comment"># -i:ä¸æ˜¾ç¤ºä»»ä½•é—²ç½®æˆ–åƒµæ­»è¿›ç¨‹</span></span><br><span class="line"><span class="comment"># -p è¿›ç¨‹PID:ç›‘æ§æŒ‡å®šçš„PIDçš„è¿›ç¨‹çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># topå‘½ä»¤ä¼šè¿›å…¥ä¸€ä¸ªäº¤äº’é¡µé¢ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ“ä½œè¿›è¡Œäº¤äº’</span></span><br><span class="line"><span class="comment"># P:ä»¥CPUä½¿ç”¨ç‡æ’åºï¼Œé»˜è®¤</span></span><br><span class="line"><span class="comment"># M:ä»¥å†…å­˜çš„ä½¿ç”¨ç‡æ’åº</span></span><br><span class="line"><span class="comment"># N:ä»¥PIDæ’åº</span></span><br><span class="line"><span class="comment"># q:é€€å‡ºtopäº¤äº’é¡µé¢</span></span><br></pre></td></tr></table></figure></div>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>linuxä¸‹çš„åå°è¿›ç¨‹ç®¡ç†</title>
    <url>/2023/04/20/managing-background-processes-in-linux/</url>
    <content><![CDATA[<p>åå°è¿›ç¨‹ç®¡ç†å¯¹äºä»»ä½•ä¸€ä¸ªæ“ä½œç³»ç»Ÿæ¥è¯´éƒ½æ˜¯éå¸¸é‡è¦çš„ï¼Œå®ƒä»¬åœ¨ç»´æŒæ“ä½œç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½è¿ä½œæ—¶ï¼Œè¿˜èƒ½è¿è¡Œæ›´å¤šç”¨æˆ·è‡ªå®šä¹‰çš„è¿›ç¨‹æœåŠ¡ã€‚<span id="more"></span></p>
<p>é€šè¿‡å¯¹åå°è¿›ç¨‹ç®¡ç†çš„å­¦ä¹ å¯ä»¥è¿›ä¸€æ­¥äº†è§£æ“ä½œç³»ç»Ÿçš„è¿ä½œæœºåˆ¶ä»¥åŠç³»ç»Ÿèµ„æºçš„åˆ†é…è°ƒåº¦ã€‚</p>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»å‡ ç§åœ¨<code>linux</code>ç³»ç»Ÿä¸‹é•¿æ—¶é—´è¿è¡Œåå°è¿›ç¨‹çš„æ–¹æ³•ã€‚å³ä½¿æ–­å¼€<code>	ssh</code>è¿æ¥æˆ–è€…æ˜¯å…³é—­ç»ˆç«¯åï¼Œä¾ç„¶èƒ½å¤Ÿä¿æŒåœ¨åå°è¿è¡Œã€‚</p>
<h2 id="nohup"><a class="markdownIt-Anchor" href="#nohup"></a> nohup</h2>
<h3 id="æ¦‚è¿°"><a class="markdownIt-Anchor" href="#æ¦‚è¿°"></a> æ¦‚è¿°</h3>
<p><code>nohup</code>å‘½ä»¤æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„é•¿æ—¶é—´è¿è¡Œåå°è¿›ç¨‹çš„å‘½ä»¤ï¼Œé€šå¸¸å®ƒå’Œ</p>
<p><code>&amp;</code>ç¬¦å·ä¸€èµ·ä½¿ç”¨ã€‚</p>
<p><code>nohup</code>å‘½ä»¤èƒ½å¤Ÿå¿½ç•¥<code>SIGHUP</code>ä¿¡å·çš„å½±å“ï¼Œåœ¨é€€å‡ºç»ˆç«¯ä¹‹åä¹Ÿèƒ½ä¿æŒè¿›ç¨‹è¿è¡Œã€‚(ä½†æ˜¯å¯ä»¥ç”¨<code>Ctrl+C</code>ç»ˆæ­¢ï¼Œå³ä¸å¿½ç•¥<code>SIGINT</code>ä¿¡å·)</p>
<p><code>&amp;</code>ç¬¦å·èƒ½å¤Ÿå¿½ç•¥<code>SIGINT</code>ä¿¡å·ï¼Œå¹¶è®©å‘½ä»¤å’Œè¿›ç¨‹åœ¨åå°è¿è¡Œï¼Œä¸åœ¨ç»ˆç«¯æ˜¾ç¤ºè¿›ç¨‹çš„è¾“å‡ºä¿¡æ¯ï¼Œè¾“å‡ºè¢«é‡å®šå‘åˆ°æŒ‡å®šçš„æ–‡ä»¶é‡Œï¼Œé»˜è®¤æ˜¯<code>nohup.out</code>æ–‡ä»¶ã€‚(ä½†æ˜¯éœ€è¦ä¿æŒç»ˆç«¯æ‰“å¼€ï¼Œé€€å‡ºç»ˆç«¯åä¼šç»ˆæ­¢)</p>
<p>å°†<code>nohup</code>å’Œ<code>&amp;</code>ç»“åˆä½¿ç”¨å°±èƒ½å¯é å®ç°é•¿æ—¶é—´åœ¨åå°è¿è¡Œã€‚</p>
<h3 id="åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#åŸºæœ¬ä½¿ç”¨"></a> åŸºæœ¬ä½¿ç”¨</h3>
<h4 id="è¿è¡Œ"><a class="markdownIt-Anchor" href="#è¿è¡Œ"></a> è¿è¡Œ</h4>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">nohup</span> <span class="built_in">command</span> &gt; ./out.file 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure></div>
<p><code>command</code>æ˜¯å…·ä½“è¦åœ¨åå°è¿è¡Œçš„å‘½ä»¤ã€‚</p>
<p><code>out.file</code>æ˜¯æŒ‡å®šçš„è¾“å‡ºæ–‡ä»¶è·¯å¾„å’Œæ–‡ä»¶åï¼Œå¦‚æœç¼ºçœåˆ™é»˜è®¤è¾“å‡ºåˆ°<code>nohup.out</code>æ–‡ä»¶ä¸­ã€‚</p>
<p><code>2&gt;&amp;1</code>è¡¨ç¤ºå°†æ ‡å‡†é”™è¯¯<code>2</code>é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º<code>&amp;1</code>ï¼Œæ ‡å‡†è¾“å‡º<code>&amp;1</code>å†è¢«é‡å®šå‘è¾“å…¥åˆ°è¾“å‡ºæ–‡ä»¶ä¸­ã€‚</p>
<p><code>&amp;</code>è¡¨ç¤ºåœ¨åå°è¿è¡Œã€‚</p>
<h4 id="ç»ˆæ­¢"><a class="markdownIt-Anchor" href="#ç»ˆæ­¢"></a> ç»ˆæ­¢</h4>
<p><code>nohup</code>+<code>&amp;</code>çš„è¿›ç¨‹å¯ä»¥é€šè¿‡<code>ps</code>å‘½ä»¤æœç´¢å…³é”®è¯å¾—åˆ°è¿›ç¨‹å·<code>pid</code>ï¼Œå†ç”¨<code>kill</code>å‘½ä»¤ç»ˆæ­¢ã€‚(ä¸€èˆ¬æ¥è¯´ï¼ŒæˆåŠŸæ‰§è¡Œ<code>nohup</code>åä¼šè¾“å‡º<code>pid</code>çš„ä¿¡æ¯)</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">ps -aux | grep [...]</span><br><span class="line"><span class="built_in">kill</span> -9 [pid]</span><br></pre></td></tr></table></figure></div>
<h3 id="å°ç»“"><a class="markdownIt-Anchor" href="#å°ç»“"></a> å°ç»“</h3>
<p><code>nohup</code>å‘½ä»¤æ˜¯<code>linux</code>è‡ªå¸¦çš„å‘½ä»¤ï¼Œå®ƒæä¾›äº†æœ€ç®€å•çš„é•¿æ—¶é—´è¿è¡Œåå°è¿›ç¨‹çš„æ–¹æ¡ˆï¼Œä½†æ˜¯åŠŸèƒ½ä¹Ÿç›¸å¯¹è¾ƒå°‘ï¼Œä¸è¶³ä»¥åº”ä»˜ä¸€äº›å¤æ‚çš„<strong>äº¤äº’æ€§</strong>çš„ä»»åŠ¡ï¼Œä¸€èˆ¬ç”¨äºä¸´æ—¶æ€§åœ°é•¿æ—¶é—´è¿è¡ŒæŸä¸ªå‘½ä»¤ã€‚åé¢ä»‹ç»çš„å‘½ä»¤åˆ™æä¾›äº†æ›´å¤šçš„åŠŸèƒ½ã€‚</p>
<h2 id="screen"><a class="markdownIt-Anchor" href="#screen"></a> screen</h2>
<h3 id="æ¦‚è¿°-2"><a class="markdownIt-Anchor" href="#æ¦‚è¿°-2"></a> æ¦‚è¿°</h3>
<p><code>screen</code>å‘½ä»¤(å…¨ç§°<code>GNU Screen</code>)ç”¨äºå¤šé‡è§†çª—ç®¡ç†ç¨‹åºï¼Œå¯ä»¥åœ¨ä¸åŒçš„ç»ˆç«¯è¿æ¥åˆ°åŒä¸€ä¸ª<strong>ä¼šè¯</strong>ï¼Œæ˜¯ä¸€ç§<strong>ç»ˆç«¯å¤šè·¯å¤ç”¨å™¨</strong>ã€‚<code>screen</code>çš„ä½¿ç”¨å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¿ç•™ä¼šè¯ï¼Œå¹¶è§£å†³äº†<code>nohup</code>åœ¨äº¤äº’æ€§ä»»åŠ¡ä¸Šçš„ä¸è¶³ã€‚</p>
<h3 id="åŸºæœ¬ä½¿ç”¨-2"><a class="markdownIt-Anchor" href="#åŸºæœ¬ä½¿ç”¨-2"></a> åŸºæœ¬ä½¿ç”¨</h3>
<h4 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h4>
<p><code>screen</code>å‘½ä»¤å¯èƒ½éœ€è¦å…ˆæ‰‹åŠ¨å®‰è£…</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Debian/Ubuntu</span></span><br><span class="line">sudo apt install screen</span><br></pre></td></tr></table></figure></div>
<h4 id="åˆ›å»º"><a class="markdownIt-Anchor" href="#åˆ›å»º"></a> åˆ›å»º</h4>
<p>åˆ›å»ºä¸€ä¸ªåä¸º<code>test</code>çš„è™šæ‹Ÿç»ˆç«¯(é»˜è®¤ç”¨<code>hostname</code>å‘½åï¼Œæ¨èè‡ªå®šä¹‰åç§°)</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">screen -S <span class="built_in">test</span></span><br></pre></td></tr></table></figure></div>
<p>æˆ–è€…ä½¿ç”¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">screen -R <span class="built_in">test</span></span><br></pre></td></tr></table></figure></div>
<p><code>-R</code>å‚æ•°ä¼šå…ˆè¯•å›¾æ¢å¤å·²ç»å­˜åœ¨çš„åä¸º<code>test</code>çš„è™šæ‹Ÿç»ˆç«¯ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™åˆ›å»ºæ–°çš„è™šæ‹Ÿç»ˆç«¯ã€‚</p>
<p>ä½¿ç”¨<code>-S</code>å‚æ•°å¯èƒ½ä¼šæœ‰é‡åçš„é—®é¢˜(<code>pid</code>ä¸ä¼šé‡å¤)ï¼Œå¦‚ä¸‹</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/04/20/managing-background-processes-in-linux/image-20230421000557507.png"
                      class="" title="image-20230421000557507"
                >
<h4 id="æ°´å¹³åˆ†å‰²"><a class="markdownIt-Anchor" href="#æ°´å¹³åˆ†å‰²"></a> æ°´å¹³åˆ†å‰²</h4>
<p>åœ¨<code>screen</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+a</code>ï¼Œå†è¾“å…¥<code>|</code>ï¼Œå°†å½“å‰çª—å£å·¦å³åˆ’åˆ†ã€‚</p>
<h4 id="å‚ç›´åˆ†å‰²"><a class="markdownIt-Anchor" href="#å‚ç›´åˆ†å‰²"></a> å‚ç›´åˆ†å‰²</h4>
<p>åœ¨<code>screen</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+a</code>ï¼Œå†è¾“å…¥<code>S</code>ï¼Œå°†å½“å‰çª—å£ä¸Šä¸‹åˆ’åˆ†ã€‚</p>
<blockquote>
<p>è¿™é‡Œçš„<code>S</code>å¿…é¡»å¤§å†™</p>
</blockquote>
<h4 id="çª—å£åˆ‡æ¢"><a class="markdownIt-Anchor" href="#çª—å£åˆ‡æ¢"></a> çª—å£åˆ‡æ¢</h4>
<p>åœ¨<code>screen</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+a</code>ï¼Œå†è¾“å…¥<code>Tab</code>ï¼Œåˆ‡æ¢ä¸åŒçš„çª—å£ã€‚</p>
<h4 id="é‡è¿ä¼šè¯"><a class="markdownIt-Anchor" href="#é‡è¿ä¼šè¯"></a> é‡è¿ä¼šè¯</h4>
<p>é‡æ–°è¿›å…¥è™šæ‹Ÿç»ˆç«¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">screen -r [name/pid]</span><br></pre></td></tr></table></figure></div>
<h4 id="é€€å‡º"><a class="markdownIt-Anchor" href="#é€€å‡º"></a> é€€å‡º</h4>
<p>åœ¨<code>screen</code>ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+a</code>ï¼Œå†è¾“å…¥<code>d</code>ä¼šä¿ç•™å¹¶é€€å‡ºè¯¥<code>screen</code>ã€‚</p>
<blockquote>
<p>æ³¨æ„è¾“å…¥çš„é¡ºåºï¼Œå¦åˆ™ä¼šè¯¯åˆ screen</p>
</blockquote>
<h4 id="æŸ¥è¯¢"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢"></a> æŸ¥è¯¢</h4>
<p>åˆ—å‡ºæ‰€æœ‰<code>screen</code>åˆ›å»ºçš„è™šæ‹Ÿç»ˆç«¯ä»¥åŠå…¶çŠ¶æ€</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">screen -<span class="built_in">ls</span></span><br></pre></td></tr></table></figure></div>
<p>æˆ–è€…åœ¨<code>screen</code>è™šæ‹Ÿç»ˆç«¯ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+a</code>ï¼Œå†è¾“å…¥<code>&quot;</code>å³å¯æŸ¥è¯¢ã€‚</p>
<p>è™šæ‹Ÿç»ˆç«¯å…·æœ‰ä¸¤ç§çŠ¶æ€</p>
<ul>
<li>Attachedï¼šæ¿€æ´»çŠ¶æ€ï¼Œè¡¨ç¤ºè¯¥<code>screen</code>æ­£åœ¨ä½œä¸ºå½“å‰ç»ˆç«¯ä½¿ç”¨ã€‚</li>
<li>Detachedï¼šéæ¿€æ´»çŠ¶æ€ï¼Œè¡¨ç¤ºè¯¥<code>screen</code>æ­£åœ¨ä½œä¸ºåå°è¿›ç¨‹è¿è¡Œã€‚</li>
</ul>
<h4 id="ç»ˆæ­¢-2"><a class="markdownIt-Anchor" href="#ç»ˆæ­¢-2"></a> ç»ˆæ­¢</h4>
<p>åœ¨è¿›ç¨‹å¤„ç†å®Œæ¯•åï¼Œå·²ç»ä¸éœ€è¦è™šæ‹Ÿç»ˆç«¯äº†ï¼Œå°±å¯ä»¥é‡Šæ”¾èµ„æºã€‚</p>
<p>åœ¨å¯¹åº”çš„è™šæ‹Ÿç»ˆç«¯ä¸‹æ—¶ï¼Œå¯ä»¥ç”¨<code>exit</code>å‘½ä»¤é€€å‡ºå¹¶é‡Šæ”¾èµ„æºã€‚(æ¨èä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå› ä¸ºèƒ½å¤Ÿç›´æ¥ç¡®è®¤å½“å‰ç»ˆç«¯æ˜¯å¦å¤„ç†å®Œè¿›ç¨‹)</p>
<blockquote>
<p>tipsï¼šåœ¨<code>screen</code>ä¸­ï¼Œè¾“å…¥<code>Ctrl+d</code>ä¹Ÿå¯ä»¥é‡Šæ”¾è¯¥<code>screen</code>ã€‚</p>
</blockquote>
<p>åœ¨ä¸»ç»ˆç«¯ä¸‹ï¼Œå¦‚æœç¡®å®šæŸä¸ªè™šæ‹Ÿç»ˆç«¯å¯ä»¥ç»ˆæ­¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é‡Šæ”¾</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">screen -R/-r/-S [name/pid] -X quit</span><br></pre></td></tr></table></figure></div>
<p>æ›´å¤šä¿¡æ¯å‚è€ƒ<a href="https://www.mintimate.cn/2021/09/02/howToUseScreen/"> <strong>é›¨æœˆç©ºé—´ç«™</strong> </a></p>
<h3 id="å°ç»“-2"><a class="markdownIt-Anchor" href="#å°ç»“-2"></a> å°ç»“</h3>
<p><code>screen</code>è™½ç„¶è§£å†³äº†<code>nohup</code>å­˜åœ¨çš„å±€é™æ€§ï¼Œä½†æ˜¯åŠŸèƒ½ç›¸å¯¹åé¢çš„<code>tmux</code>è¿˜æ˜¯ç¨å¾®æ¬ ç¼ºï¼Œä¸è¿‡åŸºæœ¬èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†æ—¥å¸¸ä½¿ç”¨ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªèº«çš„éœ€æ±‚å’Œä¹ æƒ¯æ¥é€‰æ‹©<code>GNU</code>çš„<code>screen</code>æˆ–è€…æ˜¯æ›´åŠ ç°ä»£åŒ–çš„<code>tmux</code>ã€‚</p>
<h2 id="tmux"><a class="markdownIt-Anchor" href="#tmux"></a> tmux</h2>
<h3 id="æ¦‚è¿°-3"><a class="markdownIt-Anchor" href="#æ¦‚è¿°-3"></a> æ¦‚è¿°</h3>
<p><code>tmux</code>æ˜¯ä¸€ä¸ªç±»ä¼¼äº<code>screen</code>çš„ç»ˆç«¯å¤ç”¨å™¨ï¼Œæ€»ä½“åŠŸèƒ½ä¸Šæ¯”<code>screen</code>æ›´åŠ ä¸°å¯Œï¼Œä¸”é£æ ¼æ›´åŠ ç°ä»£åŒ–ã€‚</p>
<p><code>tmux</code>å…·æœ‰ä¼šè¯(session)ã€çª—å£(window)ã€çª—æ ¼(pane)çš„ä¸‰å±‚ç»“æ„ã€‚ä¼šè¯æ˜¯æ‰€æœ‰è™šæ‹Ÿç»ˆç«¯çš„é›†åˆï¼Œçª—å£æ˜¯æ•´ä¸ªå±å¹•ï¼Œçª—æ ¼æ˜¯å„ä¸ªè™šæ‹Ÿç»ˆç«¯ã€‚ä¸€ä¸ªä¼šè¯å¯ä»¥åˆ›å»ºå¤šä¸ªçª—å£ï¼Œä¸€ä¸ªçª—å£å¯ä»¥åˆ›å»ºå¤šä¸ªçª—æ ¼ã€‚</p>
<h3 id="åŸºæœ¬ä½¿ç”¨-3"><a class="markdownIt-Anchor" href="#åŸºæœ¬ä½¿ç”¨-3"></a> åŸºæœ¬ä½¿ç”¨</h3>
<h4 id="å®‰è£…-2"><a class="markdownIt-Anchor" href="#å®‰è£…-2"></a> å®‰è£…</h4>
<p><code>tmux</code>çš„å®‰è£…</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install tmux</span><br></pre></td></tr></table></figure></div>
<h4 id="åˆ›å»ºä¼šè¯"><a class="markdownIt-Anchor" href="#åˆ›å»ºä¼šè¯"></a> åˆ›å»ºä¼šè¯</h4>
<p>åˆ›å»ºä¼šè¯session</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">tmux</span><br></pre></td></tr></table></figure></div>
<p>åœ¨tmuxåˆ›å»ºçš„ä¼šè¯åº•éƒ¨ä¼šæœ‰ä¸€æ¡çŠ¶æ€æ ï¼Œè¡¨ç¤ºäº†å½“å‰çš„<code>session name</code>ï¼Œ<code>session number</code>ï¼Œshellçš„ç±»å‹ä»¥åŠ<code>hostname</code>ç­‰ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªåä¸º<code>test</code>çš„ä¼šè¯session</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">tmux new-session -s <span class="built_in">test</span></span><br><span class="line">tmux new -s <span class="built_in">test</span> <span class="comment"># ç®€å†™æ ¼å¼</span></span><br></pre></td></tr></table></figure></div>
<p>ä¼šè¯ç®¡ç†ï¼šåœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>s</code>ï¼Œå¯ä»¥æŸ¥çœ‹å¹¶ç®¡ç†æ‰€æœ‰ä¼šè¯ã€‚</p>
<h4 id="çª—å£åˆ†å‰²"><a class="markdownIt-Anchor" href="#çª—å£åˆ†å‰²"></a> çª—å£åˆ†å‰²</h4>
<p>åœ¨ä¸€ä¸ª<code>tmux</code>çš„ä¼šè¯ä¸­å¯ä»¥åˆ†å‰²å‡ºå¤šä¸ªçª—å£</p>
<p><strong>æ°´å¹³åˆ†å‰²</strong></p>
<p>åœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>%</code>ï¼Œå°†çª—å£å·¦å³åˆ’åˆ†ã€‚</p>
<p><strong>å‚ç›´åˆ†å‰²</strong></p>
<p>åœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>&quot;</code>ï¼Œå°†çª—å£ä¸Šä¸‹åˆ’åˆ†ã€‚</p>
<h4 id="å¤šçª—æ ¼ç®¡ç†"><a class="markdownIt-Anchor" href="#å¤šçª—æ ¼ç®¡ç†"></a> å¤šçª—æ ¼ç®¡ç†</h4>
<p><strong>ç¼–å·å±•ç¤º</strong></p>
<p>åœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>q</code>ï¼Œå¯ä»¥çŸ¥é“çª—æ ¼åˆ›å»ºçš„å…ˆåé¡ºåºã€‚</p>
<p><strong>çª—æ ¼åˆ‡æ¢</strong></p>
<p>åœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>;</code>ï¼Œåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªçª—æ ¼ï¼›</p>
<p>å…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>o</code>ï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—æ ¼ã€‚</p>
<p><strong>çª—æ ¼å…³é—­</strong></p>
<p>åœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>x</code>ï¼Œå¯ä»¥å…³é—­å½“å‰é€‰ä¸­çš„çª—æ ¼ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨<code>Ctrl+d</code>æˆ–è€…<code>exit</code>å‘½ä»¤ï¼Œç›´æ¥é€€å‡ºçª—æ ¼ã€‚</p>
<h4 id="å¤šçª—å£ç®¡ç†"><a class="markdownIt-Anchor" href="#å¤šçª—å£ç®¡ç†"></a> å¤šçª—å£ç®¡ç†</h4>
<p><strong>åˆ›å»ºçª—å£</strong></p>
<p>åœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>c</code>ï¼Œå¯ä»¥åˆ›å»ºæ–°çš„çª—å£ï¼Œæ–°çª—å£ä¼šè¦†ç›–å½“å‰çª—å£ï¼ŒåŒæ—¶åº•éƒ¨çŠ¶æ€æ ä¼šå¤šå‡ºä¸€ä¸ªshellçš„ä¿¡æ¯ã€‚</p>
<p><strong>åˆ‡æ¢çª—å£</strong></p>
<p>åœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>p</code>ï¼Œåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªçª—å£ï¼›</p>
<p>å…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>n</code>ï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—å£ï¼›</p>
<p>å…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>w</code>ï¼Œå¯ä»¥åœ¨åˆ—è¡¨ä¸­é€‰æ‹©çª—å£ã€‚</p>
<p>æ›´å¤šå¿«æ·é”®å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/137715607" >Tmuxçš„å¸¸ç”¨å¿«æ·é”® | çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="æŸ¥è¯¢ä¼šè¯"><a class="markdownIt-Anchor" href="#æŸ¥è¯¢ä¼šè¯"></a> æŸ¥è¯¢ä¼šè¯</h4>
<p>åˆ—å‡ºæ‰€æœ‰å·²åˆ›å»ºçš„<code>tmux</code></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">tmux <span class="built_in">ls</span></span><br></pre></td></tr></table></figure></div>
<blockquote>
<p>tipsï¼šä¹Ÿå¯ä»¥ç”¨å‰é¢æåˆ°çš„æ–¹æ³•ï¼Œåœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>s</code>ï¼Œä¹Ÿå¯ä»¥æŸ¥è¯¢å·²åˆ›å»ºçš„<code>tmux</code></p>
</blockquote>
<h4 id="è„±ç¦»ä¼šè¯"><a class="markdownIt-Anchor" href="#è„±ç¦»ä¼šè¯"></a> è„±ç¦»ä¼šè¯</h4>
<p>åœ¨<code>tmux</code>çª—å£ä¸­ï¼Œå…ˆè¾“å…¥<code>Ctrl+b</code>ï¼Œå†è¾“å…¥<code>d</code>ï¼Œæˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">tmux detach</span><br></pre></td></tr></table></figure></div>
<p>å°±èƒ½ä¿å­˜ä¼šè¯å¹¶è„±ç¦»ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœè¾“å…¥çš„æ˜¯<code>Ctrl+d</code>ï¼Œåˆ™ä¼šç›´æ¥åˆ é™¤ä¼šè¯ã€‚</p>
</blockquote>
<h4 id="é‡è¿ä¼šè¯-2"><a class="markdownIt-Anchor" href="#é‡è¿ä¼šè¯-2"></a> é‡è¿ä¼šè¯</h4>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">tmux attach -t [session-name]</span><br><span class="line">tmux a -t [session-name] <span class="comment"># ç®€å†™æ ¼å¼</span></span><br></pre></td></tr></table></figure></div>
<h4 id="åˆ é™¤ä¼šè¯"><a class="markdownIt-Anchor" href="#åˆ é™¤ä¼šè¯"></a> åˆ é™¤ä¼šè¯</h4>
<p>åœ¨ä¸»ç»ˆç«¯ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">tmux kill-session -t [session-name]</span><br></pre></td></tr></table></figure></div>
<p>æˆ–è€…åœ¨tmuxçª—å£ä¸­ï¼Œè¾“å…¥<code>Ctrl+d</code>ï¼Œå³å¯å°†ä¼šè¯åˆ é™¤ã€‚</p>
<h3 id="å°ç»“-3"><a class="markdownIt-Anchor" href="#å°ç»“-3"></a> å°ç»“</h3>
<p><code>tmux</code>æ‹¥æœ‰æ¯”<code>screen</code>æ›´åŠ å‹å¥½çš„ä¿¡æ¯æç¤ºï¼Œäº¤äº’ä½“éªŒæ›´åŠ å¥½ã€‚<code>tmux</code>ä¹ŸåŸºæœ¬æ»¡è¶³äº†æ—¥å¸¸ä½¿ç”¨éœ€æ±‚ï¼Œæ˜¯é€‚åˆå¹¿å¤§ç”¨æˆ·çš„é€‰æ‹©ã€‚</p>
<blockquote>
<p>ä¸è¿‡ï¼Œå¦‚æœä¹ æƒ¯äº†<code>screen</code>çš„å¿«æ·é”®æ“ä½œç­‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>screen</code>ï¼ŒåŒæ ·å¯ä»¥å¾ˆå¥½åœ°æ»¡è¶³éœ€æ±‚ï¼Œè€Œä¸å¿…åœ¨å¤šä¸ªå·¥å…·é—´åˆ‡æ¢ã€‚</p>
<p>å¦å¤–ï¼Œä¸å»ºè®®åŒæ—¶ä½¿ç”¨<code>screen</code>å’Œ<code>tmux</code>ç®¡ç†åå°è¿›ç¨‹ï¼Œä¸€æ–¹é¢ï¼Œå®ƒä»¬çš„æ“ä½œæ–¹å¼ä¸åŒï¼Œå¦ä¸€æ–¹é¢ï¼Œå®ƒä»¬åœ¨ç®¡ç†åå°è¿›ç¨‹æ—¶å¯èƒ½ä¼šå†²çªã€‚</p>
</blockquote>
<p>å…³äº<code>tmux</code>æ›´å¤šçš„æŠ€å·§æ“ä½œå¯ä»¥å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/414295937" >ä½ éœ€è¦çŸ¥é“çš„tmuxä½¿ç”¨æŠ€å·§ | çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>ä»¥åŠå¯¹<code>tmux</code>çš„ç¾åŒ–é…ç½®å¯ä»¥å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/122277982" >æ¨èç¥å™¨Tmuxå’Œå·¨å¥½çœ‹çš„é…ç½®æ–‡ä»¶ | çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h2 id="byobu"><a class="markdownIt-Anchor" href="#byobu"></a> byobu</h2>
<h3 id="æ¦‚è¿°-4"><a class="markdownIt-Anchor" href="#æ¦‚è¿°-4"></a> æ¦‚è¿°</h3>
<p><code>byobu</code>æ˜¯åŸºäº<code>screen</code>å’Œ<code>tmux</code>çš„ç»ˆç«¯å¤šè·¯å¤ç”¨å™¨åŒ…è£…å™¨ï¼Œå®ƒé€šå¸¸å’Œ<code>screen</code>æˆ–<code>tmux</code>ç»„åˆä½¿ç”¨ï¼Œåœ¨<code>screen</code>æˆ–<code>tmux</code>çš„åŸºç¡€ä¸Šæä¾›æ›´å¤šçš„åŠŸèƒ½æ”¯æŒã€‚å®ƒæœ¬èº«æ— æ³•ç‹¬ç«‹å®ç°<code>screen</code>å’Œ<code>tmux</code>çš„åŠŸèƒ½ã€‚</p>
<blockquote>
<p><code>byobu</code>æ—©æœŸæ˜¯ä¸º<code>screen</code>å¼€å‘çš„å‰ç«¯åŒ…è£…å™¨ï¼Œé»˜è®¤ä½¿ç”¨<code>screen</code>ä½œä¸ºåç«¯ï¼Œç›®çš„æ˜¯é™ä½é…ç½®å’Œæ“ä½œæˆæœ¬ã€‚</p>
<p>ç°åœ¨çš„<code>byobu</code>é»˜è®¤ä½¿ç”¨<code>tmux</code>åç«¯ï¼Œç›¸å½“äº<code>tmux</code>çš„å¢å¼ºç‰ˆï¼Œä¹ æƒ¯<code>screen</code>çš„ç”¨æˆ·ä¹Ÿå¯ä»¥æ‰‹åŠ¨é…ç½®<code>byobu</code>ä½¿ç”¨<code>screen</code>åç«¯ã€‚</p>
</blockquote>
<h3 id="åŸºæœ¬ä½¿ç”¨-4"><a class="markdownIt-Anchor" href="#åŸºæœ¬ä½¿ç”¨-4"></a> åŸºæœ¬ä½¿ç”¨</h3>
<p><code>byobu</code>å¯ä»¥ç›´æ¥å¥—ç”¨å…¶åç«¯çš„å‘½ä»¤æ ¼å¼ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯<code>tmux</code>åç«¯ï¼Œåªéœ€è¦åœ¨<code>tmux</code>å‘½ä»¤çš„åŸºç¡€ä¸ŠæŠŠ<code>tmux</code>æ¢æˆ<code>byobu</code>å³å¯ï¼Œ<code>screen</code>åŒç†ã€‚</p>
<blockquote>
<p>å®é™…ä¸Šï¼Œä½¿ç”¨<code>byobu</code>çš„åŠŸèƒ½ä¸»è¦æ˜¯é€šè¿‡å„ç§å¿«æ·é”®ã€‚</p>
</blockquote>
<h4 id="å®‰è£…-3"><a class="markdownIt-Anchor" href="#å®‰è£…-3"></a> å®‰è£…</h4>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install byobu</span><br></pre></td></tr></table></figure></div>
<h4 id="æ“ä½œ"><a class="markdownIt-Anchor" href="#æ“ä½œ"></a> æ“ä½œ</h4>
<p><code>byobu</code>çš„å‘½ä»¤å¯ä»¥ç›´æ¥å¥—ç”¨å…¶åç«¯çš„å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å…¶åç«¯çš„å¿«æ·é”®æ“ä½œã€‚</p>
<p>ä»¥ä¸‹æ˜¯åŸºäº<code>tmux</code>åç«¯çš„å‡ ä¸ªå‘½ä»¤ç¤ºä¾‹ï¼Œç›´æ¥å¥—ç”¨<code>tmux</code>çš„å‘½ä»¤æ ¼å¼å³å¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¼šè¯</span></span><br><span class="line">byobu new -s <span class="built_in">test</span></span><br><span class="line"><span class="comment"># æŸ¥è¯¢ä¼šè¯</span></span><br><span class="line">byobu <span class="built_in">ls</span></span><br><span class="line"><span class="comment"># è„±ç¦»ä¼šè¯</span></span><br><span class="line">byobu detach</span><br><span class="line"><span class="comment"># é‡è¿ä¼šè¯</span></span><br><span class="line">byobu a -t <span class="built_in">test</span></span><br><span class="line"><span class="comment"># åˆ é™¤ä¼šè¯</span></span><br><span class="line">byobu kill-session -t <span class="built_in">test</span></span><br></pre></td></tr></table></figure></div>
<blockquote>
<p>å¿«æ·é”®æ“ä½œå¯å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/113680062" >byobuå¸¸ç”¨å¿«æ·é”® | çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œé‡Œé¢æ˜¯ä»¥<code>screen</code>ä¸ºåç«¯çš„ä¾‹å­</p>
<p>æ³¨æ„ï¼š<code>screen</code>çš„å‰ç½®å¿«æ·é”®æ˜¯<code>Ctrl+a</code>ï¼Œ<code>tmux</code>çš„å‰ç½®å¿«æ·é”®æ˜¯<code>Ctrl+b</code></p>
</blockquote>
<h3 id="è¡¥å……"><a class="markdownIt-Anchor" href="#è¡¥å……"></a> è¡¥å……</h3>
<p><code>byobu</code>çš„é»˜è®¤é…ç½®å’Œ<code>tmux</code>å¾ˆç›¸ä¼¼ï¼Œä¸€å¼€å§‹çœ‹ä¸å‡ºæ˜æ˜¾çš„åŒºåˆ«ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®<code>byobu</code>ã€‚</p>
<h2 id="å…¶ä»–"><a class="markdownIt-Anchor" href="#å…¶ä»–"></a> å…¶ä»–</h2>
<p>è¿™éƒ¨åˆ†æ–¹æ¡ˆé€‚ç”¨äºæœ‰ç‰¹å®šéœ€æ±‚çš„å¼€å‘è€…ã€‚ç½‘ç«™å¼€å‘è€…ï¼Œæ¸¸æˆæœåŠ¡å™¨å¼€å‘è€…æˆ–è€…æ˜¯æ·±åº¦å­¦ä¹ å¼€å‘è€…ç­‰å¤§å‹é¡¹ç›®å¼€å‘è€…ï¼Œ<code>screen</code>å’Œ<code>tmux</code>ä¸é€‚åˆç®¡ç†è¿™äº›å¤§é¡¹ç›®ï¼Œå› ä¸ºå®ƒä»¬ä¸å…·æœ‰å› ç¨‹åºå´©æºƒæˆ–æ„å¤–ç»ˆæ­¢è€Œ<strong>è‡ªåŠ¨é‡å¯</strong>çš„åŠŸèƒ½åŠå…¶ä»–çš„ä¸€äº›é«˜çº§åŠŸèƒ½ã€‚</p>
<h3 id="systemd"><a class="markdownIt-Anchor" href="#systemd"></a> systemd</h3>
<p><code>systemd</code>æ˜¯å¤§éƒ¨åˆ†ä¸»æµ<code>linux</code>ç³»ç»Ÿçš„é»˜è®¤åˆå§‹åŒ–ç³»ç»Ÿï¼Œå®ƒé€šè¿‡<code>systemctl</code>è¿™ä¸ªå‘½ä»¤æ¥æ§åˆ¶ï¼Œå…·æœ‰<code>screen</code>å’Œ<code>tmux</code>æ‰€ä¸å…·å¤‡çš„é«˜çº§åŠŸèƒ½ã€‚</p>
<p>ä½†æ˜¯<code>systemd</code>ä¸ç³»ç»Ÿè€¦åˆåº¦è¾ƒé«˜ï¼Œè€Œä¸”å…¶è‡ªå®šä¹‰é…ç½®<strong>éœ€è¦å…·å¤‡ä¸€å®šçš„ä¸“ä¸šçŸ¥è¯†</strong>ï¼Œé€šå¸¸ä¸€èˆ¬çš„ç”¨æˆ·å¾ˆå°‘ä½¿ç”¨<code>systemd</code>æ¥ä½œä¸ºé¦–é€‰æ–¹æ¡ˆã€‚</p>
<blockquote>
<p>è¿™é‡ŒæŒ‡çš„æ˜¯é…ç½®<code>systemd</code>ç®¡ç†ç”¨æˆ·è‡ªå®šä¹‰çš„ç¨‹åºï¼Œä¸æ˜¯æŒ‡ä½¿ç”¨<code>systemd</code>ï¼Œ<code>systemd</code>åœ¨æ—¥å¸¸ç”Ÿæ´»å°±å·²ç»å¾ˆé¢‘ç¹åœ°åœ¨ä½¿ç”¨äº†ã€‚</p>
</blockquote>
<p>ä¸è¿‡ï¼Œæœ‰å¾ˆå¤šä¸“ä¸šè½¯ä»¶ç¨‹åºéƒ½æœ‰å¯¹<code>systemd</code>çš„æ”¯æŒï¼Œä¾‹å¦‚<code>mysql</code>ã€<code>nginx</code>ã€<code>NetworkManager</code>ç­‰ï¼Œå¯¹äºç‰¹å®šçš„<code>linux</code>ç³»ç»Ÿå¼€å‘è€…æ¥è¯´ã€‚</p>
<h3 id="supervisor"><a class="markdownIt-Anchor" href="#supervisor"></a> supervisor</h3>
<p><code>supervisor</code>æ˜¯ä¸€ä¸ªä¸“æ³¨åå°è¿›ç¨‹ç®¡ç†çš„ç¨‹åºï¼Œå®ƒä½¿ç”¨<code>supervisorctl</code>å‘½ä»¤æ¥æ§åˆ¶ï¼Œå¯ä»¥è®©å¼€å‘äººå‘˜æ–¹ä¾¿åœ°ç®¡ç†å’Œç›‘æ§è¿›ç¨‹ï¼Œå®ƒåŸºäº<code>python</code>å¼€å‘ï¼Œæ˜¯å¼€å‘è€…å¿«é€Ÿç®¡ç†é¡¹ç›®çš„ä¸€å¥—ç®€å•æ˜“ç”¨çš„æ–¹æ¡ˆï¼Œä¸éœ€è¦è€ƒè™‘è¿‡é«˜çš„ç³»ç»Ÿè€¦åˆæ€§é—®é¢˜ã€‚</p>
<blockquote>
<p>æœ‰ä¸€éƒ¨åˆ†<code>linux</code>å‘è¡Œç‰ˆå¹¶ä¸æ˜¯ä½¿ç”¨<code>systemd</code>ä½œä¸ºåˆå§‹åŒ–ç³»ç»Ÿ(å°½ç®¡å¤§å¤šæ•°å‘è¡Œç‰ˆéƒ½åœ¨æ”¯æŒ<code>systemd</code>)ï¼Œè¿™éƒ¨åˆ†çš„ç³»ç»Ÿå°±æ— æ³•ä½¿ç”¨<code>systemd</code>çš„æ–¹æ¡ˆã€‚å› æ­¤ï¼Œ<code>supervisor</code>å¯èƒ½ä¼šæ˜¯ä¸€ç§æ–¹æ¡ˆã€‚</p>
</blockquote>
<p>ç›¸å…³ä½¿ç”¨å’Œé…ç½®å¯ä»¥å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/147305277" >Linuxè¿›ç¨‹ç®¡ç†å·¥å…· Supervisorè¯¦è§£ | çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<p><a class="link"   href="https://cloud.tencent.com/developer/article/1763384" >Linuxï¼šNohupå‘½ä»¤è¯¦è§£ ï½œ è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.runoob.com/linux/linux-comm-nohup.html" >linux nohupå‘½ä»¤ | èœé¸Ÿæ•™ç¨‹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a href="https://www.mintimate.cn/2021/09/02/howToUseScreen/">Linuxç»ˆç«¯å‘½ä»¤ç¥å™¨â€“Screenå‘½ä»¤è¯¦è§£ | <strong>é›¨æœˆç©ºé—´ç«™</strong></a></p>
<p><a href="https://qianxu.run/2021/03/28/tmux-vs-screen/">tmux vs screen | <strong>qxdn çš„ä¹å›­</strong></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/122277982" >æ¨èç¥å™¨Tmuxå’Œå·¨å¥½çœ‹çš„é…ç½®æ–‡ä»¶ | çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/414295937" >ä½ éœ€è¦çŸ¥é“çš„tmuxä½¿ç”¨æŠ€å·§ | çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://cloud.tencent.com/developer/article/1526675" >å¯èƒ½æ˜¯ä¸œåŠçƒæœ€å…¨é¢æ˜“æ‡‚çš„ Tmux ä½¿ç”¨æ•™ç¨‹ï¼( å¼ºçƒˆå»ºè®®æ”¶è— ) | è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/147305277" >Linuxè¿›ç¨‹ç®¡ç†å·¥å…· Supervisorè¯¦è§£ | çŸ¥ä¹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>åå°ç®¡ç†</tag>
        <tag>screen</tag>
        <tag>tmux</tag>
        <tag>byobu</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€äº›ç°ä»£åŒ–çš„linuxå‘½ä»¤</title>
    <url>/2023/07/24/modern-linux-commands/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸€äº›ç°ä»£åŒ–çš„linuxåŸºç¡€å‘½ä»¤ã€‚å¯¹æ¯”ä¼ ç»Ÿçš„å‘½ä»¤ï¼Œå®ƒä»¬åœ¨å®ç°äº†åŸæœ‰åŠŸèƒ½çš„åŸºç¡€ä¸Šæˆ–å¤šæˆ–å°‘æœ‰ä¸€äº›ä¸åŒäºä¼ ç»Ÿå‘½ä»¤çš„ç‰¹æ€§ã€‚<span id="more"></span>ä¸è¿‡ï¼Œæ— è®ºæ˜¯ä¼ ç»Ÿå‘½ä»¤è¿˜æ˜¯ç°ä»£åŒ–å‘½ä»¤ï¼Œæˆ–è€…æ˜¯å›¾å½¢åŒ–æ“ä½œï¼Œå…¶æœ€ç»ˆç›®çš„éƒ½æ˜¯ä¸ºäº†æ›´å¥½åœ°å®Œæˆä»»åŠ¡ã€‚è¯·ä¸è¦æœ¬æœ«å€’ç½®ã€‚</p>
<h3 id="æ–‡ä»¶-æ–‡æœ¬ç›¸å…³"><a class="markdownIt-Anchor" href="#æ–‡ä»¶-æ–‡æœ¬ç›¸å…³"></a> æ–‡ä»¶ã€æ–‡æœ¬ç›¸å…³</h3>
<h4 id="æ–‡ä»¶å†…å®¹æŸ¥çœ‹"><a class="markdownIt-Anchor" href="#æ–‡ä»¶å†…å®¹æŸ¥çœ‹"></a> æ–‡ä»¶å†…å®¹æŸ¥çœ‹</h4>
<p><code>cat</code>å‘½ä»¤çš„ç°ä»£åŒ–å®ç°<code>bat</code>å‘½ä»¤ã€‚<code>bat</code>å‘½ä»¤åœ¨<code>cat</code>å‘½ä»¤çš„åŸºç¡€ä¸ŠåŠ å…¥äº†<strong>è¡Œå·æ˜¾ç¤ºã€ä»£ç é«˜äº®å’ŒGité›†æˆ</strong>ã€‚</p>
<h4 id="æ–‡ä»¶æŸ¥æ‰¾"><a class="markdownIt-Anchor" href="#æ–‡ä»¶æŸ¥æ‰¾"></a> æ–‡ä»¶æŸ¥æ‰¾</h4>
<p><code>find</code>å‘½ä»¤çš„ç°ä»£åŒ–å®ç°<code>fd</code>å‘½ä»¤ã€‚<code>fd</code>å‘½ä»¤å¹¶ä¸æ˜¯ä¸ºäº†å–ä»£ä¼ ç»Ÿçš„<code>find</code>å‘½ä»¤ï¼Œ<code>fd</code>å‘½ä»¤ä¸»è¦æ˜¯å®ç°äº†<code>find</code>å¤§å¤šæ•°å¸¸ç”¨çš„ç”¨æ³•ï¼Œå¹¶ä¸å…·æœ‰<code>find</code>å‘½ä»¤æ‰€æœ‰å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†æ˜¯é€šå¸¸<code>fd</code>å‘½ä»¤çš„é€Ÿåº¦è¦å¿«äº<code>find</code>å‘½ä»¤ã€‚</p>
<h4 id="æ–‡æœ¬å†…å®¹æœç´¢"><a class="markdownIt-Anchor" href="#æ–‡æœ¬å†…å®¹æœç´¢"></a> æ–‡æœ¬å†…å®¹æœç´¢</h4>
<p><code>grep</code>å‘½ä»¤çš„ç°ä»£åŒ–å®ç°<code>ack</code>å‘½ä»¤ã€‚<code>ack</code>å‘½ä»¤çš„é€Ÿåº¦ä¹Ÿé€šå¸¸å¿«äº<code>grep</code>å‘½ä»¤ï¼ŒåŸºäº<code>ack</code>å‘½ä»¤åˆæ´¾ç”Ÿäº†<code>ag</code>å‘½ä»¤ã€‚<code>grep</code>å‘½ä»¤å’Œ<code>ack</code>å‘½ä»¤çš„æœç´¢æ–¹å¼ä¸åŒï¼Œ<code>grep</code>åªä¼šåœ¨æŒ‡å®šè·¯å¾„çš„æ‰€æœ‰æ–‡ä»¶ä¸Šæœç´¢å†…å®¹ï¼Œè€Œ<code>ack</code>åˆ™é‡‡å–æ›´åŠ æ™ºèƒ½çš„æœç´¢æ–¹å¼ã€‚<code>ripgrep</code>çš„<code>rg</code>å‘½ä»¤åˆ™ç»“åˆäº†<code>grep</code>å’Œ<code>ack</code>ï¼Œèƒ½å¤Ÿè‡ªåŠ¨é€‰æ‹©æœ€ä½³æœç´¢ç­–ç•¥ã€‚ç›®å‰ä»æ£€ç´¢é€Ÿåº¦ä¸Šæ¥çœ‹ï¼Œ<code>ripegrep</code>çš„æ€§èƒ½æœ€å¼ºï¼Œå…¶æ¬¡æ˜¯<code>silversearcher-ag</code>ï¼Œæœ€åæ˜¯<code>grep</code>ã€‚</p>
<p>å…·ä½“å¯ä»¥å‚è€ƒ<a class="link"   href="https://www.ubuntukylin.com/news/1740-cn.html" >å·§ç”¨è¿™å‡ ç§æ–‡æœ¬æ£€ç´¢å·¥å…·ï¼ŒèŠ‚çœ80%çš„æ—¶é—´ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
<h4 id="ç›®å½•å†…å®¹åˆ—ä¸¾"><a class="markdownIt-Anchor" href="#ç›®å½•å†…å®¹åˆ—ä¸¾"></a> ç›®å½•å†…å®¹åˆ—ä¸¾</h4>
<p><code>ls</code>å‘½ä»¤çš„ç°ä»£åŒ–å®ç°<code>exa</code>å‘½ä»¤ã€‚<code>exa</code>å‘½ä»¤çš„é»˜è®¤è®¾ç½®å¯èƒ½çœ‹ä¸Šå»æ¯”<code>ls</code>å‘½ä»¤æ›´åŠ ç¾è§‚ï¼Œä½†æ˜¯åœ¨ç¼–å†™è„šæœ¬æ—¶ï¼Œè¿˜æ˜¯åº”è¯¥ä½¿ç”¨æ›´åŠ é€šç”¨çš„<code>ls</code>å‘½ä»¤ï¼Œä»¥é¿å…ä¸å¿…è¦çš„éº»çƒ¦ã€‚å…·ä½“å‚è€ƒ<a class="link"   href="https://linux.cn/article-13972-1.html" >exaï¼šä¸€ä¸ª ls å‘½ä»¤çš„ç°ä»£æ›¿ä»£å“ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
<h3 id="ç³»ç»Ÿç®¡ç†-ç»´æŠ¤ç›¸å…³"><a class="markdownIt-Anchor" href="#ç³»ç»Ÿç®¡ç†-ç»´æŠ¤ç›¸å…³"></a> ç³»ç»Ÿç®¡ç†ã€ç»´æŠ¤ç›¸å…³</h3>
<h4 id="è¿›ç¨‹ç®¡ç†ç›‘æ§"><a class="markdownIt-Anchor" href="#è¿›ç¨‹ç®¡ç†ç›‘æ§"></a> è¿›ç¨‹ç®¡ç†ç›‘æ§</h4>
<p><code>top</code>å‘½ä»¤çš„ç°ä»£åŒ–å®ç°æœ‰å¾ˆå¤šï¼Œè¿™é‡Œä¸»è¦ä»‹ç»<code>htop</code>å‘½ä»¤ï¼Œæ›´å¤šå†…å®¹å¯ä»¥å‚è€ƒ<a class="link"   href="https://zhuanlan.zhihu.com/p/51911977" >å…³äº top å·¥å…·çš„ 6 ä¸ªæ›¿ä»£æ–¹æ¡ˆ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
<p><code>htop</code>å‘½ä»¤é€šå¸¸ç›¸å¯¹<code>top</code>å‘½ä»¤æ›´æ˜“äºä½¿ç”¨ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹è¿›ç¨‹è¿›è¡Œè¿‡æ»¤å’Œæ’åºï¼Œåœ¨å¿…è¦çš„æ—¶å€™æ€æ­»å¯¹åº”çš„è¿›ç¨‹ã€‚</p>
<h4 id="ç£ç›˜ç©ºé—´ç®¡ç†"><a class="markdownIt-Anchor" href="#ç£ç›˜ç©ºé—´ç®¡ç†"></a> ç£ç›˜ç©ºé—´ç®¡ç†</h4>
<p><code>df</code>å‘½ä»¤çš„ç°ä»£åŒ–å®ç°<code>duf</code>å‘½ä»¤ã€‚<code>duf</code>å‘½ä»¤æä¾›äº†ä¸€ä¸ªæ‰€æœ‰æŒ‚è½½è®¾å¤‡çš„æ¦‚è§ˆã€‚</p>
<h4 id="ç›®å½•ç©ºé—´ç®¡ç†"><a class="markdownIt-Anchor" href="#ç›®å½•ç©ºé—´ç®¡ç†"></a> ç›®å½•ç©ºé—´ç®¡ç†</h4>
<p><code>du</code>å‘½ä»¤çš„ç°ä»£åŒ–å®ç°<code>ncdu</code>å‘½ä»¤ã€‚<code>ncdu</code>å‘½ä»¤ç›¸æ¯”<code>du</code>å‘½ä»¤æ›´åŠ ç›´è§‚æ˜“ç”¨ï¼Œ<code>du</code>å‘½ä»¤å®é™…ä¸Šä¸æ˜¯ä¸€ä¸ªå¾ˆç›´è§‚çš„å‘½ä»¤ï¼Œé€šå¸¸<code>du</code>å‘½ä»¤éœ€è¦é…åˆå¤šä¸ªå‚æ•°ä½¿ç”¨æ‰èƒ½å¾—åˆ°ç›´è§‚çš„ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œ<code>ncdu</code>å‘½ä»¤æä¾›çš„æ˜¯ä¸€ä¸ªå¯äº¤äº’çš„ç•Œé¢ï¼Œå¯ä»¥è¿›è¡Œæ’åºä»¥åŠäº¤äº’å¼åœ°åˆ é™¤ç›®å½•ã€‚</p>
<h3 id="ç½‘ç»œå·¥å…·ç›¸å…³"><a class="markdownIt-Anchor" href="#ç½‘ç»œå·¥å…·ç›¸å…³"></a> ç½‘ç»œå·¥å…·ç›¸å…³</h3>
<h4 id="ç½‘ç»œç®¡ç†å·¥å…·"><a class="markdownIt-Anchor" href="#ç½‘ç»œç®¡ç†å·¥å…·"></a> ç½‘ç»œç®¡ç†å·¥å…·</h4>
<p><code>net-tools</code>å·¥å…·çš„ç°ä»£åŒ–æ›¿ä»£<code>iproute2</code>å·¥å…·ã€‚<code>net-tools</code>å·¥å…·ä¸­æœ‰å‡ ä¸ªå¾ˆçŸ¥åçš„å‘½ä»¤ï¼Œä¾‹å¦‚<code>ifconfig</code>å‘½ä»¤ã€‚</p>
<p>å®é™…ä¸Šï¼Œè‡ª2001å¹´èµ·ï¼Œlinuxç¤¾åŒºå·²ç»åœæ­¢äº†å¯¹<code>net-tools</code>çš„ç»´æŠ¤ï¼Œè€Œ<code>iproute2</code>æ—¨åœ¨å–ä»£<code>net-tools</code>ï¼Œå¹¶æä¾›äº†ä¸€äº›æ–°åŠŸèƒ½ã€‚ä¸€äº›linuxå‘è¡Œç‰ˆå·²ç»åœæ­¢æ”¯æŒ<code>net-tools</code>ï¼Œåªæ”¯æŒ<code>iproute2</code>ï¼Œä¾‹å¦‚<code>Archlinux</code>çš„livecdä¸­å°±é»˜è®¤ä½¿ç”¨<code>iproute2</code>è€Œä¸æ˜¯<code>net-tools</code>ã€‚</p>
<p>è™½ç„¶<code>net-tools</code>æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤è€çš„å‘½ä»¤ï¼Œä½†æ˜¯<code>net-tools</code>ç›®å‰ä»åœ¨å¹¿æ³›ä½¿ç”¨ï¼Œå› æ­¤<code>net-tools</code>è¿˜æ˜¯å€¼å¾—linuxç³»ç»Ÿç®¡ç†å‘˜å­¦ä¹ çš„ã€‚</p>
<h4 id="è¿œç¨‹æ–‡ä»¶ä¼ è¾“å·¥å…·"><a class="markdownIt-Anchor" href="#è¿œç¨‹æ–‡ä»¶ä¼ è¾“å·¥å…·"></a> è¿œç¨‹æ–‡ä»¶ä¼ è¾“å·¥å…·</h4>
<p><code>scp</code>å‘½ä»¤çš„ç°ä»£åŒ–æ›¿ä»£<code>sftp</code>å‘½ä»¤æˆ–<code>rsync</code>å‘½ä»¤ã€‚<code>scp</code>å‘½ä»¤å±äºOpenSSHé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒè¢«è®¤ä¸ºå·²ç»è¿‡æ—¶ï¼Œä¸çµæ´»ä¸”ä¸å®¹æ˜“ä¿®å¤ã€‚æ¨èä½¿ç”¨<code>sftp</code>å‘½ä»¤æˆ–<code>rsync</code>å‘½ä»¤è¿›è¡Œæ–‡ä»¶ä¼ è¾“ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€å®šçš„ç”¨æˆ·ç¾¤ä½“ä¹ æƒ¯ä½¿ç”¨<code>scp</code>å‘½ä»¤ï¼Œè¿™é‡Œæä¾›äº†ä¸€ç¯‡è¿‡æ¸¡å‚è€ƒ<a class="link"   href="https://linux.cn/article-12575-1.html" >scp ç”¨æˆ·çš„ rsync è¿ç§»æŒ‡å— <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
<h3 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h3>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/401429004" >25 ä¸ª Linux ä¸‹æœ€ç‚«é…·åˆå¼ºå¤§çš„å‘½ä»¤è¡Œç¥å™¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://linux.cn/article-14172-1.html" >ä¸€äº›ç»å…¸ Linux å‘½ä»¤çš„ç°ä»£æ›¿ä»£å“ | Linux ä¸­å›½ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/439233295" >10 æ¬¾ä½ ä¸çŸ¥é“çš„ Linux ç¯å¢ƒä¸‹çš„æ›¿ä»£å·¥å…·ï¼ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>modern</tag>
        <tag>commands</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤šç‰ˆæœ¬ç¯å¢ƒæ§åˆ¶</title>
    <url>/2023/03/12/more-env-control/</url>
    <content><![CDATA[<p>åœ¨æ­å»ºå¼€å‘ç¯å¢ƒæ—¶ï¼Œé€šå¸¸æ˜¯é€‰æ‹©ä¸€ä¸ª<code>LTS(Long Term Support)</code>ç‰ˆæœ¬ï¼Œä½†æ˜¯æœ‰æ—¶å€™éœ€è¦åœ¨æ–°å‘å¸ƒçš„ç‰ˆæœ¬æˆ–è€…æ˜¯åœ¨æŸä¸ªå†å²ç‰ˆæœ¬ä¸Šæ­å»ºç¯å¢ƒè¿›è¡Œæµ‹è¯•ï¼Œéœ€è¦é‡æ–°æ­å»ºæ–°ç¯å¢ƒï¼Œå¸¦æ¥è¯¸å¤šä¸ä¾¿ã€‚<span id="more"></span></p>
<p>å…³äºå¤šç‰ˆæœ¬ç¯å¢ƒçš„æ­å»ºï¼Œç¬”è€…è¿™é‡Œæä¾›äº†<code>å¤šç‰ˆæœ¬ç®¡ç†å·¥å…·</code>çš„æ–¹æ¡ˆï¼Œå®ç°å¤šä¸ªä¸åŒç‰ˆæœ¬ä¹‹é—´å¿«é€Ÿåˆ‡æ¢å’Œç®¡ç†ï¼Œçœå»ç¯å¢ƒå˜é‡çš„é‡å¤é…ç½®ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„å¼€å‘ç¯å¢ƒå¤šç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¤§éƒ¨åˆ†å·¥å…·æ”¯æŒå¤šå¹³å°ï¼Œè¿™é‡Œç¬”è€…ä½¿ç”¨çš„æ˜¯<code>Archlinux</code>ï¼Œå…¶ä»–æ“ä½œç³»ç»Ÿä¹Ÿå¯åœ¨å®˜ç½‘å¯»æ‰¾å¯¹åº”å¹³å°çš„å®‰è£…æ•™ç¨‹ã€‚</p>
<h2 id="java-å¼€å‘ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#java-å¼€å‘ç¯å¢ƒ"></a> Java å¼€å‘ç¯å¢ƒ</h2>
<p>JDK å¤šç‰ˆæœ¬ç®¡ç†å·¥å…·æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»<code>SDKMAN</code>ã€<code>JEnv</code>ã€<code>Jabba</code>ä¸‰ç§å·¥å…·ã€‚</p>
<h3 id="1sdkman"><a class="markdownIt-Anchor" href="#1sdkman"></a> 1.SDKMAN</h3>
<h4 id="11-å®‰è£…"><a class="markdownIt-Anchor" href="#11-å®‰è£…"></a> 1.1 å®‰è£…</h4>
<p><a class="link"   href="https://sdkman.io/install" >SDKMAN å®˜ç½‘å®‰è£…æ•™ç¨‹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œ<code>SDKMAN</code>æ”¯æŒç±»<code>UNIX</code>çš„å¹³å°ï¼Œ<code>windows</code>ç³»ç»Ÿå¯ä»¥ä½¿ç”¨<code>WSL</code>ã€‚</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/12/more-env-control/image-20230312151735030.png"
                      class="" title="image-20230312151735030"
                >
<p>ä¸‹è½½å®‰è£…å‘½ä»¤ï¼Œå¦‚æœä½¿ç”¨<code>zsh</code>æˆ–è€…<code>fish</code>ï¼Œåˆ™å°†ä¸‹é¢çš„<code>bash</code>æ›¿æ¢ä¸ºä½ æ‰€ä½¿ç”¨çš„<code>shell</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -s &quot;https://get.sdkman.io&quot; | bash</span><br></pre></td></tr></table></figure></div>
<p>è¿™é‡Œå®‰è£…å¯èƒ½ä¼šå‡ºç°ç¼ºå°‘<code>zip</code>çš„é—®é¢˜ï¼Œå‚è€ƒè¿™ç¯‡<a class="link"   href="http://leetschau.github.io/install-sdkman-on-windows-git-bash.html" >æ–‡ç«  <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>è§£å†³ã€‚</p>
<p>åœ¨<code>Archlinux</code>ä¸‹ç›´æ¥ç”¨åŒ…ç®¡ç†å™¨å®‰è£…</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo pacman -S zip</span><br></pre></td></tr></table></figure></div>
<p>åœ¨<code>windows</code>æ“ä½œç³»ç»Ÿä¸‹ï¼Œè®¿é—®<a class="link"   href="https://sourceforge.net/projects/gnuwin32/files/" >sourceforge <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>æ‰¾åˆ°<code>zip</code>åŒ…æ–‡ä»¶åˆ—è¡¨ï¼Œä¸‹è½½<a class="link"   href="https://sourceforge.net/projects/gnuwin32/files/zip/3.0/" >zip-3.0-bin.zip <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œå¹¶å°†ä¸‹è½½çš„åŒ…è§£å‹åˆ°<code>C:\Program Files\Git\usr\bin</code>ç›®å½•ä¸‹ï¼Œå†æ¬¡æ‰§è¡Œä¸‹è½½å®‰è£…å‘½ä»¤ã€‚</p>
<p>é€šè¿‡ä¸Šé¢çš„å‘½ä»¤å®‰è£…åï¼Œæ¥ç€æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ‰‹åŠ¨ä½¿é…ç½®ç”Ÿæ•ˆæˆ–è€…å¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;</span><br></pre></td></tr></table></figure></div>
<p>æµ‹è¯•<code>SDKMAN</code>æ˜¯å¦å®‰è£…æˆåŠŸ</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sdk version</span><br></pre></td></tr></table></figure></div>
<p>è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯å³è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p>
<h4 id="12-ä½¿ç”¨"><a class="markdownIt-Anchor" href="#12-ä½¿ç”¨"></a> 1.2 ä½¿ç”¨</h4>
<p>æŸ¥çœ‹å¯ç”¨çš„<code>JDK</code>ç‰ˆæœ¬åˆ—è¡¨</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sdk list java</span><br></pre></td></tr></table></figure></div>
<p>ä½¿ç”¨<code>SDKMAN</code>å®‰è£…<code>JDK</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sdk install java 17.0.6-tem</span><br></pre></td></tr></table></figure></div>
<p>ä¸´æ—¶ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„<code>JDK</code>ï¼Œåœ¨å½“å‰<code>shell</code>ç”Ÿæ•ˆ</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sdk use java 17.0.6-tem</span><br></pre></td></tr></table></figure></div>
<p>æŒ‡å®šå…¨å±€<code>JDK</code>ç‰ˆæœ¬ï¼Œåœ¨å…¨å±€ç”Ÿæ•ˆ</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sdk default java 17.0.6-tem</span><br></pre></td></tr></table></figure></div>
<p>å¸è½½<code>JDK</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sdk uninstall java 17.0.6-tem</span><br></pre></td></tr></table></figure></div>
<h4 id="13-å¸è½½"><a class="markdownIt-Anchor" href="#13-å¸è½½"></a> 1.3 å¸è½½</h4>
<p><code>SDKMAN</code>æ²¡æœ‰è‡ªåŠ¨åŒ–å¸è½½çš„æ–¹æ³•ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œå¸è½½</p>
<p>å¤‡ä»½æºæ–‡ä»¶ç›®å½•</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">tar zcvf ~/sdkman-backup_$(date +%F-%kh%M).tar.gz -C ~/ .sdkman</span><br></pre></td></tr></table></figure></div>
<p>åˆ é™¤æºæ–‡ä»¶ç›®å½•</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf ~/.sdkman</span><br></pre></td></tr></table></figure></div>
<p>åˆ é™¤<code>.bashrc</code>ï¼Œ<code>.bash_profile</code>ï¼Œ<code>.zshrc</code>ï¼Œ<code>profile</code>æ–‡ä»¶ä¸­å®‰è£…<code>SDKMAN</code>æ—¶å†™å…¥çš„åˆå§‹åŒ–é…ç½®ä¿¡æ¯ï¼Œå¦‚æœè¿™äº›æ–‡ä»¶å­˜åœ¨çš„è¯ï¼Œå…·ä½“è¦åˆ é™¤çš„ä»£ç ç‰‡æ®µå¦‚ä¸‹</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">#THIS MUST BE AT THE END OF THE FILE FOR SDKMAN TO WORK!!!</span><br><span class="line">[[ -s &quot;/home/dudette/.sdkman/bin/sdkman-init.sh&quot; ]] &amp;&amp; source &quot;/home/dudette/.sdkman/bin/sdkman-init.sh&quot;</span><br></pre></td></tr></table></figure></div>
<h4 id="14-è¡¥å……è¯´æ˜"><a class="markdownIt-Anchor" href="#14-è¡¥å……è¯´æ˜"></a> 1.4 è¡¥å……è¯´æ˜</h4>
<ul>
<li>
<p><code>SDKMAN</code>åœ¨å›½å†…å­˜åœ¨æ— æ³•ä¸‹è½½æˆ–ä¸‹è½½å¾ˆæ…¢çš„é—®é¢˜ï¼Œå¯è®¿é—®å›½å†…é•œåƒç«™<a class="link"   href="https://www.injdk.cn/%E4%B8%8B%E8%BD%BD" >https://www.injdk.cn/ä¸‹è½½ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
<li>
<p><code>SDKMAN</code>ä¸ä»…æ”¯æŒ<code>JDK</code>çš„å¤šç‰ˆæœ¬ç®¡ç†ï¼Œè¿˜æ”¯æŒå…¶ä»–çš„<code>SDK</code>ï¼Œå…·ä½“å‚è€ƒ<a class="link"   href="https://sdkman.io/sdks" >https://sdkman.io/sdks <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</li>
</ul>
<h3 id="2jenv"><a class="markdownIt-Anchor" href="#2jenv"></a> 2.jEnv</h3>
<p><code>JEnv</code>ä¸<code>SDKMAN</code>ä¸åŒï¼Œ<code>JEnv</code>ä¸èƒ½ç›´æ¥å®‰è£…<code>JDK</code>ï¼Œè€Œæ˜¯å¯¹ä¸åŒç‰ˆæœ¬<code>JDK</code>ç¯å¢ƒå˜é‡çš„é…ç½®è¿›è¡Œç®¡ç†ã€‚</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/12/more-env-control/image-20230312123733364.png"
                      class="" title="image-20230312123733364"
                >
<h4 id="21-å®‰è£…"><a class="markdownIt-Anchor" href="#21-å®‰è£…"></a> 2.1 å®‰è£…</h4>
<p><a class="link"   href="https://www.jenv.be/" >jEnv å®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œæ”¯æŒå¤§éƒ¨åˆ†ç±»<code>Unix</code>ç³»ç»Ÿå¹³å°ã€‚</p>
<p><code>git</code>å…‹éš†ä¸‹è½½</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/gcuisinier/jenv.git ~/.jenv</span><br></pre></td></tr></table></figure></div>
<p>åœ¨<code>Bash</code>ä¸­é…ç½®</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &#x27;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#x27; &gt;&gt; ~/.bash_profile</span><br><span class="line">echo &#x27;eval &quot;$(jenv init -)&quot;&#x27; &gt;&gt; ~/.bash_profile</span><br></pre></td></tr></table></figure></div>
<p>åœ¨<code>Zsh</code>ä¸­é…ç½®</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo &#x27;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#x27; &gt;&gt; ~/.zshrc</span><br><span class="line">echo &#x27;eval &quot;$(jenv init -)&quot;&#x27; &gt;&gt; ~/.zshrc</span><br></pre></td></tr></table></figure></div>
<h4 id="22-ä½¿ç”¨"><a class="markdownIt-Anchor" href="#22-ä½¿ç”¨"></a> 2.2 ä½¿ç”¨</h4>
<p>é¦–å…ˆéœ€è¦å»å®˜ç½‘ä¸‹è½½å¥½å¯¹åº”çš„<code>JDK</code>æºæ–‡ä»¶<code>tar.gz</code>ï¼Œå¹¶è§£å‹åˆ°ä¸€ä¸ªåˆé€‚çš„ç›®å½•ä¸‹ã€‚</p>
<p>å°†å·²ç»ä¸‹è½½å¥½çš„<code>JDK</code>æ·»åŠ åˆ°<code>jEnv</code>ä¸­ï¼Œä»¥ä¸‹æ˜¯å‚è€ƒå‘½ä»¤ï¼Œå…·ä½“çš„ç›®å½•æ ¹æ®å®é™…æƒ…å†µé…ç½®ã€‚</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jenv add /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home</span><br><span class="line">jenv add /Library/Java/JavaVirtualMachines/jdk17011.jdk/Contents/Home</span><br></pre></td></tr></table></figure></div>
<p>ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„<code>JDK</code></p>
<p>æŸ¥çœ‹ç®¡ç†çš„<code>JDK</code>ç‰ˆæœ¬ï¼Œå½“å‰ä½¿ç”¨çš„<code>JDK</code>ç‰ˆæœ¬ä¼šåœ¨å‰é¢æœ‰ä¸€ä¸ª<code>*</code>çš„æ ‡è®°</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jenv versions</span><br></pre></td></tr></table></figure></div>
<p>é…ç½®å…¨å±€ä½¿ç”¨çš„<code>JDK</code>ç‰ˆæœ¬ï¼Œç‰ˆæœ¬æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼Œå‘½ä»¤ä»…ä¾›å‚è€ƒ</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jenv global oracle64-1.6.0.39</span><br></pre></td></tr></table></figure></div>
<p>é…ç½®æœ¬åœ°ä½¿ç”¨çš„<code>JDK</code>ç‰ˆæœ¬ï¼ˆæ¯ä¸ªç›®å½•ï¼‰</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jenv local oracle64-1.6.0.39</span><br></pre></td></tr></table></figure></div>
<p>é…ç½®<code>shell</code>ä½¿ç”¨çš„<code>JDK</code>ç‰ˆæœ¬</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jenv shell oracle64-1.6.0.39</span><br></pre></td></tr></table></figure></div>
<p>å–æ¶ˆé…ç½®ï¼Œé»˜è®¤ä¼šé‡‡ç”¨<code>system</code>çš„é…ç½®</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jenv global --unset</span><br><span class="line">jenv local --unset</span><br><span class="line">jenv shell --unset</span><br></pre></td></tr></table></figure></div>
<h4 id="23-å¸è½½"><a class="markdownIt-Anchor" href="#23-å¸è½½"></a> 2.3 å¸è½½</h4>
<p>å‚è€ƒ<code>SDKMAN</code>çš„å¸è½½æ–¹æ³•</p>
<p>åˆ é™¤æºæ–‡ä»¶ç›®å½•</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf ~/.jenv</span><br></pre></td></tr></table></figure></div>
<p>åˆ é™¤<code>.bashrc</code>ï¼Œ<code>.bash_profile</code>ï¼Œ<code>.zshrc</code>ï¼Œ<code>profile</code>æ–‡ä»¶ä¸­å®‰è£…<code>SDKMAN</code>æ—¶å†™å…¥çš„åˆå§‹åŒ–é…ç½®ä¿¡æ¯ï¼Œå¦‚æœè¿™äº›æ–‡ä»¶å­˜åœ¨çš„è¯ï¼Œå…·ä½“è¦åˆ é™¤çš„ä»£ç ç‰‡æ®µå¦‚ä¸‹</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;</span><br><span class="line">eval &quot;$(jenv init -)&quot;</span><br></pre></td></tr></table></figure></div>
<h3 id="3jabba"><a class="markdownIt-Anchor" href="#3jabba"></a> 3.Jabba</h3>
<p><code>jabba</code>æ˜¯è·¨å¹³å°çš„Javaç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå®ƒæ˜¯å—<code>Node.js</code>çš„<code>nvm</code>å¯å‘ï¼Œå¹¶ä¸”é‡‡ç”¨<code>Go</code>è¯­è¨€å¼€å‘</p>
<p><code>jabba</code>çš„å®˜æ–¹ä»“åº“ï¼š<a class="link"   href="https://github.com/shyiko/jabba" >https://github.com/shyiko/jabba <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="31-å®‰è£…"><a class="markdownIt-Anchor" href="#31-å®‰è£…"></a> 3.1 å®‰è£…</h4>
<p><code>jabba</code>çš„å®‰è£…å‚è€ƒæ–‡æ¡£ï¼š<a class="link"   href="https://www.cjavapy.com/article/96/" >Java JDK ç‰ˆæœ¬ç®¡ç†å·¥å…·jabbaçš„å®‰è£… <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>å®‰è£…æœ€æ–°ç‰ˆæœ¬</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">export JABBA_GET=&quot;curl -sLk&quot;</span><br><span class="line">curl -sLk https://github.com/shyiko/jabba/raw/master/install.sh | bash &amp;&amp; . ~/.jabba/jabba.sh</span><br></pre></td></tr></table></figure></div>
<p>ç‰¹åˆ«åœ°ï¼Œå¦‚æœåœ¨<code>fish</code>ä¸‹å®‰è£…ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -sLk https://github.com/shyiko/jabba/raw/master/install.sh | bash; and . ~/.jabba/jabba.fish</span><br></pre></td></tr></table></figure></div>
<p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸ</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jabba --version</span><br></pre></td></tr></table></figure></div>
<h4 id="32-ä½¿ç”¨"><a class="markdownIt-Anchor" href="#32-ä½¿ç”¨"></a> 3.2 ä½¿ç”¨</h4>
<p>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„<code>JDK</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jabba install openjdk@1.14.0</span><br></pre></td></tr></table></figure></div>
<p>æŸ¥çœ‹æ‰€æœ‰å®‰è£…çš„<code>JDK</code>ç‰ˆæœ¬</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jabba ls</span><br></pre></td></tr></table></figure></div>
<p>å¸è½½æŒ‡å®šç‰ˆæœ¬çš„<code>JDK</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jabba uninstall openjdk@1.14.0</span><br></pre></td></tr></table></figure></div>
<p>æŸ¥çœ‹å¯ç”¨çš„<code>JDK</code>ç‰ˆæœ¬</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jabba ls-remote</span><br></pre></td></tr></table></figure></div>
<p>åˆ‡æ¢<code>JDK</code>ç‰ˆæœ¬</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">jabba use openjdk@1.11.0</span><br></pre></td></tr></table></figure></div>
<p>æ›´å¤šå‘½ä»¤å‚è€ƒ<a class="link"   href="https://www.cjavapy.com/article/97/" >jabbaçš„å¸¸ç”¨å‘½ä»¤ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="33-å¸è½½"><a class="markdownIt-Anchor" href="#33-å¸è½½"></a> 3.3 å¸è½½</h4>
<p>åˆ é™¤æºæ–‡ä»¶ç›®å½•</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf .jabba</span><br></pre></td></tr></table></figure></div>
<p>åˆ é™¤<code>.bashrc</code>ï¼Œ<code>.bash_profile</code>ï¼Œ<code>.zshrc</code>ï¼Œ<code>profile</code>æ–‡ä»¶ä¸­å®‰è£…<code>SDKMAN</code>æ—¶å†™å…¥çš„åˆå§‹åŒ–é…ç½®ä¿¡æ¯ï¼Œå¦‚æœè¿™äº›æ–‡ä»¶å­˜åœ¨çš„è¯ï¼Œå…·ä½“è¦åˆ é™¤çš„ä»£ç ç‰‡æ®µå¦‚ä¸‹</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">[ -s &quot;/home/entropy/.jabba/jabba.sh&quot; ] &amp;&amp; source &quot;/home/entropy/.jabba/jabba.sh&quot;</span><br></pre></td></tr></table></figure></div>
<h4 id="34-è¡¥å……è¯´æ˜"><a class="markdownIt-Anchor" href="#34-è¡¥å……è¯´æ˜"></a> 3.4 è¡¥å……è¯´æ˜</h4>
<p><code>jabba</code>åŒæ ·å­˜åœ¨å›½å†…æ— æ³•ä¸‹è½½æˆ–è€…ä¸‹è½½å¾ˆæ…¢çš„é—®é¢˜ã€‚</p>
<h3 id="4archlinux-java"><a class="markdownIt-Anchor" href="#4archlinux-java"></a> 4.Archlinux-java</h3>
<p>ç”±<code>Archlinux</code>æä¾›çš„<code>java</code>å¤šç‰ˆæœ¬ç®¡ç†æ–¹æ¡ˆï¼Œæ˜¯<code>Archlinux</code>è‡ªå¸¦çš„ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œå…·ä½“å¯å‚è€ƒ<a class="link"   href="https://wiki.archlinux.org/title/Java#:~:text=%7C%7C%20luytenAUR-,Switching%20between%20JVM,-The%20helper%20script" >Arch Wiki <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</p>
<h2 id="go-å¼€å‘ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#go-å¼€å‘ç¯å¢ƒ"></a> Go å¼€å‘ç¯å¢ƒ</h2>
<h3 id="gvm"><a class="markdownIt-Anchor" href="#gvm"></a> GVM</h3>
<p><a class="link"   href="https://github.com/moovweb/gvm" >GVM å®˜æ–¹ä»“åº“ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œ<code>GVM</code>æ˜¯<code>Go</code>è¯­è¨€ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œæ”¯æŒå®‰è£…å’Œç®¡ç†å¤šä¸ª<code>Go</code>ç‰ˆæœ¬</p>
<h4 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h4>
<p>å¦‚æœä½¿ç”¨<code>zsh</code>æˆ–è€…<code>fish</code>ï¼Œåˆ™å°†ä¸‹é¢çš„<code>bash</code>æ›¿æ¢ä¸ºä½ æ‰€ä½¿ç”¨çš„<code>shell</code></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">bash &lt; &lt;(curl -s -S -L https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer)</span><br></pre></td></tr></table></figure></div>
<p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ‰‹åŠ¨ä½¿é…ç½®ç”Ÿæ•ˆæˆ–è€…æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">source $HOME/.gvm/scripts/gvm</span><br></pre></td></tr></table></figure></div>
<h4 id="ä½¿ç”¨"><a class="markdownIt-Anchor" href="#ä½¿ç”¨"></a> ä½¿ç”¨</h4>
<p>å…ˆå®‰è£…<code>Go1.4</code>çš„ç‰ˆæœ¬ï¼Œä¹‹åå†å®‰è£…<code>Go1.5</code>åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œé¿å…å‡ºç°å¼•å¯¼é—®é¢˜ï¼ˆç”±äº<code>Go</code>åœ¨<code>1.5</code>ç‰ˆæœ¬å®ç°äº†è‡ªä¸¾ï¼Œå› æ­¤å®‰è£…é«˜ç‰ˆæœ¬çš„<code>Go</code>è¿˜éœ€è¦å‡†å¤‡ä¸€ä¸ªä½ç‰ˆæœ¬çš„<code>Go</code>æä¾›ç¼–è¯‘ç¯å¢ƒï¼‰</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">gvm install go1.4 -B</span><br><span class="line">gvm use go1.4 [--default]</span><br><span class="line">export GOROOT_BOOTSTRAP=$GOROOT</span><br><span class="line">gvm install go1.5</span><br></pre></td></tr></table></figure></div>
<p>ä¸´æ—¶ä½¿ç”¨æŒ‡å®šçš„<code>Go</code>ç‰ˆæœ¬ï¼ŒåŠ ä¸Š<code>--default</code>å‚æ•°æŒ‡å®šï¼Œå°±å¯ä»¥é»˜è®¤ä½¿ç”¨è¯¥ç‰ˆæœ¬</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">gvm use go1.4</span><br><span class="line">gvm use go1.4 --default</span><br></pre></td></tr></table></figure></div>
<p>åˆ—å‡ºå·²å®‰è£…çš„<code>Go</code>ç‰ˆæœ¬ï¼Œåœ¨å½“å‰æ­£åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬å‰é¢ä¼šæœ‰<code>=&gt;</code>çš„å‰ç¼€</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">gvm list</span><br></pre></td></tr></table></figure></div>
<p>åˆ—å‡ºæ‰€æœ‰å¯ä¾›ä¸‹è½½çš„<code>Go</code>ç‰ˆæœ¬</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">gvm listall</span><br></pre></td></tr></table></figure></div>
<p>å¸è½½<code>Go1.5</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">gvm uninstall go1.5</span><br></pre></td></tr></table></figure></div>
<h4 id="å¸è½½"><a class="markdownIt-Anchor" href="#å¸è½½"></a> å¸è½½</h4>
<p><code>GVM</code>æä¾›äº†å®Œå…¨åˆ é™¤<code>GVM</code>è‡ªèº«å’Œæ‰€æœ‰å·²å®‰è£…çš„<code>Go</code>ç‰ˆæœ¬å’Œè½¯ä»¶åŒ…çš„å‘½ä»¤</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">gvm implode</span><br></pre></td></tr></table></figure></div>
<h2 id="nodejs-å¼€å‘ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#nodejs-å¼€å‘ç¯å¢ƒ"></a> Node.js å¼€å‘ç¯å¢ƒ</h2>
<h3 id="nvm"><a class="markdownIt-Anchor" href="#nvm"></a> NVM</h3>
<p><a class="link"   href="https://github.com/nvm-sh/nvm#installing-and-updating" >NVM å®˜æ–¹ä»“åº“ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œ<code>nvm</code>å°±æ˜¯<code>node.js</code>çš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œåœ¨å¼€å‘ä¸­å¯ä»¥é€šè¿‡å®ƒæ¥å®‰è£…å’Œåˆ‡æ¢ä¸åŒçš„<code>node.js</code>ç‰ˆæœ¬</p>
<h4 id="å®‰è£…-2"><a class="markdownIt-Anchor" href="#å®‰è£…-2"></a> å®‰è£…</h4>
<p>å¦‚æœä½¿ç”¨<code>zsh</code>æˆ–è€…<code>fish</code>ï¼Œåˆ™å°†ä¸‹é¢çš„<code>bash</code>æ›¿æ¢ä¸ºä½ æ‰€ä½¿ç”¨çš„<code>shell</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash</span><br></pre></td></tr></table></figure></div>
<p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸï¼Œå…³é—­ç»ˆç«¯æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè¾“å‡º<code>nvm</code>åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸ</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">command -v nvm</span><br></pre></td></tr></table></figure></div>
<h4 id="ä½¿ç”¨-2"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-2"></a> ä½¿ç”¨</h4>
<p>åˆ—å‡ºæ‰€ä»¥å¯ä¸‹è½½å®‰è£…çš„<code>Nodejs</code>ç‰ˆæœ¬</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm ls-remote</span><br></pre></td></tr></table></figure></div>
<p>åˆ—å‡ºå·²å®‰è£…çš„<code>Nodejs</code>ç‰ˆæœ¬ï¼Œåœ¨å½“å‰æ­£åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬å‰é¢ä¼šæœ‰<code>-&gt;</code>çš„å‰ç¼€</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm list</span><br></pre></td></tr></table></figure></div>
<p>å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„<code>Nodejs</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm install v18.15.0</span><br></pre></td></tr></table></figure></div>
<p>ä¸´æ—¶ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„<code>Nodejs</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm use v18.15.0</span><br></pre></td></tr></table></figure></div>
<p>é»˜è®¤ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„<code>Nodejs</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm alias default v18.15.0</span><br></pre></td></tr></table></figure></div>
<p>å¸è½½æŒ‡å®šç‰ˆæœ¬çš„<code>Nodejs</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm uninstall v18.15.0</span><br></pre></td></tr></table></figure></div>
<h4 id="å¸è½½-2"><a class="markdownIt-Anchor" href="#å¸è½½-2"></a> å¸è½½</h4>
<p>åˆ é™¤æºæ–‡ä»¶ç›®å½•</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf .nvm</span><br></pre></td></tr></table></figure></div>
<p>åˆ é™¤<code>.bashrc</code>ï¼Œ<code>.bash_profile</code>ï¼Œ<code>.zshrc</code>ï¼Œ<code>profile</code>æ–‡ä»¶ä¸­å®‰è£…<code>SDKMAN</code>æ—¶å†™å…¥çš„åˆå§‹åŒ–é…ç½®ä¿¡æ¯ï¼Œå¦‚æœè¿™äº›æ–‡ä»¶å­˜åœ¨çš„è¯ï¼Œå…·ä½“è¦åˆ é™¤çš„ä»£ç ç‰‡æ®µå¦‚ä¸‹</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">source /usr/share/nvm/init-nvm.sh</span><br></pre></td></tr></table></figure></div>
<h4 id="è¡¥å……è¯´æ˜"><a class="markdownIt-Anchor" href="#è¡¥å……è¯´æ˜"></a> è¡¥å……è¯´æ˜</h4>
<p><code>NVM</code>åœ¨å›½å†…å¯èƒ½å­˜åœ¨æ— æ³•ä¸‹è½½æˆ–è€…ä¸‹è½½å¾ˆæ…¢çš„é—®é¢˜ï¼Œå¯åœ¨<code>.bashrc</code>ï¼Œ<code>.bash_profile</code>ï¼Œ<code>.zshrc</code>ä¸­é€‰æ‹©<code>bash</code>æˆ–<code>zsh</code>å¯¹åº”çš„é…ç½®æ–‡ä»¶é‡Œæ·»åŠ ä»¥ä¸‹é…ç½®</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">export NVM_NODEJS_ORG_MIRROR=https://npmmirror.com/mirrors/node</span><br></pre></td></tr></table></figure></div>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<p><a class="link"   href="https://juejin.cn/post/7044711294984781838" >SDKç®¡ç†åˆ©å™¨ï¼šSDKMANï¼ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/416897637" >Java å¤šç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼ˆè‡ªç”±åˆ‡æ¢Javaç‰ˆæœ¬ï¼‰Jenvä½¿ç”¨ï¼ˆæ”¯æŒLinux Mac Windowsï¼‰ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.cjavapy.com/article/631/" >Java JDKä½¿ç”¨SDKMANã€JEnvå’ŒJabbaå®‰è£…é…ç½®åŠç‰ˆæœ¬åˆ‡æ¢ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/83375992" >å¦‚ä½•çµæ´»åœ°è¿›è¡Œ Go ç‰ˆæœ¬ç®¡ç† <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/445799189" >Golang å¤šç‰ˆæœ¬ç®¡ç† <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/483015085" >nvmå®‰è£…-linuxç¯‡ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <tags>
        <tag>å¤šç‰ˆæœ¬æ§åˆ¶</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨dockerè¿è¡ŒopenGauss</title>
    <url>/2023/03/05/opengauss-env-build/</url>
    <content><![CDATA[<p>åœ¨linuxä¸Šé€šè¿‡dockerçš„æ–¹å¼è¿è¡Œå¼€æºæ•°æ®åº“openGauss<span id="more"></span></p>
<h3 id="åŸºæœ¬ç¯å¢ƒ"><a class="markdownIt-Anchor" href="#åŸºæœ¬ç¯å¢ƒ"></a> åŸºæœ¬ç¯å¢ƒ</h3>
<p>ç¬”è€…ä½¿ç”¨çš„æ˜¯<code>Archlinux</code>å‘è¡Œç‰ˆï¼Œé€šè¿‡<code>Docker</code>å®¹å™¨æŠ€æœ¯è¿è¡ŒåŸºäº<code>PostgreSQL</code>çš„å¼€æºæ•°æ®åº“<code>openGauss</code></p>
<p><a class="link"   href="https://opengauss.org/zh/" >openGauss ä¸­æ–‡ç¤¾åŒºå®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://docker.p2hp.com/" >docker ä¸­æ–‡ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://hub.docker.com/" >dockerHub è¿œç¨‹ä»“åº“ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="docker-ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#docker-ç¯å¢ƒæ­å»º"></a> Docker ç¯å¢ƒæ­å»º</h3>
<h4 id="1å®‰è£…-docker"><a class="markdownIt-Anchor" href="#1å®‰è£…-docker"></a> 1.å®‰è£… docker</h4>
<p>linuxå‘è¡Œç‰ˆå¯ä»¥å¾ˆæ–¹ä¾¿åœ°é€šè¿‡å‘½ä»¤è¡Œå®‰è£…ï¼ˆåœ¨æ­¤ä¹‹å‰è¯·å…ˆç¡®ä¿ç½‘ç»œçŠ¶æ€è‰¯å¥½ï¼‰</p>
<p>ä»¥ä¸‹æ˜¯<code>Archlinux</code>çš„å®‰è£…æ–¹å¼</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S docker <span class="comment"># å®‰è£…docker</span></span><br><span class="line">sudo docker version   <span class="comment"># æŸ¥çœ‹dockerç‰ˆæœ¬</span></span><br><span class="line">sudo docker info      <span class="comment"># æŸ¥çœ‹dockerä¿¡æ¯</span></span><br></pre></td></tr></table></figure></div>
<p>å…¶ä»–çš„å®‰è£…æ–¹å¼å¯å‚è€ƒ<a class="link"   href="https://www.modb.pro/db/611595" >ä½¿ç”¨è™šæ‹ŸæœºVMwarepro1623é•œåƒæ–‡ä»¶å¯¼å…¥éƒ¨ç½²openGauss3.1.1æŒ‡å¯¼æ‰‹å†Œ | å¢¨å¤©è½®(modb.pro) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="2å¯åŠ¨-docker"><a class="markdownIt-Anchor" href="#2å¯åŠ¨-docker"></a> 2.å¯åŠ¨ docker</h4>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl start docker   <span class="comment"># å¯åŠ¨docker</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> docker  <span class="comment"># å…è®¸dockerå¼€æœºè‡ªå¯</span></span><br><span class="line">sudo systemctl status docker  <span class="comment"># æŸ¥çœ‹dockerè¿è¡ŒçŠ¶æ€</span></span><br><span class="line">sudo systemctl restart docker <span class="comment"># é‡å¯docker</span></span><br></pre></td></tr></table></figure></div>
<h4 id="3docker-å¸¸ç”¨å‘½ä»¤"><a class="markdownIt-Anchor" href="#3docker-å¸¸ç”¨å‘½ä»¤"></a> 3.docker å¸¸ç”¨å‘½ä»¤</h4>
<p>ä¸»è¦å‚è€ƒè‡ª<a class="link"   href="https://www.runoob.com/docker/docker-container-usage.html" >èœé¸Ÿæ•™ç¨‹ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œå…³äºéƒ¨åˆ†å‘½ä»¤çš„å…·ä½“ç¤ºä¾‹å¯å‚è€ƒä¸‹é¢ openGauss ç¯å¢ƒçš„æ­å»º</p>
<h5 id="å®¹å™¨ä½¿ç”¨ç›¸å…³å‘½ä»¤"><a class="markdownIt-Anchor" href="#å®¹å™¨ä½¿ç”¨ç›¸å…³å‘½ä»¤"></a> å®¹å™¨ä½¿ç”¨ç›¸å…³å‘½ä»¤</h5>
<table>
<thead>
<tr>
<th style="text-align:center">å‘½ä»¤</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">docker run</td>
<td style="text-align:center">åˆ›å»ºå¹¶è¿è¡Œæ–°çš„å®¹å™¨ï¼Œä½¿ç”¨<code>-it</code>å‚æ•°æŒ‡å®šå‘½ä»¤è¡Œæ¨¡å¼è¿è¡Œï¼Œä½¿ç”¨<code>--name</code>å‚æ•°æŒ‡å®šå®¹å™¨åç§°ï¼Œä½¿ç”¨<code>-d</code>å‚æ•°æŒ‡å®šåœ¨åå°è¿è¡Œå®¹å™¨ï¼Œä½¿ç”¨<code>-P</code>å‚æ•°éšæœºæ˜ å°„åˆ°ä¸»æœºç«¯å£æˆ–<code>-p</code>å‚æ•°æŒ‡å®šä¸»æœºç«¯å£æ˜ å°„</td>
</tr>
<tr>
<td style="text-align:center">docker ps -a</td>
<td style="text-align:center">æŸ¥æ‰¾æ‰€æœ‰å·²å­˜åœ¨çš„å®¹å™¨</td>
</tr>
<tr>
<td style="text-align:center">docker start</td>
<td style="text-align:center">å¯åŠ¨ä¸€ä¸ªå·²å­˜åœ¨çš„å®¹å™¨ï¼Œéœ€è¦æä¾›å®¹å™¨çš„ID</td>
</tr>
<tr>
<td style="text-align:center">docker stop</td>
<td style="text-align:center">åœæ­¢ä¸€ä¸ªå·²å­˜åœ¨çš„å®¹å™¨ï¼Œéœ€è¦æä¾›å®¹å™¨çš„ID</td>
</tr>
<tr>
<td style="text-align:center">docker restart</td>
<td style="text-align:center">é‡å¯ä¸€ä¸ªå·²å­˜åœ¨çš„å®¹å™¨ï¼Œéœ€è¦æä¾›å®¹å™¨çš„ID</td>
</tr>
<tr>
<td style="text-align:center">docker attach</td>
<td style="text-align:center">è¿›å…¥ä¸€ä¸ªå·²å­˜åœ¨çš„å®¹å™¨ï¼Œéœ€è¦æä¾›å®¹å™¨çš„IDã€‚æ³¨æ„ï¼šè¯¥å‘½ä»¤åœ¨é€€å‡ºå®¹å™¨ä¹‹åä¼šè‡ªåŠ¨åœæ­¢å®¹å™¨ã€‚é€€å‡ºå®¹å™¨ä½¿ç”¨<code>exit</code>å‘½ä»¤</td>
</tr>
<tr>
<td style="text-align:center">docker exec</td>
<td style="text-align:center">è¿›å…¥ä¸€ä¸ªå·²å­˜åœ¨çš„å®¹å™¨ï¼Œéœ€è¦æä¾›å®¹å™¨çš„IDï¼Œé…åˆ<code>-it</code>å‚æ•°å¹¶æŒ‡å®šç»ˆç«¯<code>/bin/bash</code>è¿›å…¥å®¹å™¨å‘½ä»¤è¡Œã€‚è¯¥å‘½ä»¤åœ¨é€€å‡ºå®¹å™¨ä¹‹åï¼Œå®¹å™¨ä¸ä¼šåœæ­¢ã€‚é€€å‡ºå®¹å™¨ä½¿ç”¨<code>exit</code>å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td style="text-align:center">docker export</td>
<td style="text-align:center">å¯¼å‡ºä¸€ä¸ªå·²å­˜åœ¨çš„å®¹å™¨ï¼Œéœ€è¦æä¾›å®¹å™¨çš„IDï¼Œé…åˆ<code>&gt; xxx.tar</code>å‘½ä»¤å¯¼å‡ºå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°æ–‡ä»¶<code>xxx.tar</code></td>
</tr>
<tr>
<td style="text-align:center">docker import</td>
<td style="text-align:center">å¯¼å…¥å®¹å™¨å¿«ç…§æ–‡ä»¶ï¼Œä½¿ç”¨`cat ./xxx.tar</td>
</tr>
<tr>
<td style="text-align:center">docker rm</td>
<td style="text-align:center">åˆ é™¤ä¸€ä¸ªå·²å­˜åœ¨çš„å®¹å™¨ï¼Œéœ€è¦æä¾›å®¹å™¨çš„IDï¼Œä½¿ç”¨<code>-f</code>å‚æ•°å¼ºåˆ¶åˆ é™¤</td>
</tr>
<tr>
<td style="text-align:center">docker container</td>
<td style="text-align:center">æ‰¹é‡å¤„ç†å®¹å™¨ï¼Œä¾‹å¦‚åˆ é™¤æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨<code>docker container prune</code></td>
</tr>
<tr>
<td style="text-align:center">docker port</td>
<td style="text-align:center">æŸ¥çœ‹å®¹å™¨çš„ç«¯å£æ˜ å°„ï¼Œéœ€è¦æä¾›å®¹å™¨çš„ID</td>
</tr>
</tbody>
</table>
<h5 id="é•œåƒä½¿ç”¨ç›¸å…³å‘½ä»¤"><a class="markdownIt-Anchor" href="#é•œåƒä½¿ç”¨ç›¸å…³å‘½ä»¤"></a> é•œåƒä½¿ç”¨ç›¸å…³å‘½ä»¤</h5>
<table>
<thead>
<tr>
<th style="text-align:center">å‘½ä»¤</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">docker images</td>
<td style="text-align:center">åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šå·²å­˜åœ¨çš„é•œåƒ</td>
</tr>
<tr>
<td style="text-align:center">docker search</td>
<td style="text-align:center">æœç´¢æŒ‡å®šçš„dockeré•œåƒ</td>
</tr>
<tr>
<td style="text-align:center">docker pull</td>
<td style="text-align:center">æ‹‰å–æŒ‡å®šçš„dockeré•œåƒ</td>
</tr>
<tr>
<td style="text-align:center">docker rmi</td>
<td style="text-align:center">åˆ é™¤æŒ‡å®šçš„dockeré•œåƒ</td>
</tr>
<tr>
<td style="text-align:center">docker commit</td>
<td style="text-align:center">ä»å·²æœ‰é•œåƒçš„åŸºç¡€ä¸Šåˆ›å»ºæ–°é•œåƒï¼Œ<code>-m=&quot;xxx&quot;</code>å‚æ•°è¡¨ç¤ºæäº¤çš„æè¿°ä¿¡æ¯ï¼Œ<code>-a=&quot;xxx&quot;</code>å‚æ•°æŒ‡å®šé•œåƒçš„ä½œè€…ï¼Œ<code>test/xxx:v2</code>å‚æ•°æŒ‡å®šé•œåƒçš„åç§°å’Œæ ‡ç­¾</td>
</tr>
<tr>
<td style="text-align:center">docker build</td>
<td style="text-align:center">ä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªåŒ…å«ç‰¹å®šæŒ‡ä»¤ç»„çš„<code>Dockerfile</code>æ–‡ä»¶</td>
</tr>
<tr>
<td style="text-align:center">docker tag</td>
<td style="text-align:center">ä¸ºdockeré•œåƒæ·»åŠ æ ‡ç­¾</td>
</tr>
</tbody>
</table>
<h4 id="4é…ç½®-docker-ç»„"><a class="markdownIt-Anchor" href="#4é…ç½®-docker-ç»„"></a> 4.é…ç½® docker ç»„</h4>
<p>åœ¨linuxä¸­ä½¿ç”¨dockerå¿…é¡»ä»¥rootæƒé™<code>sudo</code>æ‰§è¡Œå‘½ä»¤æˆ–è€…åˆ‡æ¢åˆ°rootç”¨æˆ·èº«ä»½è¿è¡Œï¼ˆä¸æ¨èï¼‰ï¼Œå¦åˆ™æ‰€æœ‰çš„dockerå‘½ä»¤å‰éƒ½éœ€è¦æ·»åŠ <code>sudo</code>ï¼Œè¡¨ç¤ºä»¥rootæƒé™æ‰§è¡Œå‘½ä»¤ã€‚è¿™é‡Œæ–°åˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·ç»„ï¼Œä¸“é—¨ç”¨äºæ“ä½œdocker</p>
<p>ç”±äºé€šè¿‡<code>pacman</code>æ–¹å¼å®‰è£…<code>docker</code>æ—¶è‡ªåŠ¨åˆ›å»ºå¥½äº†dockerç»„ï¼Œè¿™é‡Œç›´æ¥å°†å½“å‰æ™®é€šç”¨æˆ·æ·»åŠ è‡³dockerç»„ä¸­å³å¯ã€‚</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo gpasswd -a <span class="variable">$USER</span> docker <span class="comment"># æ·»åŠ å½“å‰ç”¨æˆ·è‡³dockerç»„</span></span><br><span class="line">newgrp docker                <span class="comment"># åˆ‡æ¢åˆ°dockerç”¨æˆ·ç»„ï¼ˆæ³¨æ„è¯¥å‘½ä»¤éœ€è¦åœ¨æ¯æ¬¡æ–°å¼€ç»ˆç«¯æ—¶æ‰§è¡Œï¼‰</span></span><br><span class="line">docker ps                    <span class="comment"># æµ‹è¯•dockerå‘½ä»¤ï¼Œè¿™æ—¶å°±ä¸éœ€è¦åœ¨å‘½ä»¤å‰æ·»åŠ sudo</span></span><br></pre></td></tr></table></figure></div>
<h4 id="5é…ç½®-docker-å›½å†…åŠ é€Ÿ"><a class="markdownIt-Anchor" href="#5é…ç½®-docker-å›½å†…åŠ é€Ÿ"></a> 5.é…ç½® docker å›½å†…åŠ é€Ÿ</h4>
<p><a class="link"   href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors" >é˜¿é‡Œäº‘å®˜ç½‘ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>è·å–ç”¨æˆ·ä¸“å±çš„é•œåƒåŠ é€Ÿåœ°å€</p>
<p>å¯ä»¥é€šè¿‡ä¿®æ”¹daemoné…ç½®æ–‡ä»¶/etc/docker/daemon.jsonæ¥ä½¿ç”¨åŠ é€Ÿå™¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> -p /etc/docker</span><br><span class="line">sudo <span class="built_in">tee</span> /etc/docker/daemon.json &lt;&lt;-<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;è¿™é‡Œå¡«å†™ä¸“å±åŠ é€Ÿå™¨åœ°å€&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line"></span><br><span class="line">sudo docker info | grep <span class="string">&quot;ä¸“å±åŠ é€Ÿå™¨åœ°å€&quot;</span> <span class="comment"># æŸ¥çœ‹é•œåƒæ˜¯å¦é…ç½®æˆåŠŸï¼Œè‹¥æœ‰è¾“å‡ºåœ°å€ä¿¡æ¯åˆ™è¡¨ç¤ºé…ç½®æˆåŠŸ</span></span><br></pre></td></tr></table></figure></div>
<p>å‚è€ƒ<a class="link"   href="https://www.runoob.com/docker/docker-mirror-acceleration.html" >Docker é•œåƒåŠ é€Ÿ | èœé¸Ÿæ•™ç¨‹(runoob.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="6docker-å®¹å™¨å¤–éƒ¨è®¿é—®è¿æ¥"><a class="markdownIt-Anchor" href="#6docker-å®¹å™¨å¤–éƒ¨è®¿é—®è¿æ¥"></a> 6.docker å®¹å™¨å¤–éƒ¨è®¿é—®è¿æ¥</h4>
<p>é»˜è®¤å¯åŠ¨çš„dockerå®¹å™¨åªèƒ½åœ¨å®¹å™¨å†…éƒ¨è®¿é—®ï¼Œä½†æœ‰æ—¶éœ€è¦åœ¨å®¹å™¨å¤–éƒ¨è®¿é—®ï¼Œæ¯”å¦‚åé¢ä½¿ç”¨æ•°æ®åº“å›¾å½¢åŒ–ç®¡ç†å·¥å…·è¿œç¨‹è¿æ¥ openGauss æ•°æ®åº“ã€‚</p>
<p>ä½¿ç”¨<code>docker run</code>é…åˆ<code>-p</code>æˆ–<code>-P</code>å‚æ•°æŒ‡å®šç«¯å£æ˜ å°„ï¼Œè¿™é‡ŒæŒ‡å®šç«¯å£æ˜ å°„æ–¹ä¾¿åç»­æŸ¥æ‰¾</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker run --name opengauss --privileged=<span class="literal">true</span> -d -e GS_PASSWORD=openGauss@123 -p 15432:5432 enmotech/opengauss:latest</span><br></pre></td></tr></table></figure></div>
<p>é€šè¿‡<code>-p</code>å‘½ä»¤æŒ‡å®šdockerå®¹å™¨å†…çš„<code>5432ç«¯å£</code>ï¼ˆopenGaussçš„é»˜è®¤ç›‘å¬ç«¯å£ï¼‰æ˜ å°„åˆ°ä¸»æœºçš„<code>15432ç«¯å£</code>ä¸Šã€‚ä¹‹åå°±å¯ä»¥é€šè¿‡ä¸»æœºçš„<code>15432ç«¯å£</code>è®¿é—®å®¹å™¨æ•°æ®åº“ã€‚</p>
<h3 id="opengauss-ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#opengauss-ç¯å¢ƒæ­å»º"></a> openGauss ç¯å¢ƒæ­å»º</h3>
<p>è¿™é‡Œä½¿ç”¨<code>openGauss</code>çš„dockeré•œåƒï¼Œå¯ç›´æ¥å‚è€ƒé•œåƒä½œè€…æä¾›çš„<a class="link"   href="https://hub.docker.com/r/enmotech/opengauss" >æ–‡æ¡£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h4 id="1æ‹‰å–-docker-é•œåƒ"><a class="markdownIt-Anchor" href="#1æ‹‰å–-docker-é•œåƒ"></a> 1.æ‹‰å– docker é•œåƒ</h4>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker search openGauss <span class="comment"># æœç´¢openGaussçš„dockeré•œåƒ</span></span><br></pre></td></tr></table></figure></div>
<p>æœç´¢ç»“æœå¦‚ä¸‹ï¼Œè¿™é‡Œé€‰æ‹© stars æ”¶è—é‡æœ€é«˜çš„é•œåƒ</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/05/opengauss-env-build/image-20230305160339079.png"
                      class="" title="image-20230305160339079"
                >
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker pull enmotech/opengauss <span class="comment"># æ‹‰å–é•œåƒ</span></span><br></pre></td></tr></table></figure></div>
<h4 id="2å¯åŠ¨-opengauss-å®¹å™¨"><a class="markdownIt-Anchor" href="#2å¯åŠ¨-opengauss-å®¹å™¨"></a> 2.å¯åŠ¨ openGauss å®¹å™¨</h4>
<p>åªåœ¨å®¹å™¨å†…è®¿é—®</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker run --name opengauss --privileged=<span class="literal">true</span> -d -e GS_PASSWORD=openGauss@123 enmotech/opengauss:latest</span><br></pre></td></tr></table></figure></div>
<p>å…è®¸å¤–éƒ¨è®¿é—®</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker run --name opengauss --privileged=<span class="literal">true</span> -d -e GS_PASSWORD=openGauss@123 -p 15432:5432 enmotech/opengauss:latest</span><br></pre></td></tr></table></figure></div>
<p><strong>æ³¨æ„<code>GS_PASSWORD</code>è®¾ç½®ä¸ºä½ çš„å¯†ç ï¼Œå¯†ç é•¿åº¦8ä¸ªå­—ç¬¦åŠä»¥ä¸Šï¼Œå¿…é¡»åŒæ—¶åŒ…å«è‹±æ–‡å­—æ¯å¤§å°å†™ï¼Œæ•°å­—ï¼Œä»¥åŠç‰¹æ®Šç¬¦å·ï¼Œç”¨äºåç»­å›¾å½¢åŒ–æ•°æ®åº“ç®¡ç†å·¥å…·è¿æ¥</strong></p>
<h4 id="3è¿›å…¥-opengauss-å®¹å™¨"><a class="markdownIt-Anchor" href="#3è¿›å…¥-opengauss-å®¹å™¨"></a> 3.è¿›å…¥ openGauss å®¹å™¨</h4>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker ps    <span class="comment"># æŸ¥çœ‹æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨</span></span><br><span class="line">docker ps -a <span class="comment"># æŸ¥çœ‹æ‰€æœ‰å·²åˆ›å»ºçš„å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it opengauss bash <span class="comment"># è¿›å…¥å®¹å™¨ï¼Œopengaussæ˜¯å‰é¢åˆ›å»ºå®¹å™¨æ—¶æŒ‡å®šçš„åç§°</span></span><br></pre></td></tr></table></figure></div>
<h4 id="4ä½¿ç”¨-gsql-é…ç½®-opengauss"><a class="markdownIt-Anchor" href="#4ä½¿ç”¨-gsql-é…ç½®-opengauss"></a> 4.ä½¿ç”¨ gsql é…ç½® openGauss</h4>
<p>æ³¨æ„ï¼šopenGaussçš„dockeré•œåƒç‰ˆæœ¬æ˜¯æ²¡æœ‰<code>gs_om</code>å’Œ<code>gs_guc</code>ã€‚å¦å¤–ï¼Œåˆæ¬¡æ“ä½œæ•°æ®åº“æ—¶éœ€è¦åœ¨ommç”¨æˆ·ä¸‹è¿›è¡Œ</p>
<h5 id="ä½¿ç”¨-gsql-è¿æ¥åˆ°æ•°æ®åº“"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-gsql-è¿æ¥åˆ°æ•°æ®åº“"></a> ä½¿ç”¨ gsql è¿æ¥åˆ°æ•°æ®åº“</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">su - omm <span class="comment"># åˆ‡æ¢åˆ°ommç”¨æˆ·</span></span><br><span class="line">gsql -d postgres -U gaussdb -W<span class="string">&#x27;openGauss@123&#x27;</span> -h 127.0.0.1 -p 5432 <span class="comment"># åœ¨å®¹å™¨å†…éƒ¨å¯ä»¥ç›´æ¥è¿æ¥</span></span><br><span class="line"><span class="comment"># æ³¨æ„ç”¨æˆ·åæ˜¯gaussdbæ˜¯é»˜è®¤å­˜åœ¨çš„ç”¨æˆ·ï¼Œå¯†ç æ˜¯ä¹‹å‰åˆ›å»ºå®¹å™¨æ—¶è‡ªå®šä¹‰çš„ï¼Œ5432ç«¯å£æ˜¯é»˜è®¤çš„(æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´)</span></span><br></pre></td></tr></table></figure></div>
<blockquote>
<p>åœ¨å†…éƒ¨è®¿é—®æ•°æ®åº“æ—¶ä¹Ÿå¯ä»¥åªå†™<code>gsql</code>ä¸å¸¦ä»»ä½•å‚æ•°çš„å‘½ä»¤æ¥è¿æ¥æ•°æ®åº“</p>
<p>è¿™æ˜¯å› ä¸ºè¯¥openGaussé•œåƒé…ç½®äº†æœ¬åœ°ä¿¡ä»»æœºåˆ¶ï¼Œå› æ­¤åœ¨å®¹å™¨å†…è¿æ¥æ•°æ®åº“æ— éœ€å¯†ç ï¼Œä½†æ˜¯å¦‚æœè¦ä»å®¹å™¨å¤–éƒ¨ï¼ˆå…¶å®ƒä¸»æœºæˆ–è€…å…¶å®ƒå®¹å™¨ï¼‰è¿æ¥åˆ™å¿…é¡»è¦è¾“å…¥å¯†ç </p>
<p>å¯¹äºé€šè¿‡å…¶ä»–æ–¹å¼å®‰è£…openGaussçš„ï¼Œè¯·å¦è¡Œå‚è€ƒå…¶ä»–æ•™ç¨‹</p>
</blockquote>
<h5 id="åˆ›å»ºæ–°çš„æ•°æ®åº“ç”¨æˆ·"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ–°çš„æ•°æ®åº“ç”¨æˆ·"></a> åˆ›å»ºæ–°çš„æ•°æ®åº“ç”¨æˆ·</h5>
<p>ommç”¨æˆ·çš„æƒé™è¿‡å¤§ï¼Œä¸»è¦ç”¨äºè®¿é—®åˆå§‹æ•°æ®åº“è¿›è¡Œåˆå§‹é…ç½®ï¼Œä¸ºé¿å…ommç”¨æˆ·è¯¯æ“ä½œå¯¹æ•°æ®åº“é€ æˆé‡å¤§æŸå¤±ï¼Œè¿™é‡Œæ–°åˆ›å»ºä¸€ä¸ªæ™®é€šç”¨æˆ·å¹¶æˆäºˆåŸºæœ¬æƒé™ã€‚</p>
<p>æ³¨æ„ï¼šsqlè¯­å¥ç»“å°¾å¸¦åˆ†å·ã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> stu <span class="keyword">with</span> password &quot;Bigdata@123&quot;; # åˆ›å»ºä¸€ä¸ªç”¨æˆ·åä¸ºstuï¼Œå¯†ç ä¸ºBigdata<span class="variable">@123</span>çš„ç”¨æˆ·</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> stu sysadmin; # æˆäºˆç³»ç»Ÿç®¡ç†å‘˜æƒé™</span><br></pre></td></tr></table></figure></div>
<h5 id="åˆ›å»ºæ–°çš„æ•°æ®åº“"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ–°çš„æ•°æ®åº“"></a> åˆ›å»ºæ–°çš„æ•°æ®åº“</h5>
<p>openGaussæ•°æ®åº“ï¼Œè™½ç„¶è¢«ç§°ä¸ºæ•°æ®åº“ï¼Œä½†å®é™…ä¸Šå®ƒæ˜¯ä¸€ä¸ªRDBMSï¼ˆRelational Database Management Systemï¼Œå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰ã€‚å› æ­¤å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„æ•°æ®åº“ï¼Œè€Œæ˜¯ä¸€ä¸ªç®¡ç†å¤šä¸ªæ•°æ®åº“çš„ç³»ç»Ÿã€‚</p>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> database stu_test owner stu; # åˆ›å»ºä¸€ä¸ªåä¸ºstu_testçš„æ•°æ®åº“å¹¶æŒ‡å®šæ‰€æœ‰è€…ä¸ºstu</span><br></pre></td></tr></table></figure></div>
<h5 id="ä½¿ç”¨æ–°ç”¨æˆ·è¿æ¥"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ–°ç”¨æˆ·è¿æ¥"></a> ä½¿ç”¨æ–°ç”¨æˆ·è¿æ¥</h5>
<p>å…ˆä½¿ç”¨<code>\q</code>å‘½ä»¤é€€å‡ºæ•°æ®åº“ï¼Œå†ä½¿ç”¨æ–°ç”¨æˆ·è¿æ¥æ•°æ®åº“</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">gsql -d stu_test -U stu -W<span class="string">&#x27;Bigdata@123&#x27;</span> -h 127.0.0.1 -p 5432</span><br></pre></td></tr></table></figure></div>
<h4 id="5opengauss-æ•°æ®åº“çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#5opengauss-æ•°æ®åº“çš„ä½¿ç”¨"></a> 5.openGauss æ•°æ®åº“çš„ä½¿ç”¨</h4>
<h5 id="åŸºæœ¬æ“ä½œ"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ“ä½œ"></a> åŸºæœ¬æ“ä½œ</h5>
<ul>
<li>
<p>ä½¿ç”¨<code>\c dbname</code>åˆ‡æ¢æ•°æ®åº“ï¼ˆdbnameä¸ºæ•°æ®åº“åç§°ï¼‰</p>
</li>
<li>
<p>ä½¿ç”¨<code>\l</code>æŸ¥çœ‹æ•°æ®åº“ç³»ç»Ÿçš„æ•°æ®åº“åˆ—è¡¨</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡<code>SELECT datname FROM pg_database;</code>çš„æ–¹å¼é€šè¿‡ç³»ç»Ÿè¡¨æŸ¥è¯¢æ•°æ®åº“åˆ—è¡¨</p>
</li>
<li>
<p>ä½¿ç”¨<code>\dt</code>åˆ—ä¸¾æ•°æ®è¡¨ï¼Œå¦‚æœå½“å‰æ•°æ®åº“å†…è¿˜æ²¡æœ‰æ•°æ®è¡¨ï¼Œåˆ™è¾“å‡º<code>No relations found.</code></p>
<p>ä½¿ç”¨<code>\d+</code>åˆ—ä¸¾æ‰€æœ‰æ•°æ®è¡¨ã€è§†å›¾å’Œç´¢å¼•</p>
<p>ä½¿ç”¨<code>\d+ tablename</code>æŸ¥çœ‹æŒ‡å®šæ•°æ®è¡¨çš„å±æ€§</p>
<p>ä½¿ç”¨<code>\dn</code>åˆ—ä¸¾æ¶æ„ï¼ˆschemaï¼‰</p>
<p>ä½¿ç”¨<code>\di</code>æŸ¥çœ‹ç´¢å¼•</p>
</li>
<li>
<p>ä½¿ç”¨<code>\db</code>æŸ¥è¯¢è¡¨ç©ºé—´ï¼Œä¹Ÿå¯é€šè¿‡<code>SELECT spcname FROM pg_tablespace;</code>å®ç°</p>
</li>
<li>
<p>æŸ¥çœ‹æ•°æ®åº“ç”¨æˆ·åˆ—è¡¨<code>SELECT * FROM pg_user;</code></p>
</li>
<li>
<p>æŸ¥çœ‹ç”¨æˆ·å±æ€§<code>SELECT * FROM pg_authid;</code></p>
</li>
<li>
<p>æŸ¥çœ‹æ‰€æœ‰è§’è‰²<code>SELECT * FROM PG_ROLES;</code></p>
</li>
<li>
<p>ä½¿ç”¨<code>\c - username</code>åˆ‡æ¢åˆ°å…¶ä»–æ•°æ®åº“ç”¨æˆ·</p>
</li>
<li>
<p>ä½¿ç”¨<code>\q</code>å‘½ä»¤é€€å‡ºæ•°æ®åº“</p>
</li>
</ul>
<h5 id="åˆ›å»º-schema"><a class="markdownIt-Anchor" href="#åˆ›å»º-schema"></a> åˆ›å»º schema</h5>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> schema stu <span class="keyword">authorization</span> stu;</span><br></pre></td></tr></table></figure></div>
<h5 id="åˆ›å»ºæ•°æ®è¡¨"><a class="markdownIt-Anchor" href="#åˆ›å»ºæ•°æ®è¡¨"></a> åˆ›å»ºæ•°æ®è¡¨</h5>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu_table (id <span class="type">int</span>);</span><br></pre></td></tr></table></figure></div>
<h5 id="å‘è¡¨ä¸­æ·»åŠ æ•°æ®"><a class="markdownIt-Anchor" href="#å‘è¡¨ä¸­æ·»åŠ æ•°æ®"></a> å‘è¡¨ä¸­æ·»åŠ æ•°æ®</h5>
<div class="highlight-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu_table <span class="keyword">values</span> (<span class="number">100</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stu_table; # æŸ¥çœ‹æ•°æ®è¡¨å†…å®¹</span><br></pre></td></tr></table></figure></div>
<p>sqlè¯­æ³•åœ¨å¤§éƒ¨åˆ†æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRDBMSï¼‰ä¹‹é—´æ˜¯é€šç”¨çš„ï¼Œæ›´å¤šsqlè¯­æ³•å¯å‚è€ƒç¬”è€…çš„å¦ä¸€ç¯‡æ–‡ç« <a class="link"   href="https://www.entropy-tree.top/2022/08/21/MySQL-Base/" >MySQLåŸºç¡€ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>æ³¨æ„ï¼š<code>Postgresql</code>å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼Œä½¿ç”¨sqlè¯­å¥åˆ›å»ºå‡ºæ¥çš„æ•°æ®åº“ã€æ•°æ®è¡¨çš„åç§°ä»¥åŠæ•°æ®å†…å®¹ç­‰é»˜è®¤å…¨è½¬æ¢ä¸ºå°å†™å­—æ¯ï¼Œå¦‚æœéœ€è¦ä¸¥æ ¼åŒ¹é…å­—æ¯å¤§å°å†™ï¼Œè¯·åœ¨ç¼–å†™sqlè¯­å¥æ—¶ç”¨è‹±æ–‡åŒå¼•å·<code>&quot;&quot;</code>åŒ…å›´éœ€è¦æŒ‡å®šå¤§å°å†™çš„æ•°æ®åº“ã€æ•°æ®è¡¨çš„åç§°ä»¥åŠæ•°æ®å†…å®¹ç­‰ã€‚</p>
<h4 id="6å›¾å½¢åŒ–æ•°æ®åº“è¿æ¥å·¥å…·"><a class="markdownIt-Anchor" href="#6å›¾å½¢åŒ–æ•°æ®åº“è¿æ¥å·¥å…·"></a> 6.å›¾å½¢åŒ–æ•°æ®åº“è¿æ¥å·¥å…·</h4>
<p>è¿™é‡Œç¬”è€…å‚è€ƒäº†<a class="link"   href="https://zhuanlan.zhihu.com/p/366765114" >ä¸‰æ¬¾linuxä¸Šå¯ç”¨çš„æ•°æ®åº“å®¢æˆ·ç«¯è½¯ä»¶ | çŸ¥ä¹(zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œæ‰¾åˆ°äº†å‡ æ¬¾linuxå¹³å°ä¸Šå¼€æºçš„æ•°æ®åº“è¿æ¥å·¥å…·ã€‚è¿™é‡Œä»¥ <a class="link"   href="https://github.com/dbgate/dbgate" >DbGate <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ä¸ºä¾‹ï¼Œå…¶ä»–è¿æ¥å·¥å…·ä¹Ÿæ˜¯ç±»ä¼¼çš„é…ç½®æµç¨‹ã€‚</p>
<p>æ›´å¤šæ•°æ®åº“è¿æ¥å·¥å…·æ¨è</p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/160835224" >å¼€æº 5 æ¬¾è¶…å¥½ç”¨çš„æ•°æ®åº“ GUI å¸¦ä½ ç©è½¬ MongoDBã€Redisã€SQL æ•°æ®åº“ | çŸ¥ä¹(zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/532594566" >8ä¸ªé€‚ç”¨äº Linux ç®¡ç†å‘˜çš„æœ€ä½³MySQL/MariaDB GUI å·¥å…· <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h5 id="å®‰è£…å·¥å…·"><a class="markdownIt-Anchor" href="#å®‰è£…å·¥å…·"></a> å®‰è£…å·¥å…·</h5>
<p>åœ¨<code>Archlinux</code>ä¸‹å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤ç›´æ¥å®‰è£…</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">yay -S dbgate-bin</span><br></pre></td></tr></table></figure></div>
<p>å¤§è‡´ç•Œé¢å¦‚ä¸‹</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/05/opengauss-env-build/image-20230305214325422.png"
                      class="" title="image-20230305214325422"
                >
<h5 id="è¿æ¥é…ç½®"><a class="markdownIt-Anchor" href="#è¿æ¥é…ç½®"></a> è¿æ¥é…ç½®</h5>
<p>File â€”&gt; Add connection æ·»åŠ ä¸€ä¸ªæ–°çš„è¿æ¥</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/05/opengauss-env-build/image-20230305215251057.png"
                      class="" title="image-20230305215251057"
                >
<p>å¡«å†™é…ç½®ï¼Œå…¶ä¸­<code>Connection type</code>è®¾ç½®ä¸º<code>PostgreSQL</code>ï¼Œ<code>Port</code>ä¸ºdockeræ˜ å°„çš„ä¸»æœºç«¯å£å·ï¼Œ<code>User</code>å’Œ<code>Password</code>æ˜¯å‰é¢æ–°åˆ›å»ºçš„æ•°æ®åº“ç”¨æˆ·çš„åç§°å’Œå¯†ç ã€‚æœ€åç”¨<code>Test</code>æµ‹è¯•è¿æ¥æ˜¯å¦æˆåŠŸï¼Œç”¨<code>Save</code>ä¿å­˜è¿æ¥é…ç½®ï¼Œç”¨<code>Connect</code>è¿æ¥æ•°æ®åº“</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/05/opengauss-env-build/image-20230305215817927.png"
                      class="" title="image-20230305215817927"
                >
<p>æœ€ç»ˆè¿æ¥ç»“æœå¦‚ä¸‹</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/05/opengauss-env-build/image-20230305220707871.png"
                      class="" title="image-20230305220707871"
                >
<h5 id="ç¼–å†™-sql"><a class="markdownIt-Anchor" href="#ç¼–å†™-sql"></a> ç¼–å†™ SQL</h5>
<p>File â€”&gt; New query æ–°å»ºæŸ¥è¯¢ï¼ˆ.sqlæ–‡ä»¶ï¼‰ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­ç¼–å†™å…·ä½“çš„sqlè¯­å¥ã€‚</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/05/opengauss-env-build/image-20230305221246267.png"
                      class="" title="image-20230305221246267"
                >
<p>æˆ–è€…é€‰ä¸­å¯¹åº”çš„æ•°æ®åº“æ–°å»ºæŸ¥è¯¢ï¼Œç¡®ä¿æ–°å»ºæŸ¥è¯¢å’Œå…·ä½“çš„æ•°æ®åº“å¯¹åº”</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/05/opengauss-env-build/image-20230305225943364.png"
                      class="" title="image-20230305225943364"
                >
<p>ç¼–å†™å¹¶æ‰§è¡ŒSQLè¯­å¥</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/03/05/opengauss-env-build/image-20230305232407586.png"
                      class="" title="image-20230305232407586"
                >
<h4 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h4>
<p><a class="link"   href="https://www.modb.pro/db/27152" >opengauss dockerå®‰è£… | å¢¨å¤©è½®(modb.pro) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://hub.docker.com/r/enmotech/opengauss" >enmotech/opengauss | dockerhub(hub.docker.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://www.modb.pro/doc/4656" >opengauss dockerä»ç¯å¢ƒæ­å»ºåˆ°è¿è¡Œ | å¢¨å¤©è½®(modb.pro) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://blog.csdn.net/zhuyue_shenfeng/article/details/116056437" >openGaussæ•°æ®åº“åŸºæœ¬æ“ä½œ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>openGauss</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†æ²»æ³•ä¸å¤§æ•°ä¹˜æ³•</title>
    <url>/2023/03/21/partition-calculate-bigdata/</url>
    <content><![CDATA[<p>ä½¿ç”¨åˆ†æ²»æ³•è§£å†³å¤§æ•°ä¹˜æ³•é—®é¢˜<span id="more"></span></p>
<h2 id="é—®é¢˜åˆ†æ"><a class="markdownIt-Anchor" href="#é—®é¢˜åˆ†æ"></a> é—®é¢˜åˆ†æ</h2>
<p>å¤§æ•°ä¹˜æ³•é—®é¢˜ï¼Œç”±äºä¸é™åˆ¶æ•°æ®çš„å¤§å°ï¼Œä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹æ— æ³•ç›´æ¥è®¡ç®—è¶…è¿‡å…¶æœ€å¤§è¡¨ç¤ºèŒƒå›´çš„æ•°æ®ã€‚å› æ­¤éœ€è¦è€ƒè™‘å¯¹å¤§æ•°è¿›è¡Œ<strong>åˆ†è§£</strong>ã€‚</p>
<p>é¦–å…ˆè§‚å¯Ÿä¸€ä¸‹ï¼Œä¹˜æ³•æœ€åŸºç¡€çš„è®¡ç®—æ–¹æ³•â€”â€”åˆ—ç«–å¼ã€‚ä»¥<code>999*999</code>ä¸ºä¾‹</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">åä¸‡</th>
<th style="text-align:center">ä¸‡</th>
<th style="text-align:center">åƒ</th>
<th style="text-align:center">ç™¾</th>
<th style="text-align:center">å</th>
<th style="text-align:center">ä¸ª</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">9</td>
<td style="text-align:center">9</td>
<td style="text-align:center">9</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">9</td>
<td style="text-align:center">9</td>
<td style="text-align:center">9</td>
</tr>
<tr>
<td style="text-align:center">9*9</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">90*9</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">900*9</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">9*90</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">90*90</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">900*90</td>
<td style="text-align:center"></td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">9*900</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">90*900</td>
<td style="text-align:center"></td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">900*900</td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">9</td>
<td style="text-align:center">9</td>
<td style="text-align:center">8</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<p>å¯ä»¥çœ‹åˆ°å¤§æ•°ä¹˜æ³•è¢«åˆ†è§£ä¸ºäº†<strong>å¤šæ­¥ç®€å•çš„è®¡ç®—</strong>ï¼Œä¸”æ¯æ­¥è®¡ç®—æ˜¯<strong>ç›¸äº’ç‹¬ç«‹çš„</strong>ï¼Œæœ€ååªéœ€è¦å°†å¤šæ­¥è®¡ç®—çš„ç»“æœç´¯åŠ å³å¯ã€‚</p>
<h2 id="æ–¹æ³•å¼•å…¥"><a class="markdownIt-Anchor" href="#æ–¹æ³•å¼•å…¥"></a> æ–¹æ³•å¼•å…¥</h2>
<h3 id="åˆ†æ²»æ³•"><a class="markdownIt-Anchor" href="#åˆ†æ²»æ³•"></a> åˆ†æ²»æ³•</h3>
<h4 id="æ€æƒ³"><a class="markdownIt-Anchor" href="#æ€æƒ³"></a> æ€æƒ³</h4>
<p>å°†ä¸€ä¸ªéš¾ä»¥ç›´æ¥è§£å†³çš„å¤§é—®é¢˜ï¼Œåˆ†å‰²æˆä¸€äº›è§„æ¨¡è¾ƒå°çš„ç›¸åŒé—®é¢˜ï¼Œä»¥ä¾¿å„ä¸ªå‡»ç ´ï¼Œåˆ†è€Œæ²»ä¹‹ã€‚</p>
<h4 id="é€‚ç”¨æƒ…å†µ"><a class="markdownIt-Anchor" href="#é€‚ç”¨æƒ…å†µ"></a> é€‚ç”¨æƒ…å†µ</h4>
<p>åˆ†æ²»æ³•èƒ½å¤Ÿè§£å†³çš„é—®é¢˜å…·æœ‰ä»¥ä¸‹ç‰¹å¾</p>
<ol>
<li>è¯¥é—®é¢˜çš„è§„æ¨¡ç¼©å°åˆ°ä¸€å®šçš„ç¨‹åº¦å°±å¯ä»¥å¾ˆå®¹æ˜“åœ°è§£å†³ã€‚</li>
<li>é—®é¢˜å¯ä»¥åˆ†è§£ä¸ºå¤šä¸ªè§„æ¨¡è¾ƒå°çš„ç›¸åŒé—®é¢˜ï¼Œå³è¯¥é—®é¢˜å…·æœ‰<a class="link"   href="https://zhuanlan.zhihu.com/p/107755780" >æœ€ä¼˜å­ç»“æ„ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ã€‚</li>
<li>å°†è¯¥é—®é¢˜æ‰€åˆ†è§£å‡ºçš„å­é—®é¢˜çš„è§£åˆå¹¶å°±å¯ä»¥å¾—åˆ°è¯¥é—®é¢˜çš„è§£ã€‚</li>
<li>è¯¥é—®é¢˜æ‰€åˆ†è§£å‡ºçš„å„ä¸ªå­é—®é¢˜æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå³å­é—®é¢˜ä¹‹é—´ä¸å­˜åœ¨å…¬å…±æ€§çš„é—®é¢˜ã€‚</li>
</ol>
<p>ç‰¹å¾1æ˜¯å¤§å¤šæ•°é—®é¢˜éƒ½èƒ½æ»¡è¶³çš„</p>
<p>ç‰¹å¾2æ˜¯ä½¿ç”¨åˆ†æ²»æ³•çš„<strong>å‰æ</strong>ï¼Œä¹Ÿæ˜¯å¤§éƒ¨åˆ†é—®é¢˜èƒ½å¤Ÿæ»¡è¶³çš„</p>
<p>ç‰¹å¾3æ˜¯<strong>æœ€å…³é”®çš„</strong>ï¼Œèƒ½å¦åœ¨è¯¥é—®é¢˜ä¸Šä½¿ç”¨åˆ†æ²»æ³•<strong>å®Œå…¨å–å†³äºç‰¹å¾3</strong></p>
<p>ç‰¹å¾4æ¶‰åŠåˆ°åˆ†æ²»æ³•çš„<strong>æ•ˆç‡é—®é¢˜</strong>ï¼Œå¦‚æœå­é—®é¢˜ä¹‹é—´ä¸æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œåˆ™åˆ†æ²»æ³•éœ€è¦é‡å¤åœ°è§£å†³å…¬å…±çš„é—®é¢˜ï¼Œé™ä½æ•ˆç‡ã€‚é’ˆå¯¹è¿™ä¸ªæ•ˆç‡é—®é¢˜ï¼Œå°±è®¾è®¡å‡ºäº†<strong>åŠ¨æ€è§„åˆ’æ³•</strong>æ¥åº”å¯¹å…·æœ‰é‡å å­é—®é¢˜çš„æœ€ä¼˜å­ç»“æ„é—®é¢˜ã€‚</p>
<h4 id="ä½¿ç”¨æ­¥éª¤"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ­¥éª¤"></a> ä½¿ç”¨æ­¥éª¤</h4>
<ol>
<li>å°†åŸé—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªè§„æ¨¡è¾ƒå°ã€ç›¸äº’ç‹¬ç«‹ä¸”å’ŒåŸé—®é¢˜å½¢å¼ç›¸åŒçš„å­é—®é¢˜ã€‚</li>
<li>è‹¥å­é—®é¢˜è§„æ¨¡è¶³å¤Ÿå°åˆ™ç›´æ¥è§£å†³ï¼Œå¦åˆ™ä½¿ç”¨<strong>é€’å½’</strong>è¿›ä¸€æ­¥åˆ†è§£å­é—®é¢˜ç›´åˆ°èƒ½å¤Ÿè§£å†³ä¸ºæ­¢ã€‚</li>
<li>å°†å¤šä¸ªå­é—®é¢˜çš„è§£è¿”å›ï¼Œé€šè¿‡é€’å½’åˆå¹¶ä¸ºåŸé—®é¢˜çš„è§£ã€‚</li>
</ol>
<h2 id="æ–¹æ³•å®ç°"><a class="markdownIt-Anchor" href="#æ–¹æ³•å®ç°"></a> æ–¹æ³•å®ç°</h2>
<p>å‡è®¾æœ‰å¤§æ•°aï¼ˆé•¿åº¦ä¸ºnï¼‰å’Œbï¼ˆé•¿åº¦ä¸ºmï¼‰ã€‚è¿™é‡Œä½¿ç”¨äºŒåˆ†æ³•å°†å¤§æ•°è¿›è¡Œæ‹†åˆ†ï¼Œåˆ™å¤§æ•°aã€bå¯æ‹†åˆ†ä¸º</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>a</mi><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub><mo>âˆ—</mo><mn>1</mn><msup><mn>0</mn><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow></msup><mo>+</mo><msub><mi>a</mi><mn>0</mn></msub><mspace linebreak="newline"></mspace><mi>b</mi><mo>=</mo><msub><mi>b</mi><mn>1</mn></msub><mo>âˆ—</mo><mn>1</mn><msup><mn>0</mn><mrow><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow></msup><mo>+</mo><msub><mi>b</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">a=a_1*10^{n/2}+a_0\\
b=b_1*10^{m/2}+b_0
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0213299999999998em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mtight">/</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0213299999999998em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mtight">/</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>åˆ™</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>a</mi><mo>âˆ—</mo><mi>b</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>âˆ—</mo><mn>1</mn><msup><mn>0</mn><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow></msup><mo>+</mo><msub><mi>a</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo>âˆ—</mo><mo stretchy="false">(</mo><msub><mi>b</mi><mn>1</mn></msub><mo>âˆ—</mo><mn>1</mn><msup><mn>0</mn><mrow><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow></msup><mo>+</mo><msub><mi>b</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>1</mn></msub><mo>âˆ—</mo><mn>1</mn><msup><mn>0</mn><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo>+</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow></msup><mo>+</mo><msub><mi>a</mi><mn>1</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>0</mn></msub><mo>âˆ—</mo><mn>1</mn><msup><mn>0</mn><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo>+</mo><msub><mi>a</mi><mn>0</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>1</mn></msub><mo>âˆ—</mo><mn>1</mn><msup><mn>0</mn><mrow><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow></msup><mo>+</mo><msub><mi>a</mi><mn>0</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>0</mn></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
a*b=(a_1*10^{n/2}+a_0)*(b_1*10^{m/2}+b_0)\\
=a_1*b_1*10^{n/2+m/2}+a_1*b_0*10^{n/2}\\+a_0*b_1*10^{m/2}+a_0*b_0
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.7940000000000005em;vertical-align:-2.1470000000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6470000000000002em;"><span style="top:-4.7090000000000005em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mtight">/</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mtight">/</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.111em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mtight">/</span><span class="mord mtight">2</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">m</span><span class="mord mtight">/</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mtight">/</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.513em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">+</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mtight">/</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.1470000000000002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>å¯ä»¥å‘ç°å¤§æ•°ä¹˜æ³•åˆ†è§£æˆäº†å››ä¸ªå°æ•°ä¹˜æ³•ï¼Œå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1*b_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">a_1*b_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>0</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_0*b_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>0</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">a_0*b_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚å¦‚æœåˆ†è§£å‡ºæ¥çš„æ•°å­—è¿˜æ˜¯è¿‡å¤§å¯ä»¥è¿›ä¸€æ­¥åˆ†è§£ã€‚è¿™é‡Œè€ƒè™‘å°†å¤§æ•°aã€båˆ†è§£åˆ°åªæœ‰ä¸€ä½æ•°å­—çš„è§„æ¨¡è¿›è¡Œæ±‚è§£ã€‚</p>
<h3 id="æ–¹æ³•å‡½æ•°è®¾è®¡"><a class="markdownIt-Anchor" href="#æ–¹æ³•å‡½æ•°è®¾è®¡"></a> æ–¹æ³•å‡½æ•°è®¾è®¡</h3>
<p>å‡½æ•°åŸå‹ï¼šä»¥å­—ç¬¦ä¸²ç±»å‹ä¼ é€’ä¸¤ä¸ªå¤§æ•°</p>
<div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">string <span class="title">cal</span><span class="params">(string, string)</span></span>;</span><br></pre></td></tr></table></figure></div>
<p>å…ˆè®¾è®¡å¯¹è¾ƒå°è§„æ¨¡çš„æ–¹æ³•å¤„ç†ï¼Œåˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦ï¼Œå°†ä¸¤ä¸ªå­—ç¬¦ä¸²è½¬ä¸º<code>int</code>è¿›è¡Œè®¡ç®—ä¹‹åå†è½¬å›å­—ç¬¦ä¸²è¿”å›</p>
<div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (a.<span class="built_in">length</span>() &lt; <span class="number">2</span> &amp;&amp; b.<span class="built_in">length</span>() &lt; <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="type">int</span> ai = <span class="built_in">stoi</span>(a);</span><br><span class="line">  <span class="type">int</span> bi = <span class="built_in">stoi</span>(b);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">to_string</span>(ai * bi);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å†è®¾è®¡é€’å½’è¡¨è¾¾å¼ï¼Œè¿™é‡Œä½¿ç”¨äºŒåˆ†æ³•åˆ†è§£å¤§æ•°ã€‚</p>
<p>äºŒåˆ†æ³•è·å–å¤§æ•°çš„å‰åŠéƒ¨åˆ†å’ŒååŠéƒ¨åˆ†ï¼Œä¸»è¦é€šè¿‡<code>substr</code>å‡½æ•°å®ç°ã€‚</p>
<div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é•¿åº¦å¯¹åŠåˆ†</span></span><br><span class="line"><span class="type">int</span> ahalflen = a.<span class="built_in">length</span>() / <span class="number">2</span>;</span><br><span class="line"><span class="type">int</span> bhalflen = b.<span class="built_in">length</span>() / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤§æ•´æ•°åˆ†æˆå‰åŠéƒ¨åˆ†å’ŒååŠéƒ¨åˆ†</span></span><br><span class="line">string ahead = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">string atail = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a.<span class="built_in">length</span>() &gt; ahalflen &amp;&amp; ahalflen &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="comment">// substr(pos, len) æˆªå–ä¸€ä¸ªå­—ç¬¦ä¸²ä»posä½ç½®å¼€å§‹ï¼Œé•¿åº¦ä¸ºlençš„éƒ¨åˆ†</span></span><br><span class="line">  ahead = a.<span class="built_in">substr</span>(<span class="number">0</span>, ahalflen);</span><br><span class="line">  atail = a.<span class="built_in">substr</span>(ahalflen, a.<span class="built_in">length</span>() - ahalflen);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  ahead = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">  atail = a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">string bhead = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">string btail = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (b.<span class="built_in">length</span>() &gt; bhalflen &amp;&amp; bhalflen &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  bhead = b.<span class="built_in">substr</span>(<span class="number">0</span>, bhalflen);</span><br><span class="line">  btail = b.<span class="built_in">substr</span>(bhalflen, b.<span class="built_in">length</span>() - bhalflen);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  bhead = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">  btail = b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>é€’å½’è¡¨è¾¾å¼çš„è®¾è®¡ï¼Œå‚è€ƒå‰é¢å°†å¤§æ•°aã€bçš„ä¹˜æ³•åˆ†è§£ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1*b_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">a_1*b_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>0</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_0*b_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>0</mn></msub><mo>âˆ—</mo><msub><mi>b</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">a_0*b_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å››ä¸ªä¹˜æ³•ï¼Œè¿™é‡Œä¹Ÿè®¾è®¡å››ä¸ªé€’å½’è¡¨è¾¾å¼å¯¹åº”å››ä¸ªä¹˜æ³•ã€‚</p>
<div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="code"><pre><span class="line">string ahbh = <span class="built_in">cal</span>(ahead, bhead);</span><br><span class="line">string atbt = <span class="built_in">cal</span>(atail, btail);</span><br><span class="line">string ahbt = <span class="built_in">cal</span>(ahead, btail);</span><br><span class="line">string atbh = <span class="built_in">cal</span>(atail, bhead);</span><br></pre></td></tr></table></figure></div>
<p>å¯¹ä¹˜æ³•çš„è§£è¿›è¡Œç›¸åº”çš„è¡¥ä½ã€‚</p>
<div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="code"><pre><span class="line">ahbh.<span class="built_in">append</span>((a.<span class="built_in">length</span>() - ahalflen) + (b.<span class="built_in">length</span>() - bhalflen), <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">ahbt.<span class="built_in">append</span>(a.<span class="built_in">length</span>() - ahalflen, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">atbh.<span class="built_in">append</span>(b.<span class="built_in">length</span>() - bhalflen, <span class="string">&#x27;0&#x27;</span>);</span><br></pre></td></tr></table></figure></div>
<p>å°†å››ä¸ªä¹˜æ³•çš„è§£åˆå¹¶å¹¶è¿”å›ï¼Œå…¶ä¸­<code>add</code>å‡½æ•°æ˜¯è‡ªå®šä¹‰è®¾è®¡çš„ç”¨äºå¤§æ•°åŠ æ³•è®¡ç®—çš„å‡½æ•°</p>
<div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="code"><pre><span class="line">string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">res = <span class="built_in">add</span>(ahbh, ahbt);</span><br><span class="line">res = <span class="built_in">add</span>(res, atbh);</span><br><span class="line">res = <span class="built_in">add</span>(res, atbt);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> res;</span><br></pre></td></tr></table></figure></div>
<p>å…³äº<code>add</code>å‡½æ•°çš„è®¾è®¡æ€è·¯ï¼šä½¿ç”¨<code>int</code>æ•°ç»„ä»åå¾€å‰ä¾æ¬¡å­˜å‚¨å¤§æ•°çš„æ¯ä¸€ä½æ•°ï¼ŒåŒæ—¶æœ€åçš„<code>int</code>æ•°ç»„æ ¹æ®å®é™…æƒ…å†µé¢å¤–å­˜å‚¨ä¸€ä½å› è¿›ä½è€Œäº§ç”Ÿçš„æ•°å­—ã€‚</p>
<p>å…·ä½“æµç¨‹</p>
<p>è·å–ä¸¤ä¸ªå¤§æ•°ä¸­æœ€å¤§çš„é•¿åº¦ï¼Œåè½¬ä¸¤ä¸ªå¤§æ•°å­—ç¬¦ä¸²ä»ä¸ªä½æ•°å¼€å§‹è®¡ç®—ã€‚</p>
<p>æ¯æ¬¡è®¡ç®—å–å‡ºå¯¹åº”ä½æ•°ä¸Šçš„æ•°å­—è½¬ä¸º<code>int</code>è¿›è¡Œè®¡ç®—ï¼Œåˆ¤æ–­å…¶å€¼æ˜¯å¦éœ€è¦åšè¿›ä½å¤„ç†ã€‚</p>
<p>è®¡ç®—å®Œæˆåï¼Œç”±äºæ­¤æ—¶å­—ç¬¦ä¸²æ˜¯åè½¬çš„çŠ¶æ€ï¼Œè¿˜éœ€è¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¸€æ¬¡åè½¬ã€‚</p>
<p>è¿™é‡Œçš„åè½¬çš„å¾ªç¯ä»åå¾€å‰ï¼Œå»é™¤æ‰é«˜ä½ä¸Šä¸éœ€è¦çš„0ï¼ŒåŒæ—¶ä½¿ç”¨<code>zeroStart</code>æ¥å¤„ç†éœ€è¦ä¿ç•™çš„ä¸­é—´éƒ¨åˆ†çš„0ï¼Œå°†éœ€è¦ä¿ç•™çš„æ•°å­—ä»åå¾€å‰æ‹¼æ¥èµ·æ¥å¹¶è¿”å›è®¡ç®—ç»“æœã€‚</p>
<div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">string <span class="title">add</span><span class="params">(string a, string b)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> maxlen = <span class="built_in">max</span>(a.<span class="built_in">length</span>(), b.<span class="built_in">length</span>());</span><br><span class="line">  <span class="type">int</span> *sum = <span class="keyword">new</span> <span class="type">int</span>[maxlen]();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">reverse</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line">  <span class="built_in">reverse</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; maxlen; i++) &#123;</span><br><span class="line">    <span class="type">int</span> a_bit = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> b_bit = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; a.<span class="built_in">length</span>()) &#123;</span><br><span class="line">      <span class="comment">// string(num, c) ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«numä¸ªcå­—ç¬¦</span></span><br><span class="line">      a_bit = <span class="built_in">stoi</span>(<span class="built_in">string</span>(<span class="number">1</span>, a.<span class="built_in">at</span>(i)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (i &lt; b.<span class="built_in">length</span>()) &#123;</span><br><span class="line">      b_bit = <span class="built_in">stoi</span>(<span class="built_in">string</span>(<span class="number">1</span>, b.<span class="built_in">at</span>(i)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sum[i] += (a_bit + b_bit);</span><br><span class="line">    <span class="keyword">if</span> (i &lt; maxlen - <span class="number">1</span> &amp;&amp; sum[i] &gt; <span class="number">9</span>) &#123;</span><br><span class="line">      sum[i + <span class="number">1</span>] = sum[i] / <span class="number">10</span>;</span><br><span class="line">      sum[i] %= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="type">bool</span> zeroStart = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = maxlen - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">if</span> (sum[i] == <span class="number">0</span> &amp;&amp; zeroStart) &#123;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    zeroStart = <span class="literal">false</span>;</span><br><span class="line">    res.<span class="built_in">append</span>(<span class="built_in">to_string</span>(sum[i]));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>é€šè¿‡<code>add</code>å‡½æ•°å’Œ<code>cal</code>å‡½æ•°å°±èƒ½å®ç°ä»»æ„å¤§æ•°çš„ä¹˜æ³•è¿ç®—ï¼Œè§£é¢˜çš„å…³é”®åœ¨äºè€ƒè™‘å°†ä¸¤ä¸ªå¤§æ•°çš„ä¹˜æ³•åˆ†è§£ä¸ºå¤šä¸ªå°æ•°çš„ä¹˜æ³•ã€‚</p>
<h2 id="æºä»£ç "><a class="markdownIt-Anchor" href="#æºä»£ç "></a> æºä»£ç </h2>
<p>å®Œæ•´æºä»£ç å‚è€ƒå¦‚ä¸‹</p>
<div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">add</span><span class="params">(string a, string b)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> maxlen = <span class="built_in">max</span>(a.<span class="built_in">length</span>(), b.<span class="built_in">length</span>());</span><br><span class="line">  <span class="type">int</span> *sum = <span class="keyword">new</span> <span class="type">int</span>[maxlen]();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">reverse</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line">  <span class="built_in">reverse</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; maxlen; i++) &#123;</span><br><span class="line">    <span class="type">int</span> a_bit = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> b_bit = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; a.<span class="built_in">length</span>()) &#123;</span><br><span class="line">      <span class="comment">// string(num, c) ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåŒ…å«numä¸ªcå­—ç¬¦</span></span><br><span class="line">      a_bit = <span class="built_in">stoi</span>(<span class="built_in">string</span>(<span class="number">1</span>, a.<span class="built_in">at</span>(i)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (i &lt; b.<span class="built_in">length</span>()) &#123;</span><br><span class="line">      b_bit = <span class="built_in">stoi</span>(<span class="built_in">string</span>(<span class="number">1</span>, b.<span class="built_in">at</span>(i)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sum[i] += (a_bit + b_bit);</span><br><span class="line">    <span class="keyword">if</span> (i &lt; maxlen - <span class="number">1</span> &amp;&amp; sum[i] &gt; <span class="number">9</span>) &#123;</span><br><span class="line">      sum[i + <span class="number">1</span>] = sum[i] / <span class="number">10</span>;</span><br><span class="line">      sum[i] %= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="type">bool</span> zeroStart = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = maxlen - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">if</span> (sum[i] == <span class="number">0</span> &amp;&amp; zeroStart) &#123;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    zeroStart = <span class="literal">false</span>;</span><br><span class="line">    res.<span class="built_in">append</span>(<span class="built_in">to_string</span>(sum[i]));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">cal</span><span class="params">(string a, string b)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// è§„æ¨¡è¶³å¤Ÿå°ç›´æ¥è¿”å›ç»“æœ</span></span><br><span class="line">  <span class="keyword">if</span> (a.<span class="built_in">length</span>() &lt; <span class="number">2</span> &amp;&amp; b.<span class="built_in">length</span>() &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="type">int</span> ai = <span class="built_in">stoi</span>(a);</span><br><span class="line">    <span class="type">int</span> bi = <span class="built_in">stoi</span>(b);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">to_string</span>(ai * bi);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é•¿åº¦å¯¹åŠåˆ†</span></span><br><span class="line">  <span class="type">int</span> ahalflen = a.<span class="built_in">length</span>() / <span class="number">2</span>;</span><br><span class="line">  <span class="type">int</span> bhalflen = b.<span class="built_in">length</span>() / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¤§æ•´æ•°åˆ†æˆå‰åŠéƒ¨åˆ†å’ŒååŠéƒ¨åˆ†</span></span><br><span class="line">  string ahead = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">  string atail = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (a.<span class="built_in">length</span>() &gt; ahalflen &amp;&amp; ahalflen &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// substr(pos, len) æˆªå–ä¸€ä¸ªå­—ç¬¦ä¸²ä»posä½ç½®å¼€å§‹ï¼Œé•¿åº¦ä¸ºlençš„éƒ¨åˆ†</span></span><br><span class="line">    ahead = a.<span class="built_in">substr</span>(<span class="number">0</span>, ahalflen);</span><br><span class="line">    atail = a.<span class="built_in">substr</span>(ahalflen, a.<span class="built_in">length</span>() - ahalflen);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    ahead = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    atail = a;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  string bhead = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">  string btail = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (b.<span class="built_in">length</span>() &gt; bhalflen &amp;&amp; bhalflen &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    bhead = b.<span class="built_in">substr</span>(<span class="number">0</span>, bhalflen);</span><br><span class="line">    btail = b.<span class="built_in">substr</span>(bhalflen, b.<span class="built_in">length</span>() - bhalflen);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    bhead = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    btail = b;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  string ahbh = <span class="built_in">cal</span>(ahead, bhead);</span><br><span class="line">  string atbt = <span class="built_in">cal</span>(atail, btail);</span><br><span class="line">  string ahbt = <span class="built_in">cal</span>(ahead, btail);</span><br><span class="line">  string atbh = <span class="built_in">cal</span>(atail, bhead);</span><br><span class="line"></span><br><span class="line">  ahbh.<span class="built_in">append</span>((a.<span class="built_in">length</span>() - ahalflen) + (b.<span class="built_in">length</span>() - bhalflen), <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  ahbt.<span class="built_in">append</span>(a.<span class="built_in">length</span>() - ahalflen, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">  atbh.<span class="built_in">append</span>(b.<span class="built_in">length</span>() - bhalflen, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  res = <span class="built_in">add</span>(ahbh, ahbt);</span><br><span class="line">  res = <span class="built_in">add</span>(res, atbh);</span><br><span class="line">  res = <span class="built_in">add</span>(res, atbt);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  string a, b;</span><br><span class="line">  cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">  cout &lt;&lt; <span class="built_in">cal</span>(a, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<p><a class="link"   href="https://zhuanlan.zhihu.com/p/305669278" >çœ‹äº†å°±ä¼šçš„å¤§æ•´æ•°ä¹˜æ³•è¿ç®—ä¸åˆ†æ²»ç®—æ³• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   href="https://blog.csdn.net/weixin_43872728/article/details/101082875" >åˆ†æ²»ç®—æ³•è¯¦è§£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨linuxç»ˆç«¯æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯</title>
    <url>/2022/12/30/screenfetch-neofetch/</url>
    <content><![CDATA[<p>åœ¨linuxæ“ä½œç³»ç»Ÿçš„æ¡Œé¢ç”¨æˆ·ç¾¤ä½“ä¸­, ä¸€ä¸ªèƒ½å¤Ÿæ‰“å°linuxå‘è¡Œç‰ˆlogoä»¥åŠç›¸å…³ç³»ç»Ÿä¿¡æ¯çš„å‘½ä»¤, ä¸€å®šç¨‹åº¦ä¸Šèƒ½å¤Ÿä½¿ä¸åŒç”¨æˆ·çš„linuxç³»ç»Ÿæ›´åŠ ä¸ªæ€§åŒ–ã€‚åŸºäºUbuntu22.04LTS, ä¸‹é¢ä»‹ç»ä¸¤ä¸ªç›¸å…³å‘½ä»¤<span id="more"></span></p>
<h3 id="screenfetchå‘½ä»¤"><a class="markdownIt-Anchor" href="#screenfetchå‘½ä»¤"></a> screenfetchå‘½ä»¤</h3>
<h4 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h4>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install screenfetch</span><br></pre></td></tr></table></figure></div>
<h4 id="ä½¿ç”¨"><a class="markdownIt-Anchor" href="#ä½¿ç”¨"></a> ä½¿ç”¨</h4>
<p>ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">screenfetch</span><br></pre></td></tr></table></figure></div>
<p>æ•ˆæœå¦‚ä¸‹</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2022/12/30/screenfetch-neofetch/screenfetch-202212300156995.png"
                      class="" title="screenfetch-202212300156995"
                >
<h4 id="å¯èƒ½å‡ºç°çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å¯èƒ½å‡ºç°çš„é—®é¢˜"></a> å¯èƒ½å‡ºç°çš„é—®é¢˜</h4>
<p>Ubuntu22.04LTSç›´æ¥ä½¿ç”¨screenfetchå¯èƒ½ä¼šå‡ºç°æ“ä½œæ•°é—®é¢˜, ä»è€Œå¯¼è‡´éƒ¨åˆ†ä¿¡æ¯æ— æ³•æ­£ç¡®æ˜¾ç¤ºã€‚å¯ä»¥æ ¹æ®æç¤ºä¿¡æ¯æ‰¾åˆ°å¯¹åº”è„šæœ¬æ–‡ä»¶è¿›è¡Œä¿®æ”¹</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /usr/bin/screenfetch</span><br></pre></td></tr></table></figure></div>
<p>æ‰¾åˆ°æç¤ºçš„é…ç½®æ–‡ä»¶æ‰€åœ¨è¡Œ</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2022/12/30/screenfetch-neofetch/screenfetch202212300215987.png"
                      class="" title="screenfetch202212300215987"
                >
<p><strong>ç»è¿‡æµ‹è¯•å®é™…ä¸Šæ˜¯awkå‘½ä»¤è¯†åˆ«é”™è¯¯</strong></p>
<p>ä½¿ç”¨freeå‘½ä»¤æŸ¥çœ‹ç›¸å…³ä¿¡æ¯, é…åˆawkæŸ¥çœ‹è¾“å‡ºæƒ…å†µ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">free -b</span><br><span class="line">free -b | awk <span class="string">&#x27;&#123;print $1&quot;-&quot;$6&#125;&#x27;</span></span><br><span class="line">free -b | awk <span class="string">&#x27;&#123;print $2&quot;-&quot;$7&#125;&#x27;</span></span><br><span class="line">free -b | awk -F <span class="string">&#x27;:&#x27;</span> <span class="string">&#x27;NR==2&#123;print $1&#125;&#x27;</span> | awk <span class="string">&#x27;&#123;print $2&quot;-&quot;$7&#125;&#x27;</span></span><br></pre></td></tr></table></figure></div>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2022/12/30/screenfetch-neofetch/screenfetch202212300228383.png"
                      class="" title="screenfetch202212300228383"
                >
<p>ä¿®æ”¹è„šæœ¬æ–‡ä»¶ä¸­çš„å‘½ä»¤</p>
<p>å°†åŸæœ¬çš„<code>free -b | awk -F ':' 'NR==2&#123;print $2&#125;' | awk '&#123;print $1&quot;-&quot;$6&#125;'</code>æ›¿æ¢ä¸º<code>free -b | awk -F ':' 'NR==2&#123;print $1&#125;' | awk '&#123;print $2&quot;-&quot;$7&#125;'</code></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2022/12/30/screenfetch-neofetch/screenfetch202212300256553.png"
                      class="" title="screenfetch202212300256553"
                >
<p>é‡æ–°è¿è¡Œscreenfetch, æ•ˆæœå¦‚ä¸‹, æ‰€æœ‰ä¿¡æ¯éƒ½èƒ½æ­£å¸¸è¾“å‡º</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2022/12/30/screenfetch-neofetch/screenfetch202212300258212.png"
                      class="" title="screenfetch202212300258212"
                >
<h3 id="neofetchå‘½ä»¤"><a class="markdownIt-Anchor" href="#neofetchå‘½ä»¤"></a> neofetchå‘½ä»¤</h3>
<p>neofetchç›¸å¯¹äºscreenfetchå¯å®šåˆ¶æ€§æ›´é«˜, æ¨èä½¿ç”¨</p>
<h4 id="å®‰è£…-2"><a class="markdownIt-Anchor" href="#å®‰è£…-2"></a> å®‰è£…</h4>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install neofetch</span><br></pre></td></tr></table></figure></div>
<h4 id="æ‰‹åŠ¨ç¼–è¯‘å®‰è£…"><a class="markdownIt-Anchor" href="#æ‰‹åŠ¨ç¼–è¯‘å®‰è£…"></a> æ‰‹åŠ¨ç¼–è¯‘å®‰è£…</h4>
<p>ä»githubå…‹éš†ä¸‹æ¥çš„æºä»£ç ç¼–è¯‘å®‰è£…, å¯ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„neofetch</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/dylanaraps/neofetch</span><br><span class="line"><span class="built_in">cd</span> neofetch</span><br><span class="line">make install</span><br></pre></td></tr></table></figure></div>
<h4 id="ä½¿ç”¨-2"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-2"></a> ä½¿ç”¨</h4>
<p>ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">neofetch</span><br></pre></td></tr></table></figure></div>
<p>æ•ˆæœå¦‚ä¸‹(è¿™é‡Œæˆ‘ä½¿ç”¨äº†kdeç¯å¢ƒ)</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2022/12/30/screenfetch-neofetch/neofetch202212300318461.png"
                      class="" title="neofetch202212300318461"
                >
<p>æ³¨æ„neofetché»˜è®¤ä¸æ˜¾ç¤ºDiskä¿¡æ¯, å¯ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥æ˜¾ç¤ºDiskä¿¡æ¯</p>
<p>ç¼–è¾‘é…ç½®æ–‡ä»¶</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim ~/.config/neofetch/config.conf</span><br></pre></td></tr></table></figure></div>
<p>æ·»åŠ å¦‚ä¸‹çš„Diské…ç½®å³å¯, åŒç†å…¶å®ƒä¿¡æ¯æ˜¾ç¤ºä¹Ÿå¯ä»¥é€šè¿‡ç±»ä¼¼é…ç½®å®ç°è¾“å‡º</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2022/12/30/screenfetch-neofetch/neofetch202212300326391.png"
                      class="" title="neofetch202212300326391"
                >
<h4 id="å…¶ä»–ç”¨æ³•"><a class="markdownIt-Anchor" href="#å…¶ä»–ç”¨æ³•"></a> å…¶ä»–ç”¨æ³•</h4>
<h5 id="æ˜¾ç¤ºå¦ä¸€ä¸ªå‘è¡Œç‰ˆçš„æ ‡å¿—"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºå¦ä¸€ä¸ªå‘è¡Œç‰ˆçš„æ ‡å¿—"></a> æ˜¾ç¤ºå¦ä¸€ä¸ªå‘è¡Œç‰ˆçš„æ ‡å¿—</h5>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># neofetch --ascii_distro distroname</span></span><br><span class="line">neofetch --ascii_distro <span class="built_in">arch</span></span><br><span class="line">neofetch --ascii_distro debian</span><br><span class="line"><span class="comment"># åœ¨å‘è¡Œç‰ˆåç§°åé¢åŠ ä¸Šåç¼€_smallå¯è¾“å‡ºå¯¹åº”å‘è¡Œç‰ˆçš„è¿·ä½ æ ‡å¿—</span></span><br><span class="line">neofetch --ascii_distro arch_small</span><br><span class="line">neofetch --ascii_distro debian_small</span><br></pre></td></tr></table></figure></div>
<p>æ•ˆæœå¦‚ä¸‹</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2022/12/30/screenfetch-neofetch/neofetch202212300335106.png"
                      class="" title="neofetch202212300335106"
                >
<h5 id="éšè—logoä¿¡æ¯"><a class="markdownIt-Anchor" href="#éšè—logoä¿¡æ¯"></a> éšè—logoä¿¡æ¯</h5>
<p>åªè¾“å‡ºç³»ç»Ÿä¿¡æ¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">neofetch --off</span><br></pre></td></tr></table></figure></div>
<h5 id="éšè—ç³»ç»Ÿä¿¡æ¯"><a class="markdownIt-Anchor" href="#éšè—ç³»ç»Ÿä¿¡æ¯"></a> éšè—ç³»ç»Ÿä¿¡æ¯</h5>
<p>åªè¾“å‡ºlogoä¿¡æ¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">neofetch -l</span><br></pre></td></tr></table></figure></div>
<h5 id="æ¸å˜è‰²logo"><a class="markdownIt-Anchor" href="#æ¸å˜è‰²logo"></a> æ¸å˜è‰²logo</h5>
<p><strong>neofetché…åˆlolcatå®ç°æ¸å˜è‰²çš„logo</strong></p>
<p>å®‰è£…lolcat</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install lolcat</span><br></pre></td></tr></table></figure></div>
<p>ä½¿ç”¨ç®¡é“å‘½ä»¤</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">neofetch | lolcat</span><br></pre></td></tr></table></figure></div>
<h5 id="è‡ªå®šä¹‰å›¾ç‰‡logo"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰å›¾ç‰‡logo"></a> è‡ªå®šä¹‰å›¾ç‰‡logo</h5>
<p><strong>neofetché…åˆw3mè‡ªå®šä¹‰å›¾ç‰‡ä½œä¸ºlogoåœ¨ç»ˆç«¯å±•ç¤º</strong></p>
<p>å®‰è£…w3m-img</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install w3m-img</span><br></pre></td></tr></table></figure></div>
<p>æµ‹è¯•ä¸€ä¸‹èƒ½å¦æ˜¾ç¤ºå›¾ç‰‡</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">w3m www.baidu.com</span><br></pre></td></tr></table></figure></div>
<p>æ·»åŠ å›¾ç‰‡è·¯å¾„, å¦åˆ™é»˜è®¤ä¸ºæ¡Œé¢å£çº¸</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">neofetch --w3m img/logo.png <span class="comment"># å›¾ç‰‡è·¯å¾„æ ¹æ®å®é™…æƒ…å†µç¼–å†™</span></span><br></pre></td></tr></table></figure></div>
<p>åœ¨è¿™è¾¹çš„æµ‹è¯•ç¯å¢ƒä¸‹w3må‡ºç°äº†ä¸€å®šçš„æ˜¾ç¤ºé—®é¢˜, å¯ä»¿ç…§ä¸Šè¿°æ ¼å¼æ›¿æ¢å‚æ•°è¿›è¡Œæµ‹è¯•</p>
<p>å…¶å®ƒçš„æ˜¾ç¤ºå›¾ç‰‡å‚æ•°cacaã€jp2aæ˜¾ç¤ºçš„æ˜¯å­—ç¬¦ç»„æˆçš„logo, chafaæ˜¾ç¤ºçš„æ˜¯ä½åƒç´ å›¾, iterm2ã€sixelæ˜¾ç¤ºçš„æ˜¯é«˜åƒç´ å›¾</p>
<p><strong>æ³¨æ„: æµ‹è¯•ç¯å¢ƒä¸ºkde, ä¸åŒç¯å¢ƒåŒ…æ‹¬ä¸åŒé…ç½®åœ¨ç»ˆç«¯å±•ç¤ºçš„å›¾ç‰‡ä¸ä¸€å®šå…·æœ‰åŒç­‰æ•ˆæœ, ä¸”å­˜åœ¨ä¸€å®šçš„ç‘•ç–µ, è¯·æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé…ç½®</strong></p>
<h4 id="é»˜è®¤ç»ˆç«¯å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œneofetch"><a class="markdownIt-Anchor" href="#é»˜è®¤ç»ˆç«¯å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œneofetch"></a> é»˜è®¤ç»ˆç«¯å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œneofetch</h4>
<p>æŸ¥çœ‹shellé…ç½®</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/shells</span><br></pre></td></tr></table></figure></div>
<p>æ ¹æ®å®é™…é…ç½®ä¿®æ”¹å¯¹åº”é…ç½®æ–‡ä»¶, Ubuntu22.04LTSé»˜è®¤ä¸ºbash, å¦å¤–è¿˜æœ‰zsh</p>
<p>ä¿®æ”¹bashé…ç½®æ–‡ä»¶</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim ~/.bashrc</span><br></pre></td></tr></table></figure></div>
<p>ä¿®æ”¹zshé…ç½®æ–‡ä»¶</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo vim ~/.zshrc</span><br></pre></td></tr></table></figure></div>
<p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ <strong>neofetch</strong>å³å¯</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linuxä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>åç¼€è¡¨è¾¾å¼</title>
    <url>/2022/10/27/suffix-expression/</url>
    <content><![CDATA[<h3 id="åŸºäºstlçš„ä¸­ç¼€è½¬åç¼€å®ç°"><a class="markdownIt-Anchor" href="#åŸºäºstlçš„ä¸­ç¼€è½¬åç¼€å®ç°"></a> åŸºäºSTLçš„ä¸­ç¼€è½¬åç¼€å®ç°</h3>
<h4 id="1å®šä¹‰åˆ†æ"><a class="markdownIt-Anchor" href="#1å®šä¹‰åˆ†æ"></a> 1.å®šä¹‰åˆ†æ</h4>
<p><strong>é¦–å…ˆæ˜ç¡®åç¼€è¡¨è¾¾å¼çš„å®šä¹‰</strong></p>
<p>åç¼€è¡¨è¾¾å¼æ˜¯ä¸€ç§ä¸éœ€è¦æ‹¬å·çš„è¡¨è¾¾å¼ï¼Œè¿™è¡¨ç¤ºåœ¨å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼æ—¶ï¼Œå¦‚æœä¸­ç¼€è¡¨è¾¾å¼ä¸­å­˜åœ¨æ‹¬å·ï¼Œ<strong>ä¸èƒ½å°†æ‹¬å·å†™å…¥åç¼€è¡¨è¾¾å¼</strong><span id="more"></span></p>
<p>é‚£ä¹ˆè¿™é‡Œå¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼Œåç¼€è¡¨è¾¾å¼ä¸­ä¸å­˜åœ¨æ‹¬å·é‚£è¦å¦‚ä½•è¡¨ç¤ºè¿ç®—çš„ä¼˜å…ˆçº§ï¼Ÿ</p>
<p><strong>ç†è§£åç¼€è¡¨è¾¾å¼çš„è¿ç®—è¿‡ç¨‹</strong></p>
<p>ä»¥(1+5-4)*(6-9)ä¸ºä¾‹ï¼Œå®ƒçš„åç¼€è¡¨è¾¾å¼æ˜¯15+4-69-*</p>
<p>å…ˆåˆ†æä¸­ç¼€è¡¨è¾¾å¼çš„è¿ç®—è¿‡ç¨‹ï¼Œå‚ä¸è¿ç®—è¿‡ç¨‹çš„æ“ä½œç¬¦ä¾æ¬¡æ˜¯+ - - *ï¼Œæ­£å¥½æ˜¯åç¼€è¡¨è¾¾å¼ä¸­ä»å·¦å¾€å³çš„æ“ä½œç¬¦é¡ºåºã€‚è€Œæ“ä½œç¬¦æ‰€æ¶‰åŠåˆ°çš„2ä¸ªæ“ä½œæ•°éƒ½æ˜¯ä½äºè¯¥æ“ä½œç¬¦çš„å‰é¢ã€‚</p>
<p>é‚£ä¹ˆå›åˆ°ä¸Šé¢çš„é—®é¢˜æ¥çœ‹ï¼Œä¸­ç¼€è¡¨è¾¾å¼ä¸­çš„<strong>æ‹¬å·çš„ä½œç”¨å¦‚ä½•åœ¨åç¼€è¡¨è¾¾å¼ä¸­ä½“ç°å‡ºæ¥</strong>ï¼Ÿ</p>
<p>ä»¥1+2*3ã€(1+2)*3ä¸ºä¾‹</p>
<p>1+2*3çš„åç¼€è¡¨è¾¾å¼ä¸º123*+</p>
<p>(1+2)*3çš„åç¼€è¡¨è¾¾å¼ä¸º12+3*</p>
<p>é€šè¿‡å¯¹æ¯”å¯ä»¥å‘ç°å½“è¡¨è¾¾å¼ä¸­å­˜åœ¨æ‹¬å·æ—¶ï¼Œ<strong>æ‹¬å·ä¸­çš„æ“ä½œç¬¦æå‰è¾“å‡º</strong>äº†ï¼Œè¿™è¡¨ç¤ºåœ¨é‡åˆ°æ‹¬å·çš„æƒ…å†µæ—¶ï¼Œå¯ä»¥å°†æ‹¬å·å†…çš„æ“ä½œç¬¦æå‰è¾“å‡ºã€‚</p>
<p><strong>æ­¤å¤–ï¼Œè¿˜éœ€è¦è€ƒè™‘å››åˆ™è¿ç®—ä¸­ï¼Œä¹˜é™¤çš„ä¼˜å…ˆçº§é«˜äºåŠ å‡</strong></p>
<p>ä»¥1+2*3ä¸ºä¾‹ï¼Œå¦‚æœä¸åŠ ä»¥åˆ¤æ–­ç›´æ¥è½¬åŒ–åç¼€è¡¨è¾¾å¼ï¼Œç»“æœä¸º12+3*ï¼Œå…ˆè¿ç®—+å†è¿ç®—*ï¼Œè¿™æ˜¾ç„¶è¿èƒŒäº†åŸºæœ¬çš„å››åˆ™è¿ç®—æ³•åˆ™ï¼Œå®é™…ä¸Šæ­£ç¡®çš„ç»“æœåº”è¯¥æ˜¯123*+</p>
<p>é€šè¿‡å¯¹æ¯”ä¸¤ä¸ªç»“æœï¼Œå¯ä»¥å‘ç°ä¼˜å…ˆçº§è¾ƒä½çš„æ“ä½œç¬¦ç§»åˆ°äº†åé¢ï¼Œè¿™è¡¨ç¤ºåœ¨è¿ç®—è¿‡ç¨‹ä¸­å¯ä»¥<strong>å…ˆå°†ä¼˜å…ˆçº§ä½çš„æ“ä½œç¬¦å­˜å‚¨èµ·æ¥</strong>ï¼Œè€Œå°†<strong>ä¼˜å…ˆçº§é«˜çš„è¿ç®—ç¬¦è¾“å‡º</strong>ã€‚</p>
<h4 id="2æ€è·¯åˆ†æ"><a class="markdownIt-Anchor" href="#2æ€è·¯åˆ†æ"></a> 2.æ€è·¯åˆ†æ</h4>
<p>é‡‡ç”¨STLæ¨¡æ¿å®ç°ä¸­ç¼€è½¬åç¼€ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯stackã€‚å®šä¹‰ä¸€ä¸ªstackå­—ç¬¦æ ˆä¸“é—¨ç”¨äºå­˜å‚¨æ“ä½œç¬¦</p>
<p><font color='red'>è¿™é‡Œç‰¹åˆ«è¯´æ˜ä¸€ä¸‹å­—ç¬¦æ ˆï¼Œå­—ç¬¦æ ˆæ ˆåº•çš„æ“ä½œç¬¦ä¼˜å…ˆçº§æœ€ä½ï¼Œæ ˆé¡¶çš„æ“ä½œç¬¦ä¼˜å…ˆçº§æœ€é«˜</font></p>
<p><strong>1.è¾“å…¥ä¸­ç¼€è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ä¾æ¬¡è·å–å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦</strong></p>
<p><strong>2.å¯¹å­—ç¬¦è¿›è¡Œä»¥ä¸‹çš„åˆ¤æ–­å’Œæ“ä½œ</strong></p>
<ul>
<li>æ•°å­—å­—ç¬¦ï¼Œç›´æ¥è¾“å‡º</li>
<li>å·¦æ‹¬å·å­—ç¬¦ï¼Œç›´æ¥å­˜å…¥stack</li>
<li>å³æ‹¬å·å­—ç¬¦ï¼Œå°†stackä¸­çš„æ“ä½œç¬¦ä¾æ¬¡è¾“å‡ºï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·æ—¶åœæ­¢ï¼Œå°†å·¦æ‹¬å·å‡ºæ ˆä½†ä¸è¾“å‡º</li>
<li>åŠ å‡ä¹˜é™¤å­—ç¬¦
<ul>
<li>ä¼˜å…ˆçº§é«˜çš„å­—ç¬¦ç›´æ¥å­˜å…¥stack</li>
<li>ä¼˜å…ˆçº§ä½çš„å­—ç¬¦ï¼Œåˆ™æ¯”è¾ƒå½“å‰å­—ç¬¦æ ˆæ ˆé¡¶æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ï¼Œé‡åˆ°ä¼˜å…ˆçº§æ›´ä½çš„æ“ä½œç¬¦æˆ–å·¦æ‹¬å·å­—ç¬¦æ—¶ä¸å‡ºæ ˆï¼Œå¹¶å°†å½“å‰æ“ä½œç¬¦å…¥æ ˆ</li>
</ul>
</li>
</ul>
<p><strong>3.å½“å­—ç¬¦ä¸²éå†å®Œæˆåï¼Œå†ä¾æ¬¡è¾“å‡ºå­—ç¬¦æ ˆå†…å‰©ä½™çš„æ“ä½œç¬¦</strong></p>
<h4 id="3å®ç°è¿‡ç¨‹åˆ†æ"><a class="markdownIt-Anchor" href="#3å®ç°è¿‡ç¨‹åˆ†æ"></a> 3.å®ç°è¿‡ç¨‹åˆ†æ</h4>
<p>ä»¥(1+5-4)*(6-9)ä¸ºä¾‹ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸º13</p>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š(</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š</p>
<p>å­—ç¬¦æ ˆï¼š(</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š1</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š1</p>
<p>å­—ç¬¦æ ˆï¼š(</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š+</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š1</p>
<p>å­—ç¬¦æ ˆï¼š(+</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š5</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15</p>
<p>å­—ç¬¦æ ˆï¼š(+</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š-</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+</p>
<p>å­—ç¬¦æ ˆï¼š(-</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š4</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+4</p>
<p>å­—ç¬¦æ ˆï¼š(-</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š)</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+4-</p>
<p>å­—ç¬¦æ ˆï¼š</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š*</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+4-</p>
<p>å­—ç¬¦æ ˆï¼š*</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š(</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+4-</p>
<p>å­—ç¬¦æ ˆï¼š*(</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š6</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+4-6</p>
<p>å­—ç¬¦æ ˆï¼š*(</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š-</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+4-6</p>
<p>å­—ç¬¦æ ˆï¼š*(-</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š9</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+4-69</p>
<p>å­—ç¬¦æ ˆï¼š*(-</p>
</blockquote>
<p>è·å–åˆ°çš„å­—ç¬¦ï¼š)</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+4-69-</p>
<p>å­—ç¬¦æ ˆï¼š*</p>
</blockquote>
<p>æœ€åï¼Œä¾æ¬¡è¾“å‡ºå­—ç¬¦æ ˆä¸­æ‰€æœ‰çš„æ“ä½œç¬¦</p>
<blockquote>
<p>è¡¨è¾¾å¼ï¼š15+4-69-*</p>
</blockquote>
<h4 id="4æºä»£ç "><a class="markdownIt-Anchor" href="#4æºä»£ç "></a> 4.æºä»£ç </h4>
<div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">list&lt;string&gt; <span class="title">transfer</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> len = s.<span class="built_in">length</span>(); <span class="comment">//è®°å½•é•¿åº¦</span></span><br><span class="line">    list&lt;string&gt; listIn;  <span class="comment">//å­˜å‚¨ä¸­ç¼€è¡¨è¾¾å¼</span></span><br><span class="line">    list&lt;string&gt; listOut; <span class="comment">//å­˜å‚¨åç¼€è¡¨è¾¾å¼</span></span><br><span class="line">    stack&lt;<span class="type">char</span>&gt; symbol;   <span class="comment">//ç¬¦å·æ ˆ</span></span><br><span class="line">    stack&lt;<span class="type">char</span>&gt; ans;      <span class="comment">//ç»“æœè¡¨è¾¾å¼</span></span><br><span class="line"></span><br><span class="line">    listIn.<span class="built_in">push_back</span>(s);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//æ€è·¯</span></span><br><span class="line">        <span class="comment">//æ•°å­—ç›´æ¥å­˜å…¥ans</span></span><br><span class="line">        <span class="comment">//è¿ç®—ç¬¦:</span></span><br><span class="line">        <span class="comment">//å¦‚æœæ˜¯&#x27;(&#x27;ç›´æ¥å­˜å…¥symbol</span></span><br><span class="line">        <span class="comment">//å¦‚æœæ˜¯&#x27;)&#x27;ä¾æ¬¡å‡ºæ ˆsymbolä¸­çš„è¿ç®—ç¬¦å¹¶å­˜å…¥ans, ç›´åˆ°é‡åˆ°&#x27;(&#x27;, &#x27;(&#x27;ä¸å­˜å…¥ans</span></span><br><span class="line">        <span class="comment">//å…¶ä»–ç¬¦å·, ä¾æ¬¡å‡ºæ ˆsymbolä¸­çš„è¿ç®—ç¬¦å¹¶å­˜å…¥ans, ç›´åˆ°é‡åˆ°ä¼˜å…ˆçº§æ›´ä½çš„è¿ç®—ç¬¦æˆ–&#x27;(&#x27;æ—¶, å°†å½“å‰ç¬¦å·å­˜å…¥symbol</span></span><br><span class="line">        <span class="comment">//å­—ç¬¦ä¸²éå†å®Œæˆå, ä¾æ¬¡å‡ºæ ˆç¬¦å·æ ˆä¸­å‰©ä½™çš„è¿ç®—ç¬¦å¹¶å­˜å…¥ans</span></span><br><span class="line">        <span class="keyword">if</span> (listIn.<span class="built_in">back</span>()[i] &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; listIn.<span class="built_in">back</span>()[i] &lt;= <span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">            ans.<span class="built_in">push</span>(listIn.<span class="built_in">back</span>()[i]);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (listIn.<span class="built_in">back</span>()[i] == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">            symbol.<span class="built_in">push</span>(listIn.<span class="built_in">back</span>()[i]);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (listIn.<span class="built_in">back</span>()[i] == <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (symbol.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ans.<span class="built_in">push</span>(symbol.<span class="built_in">top</span>());</span><br><span class="line">                symbol.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            symbol.<span class="built_in">pop</span>(); <span class="comment">//å°†&#x27;(&#x27;å‡ºæ ˆ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è¿™é‡Œæ‰‹åŠ¨ä¼˜å…ˆè€ƒè™‘ä¹˜é™¤çš„ä¼˜å…ˆçº§é«˜äºåŠ å‡</span></span><br><span class="line">            <span class="keyword">if</span> (listIn.<span class="built_in">back</span>()[i] == <span class="string">&#x27;+&#x27;</span> || listIn.<span class="built_in">back</span>()[i] == <span class="string">&#x27;-&#x27;</span>) <span class="comment">//åŠ å‡ç¬¦å·ä¼˜å…ˆçº§æœ€ä½</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span> (!symbol.<span class="built_in">empty</span>() &amp;&amp; symbol.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    ans.<span class="built_in">push</span>(symbol.<span class="built_in">top</span>()); <span class="comment">//ç›´æ¥å­˜å…¥symbolä¸­çš„è¿ç®—ç¬¦</span></span><br><span class="line">                    symbol.<span class="built_in">pop</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                symbol.<span class="built_in">push</span>(listIn.<span class="built_in">back</span>()[i]); <span class="comment">//ç¬¦å·æ ˆå­˜å…¥å½“å‰ä»listInä¸­è·å–çš„ç¬¦å·</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="comment">//ä¹˜é™¤ç¬¦å·ä¼˜å…ˆçº§é«˜ç›´æ¥å­˜å…¥ç¬¦å·æ ˆ</span></span><br><span class="line">            &#123;</span><br><span class="line">                symbol.<span class="built_in">push</span>(listIn.<span class="built_in">back</span>()[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!symbol.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        ans.<span class="built_in">push</span>(symbol.<span class="built_in">top</span>());</span><br><span class="line">        symbol.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†ç»“æœè¡¨è¾¾å¼çš„å€¼å­˜å…¥listOut</span></span><br><span class="line">    <span class="comment">//å…ˆåˆ©ç”¨å·²ç»æ¸…ç©ºçš„symbolå®ç°åè½¬</span></span><br><span class="line">    <span class="keyword">while</span> (!ans.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        symbol.<span class="built_in">push</span>(ans.<span class="built_in">top</span>());</span><br><span class="line">        ans.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">while</span> (!symbol.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        res += symbol.<span class="built_in">top</span>();</span><br><span class="line">        symbol.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    listOut.<span class="built_in">push_back</span>(res);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> listOut;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string s;</span><br><span class="line">    <span class="keyword">while</span> (cin &gt;&gt; s)</span><br><span class="line">    &#123;</span><br><span class="line">        list&lt;string&gt; res = <span class="built_in">transfer</span>(s);</span><br><span class="line">        cout &lt;&lt; res.<span class="built_in">front</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºyarnç¦æ­¢åœ¨æ­¤ç³»ç»Ÿä¸Šè¿è¡Œè„šæœ¬</title>
    <url>/2022/09/05/yarn-problem/</url>
    <content><![CDATA[<h3 id="nodejsä¸­ä½¿ç”¨yarnå®‰è£…ä¾èµ–å¤±è´¥"><a class="markdownIt-Anchor" href="#nodejsä¸­ä½¿ç”¨yarnå®‰è£…ä¾èµ–å¤±è´¥"></a> nodejsä¸­ä½¿ç”¨yarnå®‰è£…ä¾èµ–å¤±è´¥</h3>
<h4 id="é”™è¯¯åŸå› "><a class="markdownIt-Anchor" href="#é”™è¯¯åŸå› "></a> é”™è¯¯åŸå› </h4>
<p>windowsé»˜è®¤æ‰§è¡Œç­–ç•¥ç¦æ­¢è„šæœ¬<span id="more"></span></p>
<h4 id="è§£å†³æ–¹æ³•"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ³•"></a> è§£å†³æ–¹æ³•</h4>
<ol>
<li>åœ¨ç”µè„‘çš„å¼€å§‹èœå•ä¸­ï¼Œæœç´¢<strong>PowerShell</strong>ï¼Œå¹¶<strong>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</strong></li>
<li>åœ¨çª—å£è¾“å…¥å‘½ä»¤<code>get-ExecutionPolicy</code>æŸ¥çœ‹æƒé™ï¼Œå¦‚æœè¿”å›å€¼æ˜¯<strong>Restricted</strong>ï¼Œåˆ™è¡¨ç¤ºå½“å‰æ˜¯ç¦ç”¨çŠ¶æ€</li>
<li>åœ¨çª—å£è¾“å…¥å‘½ä»¤<code>set-ExecutionPolicy</code>è®¾ç½®æƒé™</li>
<li>ä¸º<strong>ExecutionPolicy</strong>å‚æ•°æä¾›å€¼<strong>RemoteSigned</strong>ï¼Œåé¢è¾“å…¥<strong>A</strong>ä¹‹åå†å›è½¦ï¼ˆé»˜è®¤ä¸ºå¦ï¼‰ï¼Œå¼€å¯æ‰€æœ‰è„šæœ¬æƒé™</li>
<li>é‡æ–°æµ‹è¯•yarnå‘½ä»¤</li>
</ol>
]]></content>
      <tags>
        <tag>nodejs</tag>
      </tags>
  </entry>
</search>
